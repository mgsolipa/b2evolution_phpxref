<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /install/automated-install.html source</title>
    <link rel="stylesheet" href="../sample.css" type="text/css">
    <link rel="stylesheet" href="../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Sat Nov 21 22:13:19 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../';
subdir='install';
filename='automated-install.html.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/install/</a> -> <a href="automated-install.html.html">automated-install.html</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="automated-install.html.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="automated-install.html.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;html&gt;
<a name="l2"><span class="linenum">   2</span></a>  &lt;head&gt;
<a name="l3"><span class="linenum">   3</span></a>      &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;
<a name="l4"><span class="linenum">   4</span></a>      &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot; /&gt;
<a name="l5"><span class="linenum">   5</span></a>      &lt;title&gt;b2evolution Automated Install&lt;/title&gt;
<a name="l6"><span class="linenum">   6</span></a>  &lt;/head&gt;
<a name="l7"><span class="linenum">   7</span></a>  &lt;body&gt;
<a name="l8"><span class="linenum">   8</span></a>      &lt;h1&gt;b2evolution Automated Install/Upgrade&lt;/h1&gt;
<a name="l9"><span class="linenum">   9</span></a>      &lt;p&gt;Updated for version 6.6+&lt;/p&gt;
<a name="l10"><span class="linenum">  10</span></a>      &lt;h2&gt;Purpose&lt;/h2&gt;
<a name="l11"><span class="linenum">  11</span></a>      &lt;p&gt;This document describes how you can most easily automate the installation of &lt;a href=&quot;http://b2evolution.net/&quot;&gt;b2evolution&lt;/a&gt; on a hosting account.&lt;/p&gt;
<a name="l12"><span class="linenum">  12</span></a>      &lt;p&gt;This document also addresses automated upgrade of b2evolution.&lt;/p&gt;
<a name="l13"><span class="linenum">  13</span></a>      &lt;h2&gt;Intended audience&lt;/h2&gt;
<a name="l14"><span class="linenum">  14</span></a>      &lt;ul&gt;
<a name="l15"><span class="linenum">  15</span></a>          &lt;li&gt;Web hosting providers&lt;/li&gt;
<a name="l16"><span class="linenum">  16</span></a>          &lt;li&gt;Web hosting tool providers&lt;/li&gt;
<a name="l17"><span class="linenum">  17</span></a>      &lt;/ul&gt;
<a name="l18"><span class="linenum">  18</span></a>      &lt;h2&gt;Operating environment&lt;/h2&gt;
<a name="l19"><span class="linenum">  19</span></a>      &lt;p&gt;b2evolution is a PHP + MySQL web application. Please see our &lt;a href=&quot;http://b2evolution.net/man/system-requirements&quot;&gt;System Requirements page&lt;/a&gt; for details.&lt;/p&gt;
<a name="l20"><span class="linenum">  20</span></a>      &lt;h2&gt;Basics&lt;/h2&gt;
<a name="l21"><span class="linenum">  21</span></a>      &lt;p&gt;Automated installation of web applications such as b2evolution typically involves these steps:&lt;/p&gt;
<a name="l22"><span class="linenum">  22</span></a>      &lt;ol&gt;
<a name="l23"><span class="linenum">  23</span></a>          &lt;li&gt;Place the application files in the destination directory.&lt;/li&gt;
<a name="l24"><span class="linenum">  24</span></a>          &lt;li&gt;Create a MySQL User, Database and privileges of the user on the database.&lt;/li&gt;
<a name="l25"><span class="linenum">  25</span></a>          &lt;li&gt;Run the install/setup script of the application.&lt;/li&gt;
<a name="l26"><span class="linenum">  26</span></a>          &lt;li&gt;Delete the installer.&lt;/li&gt;
<a name="l27"><span class="linenum">  27</span></a>      &lt;/ol&gt;
<a name="l28"><span class="linenum">  28</span></a>      &lt;h1&gt;Recommended Auto Install procedure&lt;/h1&gt;
<a name="l29"><span class="linenum">  29</span></a>  
<a name="l30"><span class="linenum">  30</span></a>      &lt;h2&gt;1. Place the application files in the destination directory&lt;/h2&gt;
<a name="l31"><span class="linenum">  31</span></a>      &lt;p&gt;We recommend you prompt the user for a directory to install b2evolution into. If he provides an empty directory, b2evolution would be installed in his web root. This is the recommended default as b2evolution is a complete engine allowing to run a complete website (or even more if there are domain aliases pointing to the same folder.)&lt;/p&gt;
<a name="l32"><span class="linenum">  32</span></a>      &lt;p&gt;Let's assume the user chose to install into the root folder (www/).&lt;/p&gt;
<a name="l33"><span class="linenum">  33</span></a>      &lt;p&gt;Once the destination directory selected/created, you need to copy all the contents of the b2evolution package into the destination directory www/.&lt;/p&gt;
<a name="l34"><span class="linenum">  34</span></a>      &lt;h3&gt;File permissions&lt;/h3&gt;
<a name="l35"><span class="linenum">  35</span></a>      &lt;p&gt;You should make sure that the contents of the www/media/ directory are writable by PHP. This is the place where the user can upload pictures to insert in his blog posts, etc.&lt;/p&gt;
<a name="l36"><span class="linenum">  36</span></a>  
<a name="l37"><span class="linenum">  37</span></a>      &lt;h2&gt;2. Create a MySQL database&lt;/h2&gt;
<a name="l38"><span class="linenum">  38</span></a>      &lt;p&gt;You will need to provide b2evolution with a database where it will create its own tables.&lt;/p&gt;
<a name="l39"><span class="linenum">  39</span></a>  
<a name="l40"><span class="linenum">  40</span></a>      &lt;h2&gt;3. Run the install script&lt;/h2&gt;
<a name="l41"><span class="linenum">  41</span></a>      &lt;p&gt;At this point you can call b2evolution's install script through an HTTP GET <a class="function" onClick="logFunction('request')" href="../_functions/request.html" onMouseOver="funcPopup(event,'request')">request</a> (wget, cURL, etc..) of this form:&lt;/p&gt;
<a name="l42"><span class="linenum">  42</span></a>      &lt;pre&gt;http://example.com/install/index.php?locale=en-US&amp;amp;action=newdb&amp;amp;create_sample_contents=all&lt;/pre&gt;
<a name="l43"><span class="linenum">  43</span></a>      
<a name="l44"><span class="linenum">  44</span></a>      &lt;h3&gt;Use this form to generate an automated install test URL:&lt;/h3&gt;
<a name="l45"><span class="linenum">  45</span></a>      &lt;form action="<a class="filename" href="../index.php.html">index.php</a>" method=&quot;get&quot; style=&quot;background-color:#ddd&quot;&gt;
<a name="l46"><span class="linenum">  46</span></a>          &lt;input type=&quot;hidden&quot; name=&quot;action&quot; value=&quot;newdb&quot; /&gt;
<a name="l47"><span class="linenum">  47</span></a>          &lt;input type=&quot;hidden&quot; name=&quot;create_sample_contents&quot; value=&quot;all&quot; /&gt;
<a name="l48"><span class="linenum">  48</span></a>          &lt;input type=&quot;hidden&quot; name=&quot;locale&quot; value=&quot;en-US&quot; /&gt;
<a name="l49"><span class="linenum">  49</span></a>          &lt;fieldset&gt;
<a name="l50"><span class="linenum">  50</span></a>              &lt;legend&gt;General&lt;/legend&gt;
<a name="l51"><span class="linenum">  51</span></a>              &lt;p&gt;
<a name="l52"><span class="linenum">  52</span></a>                  &lt;label&gt;Base URL:&lt;/label&gt;
<a name="l53"><span class="linenum">  53</span></a>                  &lt;input type=&quot;text&quot; name=&quot;baseurl&quot; /&gt; &lt;small&gt;leave blank for auto detection&lt;/small&gt;
<a name="l54"><span class="linenum">  54</span></a>              &lt;/p&gt;
<a name="l55"><span class="linenum">  55</span></a>              &lt;p&gt;
<a name="l56"><span class="linenum">  56</span></a>                  &lt;label&gt;Display:&lt;/label&gt;
<a name="l57"><span class="linenum">  57</span></a>                  &lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;display&quot; value=&quot;normal&quot; /&gt; Normal&lt;/label&gt;
<a name="l58"><span class="linenum">  58</span></a>                  &lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;display&quot; value=&quot;compact&quot; checked=&quot;checked&quot; /&gt; Compact&lt;/label&gt;
<a name="l59"><span class="linenum">  59</span></a>              &lt;/p&gt;
<a name="l60"><span class="linenum">  60</span></a>          &lt;/fieldset&gt;
<a name="l61"><span class="linenum">  61</span></a>          &lt;fieldset&gt;
<a name="l62"><span class="linenum">  62</span></a>              &lt;legend&gt;DB Access&lt;/legend&gt;
<a name="l63"><span class="linenum">  63</span></a>              &lt;p&gt;
<a name="l64"><span class="linenum">  64</span></a>                  &lt;label&gt;MySQL Username:&lt;/label&gt;
<a name="l65"><span class="linenum">  65</span></a>                  &lt;input type=&quot;text&quot; name=&quot;db_user&quot; value=&quot;demouser&quot; /&gt;
<a name="l66"><span class="linenum">  66</span></a>              &lt;/p&gt;
<a name="l67"><span class="linenum">  67</span></a>              &lt;p&gt;
<a name="l68"><span class="linenum">  68</span></a>                  &lt;label&gt;MySQL Password:&lt;/label&gt;
<a name="l69"><span class="linenum">  69</span></a>                  &lt;input type=&quot;text&quot; name=&quot;db_password&quot; value=&quot;demopass&quot; /&gt;
<a name="l70"><span class="linenum">  70</span></a>              &lt;/p&gt;
<a name="l71"><span class="linenum">  71</span></a>              &lt;p&gt;
<a name="l72"><span class="linenum">  72</span></a>                  &lt;label&gt;MySQL Database:&lt;/label&gt;
<a name="l73"><span class="linenum">  73</span></a>                  &lt;input type=&quot;text&quot; name=&quot;db_name&quot; value=&quot;b2evolution&quot; /&gt;
<a name="l74"><span class="linenum">  74</span></a>              &lt;/p&gt;
<a name="l75"><span class="linenum">  75</span></a>              &lt;p&gt;
<a name="l76"><span class="linenum">  76</span></a>                  &lt;label&gt;MySQL Host/Server:&lt;/label&gt;
<a name="l77"><span class="linenum">  77</span></a>                  &lt;input type=&quot;text&quot; name=&quot;db_host&quot; value=&quot;localhost&quot; /&gt;
<a name="l78"><span class="linenum">  78</span></a>              &lt;/p&gt;
<a name="l79"><span class="linenum">  79</span></a>              &lt;p&gt;
<a name="l80"><span class="linenum">  80</span></a>                  &lt;label&gt;MySQL Table prefix:&lt;/label&gt;
<a name="l81"><span class="linenum">  81</span></a>                  &lt;input type=&quot;text&quot; name=&quot;db_tableprefix&quot; value=&quot;evo_&quot; /&gt;
<a name="l82"><span class="linenum">  82</span></a>              &lt;/p&gt;
<a name="l83"><span class="linenum">  83</span></a>          &lt;/fieldset&gt;
<a name="l84"><span class="linenum">  84</span></a>          &lt;fieldset&gt;
<a name="l85"><span class="linenum">  85</span></a>              &lt;legend&gt;Admin Account&lt;/legend&gt;
<a name="l86"><span class="linenum">  86</span></a>              &lt;p&gt;
<a name="l87"><span class="linenum">  87</span></a>                  &lt;label&gt;Login:&lt;/label&gt;
<a name="l88"><span class="linenum">  88</span></a>                  &lt;input type=&quot;text&quot; name=&quot;admin_login&quot; value=&quot;admin&quot; /&gt;  &lt;small&gt;b2evolution may decide to use &quot;admin&quot; if you provide an invalid login. The installer will tell you the final login used. (see &quot;Detect success&quot; below).&lt;/small&gt;
<a name="l89"><span class="linenum">  89</span></a>              &lt;/p&gt;
<a name="l90"><span class="linenum">  90</span></a>              &lt;p&gt;
<a name="l91"><span class="linenum">  91</span></a>                  &lt;label&gt;Password:&lt;/label&gt;
<a name="l92"><span class="linenum">  92</span></a>                  &lt;input type=&quot;text&quot; name=&quot;admin_password&quot; value=&quot;demopass&quot; /&gt; &lt;small&gt;Leave blank to get a random pwd. b2evolution may decide to use a random password if you provide an invalid password. The installer will tell you the final password used. (see &quot;Detect success&quot; below).&lt;/small&gt;
<a name="l93"><span class="linenum">  93</span></a>              &lt;/p&gt;
<a name="l94"><span class="linenum">  94</span></a>              &lt;p&gt;
<a name="l95"><span class="linenum">  95</span></a>                  &lt;label&gt;E-mail:&lt;/label&gt;
<a name="l96"><span class="linenum">  96</span></a>                  &lt;input type=&quot;text&quot; name=&quot;admin_email&quot; value=&quot;postmaster@localhost&quot; /&gt;
<a name="l97"><span class="linenum">  97</span></a>              &lt;/p&gt;
<a name="l98"><span class="linenum">  98</span></a>          &lt;/fieldset&gt;
<a name="l99"><span class="linenum">  99</span></a>          &lt;p&gt;
<a name="l100"><span class="linenum"> 100</span></a>              &lt;input type=&quot;submit&quot; value=&quot;Test Automated Install&quot; /&gt;
<a name="l101"><span class="linenum"> 101</span></a>          &lt;/p&gt;
<a name="l102"><span class="linenum"> 102</span></a>      &lt;/form&gt;
<a name="l103"><span class="linenum"> 103</span></a>      &lt;h3&gt;.htaccess&lt;/h3&gt;
<a name="l104"><span class="linenum"> 104</span></a>      b2evolution comes with a sample.htaccess file that it will try to copy to .htaccess. This will fail if there is already a .htaccess file present. Please make sure b2evolution can install its own .htaccess file or many features related to parsing extended URLs will fail.
<a name="l105"><span class="linenum"> 105</span></a>  
<a name="l106"><span class="linenum"> 106</span></a>      &lt;h3&gt;Detect errors:&lt;/h3&gt;
<a name="l107"><span class="linenum"> 107</span></a>      &lt;p&gt;If you parse the output of the installer, you will find that potential errors will be marked in &amp;lt;evo:error&amp;gt;...&amp;lt;/evo:error&amp;gt; and warnigns with &amp;lt;evo:warning&amp;gt;...&amp;lt;/evo:warning&amp;gt;.
<a name="l108"><span class="linenum"> 108</span></a>  
<a name="l109"><span class="linenum"> 109</span></a>      &lt;p&gt;Here is a list of all possible errors &amp;amp; warnings:&lt;/p&gt;
<a name="l110"><span class="linenum"> 110</span></a>      &lt;ul&gt;
<a name="l111"><span class="linenum"> 111</span></a>          &lt;li&gt;&amp;lt;evo:error&amp;gt;ERROR: Impossible to rename &lt;code&gt;/media/users/admin/&lt;/code&gt; to &lt;code&gt;/media/users/xyz/&lt;/code&gt;.&amp;lt;/evo:error&amp;gt;&lt;/li&gt;
<a name="l112"><span class="linenum"> 112</span></a>          &lt;li&gt;&amp;lt;evo:error&amp;gt;ERROR: Impossible to use &quot;xyz&quot; for the admin account. Using &quot;admin&quot; instead.&amp;lt;/evo:error&amp;gt;&lt;/li&gt;
<a name="l113"><span class="linenum"> 113</span></a>          &lt;li&gt;&amp;lt;evo:error&amp;gt;Logins can only contain letters, digits and the following characters: _ .&amp;lt;/evo:error&amp;gt;&lt;/li&gt;
<a name="l114"><span class="linenum"> 114</span></a>          &lt;li&gt;&amp;lt;evo:error&amp;gt;Logins cannot start with &quot;usr_&quot;, this prefix is reserved for system use.&amp;lt;/evo:error&amp;gt;&lt;/li&gt;
<a name="l115"><span class="linenum"> 115</span></a>          &lt;li&gt;&amp;lt;evo:error&amp;gt;The minimum password length is 5 characters.&amp;lt;/evo:error&amp;gt;&lt;/li&gt;
<a name="l116"><span class="linenum"> 116</span></a>          &lt;li&gt;&amp;lt;evo:error&amp;gt;Passwords cannot contain the characters &amp;lt;, &amp;gt; and &amp;amp;.&amp;lt;/evo:error&amp;gt;&lt;/li&gt;
<a name="l117"><span class="linenum"> 117</span></a>          &lt;li&gt;&amp;lt;evo:error&amp;gt;The email address is invalid.&amp;lt;/evo:error&amp;gt;&lt;/li&gt;
<a name="l118"><span class="linenum"> 118</span></a>          &lt;li&gt;&amp;lt;evo:error&amp;gt;There is already a file called .htaccess at the blog root. If you don't specifically need this file, it is recommended that you delete it or rename it to old.htaccess before you continue. This will allow b2evolution to create a new .htaccess file that is optimized for best results.&amp;lt;/evo:error&amp;gt;&lt;/li&gt;
<a name="l119"><span class="linenum"> 119</span></a>          &lt;li&gt;&amp;lt;evo:error&amp;gt;ERROR!&amp;lt;br&amp;gt;&amp;lt;b&amp;gt;Again, we recommend you remove this file before continuing. If you chose to keep it, b2evolution will probably still work, but for optimization you should follow &amp;lt;a href=&quot;http://b2evolution.net/man/htaccess-file&quot; target=&quot;_blank&quot;&amp;gt;these instructions&amp;lt;/a&amp;gt;.&amp;lt;/b&amp;gt;&amp;lt;/evo:error&amp;gt;&lt;/li&gt;
<a name="l120"><span class="linenum"> 120</span></a>          &lt;li&gt;&amp;lt;evo:error&amp;gt;ERROR!&amp;lt;br&amp;gt;&amp;lt;b&amp;gt;Cannot find file [ sample.htaccess ] in your base url folder.&amp;lt;/b&amp;gt;&amp;lt;/evo:error&amp;gt;&lt;/li&gt;
<a name="l121"><span class="linenum"> 121</span></a>          &lt;li&gt;&amp;lt;evo:error&amp;gt;ERROR!&amp;lt;br&amp;gt;&amp;lt;b&amp;gt;Failed to copy files!&amp;lt;/b&amp;gt;&amp;lt;/evo:error&amp;gt;&lt;/li&gt;
<a name="l122"><span class="linenum"> 122</span></a>          &lt;li&gt;&amp;lt;evo:error&amp;gt;ERROR!&amp;lt;br&amp;gt;&amp;lt;b&amp;gt;http://example.com/install/test/index.html was not found as expected.&amp;lt;/b&amp;gt;&amp;lt;/evo:error&amp;gt;&lt;/li&gt;
<a name="l123"><span class="linenum"> 123</span></a>          &lt;li&gt;&amp;lt;evo:error&amp;gt;ERROR!&amp;lt;br&amp;gt;&amp;lt;b&amp;gt;Test was successful, but failed to copy .htaccess into baseurl directory!&amp;lt;/b&amp;gt;&amp;lt;/evo:error&amp;gt;&lt;/li&gt;
<a name="l124"><span class="linenum"> 124</span></a>          &lt;li&gt;&amp;lt;evo:error&amp;gt;The DB schema has been changed since confirmation.&amp;lt;/evo:error&amp;gt;&lt;/li&gt;
<a name="l125"><span class="linenum"> 125</span></a>          &lt;li&gt;&amp;lt;evo:error&amp;gt;b2evolution cannot be installed, because of the following errors:&amp;lt;/evo:error&amp;gt;&lt;/li&gt;
<a name="l126"><span class="linenum"> 126</span></a>          &lt;li&gt;&amp;lt;evo:error&amp;gt;It seems that the database config settings you entered don't work. Please check them carefully and try again...&amp;lt;/evo:error&amp;gt;&lt;/li&gt;
<a name="l127"><span class="linenum"> 127</span></a>          &lt;li&gt;&amp;lt;evo:error&amp;gt;Could not load original conf file [/conf/_basic_config.php]. Is it missing?&amp;lt;/evo:error&amp;gt;&lt;/li&gt;
<a name="l128"><span class="linenum"> 128</span></a>          &lt;li&gt;&amp;lt;evo:error&amp;gt;No default time zone is set. Please open PHP.ini and set the value of 'date.timezone' (Example: date.timezone = Europe/Paris) or open /conf/_advanced.php and set the value of <a class="var it2767" onMouseOver="hilite(2767)" onMouseOut="lolite()" onClick="logVariable('date_default_timezone')" href="../_variables/date_default_timezone.html">$date_default_timezone</a> (Example: <a class="var it2767" onMouseOver="hilite(2767)" onMouseOut="lolite()" onClick="logVariable('date_default_timezone')" href="../_variables/date_default_timezone.html">$date_default_timezone</a> = 'Europe/Paris';)&amp;lt;/evo:error&amp;gt;&lt;/li&gt;
<a name="l129"><span class="linenum"> 129</span></a>          &lt;li&gt;&amp;lt;evo:error&amp;gt;ERROR: Impossible to connect to Database.&amp;lt;/evo:error&amp;gt;&lt;/li&gt;
<a name="l130"><span class="linenum"> 130</span></a>          &lt;li&gt;&amp;lt;evo:error&amp;gt;Check your database config settings below and update them if necessary...&amp;lt;/evo:error&amp;gt;&lt;/li&gt;
<a name="l131"><span class="linenum"> 131</span></a>          &lt;li&gt;&amp;lt;evo:error&amp;gt;In order to install b2evolution with the en-US locale, your MySQL needs to support the utf-8 connection charset. (mysqli::set_charset(utf8))&amp;lt;/evo:error&amp;gt;&lt;/li&gt;
<a name="l132"><span class="linenum"> 132</span></a>          &lt;li&gt;&amp;lt;evo:error&amp;gt;Upgrade failed!&amp;lt;/evo:error&amp;gt;&lt;/li&gt;
<a name="l133"><span class="linenum"> 133</span></a>  
<a name="l134"><span class="linenum"> 134</span></a>          &lt;li&gt;&amp;lt;evo:warning&amp;gt;OOPS! It seems b2evolution is already installed!&amp;lt;/evo:warning&amp;gt;&lt;/li&gt;
<a name="l135"><span class="linenum"> 135</span></a>          &lt;li&gt;&amp;lt;evo:warning&amp;gt;Already installed.&amp;lt;/evo:warning&amp;gt;&lt;/li&gt;
<a name="l136"><span class="linenum"> 136</span></a>          &lt;li&gt;&amp;lt;evo:warning&amp;gt;Not Enabled: You should create at least one question!&amp;lt;/evo:warning&amp;gt;&lt;/li&gt;
<a name="l137"><span class="linenum"> 137</span></a>          &lt;li&gt;&amp;lt;evo:warning&amp;gt;WARNING: this plugin can only work once you download the GeoLite Country DB database. Go to the plugin settings to download it.&amp;lt;/evo:warning&amp;gt;&lt;/li&gt;
<a name="l138"><span class="linenum"> 138</span></a>          &lt;li&gt;&amp;lt;evo:warning&amp;gt;You must configure a ping service URL before the plugin can be enabled.&amp;lt;/evo:warning&amp;gt;&lt;/li&gt;
<a name="l139"><span class="linenum"> 139</span></a>      &lt;/ul&gt;
<a name="l140"><span class="linenum"> 140</span></a>  
<a name="l141"><span class="linenum"> 141</span></a>      &lt;h3&gt;Detect success:&lt;/h3&gt;
<a name="l142"><span class="linenum"> 142</span></a>      &lt;p&gt;You can detect that installation has been successful by parsing the output and locating the string &amp;lt;evo:password&amp;gt; .&lt;/p&gt;
<a name="l143"><span class="linenum"> 143</span></a>      &lt;p&gt;Furthermore, you can parse out the password that has been created for the user by parsing it out between &amp;lt;evo:password&amp;gt; and &amp;lt;/evo:password&amp;gt;. Example:&lt;/p&gt;
<a name="l144"><span class="linenum"> 144</span></a>      &lt;pre&gt;&amp;lt;evo:login&amp;gt;admin&amp;lt;/evo:login&amp;gt;&lt;/pre&gt;
<a name="l145"><span class="linenum"> 145</span></a>      &lt;pre&gt;&amp;lt;evo:password&amp;gt;Htf8s*d/Kp<a class="var it2768" onMouseOver="hilite(2768)" onMouseOut="lolite()" onClick="logVariable('q6')" href="../_variables/q6.html">$q6</a>&amp;lt;/evo:password&amp;gt;&lt;/pre&gt;
<a name="l146"><span class="linenum"> 146</span></a>  
<a name="l147"><span class="linenum"> 147</span></a>      &lt;h2&gt;4. Delete the install folder&lt;/h2&gt;
<a name="l148"><span class="linenum"> 148</span></a>      &lt;p&gt;At this point, the www/install/ folder is no longer needed. We recommend you delete it, both to save space and improve security.&lt;/p&gt;
<a name="l149"><span class="linenum"> 149</span></a>      &lt;p&gt;Note: when upgrading, you will need a &lt;strong&gt;new&lt;/strong&gt; version of the install folder. So there is really no point in keeping the old one.&lt;/p&gt;
<a name="l150"><span class="linenum"> 150</span></a>  
<a name="l151"><span class="linenum"> 151</span></a>      &lt;h1&gt;Recommended Auto Upgrade procedure&lt;/h1&gt;
<a name="l152"><span class="linenum"> 152</span></a>      &lt;p&gt;Any newer version of b2evolution can upgrade its database from any older version. It will also refuse to update if for some reason you try to &amp;quot;downgrade&amp;quot; it.&lt;/p&gt;
<a name="l153"><span class="linenum"> 153</span></a>  
<a name="l154"><span class="linenum"> 154</span></a>      &lt;h2&gt;0. Detecting which version of b2evolution is installed&lt;/h2&gt;
<a name="l155"><span class="linenum"> 155</span></a>      &lt;p&gt;Open the file www/conf/_application.php and parse out the line that says:&lt;/p&gt;
<a name="l156"><span class="linenum"> 156</span></a>      &lt;pre&gt;<a class="var it44" onMouseOver="hilite(44)" onMouseOut="lolite()" onClick="logVariable('app_version')" href="../_variables/app_version.html">$app_version</a> = '6.1.0-alpha';&lt;/pre&gt;
<a name="l157"><span class="linenum"> 157</span></a>      &lt;p&gt;You can safely ignore the part after the hyphen (-). The version &lt;strong&gt;number&lt;/strong&gt; will always change when a new version is released.&lt;/p&gt;
<a name="l158"><span class="linenum"> 158</span></a>      &lt;p&gt;You can compare this version number with the new one you have available.&lt;/p&gt;
<a name="l159"><span class="linenum"> 159</span></a>      &lt;p&gt;Note: if using PHP, you can use <a class="phpfunction" onClick="logFunction('version_compare')" href="../_functions/version_compare.html" onMouseOver="phpfuncPopup(event,'version_compare')">version_compare</a>() which does all the work for you.&lt;/p&gt;
<a name="l160"><span class="linenum"> 160</span></a>  
<a name="l161"><span class="linenum"> 161</span></a>      &lt;h2&gt;1. Getting confirmation that the user wants to upgrade&lt;/h2&gt;
<a name="l162"><span class="linenum"> 162</span></a>      &lt;p&gt;You should warn the user that any customizations he may have added to his existing b2evolution may not work properly with the new version. This especially applies to custom skins, custom plugins and custom locales (translations).&lt;/p&gt;
<a name="l163"><span class="linenum"> 163</span></a>      &lt;p&gt;Optionally, you may want to provide checkboxes for the following:&lt;/p&gt;
<a name="l164"><span class="linenum"> 164</span></a>      &lt;ul&gt;
<a name="l165"><span class="linenum"> 165</span></a>          &lt;li&gt;Reset skins&lt;/li&gt;
<a name="l166"><span class="linenum"> 166</span></a>          &lt;li&gt;Reset plugins&lt;/li&gt;
<a name="l167"><span class="linenum"> 167</span></a>          &lt;li&gt;Reset locales (translations)&lt;/li&gt;
<a name="l168"><span class="linenum"> 168</span></a>      &lt;/ul&gt;
<a name="l169"><span class="linenum"> 169</span></a>  
<a name="l170"><span class="linenum"> 170</span></a>      &lt;h2&gt;2. Replacing the files&lt;/h2&gt;
<a name="l171"><span class="linenum"> 171</span></a>      &lt;p&gt;Delete all files &amp;amp; folders from the b2evolution root folder except:&lt;/p&gt;
<a name="l172"><span class="linenum"> 172</span></a>      &lt;ul&gt;
<a name="l173"><span class="linenum"> 173</span></a>          &lt;li&gt; &lt;strong&gt;www/media/&lt;/strong&gt; (where the user has uploaded his content files).&lt;/li&gt;
<a name="l174"><span class="linenum"> 174</span></a>          &lt;li&gt;If the user hasn't explicitely requested a reset of these, also keep:
<a name="l175"><span class="linenum"> 175</span></a>              &lt;ul&gt;
<a name="l176"><span class="linenum"> 176</span></a>                  &lt;li&gt;&lt;strong&gt;www/skins&lt;/strong&gt;/&lt;/li&gt;
<a name="l177"><span class="linenum"> 177</span></a>                  &lt;li&gt;&lt;strong&gt;www/plugins/&lt;/strong&gt;&lt;/li&gt;
<a name="l178"><span class="linenum"> 178</span></a>                  &lt;li&gt;&lt;strong&gt;www/locales/&lt;/strong&gt;&lt;/li&gt;
<a name="l179"><span class="linenum"> 179</span></a>              &lt;/ul&gt;
<a name="l180"><span class="linenum"> 180</span></a>          &lt;/li&gt;
<a name="l181"><span class="linenum"> 181</span></a>          &lt;li&gt;&lt;strong&gt;www/conf/_basic_config.php&lt;/strong&gt; (You need to keep the basic config, otherwise b2evolution cannot upgrade)&lt;/li&gt;
<a name="l182"><span class="linenum"> 182</span></a>      &lt;/ul&gt;
<a name="l183"><span class="linenum"> 183</span></a>  
<a name="l184"><span class="linenum"> 184</span></a>      &lt;p&gt;After that, copy all files from the new b2evolution's distribution package.&lt;/p&gt;
<a name="l185"><span class="linenum"> 185</span></a>  
<a name="l186"><span class="linenum"> 186</span></a>      &lt;h2&gt;3. Upgrading the database&lt;/h2&gt;
<a name="l187"><span class="linenum"> 187</span></a>      &lt;p&gt;At this point you can call b2evolution's install script through an HTTP GET <a class="function" onClick="logFunction('request')" href="../_functions/request.html" onMouseOver="funcPopup(event,'request')">request</a> (wget, cURL, etc..) of this form:&lt;/p&gt;
<a name="l188"><span class="linenum"> 188</span></a>      &lt;pre&gt;http://example.com/install/index.php?locale=en-US&amp;amp;action=evoupgrade&lt;/pre&gt;
<a name="l189"><span class="linenum"> 189</span></a>      &lt;p&gt;Use this form to generate an automated upgrade test URL:&lt;/p&gt;
<a name="l190"><span class="linenum"> 190</span></a>      &lt;form action="<a class="filename" href="../index.php.html">index.php</a>" method=&quot;get&quot; style=&quot;background-color:#ddd&quot;&gt;
<a name="l191"><span class="linenum"> 191</span></a>          &lt;input type=&quot;hidden&quot; name=&quot;action&quot; value=&quot;evoupgrade&quot; /&gt;
<a name="l192"><span class="linenum"> 192</span></a>          &lt;input type=&quot;hidden&quot; name=&quot;locale&quot; value=&quot;en-US&quot; /&gt;
<a name="l193"><span class="linenum"> 193</span></a>          &lt;fieldset&gt;
<a name="l194"><span class="linenum"> 194</span></a>              &lt;legend&gt;General&lt;/legend&gt;
<a name="l195"><span class="linenum"> 195</span></a>              &lt;p&gt;
<a name="l196"><span class="linenum"> 196</span></a>                  &lt;label&gt;Display:&lt;/label&gt;
<a name="l197"><span class="linenum"> 197</span></a>                  &lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;display&quot; value=&quot;normal&quot; /&gt; Normal&lt;/label&gt;
<a name="l198"><span class="linenum"> 198</span></a>                  &lt;label&gt;&lt;input type=&quot;radio&quot; name=&quot;display&quot; value=&quot;compact&quot; checked=&quot;checked&quot; /&gt; Compact&lt;/label&gt;
<a name="l199"><span class="linenum"> 199</span></a>              &lt;/p&gt;
<a name="l200"><span class="linenum"> 200</span></a>          &lt;/fieldset&gt;
<a name="l201"><span class="linenum"> 201</span></a>          &lt;p&gt;
<a name="l202"><span class="linenum"> 202</span></a>              &lt;input type=&quot;submit&quot; value=&quot;Test Automated Upgrade&quot; /&gt;
<a name="l203"><span class="linenum"> 203</span></a>          &lt;/p&gt;
<a name="l204"><span class="linenum"> 204</span></a>      &lt;/form&gt;
<a name="l205"><span class="linenum"> 205</span></a>  
<a name="l206"><span class="linenum"> 206</span></a>      &lt;h2&gt;4. Delete the install folder&lt;/h2&gt;
<a name="l207"><span class="linenum"> 207</span></a>      &lt;p&gt;At this point, the www/install/ folder is no longer needed. We recommend you delete it, both to save space and improve security.&lt;/p&gt;
<a name="l208"><span class="linenum"> 208</span></a>      &lt;p&gt;Note: when upgrading again, you will need a &lt;strong&gt;new&lt;/strong&gt; install folder. So there is really no point in keeping the old one.&lt;/p&gt;
<a name="l209"><span class="linenum"> 209</span></a>      &lt;h1&gt;&lt;/h1&gt;
<a name="l210"><span class="linenum"> 210</span></a>  &lt;/body&gt;
<a name="l211"><span class="linenum"> 211</span></a>  &lt;/html&gt;
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'request': ['request', 'Open a connection, send request, read header and body. ', [['inc/_ext/phpsvnclient','phpsvnclient.php',975]], 8],
'version_compare': ['version_compare', '', [], 113]};
CLASS_DATA={
};
CONST_DATA={
};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Sat Nov 21 22:13:19 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
