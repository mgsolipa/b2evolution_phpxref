<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /inc/collections/views/_coll_perm_view.funcs.php source</title>
    <link rel="stylesheet" href="../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Sat Nov 21 22:13:19 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../';
subdir='inc/collections/views';
filename='_coll_perm_view.funcs.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/inc/collections/views/</a> -> <a href="_coll_perm_view.funcs.php.html">_coll_perm_view.funcs.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="_coll_perm_view.funcs.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="_coll_perm_view.funcs.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">/**</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment"> * This file implements the advanced collection user and group perms form functions.</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment"> * </span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment"> * This file is part of the evoCore framework - {@link http://evocore.net/}</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment"> * </span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment"> * @copyright (c)2003-2015 by Francois Planque - {@link http://fplanque.com/}</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment"> * </span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment"> * @package evocore</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment"> * </span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment"> * @version $Id: _coll_perm_view.funcs.php 9699 2015-07-01 11:44:57Z yura $</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment"> */</span>
<a name="l13"><span class="linenum">  13</span></a>  if( !<a class="phpfunction" onClick="logFunction('defined')" href="../../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('EVO_MAIN_INIT')" href="../../../_constants/EVO_MAIN_INIT.html" onMouseOver="constPopup(event,'EVO_MAIN_INIT')">EVO_MAIN_INIT</a>') ) die( 'Please, do not access this page directly.' );
<a name="l14"><span class="linenum">  14</span></a>  
<a name="l15"><span class="linenum">  15</span></a>  
<a name="l16"><span class="linenum">  16</span></a>  <span class="comment">/**</span>
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment"> * Filter collectiion user/group perms list by user/group</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> * </span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> * @param object $Form</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> */</span>
<a name="l21"><span class="linenum">  21</span></a>  function <a class="function" onClick="logFunction('filter_collobjectlist')" href="../../../_functions/filter_collobjectlist.html" onMouseOver="funcPopup(event,'filter_collobjectlist')">filter_collobjectlist</a>( &amp; <a class="var it158" onMouseOver="hilite(158)" onMouseOut="lolite()" onClick="logVariable('Form')" href="../../../_variables/Form.html">$Form</a> )
<a name="l22"><span class="linenum">  22</span></a>  {
<a name="l23"><span class="linenum">  23</span></a>      static <a class="var it38" onMouseOver="hilite(38)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../_variables/count.html">$count</a> = 0;
<a name="l24"><span class="linenum">  24</span></a>  
<a name="l25"><span class="linenum">  25</span></a>      <a class="var it38" onMouseOver="hilite(38)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../_variables/count.html">$count</a>++;
<a name="l26"><span class="linenum">  26</span></a>      <a class="var it158" onMouseOver="hilite(158)" onMouseOut="lolite()" onClick="logVariable('Form')" href="../../../_variables/Form.html">$Form</a>-&gt;<a class="function" onClick="logFunction('switch_layout')" href="../../../_functions/switch_layout.html" onMouseOver="funcPopup(event,'switch_layout')">switch_layout</a>( 'blockspan' );
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment">    // TODO: javascript update other input fields (for other layouts):</span>
<a name="l28"><span class="linenum">  28</span></a>      <a class="var it158" onMouseOver="hilite(158)" onMouseOut="lolite()" onClick="logVariable('Form')" href="../../../_variables/Form.html">$Form</a>-&gt;<a class="function" onClick="logFunction('text')" href="../../../_functions/text.html" onMouseOver="funcPopup(event,'text')">text</a>( 'keywords'.<a class="var it38" onMouseOver="hilite(38)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../_variables/count.html">$count</a>, <a class="function" onClick="logFunction('get_param')" href="../../../_functions/get_param.html" onMouseOver="funcPopup(event,'get_param')">get_param</a>('keywords'.<a class="var it38" onMouseOver="hilite(38)" onMouseOut="lolite()" onClick="logVariable('count')" href="../../../_variables/count.html">$count</a>), 20, <a class="function" onClick="logFunction('T_')" href="../../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Keywords'), <a class="function" onClick="logFunction('T_')" href="../../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Separate with space'), 50 );
<a name="l29"><span class="linenum">  29</span></a>      <a class="var it158" onMouseOver="hilite(158)" onMouseOut="lolite()" onClick="logVariable('Form')" href="../../../_variables/Form.html">$Form</a>-&gt;<a class="function" onClick="logFunction('switch_layout')" href="../../../_functions/switch_layout.html" onMouseOver="funcPopup(event,'switch_layout')">switch_layout</a>( NULL ); <span class="comment">// Restor previously saved</span>
<a name="l30"><span class="linenum">  30</span></a>  }
<a name="l31"><span class="linenum">  31</span></a>  
<a name="l32"><span class="linenum">  32</span></a>  
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment">/**</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> * Get the ID which correspond to table prefix</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> * @param string prefix</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> * @return string row id field name</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> */</span>
<a name="l38"><span class="linenum">  38</span></a>  function <a class="function" onClick="logFunction('get_id_coll_from_prefix')" href="../../../_functions/get_id_coll_from_prefix.html" onMouseOver="funcPopup(event,'get_id_coll_from_prefix')">get_id_coll_from_prefix</a>( <a class="var it710" onMouseOver="hilite(710)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../../_variables/prefix.html">$prefix</a> )
<a name="l39"><span class="linenum">  39</span></a>  {
<a name="l40"><span class="linenum">  40</span></a>      switch( <a class="var it710" onMouseOver="hilite(710)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../../_variables/prefix.html">$prefix</a> )
<a name="l41"><span class="linenum">  41</span></a>      {
<a name="l42"><span class="linenum">  42</span></a>          case 'bloguser_':
<a name="l43"><span class="linenum">  43</span></a>              return 'user_ID';
<a name="l44"><span class="linenum">  44</span></a>  
<a name="l45"><span class="linenum">  45</span></a>          case 'bloggroup_':
<a name="l46"><span class="linenum">  46</span></a>              return 'grp_ID';
<a name="l47"><span class="linenum">  47</span></a>  
<a name="l48"><span class="linenum">  48</span></a>          default:
<a name="l49"><span class="linenum">  49</span></a>              <a class="function" onClick="logFunction('debug_die')" href="../../../_functions/debug_die.html" onMouseOver="funcPopup(event,'debug_die')">debug_die</a>('Invalid table prefix on advanced collection perms form!');
<a name="l50"><span class="linenum">  50</span></a>      }
<a name="l51"><span class="linenum">  51</span></a>  }
<a name="l52"><span class="linenum">  52</span></a>  
<a name="l53"><span class="linenum">  53</span></a>  
<a name="l54"><span class="linenum">  54</span></a>  <span class="comment">/**</span>
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment"> * Get collection perm checkbox</span>
<a name="l56"><span class="linenum">  56</span></a>  <span class="comment"> * </span>
<a name="l57"><span class="linenum">  57</span></a>  <span class="comment"> * @param object the db row</span>
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment"> * @param string the prefix of the db row: 'bloguser_' or 'bloggroup_'</span>
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment"> * @param string permission name</span>
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment"> * @param string checkbox title</span>
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment"> * @param string the Id of the checkbox item</span>
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment"> */</span>
<a name="l63"><span class="linenum">  63</span></a>  function <a class="function" onClick="logFunction('coll_perm_checkbox')" href="../../../_functions/coll_perm_checkbox.html" onMouseOver="funcPopup(event,'coll_perm_checkbox')">coll_perm_checkbox</a>( <a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>, <a class="var it710" onMouseOver="hilite(710)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../../_variables/prefix.html">$prefix</a>, <a class="var it459" onMouseOver="hilite(459)" onMouseOut="lolite()" onClick="logVariable('perm')" href="../../../_variables/perm.html">$perm</a>, <a class="var it112" onMouseOver="hilite(112)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../../_variables/title.html">$title</a>, <a class="var it1322" onMouseOver="hilite(1322)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a> = NULL )
<a name="l64"><span class="linenum">  64</span></a>  {
<a name="l65"><span class="linenum">  65</span></a>      global <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('edited_Blog')" href="../../../_variables/edited_Blog.html">$edited_Blog</a>, <a class="var it2923" onMouseOver="hilite(2923)" onMouseOut="lolite()" onClick="logVariable('permission_to_change_admin')" href="../../../_variables/permission_to_change_admin.html">$permission_to_change_admin</a>;
<a name="l66"><span class="linenum">  66</span></a>  
<a name="l67"><span class="linenum">  67</span></a>      <a class="var it2924" onMouseOver="hilite(2924)" onMouseOut="lolite()" onClick="logVariable('row_id_coll')" href="../../../_variables/row_id_coll.html">$row_id_coll</a> = <a class="function" onClick="logFunction('get_id_coll_from_prefix')" href="../../../_functions/get_id_coll_from_prefix.html" onMouseOver="funcPopup(event,'get_id_coll_from_prefix')">get_id_coll_from_prefix</a>( <a class="var it710" onMouseOver="hilite(710)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../../_variables/prefix.html">$prefix</a> );
<a name="l68"><span class="linenum">  68</span></a>  
<a name="l69"><span class="linenum">  69</span></a>      <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> = '&lt;input type=&quot;checkbox&quot;';
<a name="l70"><span class="linenum">  70</span></a>      if( !empty(<a class="var it1322" onMouseOver="hilite(1322)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>) )
<a name="l71"><span class="linenum">  71</span></a>      {
<a name="l72"><span class="linenum">  72</span></a>          <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= ' id=&quot;'.<a class="var it1322" onMouseOver="hilite(1322)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>.'&quot;';
<a name="l73"><span class="linenum">  73</span></a>      }
<a name="l74"><span class="linenum">  74</span></a>      <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= ' name=&quot;blog_'.<a class="var it459" onMouseOver="hilite(459)" onMouseOut="lolite()" onClick="logVariable('perm')" href="../../../_variables/perm.html">$perm</a>.'_'.<a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>-&gt;{<a class="var it2924" onMouseOver="hilite(2924)" onMouseOut="lolite()" onClick="logVariable('row_id_coll')" href="../../../_variables/row_id_coll.html">$row_id_coll</a>}.'&quot;';
<a name="l75"><span class="linenum">  75</span></a>  
<a name="l76"><span class="linenum">  76</span></a>      if( <a class="var it710" onMouseOver="hilite(710)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../../_variables/prefix.html">$prefix</a> == 'bloguser_' &amp;&amp; <a class="var it459" onMouseOver="hilite(459)" onMouseOut="lolite()" onClick="logVariable('perm')" href="../../../_variables/perm.html">$perm</a> != 'perm_admin' &amp;&amp; <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('edited_Blog')" href="../../../_variables/edited_Blog.html">$edited_Blog</a>-&gt;<a onClick="logVariable('owner_user_ID')" class="var it10670" onMouseOver="hilite(10670)" onMouseOut="lolite()" href="../../../_variables/owner_user_ID.html">owner_user_ID</a> == <a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>-&gt;<a onClick="logVariable('user_ID')" class="var it10731" onMouseOver="hilite(10731)" onMouseOut="lolite()" href="../../../_variables/user_ID.html">user_ID</a> )
<a name="l77"><span class="linenum">  77</span></a>      {    // Collection owner has almost all permissions by default (One exception is &quot;admin&quot; perm to edit advanced/administrative coll properties)
<a name="l78"><span class="linenum">  78</span></a>          <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= ' checked=&quot;checked&quot; disabled=&quot;disabled&quot;';
<a name="l79"><span class="linenum">  79</span></a>      }
<a name="l80"><span class="linenum">  80</span></a>      else
<a name="l81"><span class="linenum">  81</span></a>      {    // Not owner
<a name="l82"><span class="linenum">  82</span></a>          if( !empty( <a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>-&gt;{<a class="var it710" onMouseOver="hilite(710)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../../_variables/prefix.html">$prefix</a>.<a class="var it459" onMouseOver="hilite(459)" onMouseOut="lolite()" onClick="logVariable('perm')" href="../../../_variables/perm.html">$perm</a>} ) )
<a name="l83"><span class="linenum">  83</span></a>          {
<a name="l84"><span class="linenum">  84</span></a>              <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= ' checked=&quot;checked&quot;';
<a name="l85"><span class="linenum">  85</span></a>          }
<a name="l86"><span class="linenum">  86</span></a>          if( ! <a class="var it2923" onMouseOver="hilite(2923)" onMouseOut="lolite()" onClick="logVariable('permission_to_change_admin')" href="../../../_variables/permission_to_change_admin.html">$permission_to_change_admin</a>
<a name="l87"><span class="linenum">  87</span></a>                  &amp;&amp; (<a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>-&gt;{<a class="var it710" onMouseOver="hilite(710)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../../_variables/prefix.html">$prefix</a>.'perm_admin'} || <a class="var it459" onMouseOver="hilite(459)" onMouseOut="lolite()" onClick="logVariable('perm')" href="../../../_variables/perm.html">$perm</a> == 'perm_admin' ) )
<a name="l88"><span class="linenum">  88</span></a>          { // No permission to touch nOR create admins
<a name="l89"><span class="linenum">  89</span></a>              <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= ' disabled=&quot;disabled&quot;';
<a name="l90"><span class="linenum">  90</span></a>          }
<a name="l91"><span class="linenum">  91</span></a>      }
<a name="l92"><span class="linenum">  92</span></a>      <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= ' class=&quot;checkbox&quot; value=&quot;1&quot; title=&quot;'.<a class="var it112" onMouseOver="hilite(112)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../../_variables/title.html">$title</a>.'&quot; /&gt;';
<a name="l93"><span class="linenum">  93</span></a>      return <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a>;
<a name="l94"><span class="linenum">  94</span></a>  }
<a name="l95"><span class="linenum">  95</span></a>  
<a name="l96"><span class="linenum">  96</span></a>  
<a name="l97"><span class="linenum">  97</span></a>  <span class="comment">/**</span>
<a name="l98"><span class="linenum">  98</span></a>  <span class="comment"> * Check if the current comment statuses perm value contains at least as much perms as anonymous users have</span>
<a name="l99"><span class="linenum">  99</span></a>  <span class="comment"> * If anonymous users have no permission to post comments, then this will automatically return true;</span>
<a name="l100"><span class="linenum"> 100</span></a>  <span class="comment"> *</span>
<a name="l101"><span class="linenum"> 101</span></a>  <span class="comment"> * @param integer statuses perm value for the checked user/group</span>
<a name="l102"><span class="linenum"> 102</span></a>  <span class="comment"> * @return boolean true if the minimum required permission is granted, false otherwise</span>
<a name="l103"><span class="linenum"> 103</span></a>  <span class="comment"> */</span>
<a name="l104"><span class="linenum"> 104</span></a>  function <a class="function" onClick="logFunction('check_default_create_comment_perm')" href="../../../_functions/check_default_create_comment_perm.html" onMouseOver="funcPopup(event,'check_default_create_comment_perm')">check_default_create_comment_perm</a>( <a class="var it2926" onMouseOver="hilite(2926)" onMouseOut="lolite()" onClick="logVariable('perm_statuses')" href="../../../_variables/perm_statuses.html">$perm_statuses</a> )
<a name="l105"><span class="linenum"> 105</span></a>  {
<a name="l106"><span class="linenum"> 106</span></a>      global <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('edited_Blog')" href="../../../_variables/edited_Blog.html">$edited_Blog</a>;
<a name="l107"><span class="linenum"> 107</span></a>  
<a name="l108"><span class="linenum"> 108</span></a>      if( <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('edited_Blog')" href="../../../_variables/edited_Blog.html">$edited_Blog</a>-&gt;<a class="function" onClick="logFunction('get_setting')" href="../../../_functions/get_setting.html" onMouseOver="funcPopup(event,'get_setting')">get_setting</a>( 'allow_comments' ) != 'any' )
<a name="l109"><span class="linenum"> 109</span></a>      { // Anonymous users are not allowed to post comments
<a name="l110"><span class="linenum"> 110</span></a>          return true;
<a name="l111"><span class="linenum"> 111</span></a>      }
<a name="l112"><span class="linenum"> 112</span></a>  
<a name="l113"><span class="linenum"> 113</span></a>      <a class="var it2927" onMouseOver="hilite(2927)" onMouseOut="lolite()" onClick="logVariable('default_status')" href="../../../_variables/default_status.html">$default_status</a> = <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('edited_Blog')" href="../../../_variables/edited_Blog.html">$edited_Blog</a>-&gt;<a class="function" onClick="logFunction('get_setting')" href="../../../_functions/get_setting.html" onMouseOver="funcPopup(event,'get_setting')">get_setting</a>( 'new_feedback_status' );
<a name="l114"><span class="linenum"> 114</span></a>      <a class="var it2928" onMouseOver="hilite(2928)" onMouseOut="lolite()" onClick="logVariable('default_status_perm_value')" href="../../../_variables/default_status_perm_value.html">$default_status_perm_value</a> = <a class="function" onClick="logFunction('get_status_permvalue')" href="../../../_functions/get_status_permvalue.html" onMouseOver="funcPopup(event,'get_status_permvalue')">get_status_permvalue</a>( <a class="var it2927" onMouseOver="hilite(2927)" onMouseOut="lolite()" onClick="logVariable('default_status')" href="../../../_variables/default_status.html">$default_status</a> );
<a name="l115"><span class="linenum"> 115</span></a>      if( <a class="var it2926" onMouseOver="hilite(2926)" onMouseOut="lolite()" onClick="logVariable('perm_statuses')" href="../../../_variables/perm_statuses.html">$perm_statuses</a> &amp; <a class="var it2928" onMouseOver="hilite(2928)" onMouseOut="lolite()" onClick="logVariable('default_status_perm_value')" href="../../../_variables/default_status_perm_value.html">$default_status_perm_value</a> )
<a name="l116"><span class="linenum"> 116</span></a>      { // Posting comments with default status is allowed
<a name="l117"><span class="linenum"> 117</span></a>          return true;
<a name="l118"><span class="linenum"> 118</span></a>      }
<a name="l119"><span class="linenum"> 119</span></a>  
<a name="l120"><span class="linenum"> 120</span></a>      <a class="var it2929" onMouseOver="hilite(2929)" onMouseOut="lolite()" onClick="logVariable('published_perm_value')" href="../../../_variables/published_perm_value.html">$published_perm_value</a> = <a class="function" onClick="logFunction('get_status_permvalue')" href="../../../_functions/get_status_permvalue.html" onMouseOver="funcPopup(event,'get_status_permvalue')">get_status_permvalue</a>( 'published' );
<a name="l121"><span class="linenum"> 121</span></a>  <span class="comment">    // Remove hihger perm vlaues then 'published' status perm value ( 'deprecated' and 'redirected' values are not important in this context )</span>
<a name="l122"><span class="linenum"> 122</span></a>      <a class="var it2926" onMouseOver="hilite(2926)" onMouseOut="lolite()" onClick="logVariable('perm_statuses')" href="../../../_variables/perm_statuses.html">$perm_statuses</a> = <a class="var it2926" onMouseOver="hilite(2926)" onMouseOut="lolite()" onClick="logVariable('perm_statuses')" href="../../../_variables/perm_statuses.html">$perm_statuses</a> &amp; ( <a class="var it2929" onMouseOver="hilite(2929)" onMouseOut="lolite()" onClick="logVariable('published_perm_value')" href="../../../_variables/published_perm_value.html">$published_perm_value</a> + <a class="var it2929" onMouseOver="hilite(2929)" onMouseOut="lolite()" onClick="logVariable('published_perm_value')" href="../../../_variables/published_perm_value.html">$published_perm_value</a> - 1 );
<a name="l123"><span class="linenum"> 123</span></a>      <a class="var it2930" onMouseOver="hilite(2930)" onMouseOut="lolite()" onClick="logVariable('review_perm_value')" href="../../../_variables/review_perm_value.html">$review_perm_value</a> = <a class="function" onClick="logFunction('get_status_permvalue')" href="../../../_functions/get_status_permvalue.html" onMouseOver="funcPopup(event,'get_status_permvalue')">get_status_permvalue</a>( 'review' );
<a name="l124"><span class="linenum"> 124</span></a>      if( ( <a class="var it2926" onMouseOver="hilite(2926)" onMouseOut="lolite()" onClick="logVariable('perm_statuses')" href="../../../_variables/perm_statuses.html">$perm_statuses</a> &gt; <a class="var it2928" onMouseOver="hilite(2928)" onMouseOut="lolite()" onClick="logVariable('default_status_perm_value')" href="../../../_variables/default_status_perm_value.html">$default_status_perm_value</a> ) || ( ( <a class="var it2927" onMouseOver="hilite(2927)" onMouseOut="lolite()" onClick="logVariable('default_status')" href="../../../_variables/default_status.html">$default_status</a> == 'draft' ) &amp;&amp; (  <a class="var it2926" onMouseOver="hilite(2926)" onMouseOut="lolite()" onClick="logVariable('perm_statuses')" href="../../../_variables/perm_statuses.html">$perm_statuses</a> &amp; <a class="var it2930" onMouseOver="hilite(2930)" onMouseOut="lolite()" onClick="logVariable('review_perm_value')" href="../../../_variables/review_perm_value.html">$review_perm_value</a> ) ) )
<a name="l125"><span class="linenum"> 125</span></a>      {
<a name="l126"><span class="linenum"> 126</span></a>          return true;
<a name="l127"><span class="linenum"> 127</span></a>      }
<a name="l128"><span class="linenum"> 128</span></a>  
<a name="l129"><span class="linenum"> 129</span></a>      return false;
<a name="l130"><span class="linenum"> 130</span></a>  }
<a name="l131"><span class="linenum"> 131</span></a>  
<a name="l132"><span class="linenum"> 132</span></a>  
<a name="l133"><span class="linenum"> 133</span></a>  <span class="comment">/**</span>
<a name="l134"><span class="linenum"> 134</span></a>  <span class="comment"> * Get perm post/comment statuses for a user or group</span>
<a name="l135"><span class="linenum"> 135</span></a>  <span class="comment"> * </span>
<a name="l136"><span class="linenum"> 136</span></a>  <span class="comment"> * @param object db row</span>
<a name="l137"><span class="linenum"> 137</span></a>  <span class="comment"> * @param string the prefix of the db row: 'bloguser_' or 'bloggroup_'</span>
<a name="l138"><span class="linenum"> 138</span></a>  <span class="comment"> * @param string current perm status</span>
<a name="l139"><span class="linenum"> 139</span></a>  <span class="comment"> * @param string the title of the chekbox</span>
<a name="l140"><span class="linenum"> 140</span></a>  <span class="comment"> * @param string the type of the permission: 'post' or 'comment'</span>
<a name="l141"><span class="linenum"> 141</span></a>  <span class="comment"> */</span>
<a name="l142"><span class="linenum"> 142</span></a>  function <a class="function" onClick="logFunction('coll_perm_status_checkbox')" href="../../../_functions/coll_perm_status_checkbox.html" onMouseOver="funcPopup(event,'coll_perm_status_checkbox')">coll_perm_status_checkbox</a>( <a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>, <a class="var it710" onMouseOver="hilite(710)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../../_variables/prefix.html">$prefix</a>, <a class="var it2931" onMouseOver="hilite(2931)" onMouseOut="lolite()" onClick="logVariable('perm_status')" href="../../../_variables/perm_status.html">$perm_status</a>, <a class="var it112" onMouseOver="hilite(112)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../../_variables/title.html">$title</a>, <a class="var it558" onMouseOver="hilite(558)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../_variables/type.html">$type</a> )
<a name="l143"><span class="linenum"> 143</span></a>  {
<a name="l144"><span class="linenum"> 144</span></a>      global <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('edited_Blog')" href="../../../_variables/edited_Blog.html">$edited_Blog</a>, <a class="var it2923" onMouseOver="hilite(2923)" onMouseOut="lolite()" onClick="logVariable('permission_to_change_admin')" href="../../../_variables/permission_to_change_admin.html">$permission_to_change_admin</a>;
<a name="l145"><span class="linenum"> 145</span></a>  
<a name="l146"><span class="linenum"> 146</span></a>      <a class="var it2924" onMouseOver="hilite(2924)" onMouseOut="lolite()" onClick="logVariable('row_id_coll')" href="../../../_variables/row_id_coll.html">$row_id_coll</a> = <a class="function" onClick="logFunction('get_id_coll_from_prefix')" href="../../../_functions/get_id_coll_from_prefix.html" onMouseOver="funcPopup(event,'get_id_coll_from_prefix')">get_id_coll_from_prefix</a>( <a class="var it710" onMouseOver="hilite(710)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../../_variables/prefix.html">$prefix</a> );
<a name="l147"><span class="linenum"> 147</span></a>      <a class="var it2927" onMouseOver="hilite(2927)" onMouseOut="lolite()" onClick="logVariable('default_status')" href="../../../_variables/default_status.html">$default_status</a> = NULL;
<a name="l148"><span class="linenum"> 148</span></a>  
<a name="l149"><span class="linenum"> 149</span></a>      switch( <a class="var it558" onMouseOver="hilite(558)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../_variables/type.html">$type</a> )
<a name="l150"><span class="linenum"> 150</span></a>      {
<a name="l151"><span class="linenum"> 151</span></a>          case 'post':
<a name="l152"><span class="linenum"> 152</span></a>              <a class="var it2926" onMouseOver="hilite(2926)" onMouseOut="lolite()" onClick="logVariable('perm_statuses')" href="../../../_variables/perm_statuses.html">$perm_statuses</a> = 'perm_poststatuses';
<a name="l153"><span class="linenum"> 153</span></a>              <a class="var it2932" onMouseOver="hilite(2932)" onMouseOut="lolite()" onClick="logVariable('type_param')" href="../../../_variables/type_param.html">$type_param</a> = '';
<a name="l154"><span class="linenum"> 154</span></a>              break;
<a name="l155"><span class="linenum"> 155</span></a>  
<a name="l156"><span class="linenum"> 156</span></a>          case 'comment':
<a name="l157"><span class="linenum"> 157</span></a>              <a class="var it2926" onMouseOver="hilite(2926)" onMouseOut="lolite()" onClick="logVariable('perm_statuses')" href="../../../_variables/perm_statuses.html">$perm_statuses</a> = 'perm_cmtstatuses';
<a name="l158"><span class="linenum"> 158</span></a>              if( ! <a class="function" onClick="logFunction('check_default_create_comment_perm')" href="../../../_functions/check_default_create_comment_perm.html" onMouseOver="funcPopup(event,'check_default_create_comment_perm')">check_default_create_comment_perm</a>( <a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>-&gt;{<a class="var it2926" onMouseOver="hilite(2926)" onMouseOut="lolite()" onClick="logVariable('perm_statuses')" href="../../../_variables/perm_statuses.html">$perm_statuses</a>} ) )
<a name="l159"><span class="linenum"> 159</span></a>              { // Doesn't have at least as high comment create permission as anonymous users have
<a name="l160"><span class="linenum"> 160</span></a>                  <a class="var it2927" onMouseOver="hilite(2927)" onMouseOut="lolite()" onClick="logVariable('default_status')" href="../../../_variables/default_status.html">$default_status</a> = <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('edited_Blog')" href="../../../_variables/edited_Blog.html">$edited_Blog</a>-&gt;<a class="function" onClick="logFunction('get_setting')" href="../../../_functions/get_setting.html" onMouseOver="funcPopup(event,'get_setting')">get_setting</a>( 'new_feedback_status' );
<a name="l161"><span class="linenum"> 161</span></a>              }
<a name="l162"><span class="linenum"> 162</span></a>              <a class="var it2932" onMouseOver="hilite(2932)" onMouseOut="lolite()" onClick="logVariable('type_param')" href="../../../_variables/type_param.html">$type_param</a> = 'cmt_';
<a name="l163"><span class="linenum"> 163</span></a>              break;
<a name="l164"><span class="linenum"> 164</span></a>  
<a name="l165"><span class="linenum"> 165</span></a>          default:
<a name="l166"><span class="linenum"> 166</span></a>              <a class="function" onClick="logFunction('debug_die')" href="../../../_functions/debug_die.html" onMouseOver="funcPopup(event,'debug_die')">debug_die</a>('Invalid <a class="var it558" onMouseOver="hilite(558)" onMouseOut="lolite()" onClick="logVariable('type')" href="../../../_variables/type.html">$type</a> param on advanced perms form!');
<a name="l167"><span class="linenum"> 167</span></a>      }
<a name="l168"><span class="linenum"> 168</span></a>  
<a name="l169"><span class="linenum"> 169</span></a>      <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> = '&lt;input type=&quot;checkbox&quot;';
<a name="l170"><span class="linenum"> 170</span></a>      if( !empty(<a class="var it1322" onMouseOver="hilite(1322)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>) )
<a name="l171"><span class="linenum"> 171</span></a>      {
<a name="l172"><span class="linenum"> 172</span></a>          <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= ' id=&quot;'.<a class="var it1322" onMouseOver="hilite(1322)" onMouseOut="lolite()" onClick="logVariable('id')" href="../../../_variables/id.html">$id</a>.'&quot;';
<a name="l173"><span class="linenum"> 173</span></a>      }
<a name="l174"><span class="linenum"> 174</span></a>      <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= ' name=&quot;blog_perm_'.<a class="var it2931" onMouseOver="hilite(2931)" onMouseOut="lolite()" onClick="logVariable('perm_status')" href="../../../_variables/perm_status.html">$perm_status</a>.'_'.<a class="var it2932" onMouseOver="hilite(2932)" onMouseOut="lolite()" onClick="logVariable('type_param')" href="../../../_variables/type_param.html">$type_param</a>.<a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>-&gt;{<a class="var it2924" onMouseOver="hilite(2924)" onMouseOut="lolite()" onClick="logVariable('row_id_coll')" href="../../../_variables/row_id_coll.html">$row_id_coll</a>}.'&quot;';
<a name="l175"><span class="linenum"> 175</span></a>  
<a name="l176"><span class="linenum"> 176</span></a>      if( <a class="var it710" onMouseOver="hilite(710)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../../_variables/prefix.html">$prefix</a> == 'bloguser_' &amp;&amp; <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('edited_Blog')" href="../../../_variables/edited_Blog.html">$edited_Blog</a>-&gt;<a onClick="logVariable('owner_user_ID')" class="var it10670" onMouseOver="hilite(10670)" onMouseOut="lolite()" href="../../../_variables/owner_user_ID.html">owner_user_ID</a> == <a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>-&gt;<a onClick="logVariable('user_ID')" class="var it10731" onMouseOver="hilite(10731)" onMouseOut="lolite()" href="../../../_variables/user_ID.html">user_ID</a> )
<a name="l177"><span class="linenum"> 177</span></a>      {    // Collection owner has the permissions to edit all item/comment statuses by default
<a name="l178"><span class="linenum"> 178</span></a>          <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= ' checked=&quot;checked&quot; disabled=&quot;disabled&quot;';
<a name="l179"><span class="linenum"> 179</span></a>      }
<a name="l180"><span class="linenum"> 180</span></a>      else
<a name="l181"><span class="linenum"> 181</span></a>      {    // Not owner
<a name="l182"><span class="linenum"> 182</span></a>          if( <a class="function" onClick="logFunction('get_status_permvalue')" href="../../../_functions/get_status_permvalue.html" onMouseOver="funcPopup(event,'get_status_permvalue')">get_status_permvalue</a>( <a class="var it2931" onMouseOver="hilite(2931)" onMouseOut="lolite()" onClick="logVariable('perm_status')" href="../../../_variables/perm_status.html">$perm_status</a> ) &amp; <a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>-&gt;{<a class="var it2926" onMouseOver="hilite(2926)" onMouseOut="lolite()" onClick="logVariable('perm_statuses')" href="../../../_variables/perm_statuses.html">$perm_statuses</a>} )
<a name="l183"><span class="linenum"> 183</span></a>          {
<a name="l184"><span class="linenum"> 184</span></a>              <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= ' checked=&quot;checked&quot;';
<a name="l185"><span class="linenum"> 185</span></a>          }
<a name="l186"><span class="linenum"> 186</span></a>          if( ! <a class="var it2923" onMouseOver="hilite(2923)" onMouseOut="lolite()" onClick="logVariable('permission_to_change_admin')" href="../../../_variables/permission_to_change_admin.html">$permission_to_change_admin</a> &amp;&amp; <a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>-&gt;{<a class="var it710" onMouseOver="hilite(710)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../../_variables/prefix.html">$prefix</a>.'perm_admin'} )
<a name="l187"><span class="linenum"> 187</span></a>          {
<a name="l188"><span class="linenum"> 188</span></a>              <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= ' disabled=&quot;disabled&quot;';
<a name="l189"><span class="linenum"> 189</span></a>          }
<a name="l190"><span class="linenum"> 190</span></a>      }
<a name="l191"><span class="linenum"> 191</span></a>  
<a name="l192"><span class="linenum"> 192</span></a>      if( <a class="var it2931" onMouseOver="hilite(2931)" onMouseOut="lolite()" onClick="logVariable('perm_status')" href="../../../_variables/perm_status.html">$perm_status</a> == <a class="var it2927" onMouseOver="hilite(2927)" onMouseOut="lolite()" onClick="logVariable('default_status')" href="../../../_variables/default_status.html">$default_status</a> )
<a name="l193"><span class="linenum"> 193</span></a>      {
<a name="l194"><span class="linenum"> 194</span></a>          <a class="var it112" onMouseOver="hilite(112)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../../_variables/title.html">$title</a> .= &quot;\n&quot;.<a class="function" onClick="logFunction('T_')" href="../../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Note: Anonymous users may create comments with this status. You will probably want to give the same permission to this user/group.');
<a name="l195"><span class="linenum"> 195</span></a>      }
<a name="l196"><span class="linenum"> 196</span></a>      <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= ' class=&quot;checkbox&quot; value=&quot;1&quot; title=&quot;'.<a class="var it112" onMouseOver="hilite(112)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../../_variables/title.html">$title</a>.'&quot; /&gt;';
<a name="l197"><span class="linenum"> 197</span></a>      if( <a class="var it2931" onMouseOver="hilite(2931)" onMouseOut="lolite()" onClick="logVariable('perm_status')" href="../../../_variables/perm_status.html">$perm_status</a> == <a class="var it2927" onMouseOver="hilite(2927)" onMouseOut="lolite()" onClick="logVariable('default_status')" href="../../../_variables/default_status.html">$default_status</a> )
<a name="l198"><span class="linenum"> 198</span></a>      { // This is the default comment status checkbox, and user has no permission to create comment with this <a class="function" onClick="logFunction('status')" href="../../../_functions/status.html" onMouseOver="funcPopup(event,'status')">status</a> ( like anonymous users ) or a higher status
<a name="l199"><span class="linenum"> 199</span></a>          <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> = '&lt;span class=&quot;red-bordered-checkbox&quot;&gt;'.<a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a>.'&lt;/span&gt;';
<a name="l200"><span class="linenum"> 200</span></a>      }
<a name="l201"><span class="linenum"> 201</span></a>      return <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a>;
<a name="l202"><span class="linenum"> 202</span></a>  }
<a name="l203"><span class="linenum"> 203</span></a>  
<a name="l204"><span class="linenum"> 204</span></a>  
<a name="l205"><span class="linenum"> 205</span></a>  <span class="comment">/**</span>
<a name="l206"><span class="linenum"> 206</span></a>  <span class="comment"> * Get the post edit permission select input for user/group</span>
<a name="l207"><span class="linenum"> 207</span></a>  <span class="comment"> * </span>
<a name="l208"><span class="linenum"> 208</span></a>  <span class="comment"> * @param object db row</span>
<a name="l209"><span class="linenum"> 209</span></a>  <span class="comment"> * @param string the prefix of the db row: 'bloguser_' or 'bloggroup_'</span>
<a name="l210"><span class="linenum"> 210</span></a>  <span class="comment"> */</span>
<a name="l211"><span class="linenum"> 211</span></a>  function <a class="function" onClick="logFunction('coll_perm_edit')" href="../../../_functions/coll_perm_edit.html" onMouseOver="funcPopup(event,'coll_perm_edit')">coll_perm_edit</a>( <a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>, <a class="var it710" onMouseOver="hilite(710)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../../_variables/prefix.html">$prefix</a> )
<a name="l212"><span class="linenum"> 212</span></a>  {
<a name="l213"><span class="linenum"> 213</span></a>      global <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('edited_Blog')" href="../../../_variables/edited_Blog.html">$edited_Blog</a>, <a class="var it2923" onMouseOver="hilite(2923)" onMouseOut="lolite()" onClick="logVariable('permission_to_change_admin')" href="../../../_variables/permission_to_change_admin.html">$permission_to_change_admin</a>;
<a name="l214"><span class="linenum"> 214</span></a>  
<a name="l215"><span class="linenum"> 215</span></a>      <a class="var it2924" onMouseOver="hilite(2924)" onMouseOut="lolite()" onClick="logVariable('row_id_coll')" href="../../../_variables/row_id_coll.html">$row_id_coll</a> = <a class="function" onClick="logFunction('get_id_coll_from_prefix')" href="../../../_functions/get_id_coll_from_prefix.html" onMouseOver="funcPopup(event,'get_id_coll_from_prefix')">get_id_coll_from_prefix</a>( <a class="var it710" onMouseOver="hilite(710)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../../_variables/prefix.html">$prefix</a> );
<a name="l216"><span class="linenum"> 216</span></a>  
<a name="l217"><span class="linenum"> 217</span></a>      <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> = '&lt;select id=&quot;blog_perm_edit_'.<a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>-&gt;{<a class="var it2924" onMouseOver="hilite(2924)" onMouseOut="lolite()" onClick="logVariable('row_id_coll')" href="../../../_variables/row_id_coll.html">$row_id_coll</a>}.'&quot; name=&quot;blog_perm_edit_'.<a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>-&gt;{<a class="var it2924" onMouseOver="hilite(2924)" onMouseOut="lolite()" onClick="logVariable('row_id_coll')" href="../../../_variables/row_id_coll.html">$row_id_coll</a>}.'&quot;';
<a name="l218"><span class="linenum"> 218</span></a>      if( <a class="var it710" onMouseOver="hilite(710)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../../_variables/prefix.html">$prefix</a> == 'bloguser_' &amp;&amp; <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('edited_Blog')" href="../../../_variables/edited_Blog.html">$edited_Blog</a>-&gt;<a onClick="logVariable('owner_user_ID')" class="var it10670" onMouseOver="hilite(10670)" onMouseOut="lolite()" href="../../../_variables/owner_user_ID.html">owner_user_ID</a> == <a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>-&gt;<a onClick="logVariable('user_ID')" class="var it10731" onMouseOver="hilite(10731)" onMouseOut="lolite()" href="../../../_variables/user_ID.html">user_ID</a> )
<a name="l219"><span class="linenum"> 219</span></a>      {    // Collection owner has the max permission to edit items:
<a name="l220"><span class="linenum"> 220</span></a>          <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= ' disabled=&quot;disabled&quot;';
<a name="l221"><span class="linenum"> 221</span></a>          <a class="var it2933" onMouseOver="hilite(2933)" onMouseOut="lolite()" onClick="logVariable('perm_edit_value')" href="../../../_variables/perm_edit_value.html">$perm_edit_value</a> = 'all';
<a name="l222"><span class="linenum"> 222</span></a>      }
<a name="l223"><span class="linenum"> 223</span></a>      else
<a name="l224"><span class="linenum"> 224</span></a>      {    // Not owner
<a name="l225"><span class="linenum"> 225</span></a>          if( ! <a class="var it2923" onMouseOver="hilite(2923)" onMouseOut="lolite()" onClick="logVariable('permission_to_change_admin')" href="../../../_variables/permission_to_change_admin.html">$permission_to_change_admin</a> &amp;&amp; <a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>-&gt;{<a class="var it710" onMouseOver="hilite(710)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../../_variables/prefix.html">$prefix</a>.'perm_admin'} )
<a name="l226"><span class="linenum"> 226</span></a>          {
<a name="l227"><span class="linenum"> 227</span></a>              <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= ' disabled=&quot;disabled&quot;';
<a name="l228"><span class="linenum"> 228</span></a>          }
<a name="l229"><span class="linenum"> 229</span></a>          <a class="var it2933" onMouseOver="hilite(2933)" onMouseOut="lolite()" onClick="logVariable('perm_edit_value')" href="../../../_variables/perm_edit_value.html">$perm_edit_value</a> = <a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>-&gt;{<a class="var it710" onMouseOver="hilite(710)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../../_variables/prefix.html">$prefix</a>.'perm_edit'};
<a name="l230"><span class="linenum"> 230</span></a>      }
<a name="l231"><span class="linenum"> 231</span></a>      <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= ' &gt;';
<a name="l232"><span class="linenum"> 232</span></a>      <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= '&lt;option value=&quot;no&quot; '.( <a class="var it2933" onMouseOver="hilite(2933)" onMouseOut="lolite()" onClick="logVariable('perm_edit_value')" href="../../../_variables/perm_edit_value.html">$perm_edit_value</a> == 'no' ? 'selected=&quot;selected&quot;' : '' ).'&gt;No editing&lt;/option&gt;';
<a name="l233"><span class="linenum"> 233</span></a>      <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= '&lt;option value=&quot;own&quot; '.( <a class="var it2933" onMouseOver="hilite(2933)" onMouseOut="lolite()" onClick="logVariable('perm_edit_value')" href="../../../_variables/perm_edit_value.html">$perm_edit_value</a> == 'own' ? 'selected=&quot;selected&quot;' : '' ).'&gt;Own posts&lt;/option&gt;';
<a name="l234"><span class="linenum"> 234</span></a>      <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= '&lt;option value=&quot;lt&quot; '.( <a class="var it2933" onMouseOver="hilite(2933)" onMouseOut="lolite()" onClick="logVariable('perm_edit_value')" href="../../../_variables/perm_edit_value.html">$perm_edit_value</a> == 'lt' ? 'selected=&quot;selected&quot;' : '' ).'&gt;&amp;lt; own level&lt;/option&gt;';
<a name="l235"><span class="linenum"> 235</span></a>      <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= '&lt;option value=&quot;le&quot; '.( <a class="var it2933" onMouseOver="hilite(2933)" onMouseOut="lolite()" onClick="logVariable('perm_edit_value')" href="../../../_variables/perm_edit_value.html">$perm_edit_value</a> == 'le' ? 'selected=&quot;selected&quot;' : '' ).'&gt;&amp;le; own level&lt;/option&gt;';
<a name="l236"><span class="linenum"> 236</span></a>      <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= '&lt;option value=&quot;all&quot; '.( <a class="var it2933" onMouseOver="hilite(2933)" onMouseOut="lolite()" onClick="logVariable('perm_edit_value')" href="../../../_variables/perm_edit_value.html">$perm_edit_value</a> == 'all' ? 'selected=&quot;selected&quot;' : '' ).'&gt;All posts&lt;/option&gt;';
<a name="l237"><span class="linenum"> 237</span></a>      <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= '&lt;/select&gt;';
<a name="l238"><span class="linenum"> 238</span></a>      return <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a>;
<a name="l239"><span class="linenum"> 239</span></a>  }
<a name="l240"><span class="linenum"> 240</span></a>  
<a name="l241"><span class="linenum"> 241</span></a>  
<a name="l242"><span class="linenum"> 242</span></a>  <span class="comment">/**</span>
<a name="l243"><span class="linenum"> 243</span></a>  <span class="comment"> * Get the comment edit permission select input for user/group</span>
<a name="l244"><span class="linenum"> 244</span></a>  <span class="comment"> * </span>
<a name="l245"><span class="linenum"> 245</span></a>  <span class="comment"> * @param object db row</span>
<a name="l246"><span class="linenum"> 246</span></a>  <span class="comment"> * @param string the prefix of the db row: 'bloguser_' or 'bloggroup_'</span>
<a name="l247"><span class="linenum"> 247</span></a>  <span class="comment"> */</span>
<a name="l248"><span class="linenum"> 248</span></a>  function <a class="function" onClick="logFunction('coll_perm_edit_cmt')" href="../../../_functions/coll_perm_edit_cmt.html" onMouseOver="funcPopup(event,'coll_perm_edit_cmt')">coll_perm_edit_cmt</a>( <a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>, <a class="var it710" onMouseOver="hilite(710)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../../_variables/prefix.html">$prefix</a> )
<a name="l249"><span class="linenum"> 249</span></a>  {
<a name="l250"><span class="linenum"> 250</span></a>      global <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('edited_Blog')" href="../../../_variables/edited_Blog.html">$edited_Blog</a>, <a class="var it2923" onMouseOver="hilite(2923)" onMouseOut="lolite()" onClick="logVariable('permission_to_change_admin')" href="../../../_variables/permission_to_change_admin.html">$permission_to_change_admin</a>;
<a name="l251"><span class="linenum"> 251</span></a>  
<a name="l252"><span class="linenum"> 252</span></a>      <a class="var it2924" onMouseOver="hilite(2924)" onMouseOut="lolite()" onClick="logVariable('row_id_coll')" href="../../../_variables/row_id_coll.html">$row_id_coll</a> = <a class="function" onClick="logFunction('get_id_coll_from_prefix')" href="../../../_functions/get_id_coll_from_prefix.html" onMouseOver="funcPopup(event,'get_id_coll_from_prefix')">get_id_coll_from_prefix</a>( <a class="var it710" onMouseOver="hilite(710)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../../_variables/prefix.html">$prefix</a> );
<a name="l253"><span class="linenum"> 253</span></a>  
<a name="l254"><span class="linenum"> 254</span></a>      <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> = '&lt;select id=&quot;blog_perm_edit_cmt'.<a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>-&gt;{<a class="var it2924" onMouseOver="hilite(2924)" onMouseOut="lolite()" onClick="logVariable('row_id_coll')" href="../../../_variables/row_id_coll.html">$row_id_coll</a>}.'&quot; name=&quot;blog_perm_edit_cmt_'.<a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>-&gt;{<a class="var it2924" onMouseOver="hilite(2924)" onMouseOut="lolite()" onClick="logVariable('row_id_coll')" href="../../../_variables/row_id_coll.html">$row_id_coll</a>}.'&quot;';
<a name="l255"><span class="linenum"> 255</span></a>      if( <a class="var it710" onMouseOver="hilite(710)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../../_variables/prefix.html">$prefix</a> == 'bloguser_' &amp;&amp; <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('edited_Blog')" href="../../../_variables/edited_Blog.html">$edited_Blog</a>-&gt;<a onClick="logVariable('owner_user_ID')" class="var it10670" onMouseOver="hilite(10670)" onMouseOut="lolite()" href="../../../_variables/owner_user_ID.html">owner_user_ID</a> == <a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>-&gt;<a onClick="logVariable('user_ID')" class="var it10731" onMouseOver="hilite(10731)" onMouseOut="lolite()" href="../../../_variables/user_ID.html">user_ID</a> )
<a name="l256"><span class="linenum"> 256</span></a>      {    // Collection owner has the max permission to edit items:
<a name="l257"><span class="linenum"> 257</span></a>          <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= ' disabled=&quot;disabled&quot;';
<a name="l258"><span class="linenum"> 258</span></a>          <a class="var it2934" onMouseOver="hilite(2934)" onMouseOut="lolite()" onClick="logVariable('perm_edit_cmt_value')" href="../../../_variables/perm_edit_cmt_value.html">$perm_edit_cmt_value</a> = 'all';
<a name="l259"><span class="linenum"> 259</span></a>      }
<a name="l260"><span class="linenum"> 260</span></a>      else
<a name="l261"><span class="linenum"> 261</span></a>      {    // Not owner
<a name="l262"><span class="linenum"> 262</span></a>          if( ! <a class="var it2923" onMouseOver="hilite(2923)" onMouseOut="lolite()" onClick="logVariable('permission_to_change_admin')" href="../../../_variables/permission_to_change_admin.html">$permission_to_change_admin</a> &amp;&amp; <a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>-&gt;{<a class="var it710" onMouseOver="hilite(710)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../../_variables/prefix.html">$prefix</a>.'perm_admin'} )
<a name="l263"><span class="linenum"> 263</span></a>          {
<a name="l264"><span class="linenum"> 264</span></a>              <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= ' disabled=&quot;disabled&quot;';
<a name="l265"><span class="linenum"> 265</span></a>          }
<a name="l266"><span class="linenum"> 266</span></a>          <a class="var it2934" onMouseOver="hilite(2934)" onMouseOut="lolite()" onClick="logVariable('perm_edit_cmt_value')" href="../../../_variables/perm_edit_cmt_value.html">$perm_edit_cmt_value</a> = <a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>-&gt;{<a class="var it710" onMouseOver="hilite(710)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../../_variables/prefix.html">$prefix</a>.'perm_edit_cmt'};
<a name="l267"><span class="linenum"> 267</span></a>      }
<a name="l268"><span class="linenum"> 268</span></a>      <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= ' &gt;';
<a name="l269"><span class="linenum"> 269</span></a>      <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= '&lt;option value=&quot;no&quot; '.( <a class="var it2934" onMouseOver="hilite(2934)" onMouseOut="lolite()" onClick="logVariable('perm_edit_cmt_value')" href="../../../_variables/perm_edit_cmt_value.html">$perm_edit_cmt_value</a> == 'no' ? 'selected=&quot;selected&quot;' : '' ).'&gt;No editing&lt;/option&gt;';
<a name="l270"><span class="linenum"> 270</span></a>      <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= '&lt;option value=&quot;own&quot; '.( <a class="var it2934" onMouseOver="hilite(2934)" onMouseOut="lolite()" onClick="logVariable('perm_edit_cmt_value')" href="../../../_variables/perm_edit_cmt_value.html">$perm_edit_cmt_value</a> == 'own' ? 'selected=&quot;selected&quot;' : '' ).'&gt;Own cmts&lt;/option&gt;';
<a name="l271"><span class="linenum"> 271</span></a>      <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= '&lt;option value=&quot;anon&quot; '.( <a class="var it2934" onMouseOver="hilite(2934)" onMouseOut="lolite()" onClick="logVariable('perm_edit_cmt_value')" href="../../../_variables/perm_edit_cmt_value.html">$perm_edit_cmt_value</a> == 'anon' ? 'selected=&quot;selected&quot;' : '' ).'&gt;Annon cmts&lt;/option&gt;';
<a name="l272"><span class="linenum"> 272</span></a>      <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= '&lt;option value=&quot;lt&quot; '.( <a class="var it2934" onMouseOver="hilite(2934)" onMouseOut="lolite()" onClick="logVariable('perm_edit_cmt_value')" href="../../../_variables/perm_edit_cmt_value.html">$perm_edit_cmt_value</a> == 'lt' ? 'selected=&quot;selected&quot;' : '' ).'&gt;&amp;lt; own level&lt;/option&gt;';
<a name="l273"><span class="linenum"> 273</span></a>      <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= '&lt;option value=&quot;le&quot; '.( <a class="var it2934" onMouseOver="hilite(2934)" onMouseOut="lolite()" onClick="logVariable('perm_edit_cmt_value')" href="../../../_variables/perm_edit_cmt_value.html">$perm_edit_cmt_value</a> == 'le' ? 'selected=&quot;selected&quot;' : '' ).'&gt;&amp;le; own level&lt;/option&gt;';
<a name="l274"><span class="linenum"> 274</span></a>      <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= '&lt;option value=&quot;all&quot; '.( <a class="var it2934" onMouseOver="hilite(2934)" onMouseOut="lolite()" onClick="logVariable('perm_edit_cmt_value')" href="../../../_variables/perm_edit_cmt_value.html">$perm_edit_cmt_value</a> == 'all' ? 'selected=&quot;selected&quot;' : '' ).'&gt;All cmts&lt;/option&gt;';
<a name="l275"><span class="linenum"> 275</span></a>      <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= '&lt;/select&gt;';
<a name="l276"><span class="linenum"> 276</span></a>      return <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a>;
<a name="l277"><span class="linenum"> 277</span></a>  }
<a name="l278"><span class="linenum"> 278</span></a>  
<a name="l279"><span class="linenum"> 279</span></a>  
<a name="l280"><span class="linenum"> 280</span></a>  <span class="comment">/**</span>
<a name="l281"><span class="linenum"> 281</span></a>  <span class="comment"> * Get the post type edit permission select input for user/group</span>
<a name="l282"><span class="linenum"> 282</span></a>  <span class="comment"> * </span>
<a name="l283"><span class="linenum"> 283</span></a>  <span class="comment"> * @param object db row</span>
<a name="l284"><span class="linenum"> 284</span></a>  <span class="comment"> * @param string the prefix of the db row: 'bloguser_' or 'bloggroup_'</span>
<a name="l285"><span class="linenum"> 285</span></a>  <span class="comment"> */</span>
<a name="l286"><span class="linenum"> 286</span></a>  function <a class="function" onClick="logFunction('coll_perm_item_type')" href="../../../_functions/coll_perm_item_type.html" onMouseOver="funcPopup(event,'coll_perm_item_type')">coll_perm_item_type</a>( <a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>, <a class="var it710" onMouseOver="hilite(710)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../../_variables/prefix.html">$prefix</a> )
<a name="l287"><span class="linenum"> 287</span></a>  {
<a name="l288"><span class="linenum"> 288</span></a>      global <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('edited_Blog')" href="../../../_variables/edited_Blog.html">$edited_Blog</a>, <a class="var it2923" onMouseOver="hilite(2923)" onMouseOut="lolite()" onClick="logVariable('permission_to_change_admin')" href="../../../_variables/permission_to_change_admin.html">$permission_to_change_admin</a>;
<a name="l289"><span class="linenum"> 289</span></a>  
<a name="l290"><span class="linenum"> 290</span></a>      <a class="var it2924" onMouseOver="hilite(2924)" onMouseOut="lolite()" onClick="logVariable('row_id_coll')" href="../../../_variables/row_id_coll.html">$row_id_coll</a> = <a class="function" onClick="logFunction('get_id_coll_from_prefix')" href="../../../_functions/get_id_coll_from_prefix.html" onMouseOver="funcPopup(event,'get_id_coll_from_prefix')">get_id_coll_from_prefix</a>( <a class="var it710" onMouseOver="hilite(710)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../../_variables/prefix.html">$prefix</a> );
<a name="l291"><span class="linenum"> 291</span></a>  
<a name="l292"><span class="linenum"> 292</span></a>      <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> = '&lt;select id=&quot;blog_perm_item_type_'.<a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>-&gt;{<a class="var it2924" onMouseOver="hilite(2924)" onMouseOut="lolite()" onClick="logVariable('row_id_coll')" href="../../../_variables/row_id_coll.html">$row_id_coll</a>}.'&quot; name=&quot;blog_perm_item_type_'.<a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>-&gt;{<a class="var it2924" onMouseOver="hilite(2924)" onMouseOut="lolite()" onClick="logVariable('row_id_coll')" href="../../../_variables/row_id_coll.html">$row_id_coll</a>}.'&quot;';
<a name="l293"><span class="linenum"> 293</span></a>      if( <a class="var it710" onMouseOver="hilite(710)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../../_variables/prefix.html">$prefix</a> == 'bloguser_' &amp;&amp; <a class="var it1698" onMouseOver="hilite(1698)" onMouseOut="lolite()" onClick="logVariable('edited_Blog')" href="../../../_variables/edited_Blog.html">$edited_Blog</a>-&gt;<a onClick="logVariable('owner_user_ID')" class="var it10670" onMouseOver="hilite(10670)" onMouseOut="lolite()" href="../../../_variables/owner_user_ID.html">owner_user_ID</a> == <a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>-&gt;<a onClick="logVariable('user_ID')" class="var it10731" onMouseOver="hilite(10731)" onMouseOut="lolite()" href="../../../_variables/user_ID.html">user_ID</a> )
<a name="l294"><span class="linenum"> 294</span></a>      {    // Collection owner has the max permission to edit item types:
<a name="l295"><span class="linenum"> 295</span></a>          <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= ' disabled=&quot;disabled&quot;';
<a name="l296"><span class="linenum"> 296</span></a>          <a class="var it2933" onMouseOver="hilite(2933)" onMouseOut="lolite()" onClick="logVariable('perm_edit_value')" href="../../../_variables/perm_edit_value.html">$perm_edit_value</a> = 'admin';
<a name="l297"><span class="linenum"> 297</span></a>      }
<a name="l298"><span class="linenum"> 298</span></a>      else
<a name="l299"><span class="linenum"> 299</span></a>      {    // Not owner
<a name="l300"><span class="linenum"> 300</span></a>          if( ! <a class="var it2923" onMouseOver="hilite(2923)" onMouseOut="lolite()" onClick="logVariable('permission_to_change_admin')" href="../../../_variables/permission_to_change_admin.html">$permission_to_change_admin</a> &amp;&amp; <a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>-&gt;{<a class="var it710" onMouseOver="hilite(710)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../../_variables/prefix.html">$prefix</a>.'perm_admin'} )
<a name="l301"><span class="linenum"> 301</span></a>          {
<a name="l302"><span class="linenum"> 302</span></a>              <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= ' disabled=&quot;disabled&quot;';
<a name="l303"><span class="linenum"> 303</span></a>          }
<a name="l304"><span class="linenum"> 304</span></a>          <a class="var it2933" onMouseOver="hilite(2933)" onMouseOut="lolite()" onClick="logVariable('perm_edit_value')" href="../../../_variables/perm_edit_value.html">$perm_edit_value</a> = <a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>-&gt;{<a class="var it710" onMouseOver="hilite(710)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../../_variables/prefix.html">$prefix</a>.'perm_item_type'};
<a name="l305"><span class="linenum"> 305</span></a>      }
<a name="l306"><span class="linenum"> 306</span></a>      <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= ' &gt;';
<a name="l307"><span class="linenum"> 307</span></a>      <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= '&lt;option value=&quot;standard&quot; '.( <a class="var it2933" onMouseOver="hilite(2933)" onMouseOut="lolite()" onClick="logVariable('perm_edit_value')" href="../../../_variables/perm_edit_value.html">$perm_edit_value</a> == 'standard' ? 'selected=&quot;selected&quot;' : '' ).'&gt;'.<a class="function" onClick="logFunction('T_')" href="../../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Standard').'&lt;/option&gt;';
<a name="l308"><span class="linenum"> 308</span></a>      <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= '&lt;option value=&quot;restricted&quot; '.( <a class="var it2933" onMouseOver="hilite(2933)" onMouseOut="lolite()" onClick="logVariable('perm_edit_value')" href="../../../_variables/perm_edit_value.html">$perm_edit_value</a> == 'restricted' ? 'selected=&quot;selected&quot;' : '' ).'&gt;'.<a class="function" onClick="logFunction('T_')" href="../../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Restricted').'&lt;/option&gt;';
<a name="l309"><span class="linenum"> 309</span></a>      <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= '&lt;option value=&quot;admin&quot; '.( <a class="var it2933" onMouseOver="hilite(2933)" onMouseOut="lolite()" onClick="logVariable('perm_edit_value')" href="../../../_variables/perm_edit_value.html">$perm_edit_value</a> == 'admin' ? 'selected=&quot;selected&quot;' : '' ).'&gt;'.<a class="function" onClick="logFunction('T_')" href="../../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Admin').'&lt;/option&gt;';
<a name="l310"><span class="linenum"> 310</span></a>      <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> .= '&lt;/select&gt;';
<a name="l311"><span class="linenum"> 311</span></a>      return <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a>;
<a name="l312"><span class="linenum"> 312</span></a>  }
<a name="l313"><span class="linenum"> 313</span></a>  
<a name="l314"><span class="linenum"> 314</span></a>  
<a name="l315"><span class="linenum"> 315</span></a>  <span class="comment">/**</span>
<a name="l316"><span class="linenum"> 316</span></a>  <span class="comment"> * Return link to check/uncheck all permission in a row</span>
<a name="l317"><span class="linenum"> 317</span></a>  <span class="comment"> * </span>
<a name="l318"><span class="linenum"> 318</span></a>  <span class="comment"> * @param object db row</span>
<a name="l319"><span class="linenum"> 319</span></a>  <span class="comment"> * @param string the prefix of the db row: 'bloguser_' or 'bloggroup_'</span>
<a name="l320"><span class="linenum"> 320</span></a>  <span class="comment"> * @return string the link element</span>
<a name="l321"><span class="linenum"> 321</span></a>  <span class="comment"> */</span>
<a name="l322"><span class="linenum"> 322</span></a>  function <a class="function" onClick="logFunction('perm_check_all')" href="../../../_functions/perm_check_all.html" onMouseOver="funcPopup(event,'perm_check_all')">perm_check_all</a>( <a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>, <a class="var it710" onMouseOver="hilite(710)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../../_variables/prefix.html">$prefix</a> )
<a name="l323"><span class="linenum"> 323</span></a>  {
<a name="l324"><span class="linenum"> 324</span></a>      global <a class="var it2923" onMouseOver="hilite(2923)" onMouseOut="lolite()" onClick="logVariable('permission_to_change_admin')" href="../../../_variables/permission_to_change_admin.html">$permission_to_change_admin</a>;
<a name="l325"><span class="linenum"> 325</span></a>  
<a name="l326"><span class="linenum"> 326</span></a>      <a class="var it2924" onMouseOver="hilite(2924)" onMouseOut="lolite()" onClick="logVariable('row_id_coll')" href="../../../_variables/row_id_coll.html">$row_id_coll</a> = <a class="function" onClick="logFunction('get_id_coll_from_prefix')" href="../../../_functions/get_id_coll_from_prefix.html" onMouseOver="funcPopup(event,'get_id_coll_from_prefix')">get_id_coll_from_prefix</a>( <a class="var it710" onMouseOver="hilite(710)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../../_variables/prefix.html">$prefix</a> );
<a name="l327"><span class="linenum"> 327</span></a>  
<a name="l328"><span class="linenum"> 328</span></a>      if( ! <a class="var it2923" onMouseOver="hilite(2923)" onMouseOut="lolite()" onClick="logVariable('permission_to_change_admin')" href="../../../_variables/permission_to_change_admin.html">$permission_to_change_admin</a> &amp;&amp; <a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>-&gt;{<a class="var it710" onMouseOver="hilite(710)" onMouseOut="lolite()" onClick="logVariable('prefix')" href="../../../_variables/prefix.html">$prefix</a>.'perm_admin'} )
<a name="l329"><span class="linenum"> 329</span></a>      {
<a name="l330"><span class="linenum"> 330</span></a>           return '&amp;nbsp;';
<a name="l331"><span class="linenum"> 331</span></a>      }
<a name="l332"><span class="linenum"> 332</span></a>  
<a name="l333"><span class="linenum"> 333</span></a>      <a class="var it2935" onMouseOver="hilite(2935)" onMouseOut="lolite()" onClick="logVariable('row_id_value')" href="../../../_variables/row_id_value.html">$row_id_value</a> = <a class="var it516" onMouseOver="hilite(516)" onMouseOut="lolite()" onClick="logVariable('row')" href="../../../_variables/row.html">$row</a>-&gt;{<a class="var it2924" onMouseOver="hilite(2924)" onMouseOut="lolite()" onClick="logVariable('row_id_coll')" href="../../../_variables/row_id_coll.html">$row_id_coll</a>};
<a name="l334"><span class="linenum"> 334</span></a>      return '&lt;a href=&quot;javascript:<a class="function" onClick="logFunction('toggleall_perm')" href="../../../_functions/toggleall_perm.html" onMouseOver="funcPopup(event,'toggleall_perm')">toggleall_perm</a>(document.getElementById(\'blogperm_checkchanges\'), '.<a class="var it2935" onMouseOver="hilite(2935)" onMouseOut="lolite()" onClick="logVariable('row_id_value')" href="../../../_variables/row_id_value.html">$row_id_value</a>.' );<a class="function" onClick="logFunction('setcheckallspan')" href="../../../_functions/setcheckallspan.html" onMouseOver="funcPopup(event,'setcheckallspan')">setcheckallspan</a>('.<a class="var it2935" onMouseOver="hilite(2935)" onMouseOut="lolite()" onClick="logVariable('row_id_value')" href="../../../_variables/row_id_value.html">$row_id_value</a>.');&quot; title=&quot;'.<a class="function" onClick="logFunction('TS_')" href="../../../_functions/ts_.html" onMouseOver="funcPopup(event,'ts_')">TS_</a>('(un)selects all checkboxes using Javascript').'&quot;&gt;
<a name="l335"><span class="linenum"> 335</span></a>                  &lt;span id=&quot;checkallspan_'.<a class="var it2935" onMouseOver="hilite(2935)" onMouseOut="lolite()" onClick="logVariable('row_id_value')" href="../../../_variables/row_id_value.html">$row_id_value</a>.'&quot;&gt;'.<a class="function" onClick="logFunction('TS_')" href="../../../_functions/ts_.html" onMouseOver="funcPopup(event,'ts_')">TS_</a>('(un)check all').'&lt;/span&gt;
<a name="l336"><span class="linenum"> 336</span></a>              &lt;/a&gt;';
<a name="l337"><span class="linenum"> 337</span></a>  }
<a name="l338"><span class="linenum"> 338</span></a>  
<a name="l339"><span class="linenum"> 339</span></a>  
<a name="l340"><span class="linenum"> 340</span></a>  <span class="comment">/**</span>
<a name="l341"><span class="linenum"> 341</span></a>  <span class="comment"> * Get the user login</span>
<a name="l342"><span class="linenum"> 342</span></a>  <span class="comment"> * </span>
<a name="l343"><span class="linenum"> 343</span></a>  <span class="comment"> * @param integer User ID</span>
<a name="l344"><span class="linenum"> 344</span></a>  <span class="comment"> * @param string User login</span>
<a name="l345"><span class="linenum"> 345</span></a>  <span class="comment"> */</span>
<a name="l346"><span class="linenum"> 346</span></a>  function <a class="function" onClick="logFunction('coll_perm_login')" href="../../../_functions/coll_perm_login.html" onMouseOver="funcPopup(event,'coll_perm_login')">coll_perm_login</a>( <a class="var it167" onMouseOver="hilite(167)" onMouseOut="lolite()" onClick="logVariable('user_ID')" href="../../../_variables/user_ID.html">$user_ID</a>, <a class="var it1497" onMouseOver="hilite(1497)" onMouseOut="lolite()" onClick="logVariable('user_login')" href="../../../_variables/user_login.html">$user_login</a> )
<a name="l347"><span class="linenum"> 347</span></a>  {
<a name="l348"><span class="linenum"> 348</span></a>      global <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('Blog')" href="../../../_variables/Blog.html">$Blog</a>;
<a name="l349"><span class="linenum"> 349</span></a>  
<a name="l350"><span class="linenum"> 350</span></a>      <a class="var it1497" onMouseOver="hilite(1497)" onMouseOut="lolite()" onClick="logVariable('user_login')" href="../../../_variables/user_login.html">$user_login</a> = <a class="function" onClick="logFunction('get_user_identity_link')" href="../../../_functions/get_user_identity_link.html" onMouseOver="funcPopup(event,'get_user_identity_link')">get_user_identity_link</a>( <a class="var it1497" onMouseOver="hilite(1497)" onMouseOut="lolite()" onClick="logVariable('user_login')" href="../../../_variables/user_login.html">$user_login</a>, NULL, 'profile', 'avatar_login' );
<a name="l351"><span class="linenum"> 351</span></a>  
<a name="l352"><span class="linenum"> 352</span></a>      if( <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('Blog')" href="../../../_variables/Blog.html">$Blog</a>-&gt;<a onClick="logVariable('owner_user_ID')" class="var it10696" onMouseOver="hilite(10696)" onMouseOut="lolite()" href="../../../_variables/owner_user_ID.html">owner_user_ID</a> == <a class="var it167" onMouseOver="hilite(167)" onMouseOut="lolite()" onClick="logVariable('user_ID')" href="../../../_variables/user_ID.html">$user_ID</a> )
<a name="l353"><span class="linenum"> 353</span></a>      {
<a name="l354"><span class="linenum"> 354</span></a>          <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> = <a class="var it1497" onMouseOver="hilite(1497)" onMouseOut="lolite()" onClick="logVariable('user_login')" href="../../../_variables/user_login.html">$user_login</a>.' ('.<a class="function" onClick="logFunction('T_')" href="../../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Owner').')';
<a name="l355"><span class="linenum"> 355</span></a>      }
<a name="l356"><span class="linenum"> 356</span></a>      else
<a name="l357"><span class="linenum"> 357</span></a>      {
<a name="l358"><span class="linenum"> 358</span></a>          <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> = <a class="var it1497" onMouseOver="hilite(1497)" onMouseOut="lolite()" onClick="logVariable('user_login')" href="../../../_variables/user_login.html">$user_login</a>;
<a name="l359"><span class="linenum"> 359</span></a>      }
<a name="l360"><span class="linenum"> 360</span></a>  
<a name="l361"><span class="linenum"> 361</span></a>      return <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a>;
<a name="l362"><span class="linenum"> 362</span></a>  }
<a name="l363"><span class="linenum"> 363</span></a>  
<a name="l364"><span class="linenum"> 364</span></a>  ?&gt;
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'get_user_identity_link': ['get_user_identity_link', 'Get User identity link. User is given with his login or ID. User login or ID must be set. ', [['inc/users/model','_user.funcs.php',1032]], 12],
'coll_perm_login': ['coll_perm_login', 'Get the user login ', [['inc/collections/views','_coll_perm_view.funcs.php',340]], 1],
'check_default_create_comment_perm': ['check_default_create_comment_perm', 'Check if the current comment statuses perm value contains at least as much perms as anonymous users have If anonymous users have no permission to post comments, then this will automatically return true; ', [['inc/collections/views','_coll_perm_view.funcs.php',97]], 1],
'get_setting': ['get_setting', 'Get a setting. ', [['inc/items/model','_item.class.php',6656],['inc/skins/model','_skin.class.php',661],['inc/collections/model','_blog.class.php',2109]], 728],
'get_param': ['get_param', 'Get the value of a param. ', [['inc/_core','_param.funcs.php',1694],['inc/widgets/model','_widget.class.php',343]], 340],
'coll_perm_checkbox': ['coll_perm_checkbox', 'Get collection perm checkbox ', [['inc/collections/views','_coll_perm_view.funcs.php',54]], 26],
'coll_perm_edit': ['coll_perm_edit', 'Get the post edit permission select input for user/group ', [['inc/collections/views','_coll_perm_view.funcs.php',205]], 2],
'debug_die': ['debug_die', 'Outputs Unexpected Error message. When in debug mode it also prints a backtrace. ', [['inc/_core','_misc.funcs.php',2523]], 225],
'get_status_permvalue': ['get_status_permvalue', 'Get the integer value of a status permission The status permissions are stored as a set, and each status has an integer value also ', [['inc/users/model','_user.funcs.php',1929]], 30],
'status': ['status', 'Template function: display status of item ', [['inc/items/model','_item.class.php',4489],['inc/comments/model','_comment.class.php',3180]], 6],
'filter_collobjectlist': ['filter_collobjectlist', 'Filter collectiion user/group perms list by user/group ', [['inc/collections/views','_coll_perm_view.funcs.php',16]], 0],
't_': ['t_', 'Provide translation in the context of this module: ', [['inc/_core/model','_module.class.php',67],['rsc/js','blog_widgets.js',467],['inc/skins/model','_skin.class.php',1131],['inc/plugins','_plugin.class.php',2799],['inc/locales','_locale.funcs.php',29],['inc/locales','_locale.funcs.php',226]], 12118],
'ts_': ['ts_', 'Translate and escape single quotes. ', [['inc/skins/model','_skin.class.php',1162],['inc/plugins','_plugin.class.php',2847],['inc/locales','_locale.funcs.php',233]], 236],
'perm_check_all': ['perm_check_all', 'Return link to check/uncheck all permission in a row ', [['inc/collections/views','_coll_perm_view.funcs.php',315]], 2],
'coll_perm_item_type': ['coll_perm_item_type', 'Get the post type edit permission select input for user/group ', [['inc/collections/views','_coll_perm_view.funcs.php',280]], 2],
'toggleall_perm': ['toggleall_perm', 'Toggles all checkboxes of the wide layout ', [['rsc/js','collectionperms.js',8]], 1],
'coll_perm_edit_cmt': ['coll_perm_edit_cmt', 'Get the comment edit permission select input for user/group ', [['inc/collections/views','_coll_perm_view.funcs.php',242]], 2],
'setcheckallspan': ['setcheckallspan', 'replaces the text of the checkall-html-ID for set_name ', [['skins_adm','_html_header.inc.php',133],['skins_adm/bootstrap','_html_header.inc.php',134]], 8],
'get_id_coll_from_prefix': ['get_id_coll_from_prefix', 'Get the ID which correspond to table prefix ', [['inc/collections/views','_coll_perm_view.funcs.php',33]], 6],
'text': ['text', 'Builds a text (or password) input field. ', [['inc/_core/ui/forms','_form.class.php',1037]], 228],
'coll_perm_status_checkbox': ['coll_perm_status_checkbox', 'Get perm post/comment statuses for a user or group ', [['inc/collections/views','_coll_perm_view.funcs.php',133]], 30],
'switch_layout': ['switch_layout', 'Switch to other layout ', [['inc/_core/ui/forms','_form.class.php',271]], 64],
'defined': ['defined', '', [], 962]};
CLASS_DATA={
};
CONST_DATA={
'EVO_MAIN_INIT': ['EVO_MAIN_INIT', '', [['install','index.php',26],['inc','_main.inc.php',36],['install','debug.php',22]], 912]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Sat Nov 21 22:13:19 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
