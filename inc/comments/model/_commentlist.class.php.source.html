<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /inc/comments/model/_commentlist.class.php source</title>
    <link rel="stylesheet" href="../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Sat Nov 21 22:13:19 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../';
subdir='inc/comments/model';
filename='_commentlist.class.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/inc/comments/model/</a> -> <a href="_commentlist.class.php.html">_commentlist.class.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="_commentlist.class.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="_commentlist.class.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">/**</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment"> * This file implements the CommentList2 class.</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment"> *</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment"> * This file is part of the b2evolution/evocms project - {@link http://b2evolution.net/}.</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment"> * See also {@link https://github.com/b2evolution/b2evolution}.</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment"> *</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment"> * @license GNU GPL v2 - {@link http://b2evolution.net/about/gnu-gpl-license}</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment"> *</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment"> * @copyright (c)2003-2015 by Francois Planque - {@link http://fplanque.com/}.</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment"> * Parts of this file are copyright (c)2004-2005 by Daniel HAHLER - {@link http://thequod.de/contact}.</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment"> *</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment"> * @package evocore</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment"> */</span>
<a name="l15"><span class="linenum">  15</span></a>  if( !<a class="phpfunction" onClick="logFunction('defined')" href="../../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('EVO_MAIN_INIT')" href="../../../_constants/EVO_MAIN_INIT.html" onMouseOver="constPopup(event,'EVO_MAIN_INIT')">EVO_MAIN_INIT</a>') ) die( 'Please, do not access this page directly.' );
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <a class="function" onClick="logFunction('load_class')" href="../../../_functions/load_class.html" onMouseOver="funcPopup(event,'load_class')">load_class</a>( '_core/model/dataobjects/_dataobjectlist2.class.php', 'DataObjectList2' );
<a name="l18"><span class="linenum">  18</span></a>  
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment">/**</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * CommentList Class 2</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> *</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @package evocore</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> */</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment">/**</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment"> * @author asimo</span>
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment"> *</span>
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment"> */</span>
<a name="l28"><span class="linenum">  28</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('CommentList2')" href="../../../_classes/commentlist2.html" onMouseOver="classPopup(event,'commentlist2')">CommentList2</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('DataObjectList2')" href="../../../_classes/dataobjectlist2.html" onMouseOver="classPopup(event,'dataobjectlist2')">DataObjectList2</a>
<a name="l29"><span class="linenum">  29</span></a>  {
<a name="l30"><span class="linenum">  30</span></a>      <span class="comment">/**</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment">     * SQL object for the Query</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment">     */</span>
<a name="l33"><span class="linenum">  33</span></a>      var <a class="var it4548" onMouseOver="hilite(4548)" onMouseOut="lolite()" onClick="logVariable('CommentQuery')" href="../../../_variables/CommentQuery.html">$CommentQuery</a>;
<a name="l34"><span class="linenum">  34</span></a>  
<a name="l35"><span class="linenum">  35</span></a>      <span class="comment">/**</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment">     * SQL object for the ItemQuery</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment">     *</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment">     * This will be used to get those item Ids which comments should be listed</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment">     */</span>
<a name="l40"><span class="linenum">  40</span></a>      var <a class="var it355" onMouseOver="hilite(355)" onMouseOut="lolite()" onClick="logVariable('ItemQuery')" href="../../../_variables/ItemQuery.html">$ItemQuery</a>;
<a name="l41"><span class="linenum">  41</span></a>  
<a name="l42"><span class="linenum">  42</span></a>      <span class="comment">/**</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment">     * Blog object this CommentList refers to</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment">     */</span>
<a name="l45"><span class="linenum">  45</span></a>      var <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('Blog')" href="../../../_variables/Blog.html">$Blog</a>;
<a name="l46"><span class="linenum">  46</span></a>  
<a name="l47"><span class="linenum">  47</span></a>      <span class="comment">/**</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment">     * Constructor</span>
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment">     *</span>
<a name="l50"><span class="linenum">  50</span></a>  <span class="comment">     * @param Blog This may be NULL only when must select comments from all Blog. Use NULL carefully, because it may generate very long queries!</span>
<a name="l51"><span class="linenum">  51</span></a>  <span class="comment">     * @param integer|NULL Limit</span>
<a name="l52"><span class="linenum">  52</span></a>  <span class="comment">     * @param string name of cache to be used</span>
<a name="l53"><span class="linenum">  53</span></a>  <span class="comment">     * @param string prefix to differentiate page/order params when multiple Results appear one same page</span>
<a name="l54"><span class="linenum">  54</span></a>  <span class="comment">     * @param string Name to be used when saving the filterset (leave empty to use default for collection)</span>
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment">     */</span>
<a name="l56"><span class="linenum">  56</span></a>  	function <a class="function" onClick="logFunction('CommentList2')" href="../../../_functions/commentlist2.html" onMouseOver="funcPopup(event,'commentlist2')">CommentList2</a>(
<a name="l57"><span class="linenum">  57</span></a>          <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('Blog')" href="../../../_variables/Blog.html">$Blog</a>,
<a name="l58"><span class="linenum">  58</span></a>          <a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('limit')" href="../../../_variables/limit.html">$limit</a> = 1000,
<a name="l59"><span class="linenum">  59</span></a>          <a class="var it314" onMouseOver="hilite(314)" onMouseOut="lolite()" onClick="logVariable('cache_name')" href="../../../_variables/cache_name.html">$cache_name</a> = 'CommentCache',    // name of cache to be used
<a name="l60"><span class="linenum">  60</span></a>          <a class="var it315" onMouseOver="hilite(315)" onMouseOut="lolite()" onClick="logVariable('param_prefix')" href="../../../_variables/param_prefix.html">$param_prefix</a> = '',
<a name="l61"><span class="linenum">  61</span></a>          <a class="var it316" onMouseOver="hilite(316)" onMouseOut="lolite()" onClick="logVariable('filterset_name')" href="../../../_variables/filterset_name.html">$filterset_name</a> = ''            // Name to be used when saving the filterset (leave empty to use default for collection)
<a name="l62"><span class="linenum">  62</span></a>          )
<a name="l63"><span class="linenum">  63</span></a>      {
<a name="l64"><span class="linenum">  64</span></a>          global <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('Settings')" href="../../../_variables/Settings.html">$Settings</a>;
<a name="l65"><span class="linenum">  65</span></a>  
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment">        // Call parent constructor:</span>
<a name="l67"><span class="linenum">  67</span></a>          parent::<a class="function" onClick="logFunction('DataObjectList2')" href="../../../_functions/dataobjectlist2.html" onMouseOver="funcPopup(event,'dataobjectlist2')">DataObjectList2</a>( get_Cache(<a class="var it314" onMouseOver="hilite(314)" onMouseOut="lolite()" onClick="logVariable('cache_name')" href="../../../_variables/cache_name.html">$cache_name</a>), <a class="var it313" onMouseOver="hilite(313)" onMouseOut="lolite()" onClick="logVariable('limit')" href="../../../_variables/limit.html">$limit</a>, <a class="var it315" onMouseOver="hilite(315)" onMouseOut="lolite()" onClick="logVariable('param_prefix')" href="../../../_variables/param_prefix.html">$param_prefix</a>, NULL );
<a name="l68"><span class="linenum">  68</span></a>  
<a name="l69"><span class="linenum">  69</span></a>  <span class="comment">        // Set Blog. Note: It can be NULL on ?disp=usercomments</span>
<a name="l70"><span class="linenum">  70</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Blog')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/Blog.html">Blog</a> = <a class="var it46" onMouseOver="hilite(46)" onMouseOut="lolite()" onClick="logVariable('Blog')" href="../../../_variables/Blog.html">$Blog</a>;
<a name="l71"><span class="linenum">  71</span></a>  
<a name="l72"><span class="linenum">  72</span></a>  <span class="comment">        // The SQL Query object:</span>
<a name="l73"><span class="linenum">  73</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('CommentQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/CommentQuery.html">CommentQuery</a> = <span class="keyword">new </span><a class="class" onClick="logClass('CommentQuery')" href="../../../_classes/commentquery.html" onMouseOver="classPopup(event,'commentquery')">CommentQuery</a>(<span class="comment">/* $this-&gt;Cache-&gt;dbtablename, $this-&gt;Cache-&gt;dbprefix, $this-&gt;Cache-&gt;dbIDname*/</span> );
<a name="l74"><span class="linenum">  74</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('CommentQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/CommentQuery.html">CommentQuery</a>-&gt;Blog = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Blog')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/Blog.html">Blog</a>;
<a name="l75"><span class="linenum">  75</span></a>  
<a name="l76"><span class="linenum">  76</span></a>  <span class="comment">        // The Item filter SQL Query object:</span>
<a name="l77"><span class="linenum">  77</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('ItemQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/ItemQuery.html">ItemQuery</a> = <span class="keyword">new </span><a class="class" onClick="logClass('ItemQuery')" href="../../../_classes/itemquery.html" onMouseOver="classPopup(event,'itemquery')">ItemQuery</a>( 'T_items__item', 'post_', 'post_ID' );
<a name="l78"><span class="linenum">  78</span></a>  <span class="comment">        // Blog can be NULL on ?disp=usercomments, in this case ItemQuery blog must be set to 0, which means all blog</span>
<a name="l79"><span class="linenum">  79</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('ItemQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/ItemQuery.html">ItemQuery</a>-&gt;blog = empty( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Blog')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/Blog.html">Blog</a> ) ? 0 : <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Blog')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/Blog.html">Blog</a>-&gt;ID;
<a name="l80"><span class="linenum">  80</span></a>  
<a name="l81"><span class="linenum">  81</span></a>          if( !empty( <a class="var it316" onMouseOver="hilite(316)" onMouseOut="lolite()" onClick="logVariable('filterset_name')" href="../../../_variables/filterset_name.html">$filterset_name</a> ) )
<a name="l82"><span class="linenum">  82</span></a>          {    // Set the filterset_name with the filterset_name param
<a name="l83"><span class="linenum">  83</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filterset_name')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filterset_name.html">filterset_name</a> = 'CommentList_filters_'.<a class="var it316" onMouseOver="hilite(316)" onMouseOut="lolite()" onClick="logVariable('filterset_name')" href="../../../_variables/filterset_name.html">$filterset_name</a>;
<a name="l84"><span class="linenum">  84</span></a>          }
<a name="l85"><span class="linenum">  85</span></a>          else
<a name="l86"><span class="linenum">  86</span></a>          {    // Set a generic filterset_name
<a name="l87"><span class="linenum">  87</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filterset_name')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filterset_name.html">filterset_name</a> = 'CommentList_filters_coll'.( !<a class="phpfunction" onClick="logFunction('is_null')" href="../../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Blog')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/Blog.html">Blog</a> ) ? <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Blog')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/Blog.html">Blog</a>-&gt;ID : '0' );
<a name="l88"><span class="linenum">  88</span></a>          }
<a name="l89"><span class="linenum">  89</span></a>  
<a name="l90"><span class="linenum">  90</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page_param')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/page_param.html">page_param</a> = <a class="var it315" onMouseOver="hilite(315)" onMouseOut="lolite()" onClick="logVariable('param_prefix')" href="../../../_variables/param_prefix.html">$param_prefix</a>.'paged';
<a name="l91"><span class="linenum">  91</span></a>  
<a name="l92"><span class="linenum">  92</span></a>  <span class="comment">        // Initialize the default filter set:</span>
<a name="l93"><span class="linenum">  93</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('set_default_filters')" href="../../../_functions/set_default_filters.html" onMouseOver="funcPopup(event,'set_default_filters')">set_default_filters</a>( array(
<a name="l94"><span class="linenum">  94</span></a>                  'filter_preset' =&gt; NULL,
<a name="l95"><span class="linenum">  95</span></a>                  'author_IDs' =&gt; NULL,
<a name="l96"><span class="linenum">  96</span></a>                  'author' =&gt; NULL,
<a name="l97"><span class="linenum">  97</span></a>                  'author_email' =&gt; NULL,
<a name="l98"><span class="linenum">  98</span></a>                  'author_url' =&gt; NULL,
<a name="l99"><span class="linenum">  99</span></a>                  'url_match' =&gt; '=',
<a name="l100"><span class="linenum"> 100</span></a>                  'include_emptyurl' =&gt; NULL,
<a name="l101"><span class="linenum"> 101</span></a>                  'author_IP' =&gt; NULL,
<a name="l102"><span class="linenum"> 102</span></a>                  'post_ID' =&gt; NULL,
<a name="l103"><span class="linenum"> 103</span></a>                  'comment_ID' =&gt; NULL,
<a name="l104"><span class="linenum"> 104</span></a>                  'comment_ID_list' =&gt; NULL,
<a name="l105"><span class="linenum"> 105</span></a>                  'rating_toshow' =&gt; NULL,
<a name="l106"><span class="linenum"> 106</span></a>                  'rating_turn' =&gt; 'above',
<a name="l107"><span class="linenum"> 107</span></a>                  'rating_limit' =&gt; 1,
<a name="l108"><span class="linenum"> 108</span></a>                  'keywords' =&gt; NULL,
<a name="l109"><span class="linenum"> 109</span></a>                  'phrase' =&gt; 'AND',
<a name="l110"><span class="linenum"> 110</span></a>                  'exact' =&gt; 0,
<a name="l111"><span class="linenum"> 111</span></a>                  'statuses' =&gt; NULL,
<a name="l112"><span class="linenum"> 112</span></a>                  'expiry_statuses' =&gt; array( 'active' ), // Show active/expired comments
<a name="l113"><span class="linenum"> 113</span></a>                  'types' =&gt; array( 'comment','trackback','pingback' ),
<a name="l114"><span class="linenum"> 114</span></a>                  'orderby' =&gt; 'date',
<a name="l115"><span class="linenum"> 115</span></a>                  'order' =&gt; !<a class="phpfunction" onClick="logFunction('is_null')" href="../../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Blog')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/Blog.html">Blog</a> ) ? <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Blog')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/Blog.html">Blog</a>-&gt;<a class="function" onClick="logFunction('get_setting')" href="../../../_functions/get_setting.html" onMouseOver="funcPopup(event,'get_setting')">get_setting</a>('comments_orderdir') : 'DESC',
<a name="l116"><span class="linenum"> 116</span></a>  <span class="comment">                //'order' =&gt; 'DESC',</span>
<a name="l117"><span class="linenum"> 117</span></a>                  'comments' =&gt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('limit')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/limit.html">limit</a>,
<a name="l118"><span class="linenum"> 118</span></a>                  'page' =&gt; 1,
<a name="l119"><span class="linenum"> 119</span></a>                  'featured' =&gt; NULL,
<a name="l120"><span class="linenum"> 120</span></a>                  'timestamp_min' =&gt; NULL, // Do not show comments from posts before this timestamp
<a name="l121"><span class="linenum"> 121</span></a>                  'timestamp_max' =&gt; NULL, // Do not show comments from posts after this timestamp
<a name="l122"><span class="linenum"> 122</span></a>                  'threaded_comments' =&gt; false, // Mode to display the comment replies
<a name="l123"><span class="linenum"> 123</span></a>                  'user_perm' =&gt; NULL,
<a name="l124"><span class="linenum"> 124</span></a>          ) );
<a name="l125"><span class="linenum"> 125</span></a>      }
<a name="l126"><span class="linenum"> 126</span></a>  
<a name="l127"><span class="linenum"> 127</span></a>  
<a name="l128"><span class="linenum"> 128</span></a>      <span class="comment">/**</span>
<a name="l129"><span class="linenum"> 129</span></a>  <span class="comment">     * Reset the query -- EXPERIMENTAL</span>
<a name="l130"><span class="linenum"> 130</span></a>  <span class="comment">     *</span>
<a name="l131"><span class="linenum"> 131</span></a>  <span class="comment">     * Useful to requery with a slighlty moidified filterset</span>
<a name="l132"><span class="linenum"> 132</span></a>  <span class="comment">     */</span>
<a name="l133"><span class="linenum"> 133</span></a>  	function <a class="function" onClick="logFunction('reset')" href="../../../_functions/reset.html" onMouseOver="funcPopup(event,'reset')">reset</a>()
<a name="l134"><span class="linenum"> 134</span></a>      {
<a name="l135"><span class="linenum"> 135</span></a>  <span class="comment">        // The SQL Query object:</span>
<a name="l136"><span class="linenum"> 136</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('CommentQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/CommentQuery.html">CommentQuery</a> = <span class="keyword">new </span><a class="class" onClick="logClass('CommentQuery')" href="../../../_classes/commentquery.html" onMouseOver="classPopup(event,'commentquery')">CommentQuery</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Cache')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/Cache.html">Cache</a>-&gt;dbtablename, <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Cache')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/Cache.html">Cache</a>-&gt;dbprefix, <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Cache')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/Cache.html">Cache</a>-&gt;dbIDname );
<a name="l137"><span class="linenum"> 137</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('CommentQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/CommentQuery.html">CommentQuery</a>-&gt;Blog = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Blog')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/Blog.html">Blog</a>;
<a name="l138"><span class="linenum"> 138</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('ItemQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/ItemQuery.html">ItemQuery</a> = <span class="keyword">new </span><a class="class" onClick="logClass('ItemQuery')" href="../../../_classes/itemquery.html" onMouseOver="classPopup(event,'itemquery')">ItemQuery</a>( 'T_items__item', 'post_', 'post_ID' );
<a name="l139"><span class="linenum"> 139</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('ItemQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/ItemQuery.html">ItemQuery</a>-&gt;blog = empty( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Blog')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/Blog.html">Blog</a> ) ? 0 : <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Blog')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/Blog.html">Blog</a>-&gt;ID;
<a name="l140"><span class="linenum"> 140</span></a>  
<a name="l141"><span class="linenum"> 141</span></a>          parent::<a class="phpfunction" onClick="logFunction('reset')" href="../../../_functions/reset.html" onMouseOver="phpfuncPopup(event,'reset')">reset</a>();
<a name="l142"><span class="linenum"> 142</span></a>      }
<a name="l143"><span class="linenum"> 143</span></a>  
<a name="l144"><span class="linenum"> 144</span></a>  
<a name="l145"><span class="linenum"> 145</span></a>      <span class="comment">/**</span>
<a name="l146"><span class="linenum"> 146</span></a>  <span class="comment">     * Set/Activate filterset</span>
<a name="l147"><span class="linenum"> 147</span></a>  <span class="comment">     *</span>
<a name="l148"><span class="linenum"> 148</span></a>  <span class="comment">     * This will also set back the GLOBALS !!! needed for regenerate_url().</span>
<a name="l149"><span class="linenum"> 149</span></a>  <span class="comment">     *</span>
<a name="l150"><span class="linenum"> 150</span></a>  <span class="comment">     * @param array Filters</span>
<a name="l151"><span class="linenum"> 151</span></a>  <span class="comment">     * @param boolean TRUE to memorize the filter params</span>
<a name="l152"><span class="linenum"> 152</span></a>  <span class="comment">     * @param boolean TRUE to use filters from previous request (from array $this-&gt;filters if it was defined before)</span>
<a name="l153"><span class="linenum"> 153</span></a>  <span class="comment">     */</span>
<a name="l154"><span class="linenum"> 154</span></a>  	function <a class="function" onClick="logFunction('set_filters')" href="../../../_functions/set_filters.html" onMouseOver="funcPopup(event,'set_filters')">set_filters</a>( <a class="var it368" onMouseOver="hilite(368)" onMouseOut="lolite()" onClick="logVariable('filters')" href="../../../_variables/filters.html">$filters</a>, <a class="var it922" onMouseOver="hilite(922)" onMouseOut="lolite()" onClick="logVariable('memorize')" href="../../../_variables/memorize.html">$memorize</a> = true, <a class="var it1369" onMouseOver="hilite(1369)" onMouseOut="lolite()" onClick="logVariable('use_previous_filters')" href="../../../_variables/use_previous_filters.html">$use_previous_filters</a> = false )
<a name="l155"><span class="linenum"> 155</span></a>      {
<a name="l156"><span class="linenum"> 156</span></a>          if( !empty( <a class="var it368" onMouseOver="hilite(368)" onMouseOut="lolite()" onClick="logVariable('filters')" href="../../../_variables/filters.html">$filters</a> ) )
<a name="l157"><span class="linenum"> 157</span></a>          { // Activate the filterset (fallback to default filter when a value is not set):
<a name="l158"><span class="linenum"> 158</span></a>              if( <a class="var it1369" onMouseOver="hilite(1369)" onMouseOut="lolite()" onClick="logVariable('use_previous_filters')" href="../../../_variables/use_previous_filters.html">$use_previous_filters</a> )
<a name="l159"><span class="linenum"> 159</span></a>              { // If <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a> were activated before(e.g. on load from request), they can be saved here
<a name="l160"><span class="linenum"> 160</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>, <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>, <a class="var it368" onMouseOver="hilite(368)" onMouseOut="lolite()" onClick="logVariable('filters')" href="../../../_variables/filters.html">$filters</a> );
<a name="l161"><span class="linenum"> 161</span></a>              }
<a name="l162"><span class="linenum"> 162</span></a>              else
<a name="l163"><span class="linenum"> 163</span></a>              { // Don't use the filters from previous request
<a name="l164"><span class="linenum"> 164</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>, <a class="var it368" onMouseOver="hilite(368)" onMouseOut="lolite()" onClick="logVariable('filters')" href="../../../_variables/filters.html">$filters</a> );
<a name="l165"><span class="linenum"> 165</span></a>              }
<a name="l166"><span class="linenum"> 166</span></a>          }
<a name="l167"><span class="linenum"> 167</span></a>  
<a name="l168"><span class="linenum"> 168</span></a>  <span class="comment">        // Activate preset filters if necessary:</span>
<a name="l169"><span class="linenum"> 169</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('activate_preset_filters')" href="../../../_functions/activate_preset_filters.html" onMouseOver="funcPopup(event,'activate_preset_filters')">activate_preset_filters</a>();
<a name="l170"><span class="linenum"> 170</span></a>  
<a name="l171"><span class="linenum"> 171</span></a>  <span class="comment">        // Funky oldstyle params:</span>
<a name="l172"><span class="linenum"> 172</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('limit')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/limit.html">limit</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['comments']; <span class="comment">// for compatibility with parent class</span>
<a name="l173"><span class="linenum"> 173</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/page.html">page</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['page'];
<a name="l174"><span class="linenum"> 174</span></a>  
<a name="l175"><span class="linenum"> 175</span></a>  <span class="comment">        // asimo&gt; memorize is always false for now, because is not fully implemented</span>
<a name="l176"><span class="linenum"> 176</span></a>          if( <a class="var it922" onMouseOver="hilite(922)" onMouseOut="lolite()" onClick="logVariable('memorize')" href="../../../_variables/memorize.html">$memorize</a> )
<a name="l177"><span class="linenum"> 177</span></a>          {    // set back the GLOBALS !!! needed for <a class="function" onClick="logFunction('regenerate_url')" href="../../../_functions/regenerate_url.html" onMouseOver="funcPopup(event,'regenerate_url')">regenerate_url</a>() :
<a name="l178"><span class="linenum"> 178</span></a>  
<a name="l179"><span class="linenum"> 179</span></a>              <span class="comment">/*</span>
<a name="l180"><span class="linenum"> 180</span></a>  <span class="comment">             * Selected filter preset:</span>
<a name="l181"><span class="linenum"> 181</span></a>  <span class="comment">             */</span>
<a name="l182"><span class="linenum"> 182</span></a>              <a class="function" onClick="logFunction('memorize_param')" href="../../../_functions/memorize_param.html" onMouseOver="funcPopup(event,'memorize_param')">memorize_param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'filter_preset', 'string', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['filter_preset'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['filter_preset'] );  <span class="comment">// List of authors to restrict to</span>
<a name="l183"><span class="linenum"> 183</span></a>  
<a name="l184"><span class="linenum"> 184</span></a>              <span class="comment">/*</span>
<a name="l185"><span class="linenum"> 185</span></a>  <span class="comment">             * Restrict to selected authors attribute:</span>
<a name="l186"><span class="linenum"> 186</span></a>  <span class="comment">             */</span>
<a name="l187"><span class="linenum"> 187</span></a>              <a class="function" onClick="logFunction('memorize_param')" href="../../../_functions/memorize_param.html" onMouseOver="funcPopup(event,'memorize_param')">memorize_param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'author_IDs', 'string', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['author_IDs'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['author_IDs'] );  <span class="comment">// List of authors ID to restrict to</span>
<a name="l188"><span class="linenum"> 188</span></a>              <a class="function" onClick="logFunction('memorize_param')" href="../../../_functions/memorize_param.html" onMouseOver="funcPopup(event,'memorize_param')">memorize_param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'author', 'string', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['author'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['author'] );  <span class="comment">// List of authors ID to restrict to</span>
<a name="l189"><span class="linenum"> 189</span></a>              <a class="function" onClick="logFunction('memorize_param')" href="../../../_functions/memorize_param.html" onMouseOver="funcPopup(event,'memorize_param')">memorize_param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'author_email', 'string', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['author_email'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['author_email'] );  <span class="comment">// List of authors email to restrict to</span>
<a name="l190"><span class="linenum"> 190</span></a>              <a class="function" onClick="logFunction('memorize_param')" href="../../../_functions/memorize_param.html" onMouseOver="funcPopup(event,'memorize_param')">memorize_param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'author_url', 'string', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['author_url'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['author_url'] );  <span class="comment">// List of authors url to restrict to</span>
<a name="l191"><span class="linenum"> 191</span></a>              <a class="function" onClick="logFunction('memorize_param')" href="../../../_functions/memorize_param.html" onMouseOver="funcPopup(event,'memorize_param')">memorize_param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'url_match', 'string', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['url_match'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['url_match'] );  <span class="comment">// List of authors url to restrict to</span>
<a name="l192"><span class="linenum"> 192</span></a>              <a class="function" onClick="logFunction('memorize_param')" href="../../../_functions/memorize_param.html" onMouseOver="funcPopup(event,'memorize_param')">memorize_param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'include_emptyurl', 'string', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['include_emptyurl'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['include_emptyurl'] );  <span class="comment">// List of authors url to restrict to</span>
<a name="l193"><span class="linenum"> 193</span></a>              <a class="function" onClick="logFunction('memorize_param')" href="../../../_functions/memorize_param.html" onMouseOver="funcPopup(event,'memorize_param')">memorize_param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'author_IP', 'string', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['author_IP'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['author_IP'] );  <span class="comment">// List of authors ip to restrict to</span>
<a name="l194"><span class="linenum"> 194</span></a>  
<a name="l195"><span class="linenum"> 195</span></a>              <span class="comment">/*</span>
<a name="l196"><span class="linenum"> 196</span></a>  <span class="comment">             * Restrict to selected rating:</span>
<a name="l197"><span class="linenum"> 197</span></a>  <span class="comment">             */</span>
<a name="l198"><span class="linenum"> 198</span></a>              <a class="function" onClick="logFunction('memorize_param')" href="../../../_functions/memorize_param.html" onMouseOver="funcPopup(event,'memorize_param')">memorize_param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'rating_toshow', 'array', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['rating_toshow'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['rating_toshow'] );  <span class="comment">// Rating to restrict to</span>
<a name="l199"><span class="linenum"> 199</span></a>              <a class="function" onClick="logFunction('memorize_param')" href="../../../_functions/memorize_param.html" onMouseOver="funcPopup(event,'memorize_param')">memorize_param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'rating_turn', 'string', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['rating_turn'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['rating_turn'] );  <span class="comment">// Rating to restrict to</span>
<a name="l200"><span class="linenum"> 200</span></a>              <a class="function" onClick="logFunction('memorize_param')" href="../../../_functions/memorize_param.html" onMouseOver="funcPopup(event,'memorize_param')">memorize_param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'rating_limit', 'integer', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['rating_limit'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['rating_limit'] );  <span class="comment">// Rating to restrict to</span>
<a name="l201"><span class="linenum"> 201</span></a>  
<a name="l202"><span class="linenum"> 202</span></a>              <span class="comment">/*</span>
<a name="l203"><span class="linenum"> 203</span></a>  <span class="comment">             * Restrict by keywords</span>
<a name="l204"><span class="linenum"> 204</span></a>  <span class="comment">             */</span>
<a name="l205"><span class="linenum"> 205</span></a>              <a class="function" onClick="logFunction('memorize_param')" href="../../../_functions/memorize_param.html" onMouseOver="funcPopup(event,'memorize_param')">memorize_param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'s', 'string', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['keywords'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['keywords'] );             <span class="comment">// Search string</span>
<a name="l206"><span class="linenum"> 206</span></a>              <a class="function" onClick="logFunction('memorize_param')" href="../../../_functions/memorize_param.html" onMouseOver="funcPopup(event,'memorize_param')">memorize_param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'sentence', 'string', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['phrase'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['phrase'] ); <span class="comment">// Search for sentence or for words</span>
<a name="l207"><span class="linenum"> 207</span></a>              <a class="function" onClick="logFunction('memorize_param')" href="../../../_functions/memorize_param.html" onMouseOver="funcPopup(event,'memorize_param')">memorize_param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'exact', 'integer', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['exact'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['exact'] );     <span class="comment">// Require exact match of title or contents</span>
<a name="l208"><span class="linenum"> 208</span></a>  
<a name="l209"><span class="linenum"> 209</span></a>              <span class="comment">/*</span>
<a name="l210"><span class="linenum"> 210</span></a>  <span class="comment">             * Restrict to selected statuses:</span>
<a name="l211"><span class="linenum"> 211</span></a>  <span class="comment">             */</span>
<a name="l212"><span class="linenum"> 212</span></a>              <a class="function" onClick="logFunction('memorize_param')" href="../../../_functions/memorize_param.html" onMouseOver="funcPopup(event,'memorize_param')">memorize_param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'show_statuses', 'array', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['statuses'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['statuses'] );  <span class="comment">// List of statuses to restrict to</span>
<a name="l213"><span class="linenum"> 213</span></a>  
<a name="l214"><span class="linenum"> 214</span></a>              <span class="comment">/*</span>
<a name="l215"><span class="linenum"> 215</span></a>  <span class="comment">             * Restrict to not active/expired comments:</span>
<a name="l216"><span class="linenum"> 216</span></a>  <span class="comment">             */</span>
<a name="l217"><span class="linenum"> 217</span></a>              <a class="function" onClick="logFunction('memorize_param')" href="../../../_functions/memorize_param.html" onMouseOver="funcPopup(event,'memorize_param')">memorize_param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'expiry_statuses', 'array', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['expiry_statuses'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['expiry_statuses'] );  <span class="comment">// List of expiry statuses to restrict to</span>
<a name="l218"><span class="linenum"> 218</span></a>  
<a name="l219"><span class="linenum"> 219</span></a>              <span class="comment">/*</span>
<a name="l220"><span class="linenum"> 220</span></a>  <span class="comment">             * Restrict to selected comment type:</span>
<a name="l221"><span class="linenum"> 221</span></a>  <span class="comment">             */</span>
<a name="l222"><span class="linenum"> 222</span></a>              <a class="function" onClick="logFunction('memorize_param')" href="../../../_functions/memorize_param.html" onMouseOver="funcPopup(event,'memorize_param')">memorize_param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'type', 'string', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['types'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['types'] );  <span class="comment">// List of comment types to restrict to</span>
<a name="l223"><span class="linenum"> 223</span></a>  
<a name="l224"><span class="linenum"> 224</span></a>              <span class="comment">/*</span>
<a name="l225"><span class="linenum"> 225</span></a>  <span class="comment">             * Restrict to current User specific permission:</span>
<a name="l226"><span class="linenum"> 226</span></a>  <span class="comment">             */</span>
<a name="l227"><span class="linenum"> 227</span></a>              <a class="function" onClick="logFunction('memorize_param')" href="../../../_functions/memorize_param.html" onMouseOver="funcPopup(event,'memorize_param')">memorize_param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'user_perm', 'string', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['user_perm'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['user_perm'] );  <span class="comment">// Restrict to comments with permitted action for the current User</span>
<a name="l228"><span class="linenum"> 228</span></a>  
<a name="l229"><span class="linenum"> 229</span></a>              <span class="comment">/*</span>
<a name="l230"><span class="linenum"> 230</span></a>  <span class="comment">             * Restrict to the statuses we want to show:</span>
<a name="l231"><span class="linenum"> 231</span></a>  <span class="comment">             */</span>
<a name="l232"><span class="linenum"> 232</span></a>  <span class="comment">            // Note: oftentimes, $show_statuses will have been preset to a more restrictive set of values</span>
<a name="l233"><span class="linenum"> 233</span></a>  <span class="comment">            //memorize_param( $this-&gt;param_prefix.'show_statuses', 'array', $this-&gt;default_filters['visibility_array'], $this-&gt;filters['visibility_array'] );    // Array of sharings to restrict to</span>
<a name="l234"><span class="linenum"> 234</span></a>  
<a name="l235"><span class="linenum"> 235</span></a>              <span class="comment">/*</span>
<a name="l236"><span class="linenum"> 236</span></a>  <span class="comment">             * OLD STYLE orders:</span>
<a name="l237"><span class="linenum"> 237</span></a>  <span class="comment">             */</span>
<a name="l238"><span class="linenum"> 238</span></a>              <a class="function" onClick="logFunction('memorize_param')" href="../../../_functions/memorize_param.html" onMouseOver="funcPopup(event,'memorize_param')">memorize_param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'order', 'string', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['order'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['order'] );           <span class="comment">// ASC or DESC</span>
<a name="l239"><span class="linenum"> 239</span></a>  <span class="comment">            // This order style is OK, because sometimes the commentList is not displayed on a table so we cannot say we want to order by a specific column.</span>
<a name="l240"><span class="linenum"> 240</span></a>              <a class="function" onClick="logFunction('memorize_param')" href="../../../_functions/memorize_param.html" onMouseOver="funcPopup(event,'memorize_param')">memorize_param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'orderby', 'string', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['orderby'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['orderby'] );  <span class="comment">// list of fields to order by (TODO: change that crap)</span>
<a name="l241"><span class="linenum"> 241</span></a>  
<a name="l242"><span class="linenum"> 242</span></a>              <span class="comment">/*</span>
<a name="l243"><span class="linenum"> 243</span></a>  <span class="comment">             * Paging limits:</span>
<a name="l244"><span class="linenum"> 244</span></a>  <span class="comment">             */</span>
<a name="l245"><span class="linenum"> 245</span></a>              <a class="function" onClick="logFunction('memorize_param')" href="../../../_functions/memorize_param.html" onMouseOver="funcPopup(event,'memorize_param')">memorize_param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'comments', 'integer', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['comments'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['comments'] );             <span class="comment">// # of units to display on the page</span>
<a name="l246"><span class="linenum"> 246</span></a>  
<a name="l247"><span class="linenum"> 247</span></a>  <span class="comment">            // 'paged'</span>
<a name="l248"><span class="linenum"> 248</span></a>              <a class="function" onClick="logFunction('memorize_param')" href="../../../_functions/memorize_param.html" onMouseOver="funcPopup(event,'memorize_param')">memorize_param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page_param')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/page_param.html">page_param</a>, 'integer', 1, <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['page'] );      <span class="comment">// List page number in paged display</span>
<a name="l249"><span class="linenum"> 249</span></a>          }
<a name="l250"><span class="linenum"> 250</span></a>      }
<a name="l251"><span class="linenum"> 251</span></a>  
<a name="l252"><span class="linenum"> 252</span></a>  
<a name="l253"><span class="linenum"> 253</span></a>      <span class="comment">/**</span>
<a name="l254"><span class="linenum"> 254</span></a>  <span class="comment">     * Init filter params from request params</span>
<a name="l255"><span class="linenum"> 255</span></a>  <span class="comment">     *</span>
<a name="l256"><span class="linenum"> 256</span></a>  <span class="comment">     * @param boolean do we want to use saved filters ?</span>
<a name="l257"><span class="linenum"> 257</span></a>  <span class="comment">     * @return boolean true if we could apply a filterset based on Request params (either explicit or reloaded)</span>
<a name="l258"><span class="linenum"> 258</span></a>  <span class="comment">     */</span>
<a name="l259"><span class="linenum"> 259</span></a>  	function <a class="function" onClick="logFunction('load_from_Request')" href="../../../_functions/load_from_request.html" onMouseOver="funcPopup(event,'load_from_request')">load_from_Request</a>( <a class="var it1371" onMouseOver="hilite(1371)" onMouseOut="lolite()" onClick="logVariable('use_filters')" href="../../../_variables/use_filters.html">$use_filters</a> = true )
<a name="l260"><span class="linenum"> 260</span></a>      {
<a name="l261"><span class="linenum"> 261</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>;
<a name="l262"><span class="linenum"> 262</span></a>  
<a name="l263"><span class="linenum"> 263</span></a>          if( <a class="var it1371" onMouseOver="hilite(1371)" onMouseOut="lolite()" onClick="logVariable('use_filters')" href="../../../_variables/use_filters.html">$use_filters</a> )
<a name="l264"><span class="linenum"> 264</span></a>          {
<a name="l265"><span class="linenum"> 265</span></a>  <span class="comment">            // Do we want to restore filters or do we want to create a new filterset</span>
<a name="l266"><span class="linenum"> 266</span></a>              <a class="var it1372" onMouseOver="hilite(1372)" onMouseOut="lolite()" onClick="logVariable('filter_action')" href="../../../_variables/filter_action.html">$filter_action</a> = <a class="function" onClick="logFunction('param')" href="../../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>( <span class="comment">/*$this-&gt;param_prefix.*/</span>'filter', 'string', 'save' );
<a name="l267"><span class="linenum"> 267</span></a>              switch( <a class="var it1372" onMouseOver="hilite(1372)" onMouseOut="lolite()" onClick="logVariable('filter_action')" href="../../../_variables/filter_action.html">$filter_action</a> )
<a name="l268"><span class="linenum"> 268</span></a>              {
<a name="l269"><span class="linenum"> 269</span></a>                  case 'restore':
<a name="l270"><span class="linenum"> 270</span></a>                      return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('restore_filterset')" href="../../../_functions/restore_filterset.html" onMouseOver="funcPopup(event,'restore_filterset')">restore_filterset</a>();
<a name="l271"><span class="linenum"> 271</span></a>  <span class="comment">                    /* BREAK */</span>
<a name="l272"><span class="linenum"> 272</span></a>  
<a name="l273"><span class="linenum"> 273</span></a>                  case 'reset':
<a name="l274"><span class="linenum"> 274</span></a>  <span class="comment">                    // We want to reset the memorized filterset:</span>
<a name="l275"><span class="linenum"> 275</span></a>                      global <a class="var it478" onMouseOver="hilite(478)" onMouseOut="lolite()" onClick="logVariable('Session')" href="../../../_variables/Session.html">$Session</a>;
<a name="l276"><span class="linenum"> 276</span></a>                      <a class="var it478" onMouseOver="hilite(478)" onMouseOut="lolite()" onClick="logVariable('Session')" href="../../../_variables/Session.html">$Session</a>-&gt;<a class="function" onClick="logFunction('delete')" href="../../../_functions/delete.html" onMouseOver="funcPopup(event,'delete')">delete</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filterset_name')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filterset_name.html">filterset_name</a> );
<a name="l277"><span class="linenum"> 277</span></a>  
<a name="l278"><span class="linenum"> 278</span></a>  <span class="comment">                    // Memorize global variables:</span>
<a name="l279"><span class="linenum"> 279</span></a>                      <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('set_filters')" href="../../../_functions/set_filters.html" onMouseOver="funcPopup(event,'set_filters')">set_filters</a>( array(), true );
<a name="l280"><span class="linenum"> 280</span></a>  
<a name="l281"><span class="linenum"> 281</span></a>  <span class="comment">                    // We have applied no filterset:</span>
<a name="l282"><span class="linenum"> 282</span></a>                      return false;
<a name="l283"><span class="linenum"> 283</span></a>  <span class="comment">                    /* BREAK */</span>
<a name="l284"><span class="linenum"> 284</span></a>              }
<a name="l285"><span class="linenum"> 285</span></a>  
<a name="l286"><span class="linenum"> 286</span></a>              <span class="comment">/**</span>
<a name="l287"><span class="linenum"> 287</span></a>  <span class="comment">             * Filter preset</span>
<a name="l288"><span class="linenum"> 288</span></a>  <span class="comment">             */</span>
<a name="l289"><span class="linenum"> 289</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['filter_preset'] = <a class="function" onClick="logFunction('param')" href="../../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'filter_preset', 'string', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['filter_preset'], true );
<a name="l290"><span class="linenum"> 290</span></a>  
<a name="l291"><span class="linenum"> 291</span></a>  <span class="comment">            // Activate preset default filters if necessary:</span>
<a name="l292"><span class="linenum"> 292</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('activate_preset_filters')" href="../../../_functions/activate_preset_filters.html" onMouseOver="funcPopup(event,'activate_preset_filters')">activate_preset_filters</a>();
<a name="l293"><span class="linenum"> 293</span></a>          }
<a name="l294"><span class="linenum"> 294</span></a>  
<a name="l295"><span class="linenum"> 295</span></a>          <span class="comment">/*</span>
<a name="l296"><span class="linenum"> 296</span></a>  <span class="comment">         * Restrict to selected author:</span>
<a name="l297"><span class="linenum"> 297</span></a>  <span class="comment">         */</span>
<a name="l298"><span class="linenum"> 298</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['author_IDs'] = <a class="function" onClick="logFunction('param')" href="../../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'author_IDs', '/^-?[0-9]+(,[0-9]+)*$/', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['author_IDs'], true );      <span class="comment">// List of authors ID to restrict to</span>
<a name="l299"><span class="linenum"> 299</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['author'] = <a class="function" onClick="logFunction('param')" href="../../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'author', '/^-?[0-9]+(,[0-9]+)*$/', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['author'], true );      <span class="comment">// List of authors to restrict to</span>
<a name="l300"><span class="linenum"> 300</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['author_email'] = <a class="function" onClick="logFunction('param')" href="../../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'author_email', 'string', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['author_email'], true );
<a name="l301"><span class="linenum"> 301</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['author_url'] = <a class="function" onClick="logFunction('param')" href="../../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'author_url', 'string', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['author_url'], true );
<a name="l302"><span class="linenum"> 302</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['url_match'] = <a class="function" onClick="logFunction('param')" href="../../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'url_match', 'string', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['url_match'], true );
<a name="l303"><span class="linenum"> 303</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['include_emptyurl'] = <a class="function" onClick="logFunction('param')" href="../../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'include_emptyurl', 'string', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['include_emptyurl'], true );
<a name="l304"><span class="linenum"> 304</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['author_IP'] = <a class="function" onClick="logFunction('param')" href="../../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'author_IP', 'string', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['author_IP'], true );
<a name="l305"><span class="linenum"> 305</span></a>  
<a name="l306"><span class="linenum"> 306</span></a>          <span class="comment">/*</span>
<a name="l307"><span class="linenum"> 307</span></a>  <span class="comment">         * Restrict to selected statuses:</span>
<a name="l308"><span class="linenum"> 308</span></a>  <span class="comment">         */</span>
<a name="l309"><span class="linenum"> 309</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['statuses'] = <a class="function" onClick="logFunction('param')" href="../../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'show_statuses', 'array:string', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['statuses'], true );      <span class="comment">// List of statuses to restrict to</span>
<a name="l310"><span class="linenum"> 310</span></a>  
<a name="l311"><span class="linenum"> 311</span></a>          <span class="comment">/*</span>
<a name="l312"><span class="linenum"> 312</span></a>  <span class="comment">         * Restrict to active/expired comments:</span>
<a name="l313"><span class="linenum"> 313</span></a>  <span class="comment">         */</span>
<a name="l314"><span class="linenum"> 314</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['expiry_statuses'] = <a class="function" onClick="logFunction('param')" href="../../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'expiry_statuses', 'array:string', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['expiry_statuses'], true );      <span class="comment">// List of expiry statuses to restrict to</span>
<a name="l315"><span class="linenum"> 315</span></a>  
<a name="l316"><span class="linenum"> 316</span></a>          <span class="comment">/*</span>
<a name="l317"><span class="linenum"> 317</span></a>  <span class="comment">         * Restrict to selected types:</span>
<a name="l318"><span class="linenum"> 318</span></a>  <span class="comment">         */</span>
<a name="l319"><span class="linenum"> 319</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['types'] = <a class="function" onClick="logFunction('param')" href="../../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'types', 'array:string', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['types'], true );      <span class="comment">// List of types to restrict to</span>
<a name="l320"><span class="linenum"> 320</span></a>  
<a name="l321"><span class="linenum"> 321</span></a>          <span class="comment">/*</span>
<a name="l322"><span class="linenum"> 322</span></a>  <span class="comment">         * Restrict to selected user perm:</span>
<a name="l323"><span class="linenum"> 323</span></a>  <span class="comment">         */</span>
<a name="l324"><span class="linenum"> 324</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['user_perm'] = <a class="function" onClick="logFunction('param')" href="../../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'user_perm', 'string', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['user_perm'], true );      <span class="comment">// A specific user perm to restrict to</span>
<a name="l325"><span class="linenum"> 325</span></a>  
<a name="l326"><span class="linenum"> 326</span></a>          <span class="comment">/*</span>
<a name="l327"><span class="linenum"> 327</span></a>  <span class="comment">         * Restrict by keywords</span>
<a name="l328"><span class="linenum"> 328</span></a>  <span class="comment">         */</span>
<a name="l329"><span class="linenum"> 329</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['keywords'] = <a class="function" onClick="logFunction('param')" href="../../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'s', 'string', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['keywords'], true );         <span class="comment">// Search string</span>
<a name="l330"><span class="linenum"> 330</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['phrase'] = <a class="function" onClick="logFunction('param')" href="../../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'sentence', 'string', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['phrase'], true );         <span class="comment">// Search for sentence or for words</span>
<a name="l331"><span class="linenum"> 331</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['exact'] = <a class="function" onClick="logFunction('param')" href="../../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'exact', 'integer', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['exact'], true );        <span class="comment">// Require exact match of title or contents</span>
<a name="l332"><span class="linenum"> 332</span></a>  
<a name="l333"><span class="linenum"> 333</span></a>          <span class="comment">/*</span>
<a name="l334"><span class="linenum"> 334</span></a>  <span class="comment">         * Restrict to selected rating:</span>
<a name="l335"><span class="linenum"> 335</span></a>  <span class="comment">         */</span>
<a name="l336"><span class="linenum"> 336</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['rating_toshow'] = <a class="function" onClick="logFunction('param')" href="../../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'rating_toshow', 'array:string', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['rating_toshow'], true );      <span class="comment">// Rating to restrict to</span>
<a name="l337"><span class="linenum"> 337</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['rating_turn'] = <a class="function" onClick="logFunction('param')" href="../../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'rating_turn', 'string', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['rating_turn'], true );      <span class="comment">// Rating to restrict to</span>
<a name="l338"><span class="linenum"> 338</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['rating_limit'] = <a class="function" onClick="logFunction('param')" href="../../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'rating_limit', 'integer', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['rating_limit'], true );     <span class="comment">// Rating to restrict to</span>
<a name="l339"><span class="linenum"> 339</span></a>  
<a name="l340"><span class="linenum"> 340</span></a>  <span class="comment">        // 'limit'</span>
<a name="l341"><span class="linenum"> 341</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['comments'] = <a class="function" onClick="logFunction('param')" href="../../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'comments', 'integer', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['comments'], true );             <span class="comment">// # of units to display on the page</span>
<a name="l342"><span class="linenum"> 342</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('limit')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/limit.html">limit</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['comments']; <span class="comment">// for compatibility with parent class</span>
<a name="l343"><span class="linenum"> 343</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['limit'] = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('limit')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/limit.html">limit</a>;
<a name="l344"><span class="linenum"> 344</span></a>  
<a name="l345"><span class="linenum"> 345</span></a>  <span class="comment">        // 'paged'</span>
<a name="l346"><span class="linenum"> 346</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['page'] = <a class="function" onClick="logFunction('param')" href="../../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page_param')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/page_param.html">page_param</a>, 'integer', 1, true );      <span class="comment">// List page number in paged display</span>
<a name="l347"><span class="linenum"> 347</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/page.html">page</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['page'];
<a name="l348"><span class="linenum"> 348</span></a>  
<a name="l349"><span class="linenum"> 349</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['order'] = <a class="function" onClick="logFunction('param')" href="../../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'order', '/^(ASC|asc|DESC|desc)$/', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['order'], true );           <span class="comment">// ASC or DESC</span>
<a name="l350"><span class="linenum"> 350</span></a>  <span class="comment">        // This order style is OK, because sometimes the commentList is not displayed on a table so we cannot say we want to order by a specific column. It's not a crap.</span>
<a name="l351"><span class="linenum"> 351</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['orderby'] = <a class="function" onClick="logFunction('param')" href="../../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'orderby', '/^([A-Za-z0-9_]+([ ,][A-Za-z0-9_]+)*)?$/', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['orderby'], true );  <span class="comment">// list of fields to order by (TODO: change that crap)</span>
<a name="l352"><span class="linenum"> 352</span></a>  
<a name="l353"><span class="linenum"> 353</span></a>          if( <a class="var it1371" onMouseOver="hilite(1371)" onMouseOut="lolite()" onClick="logVariable('use_filters')" href="../../../_variables/use_filters.html">$use_filters</a> &amp;&amp; <a class="var it1372" onMouseOver="hilite(1372)" onMouseOut="lolite()" onClick="logVariable('filter_action')" href="../../../_variables/filter_action.html">$filter_action</a> == 'save' )
<a name="l354"><span class="linenum"> 354</span></a>          {
<a name="l355"><span class="linenum"> 355</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('save_filterset')" href="../../../_functions/save_filterset.html" onMouseOver="funcPopup(event,'save_filterset')">save_filterset</a>();
<a name="l356"><span class="linenum"> 356</span></a>          }
<a name="l357"><span class="linenum"> 357</span></a>  
<a name="l358"><span class="linenum"> 358</span></a>          return ! <a class="function" onClick="logFunction('param_errors_detected')" href="../../../_functions/param_errors_detected.html" onMouseOver="funcPopup(event,'param_errors_detected')">param_errors_detected</a>();
<a name="l359"><span class="linenum"> 359</span></a>      }
<a name="l360"><span class="linenum"> 360</span></a>  
<a name="l361"><span class="linenum"> 361</span></a>  
<a name="l362"><span class="linenum"> 362</span></a>      <span class="comment">/**</span>
<a name="l363"><span class="linenum"> 363</span></a>  <span class="comment">     * Initialize sql query</span>
<a name="l364"><span class="linenum"> 364</span></a>  <span class="comment">     *</span>
<a name="l365"><span class="linenum"> 365</span></a>  <span class="comment">     * @todo count?</span>
<a name="l366"><span class="linenum"> 366</span></a>  <span class="comment">     *</span>
<a name="l367"><span class="linenum"> 367</span></a>  <span class="comment">     * @param boolean</span>
<a name="l368"><span class="linenum"> 368</span></a>  <span class="comment">     */</span>
<a name="l369"><span class="linenum"> 369</span></a>  	function <a class="function" onClick="logFunction('query_init')" href="../../../_functions/query_init.html" onMouseOver="funcPopup(event,'query_init')">query_init</a>( <a class="var it4560" onMouseOver="hilite(4560)" onMouseOut="lolite()" onClick="logVariable('force_init')" href="../../../_variables/force_init.html">$force_init</a> = false )
<a name="l370"><span class="linenum"> 370</span></a>      {
<a name="l371"><span class="linenum"> 371</span></a>          global <a class="var it150" onMouseOver="hilite(150)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l372"><span class="linenum"> 372</span></a>  
<a name="l373"><span class="linenum"> 373</span></a>          if( ! <a class="var it4560" onMouseOver="hilite(4560)" onMouseOut="lolite()" onClick="logVariable('force_init')" href="../../../_variables/force_init.html">$force_init</a> &amp;&amp; ! empty( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('query_is_initialized')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/query_is_initialized.html">query_is_initialized</a> ) )
<a name="l374"><span class="linenum"> 374</span></a>          { // Don't initialize query because it was already done
<a name="l375"><span class="linenum"> 375</span></a>              return;
<a name="l376"><span class="linenum"> 376</span></a>          }
<a name="l377"><span class="linenum"> 377</span></a>  
<a name="l378"><span class="linenum"> 378</span></a>  <span class="comment">        // Save to know the query init was done</span>
<a name="l379"><span class="linenum"> 379</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('query_is_initialized')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/query_is_initialized.html">query_is_initialized</a> = true;
<a name="l380"><span class="linenum"> 380</span></a>  
<a name="l381"><span class="linenum"> 381</span></a>          if( empty( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a> ) )
<a name="l382"><span class="linenum"> 382</span></a>          {    // Filters have not been set before, we'll use the default filterset:
<a name="l383"><span class="linenum"> 383</span></a>  <span class="comment">            // If there is a preset filter, we need to activate its specific defaults:</span>
<a name="l384"><span class="linenum"> 384</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['filter_preset'] = <a class="function" onClick="logFunction('param')" href="../../../_functions/param.html" onMouseOver="funcPopup(event,'param')">param</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'filter_preset', 'string', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a>['filter_preset'], true );
<a name="l385"><span class="linenum"> 385</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('activate_preset_filters')" href="../../../_functions/activate_preset_filters.html" onMouseOver="funcPopup(event,'activate_preset_filters')">activate_preset_filters</a>();
<a name="l386"><span class="linenum"> 386</span></a>  
<a name="l387"><span class="linenum"> 387</span></a>  <span class="comment">            // Use the default filters:</span>
<a name="l388"><span class="linenum"> 388</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('set_filters')" href="../../../_functions/set_filters.html" onMouseOver="funcPopup(event,'set_filters')">set_filters</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a> );
<a name="l389"><span class="linenum"> 389</span></a>          }
<a name="l390"><span class="linenum"> 390</span></a>  
<a name="l391"><span class="linenum"> 391</span></a>  <span class="comment">        // GENERATE THE QUERY:</span>
<a name="l392"><span class="linenum"> 392</span></a>  
<a name="l393"><span class="linenum"> 393</span></a>          <span class="comment">/*</span>
<a name="l394"><span class="linenum"> 394</span></a>  <span class="comment">         * Resrict to selected blog</span>
<a name="l395"><span class="linenum"> 395</span></a>  <span class="comment">         */</span>
<a name="l396"><span class="linenum"> 396</span></a>  <span class="comment">        // If we dont have specific comment or post ids, we have to restric to blog</span>
<a name="l397"><span class="linenum"> 397</span></a>          if( !<a class="phpfunction" onClick="logFunction('is_null')" href="../../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Blog')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/Blog.html">Blog</a> ) &amp;&amp;
<a name="l398"><span class="linenum"> 398</span></a>              ( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['post_ID'] == NULL || ( ! empty(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['post_ID']) &amp;&amp; <a class="phpfunction" onClick="logFunction('substr')" href="../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['post_ID'], 0, 1 ) == '-') ) &amp;&amp;
<a name="l399"><span class="linenum"> 399</span></a>              ( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['comment_ID'] == NULL || ( ! empty(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['comment_ID']) &amp;&amp; <a class="phpfunction" onClick="logFunction('substr')" href="../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['comment_ID'], 0, 1 ) == '-') ) &amp;&amp;
<a name="l400"><span class="linenum"> 400</span></a>              ( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['comment_ID_list'] == NULL || ( ! empty(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['comment_ID_list']) &amp;&amp; <a class="phpfunction" onClick="logFunction('substr')" href="../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['comment_ID_list'], 0, 1 ) == '-') ) )
<a name="l401"><span class="linenum"> 401</span></a>          { // restriction for blog
<a name="l402"><span class="linenum"> 402</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('ItemQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/ItemQuery.html">ItemQuery</a>-&gt;<a class="function" onClick="logFunction('where_chapter')" href="../../../_functions/where_chapter.html" onMouseOver="funcPopup(event,'where_chapter')">where_chapter</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Blog')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/Blog.html">Blog</a>-&gt;ID );
<a name="l403"><span class="linenum"> 403</span></a>          }
<a name="l404"><span class="linenum"> 404</span></a>  
<a name="l405"><span class="linenum"> 405</span></a>          <span class="comment">/*</span>
<a name="l406"><span class="linenum"> 406</span></a>  <span class="comment">         * filtering stuff:</span>
<a name="l407"><span class="linenum"> 407</span></a>  <span class="comment">         */</span>
<a name="l408"><span class="linenum"> 408</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('CommentQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/CommentQuery.html">CommentQuery</a>-&gt;<a class="function" onClick="logFunction('where_author')" href="../../../_functions/where_author.html" onMouseOver="funcPopup(event,'where_author')">where_author</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['author_IDs'] );
<a name="l409"><span class="linenum"> 409</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('CommentQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/CommentQuery.html">CommentQuery</a>-&gt;<a class="function" onClick="logFunction('where_author_email')" href="../../../_functions/where_author_email.html" onMouseOver="funcPopup(event,'where_author_email')">where_author_email</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['author_email'] );
<a name="l410"><span class="linenum"> 410</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('CommentQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/CommentQuery.html">CommentQuery</a>-&gt;<a class="function" onClick="logFunction('where_author_url')" href="../../../_functions/where_author_url.html" onMouseOver="funcPopup(event,'where_author_url')">where_author_url</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['author_url'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['url_match'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['include_emptyurl'] );
<a name="l411"><span class="linenum"> 411</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('CommentQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/CommentQuery.html">CommentQuery</a>-&gt;<a class="function" onClick="logFunction('where_author_IP')" href="../../../_functions/where_author_ip.html" onMouseOver="funcPopup(event,'where_author_ip')">where_author_IP</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['author_IP'] );
<a name="l412"><span class="linenum"> 412</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('ItemQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/ItemQuery.html">ItemQuery</a>-&gt;<a class="function" onClick="logFunction('where_ID')" href="../../../_functions/where_id.html" onMouseOver="funcPopup(event,'where_id')">where_ID</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['post_ID'] );
<a name="l413"><span class="linenum"> 413</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('CommentQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/CommentQuery.html">CommentQuery</a>-&gt;<a class="function" onClick="logFunction('where_ID')" href="../../../_functions/where_id.html" onMouseOver="funcPopup(event,'where_id')">where_ID</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['comment_ID'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['author'] );
<a name="l414"><span class="linenum"> 414</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('CommentQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/CommentQuery.html">CommentQuery</a>-&gt;<a class="function" onClick="logFunction('where_ID_list')" href="../../../_functions/where_id_list.html" onMouseOver="funcPopup(event,'where_id_list')">where_ID_list</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['comment_ID_list'] );
<a name="l415"><span class="linenum"> 415</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('CommentQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/CommentQuery.html">CommentQuery</a>-&gt;<a class="function" onClick="logFunction('where_rating')" href="../../../_functions/where_rating.html" onMouseOver="funcPopup(event,'where_rating')">where_rating</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['rating_toshow'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['rating_turn'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['rating_limit'] );
<a name="l416"><span class="linenum"> 416</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('CommentQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/CommentQuery.html">CommentQuery</a>-&gt;<a class="function" onClick="logFunction('where_keywords')" href="../../../_functions/where_keywords.html" onMouseOver="funcPopup(event,'where_keywords')">where_keywords</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['keywords'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['phrase'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['exact'] );
<a name="l417"><span class="linenum"> 417</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('CommentQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/CommentQuery.html">CommentQuery</a>-&gt;<a class="function" onClick="logFunction('where_statuses')" href="../../../_functions/where_statuses.html" onMouseOver="funcPopup(event,'where_statuses')">where_statuses</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['statuses'] );
<a name="l418"><span class="linenum"> 418</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('CommentQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/CommentQuery.html">CommentQuery</a>-&gt;<a class="function" onClick="logFunction('where_types')" href="../../../_functions/where_types.html" onMouseOver="funcPopup(event,'where_types')">where_types</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['types'] );
<a name="l419"><span class="linenum"> 419</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('ItemQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/ItemQuery.html">ItemQuery</a>-&gt;<a class="function" onClick="logFunction('where_datestart')" href="../../../_functions/where_datestart.html" onMouseOver="funcPopup(event,'where_datestart')">where_datestart</a>( '', '', '', '', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['timestamp_min'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['timestamp_max'] );
<a name="l420"><span class="linenum"> 420</span></a>  
<a name="l421"><span class="linenum"> 421</span></a>          if( !<a class="phpfunction" onClick="logFunction('is_null')" href="../../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Blog')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/Blog.html">Blog</a> ) &amp;&amp; isset( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['user_perm'] ) )
<a name="l422"><span class="linenum"> 422</span></a>          { // If Blog and required user permission is set, add the corresponding restriction
<a name="l423"><span class="linenum"> 423</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('CommentQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/CommentQuery.html">CommentQuery</a>-&gt;<a class="function" onClick="logFunction('user_perm_restrict')" href="../../../_functions/user_perm_restrict.html" onMouseOver="funcPopup(event,'user_perm_restrict')">user_perm_restrict</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['user_perm'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Blog')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/Blog.html">Blog</a>-&gt;ID );
<a name="l424"><span class="linenum"> 424</span></a>          }
<a name="l425"><span class="linenum"> 425</span></a>  
<a name="l426"><span class="linenum"> 426</span></a>  
<a name="l427"><span class="linenum"> 427</span></a>          <span class="comment">/*</span>
<a name="l428"><span class="linenum"> 428</span></a>  <span class="comment">         * ORDER BY stuff:</span>
<a name="l429"><span class="linenum"> 429</span></a>  <span class="comment">         */</span>
<a name="l430"><span class="linenum"> 430</span></a>          <a class="var it4562" onMouseOver="hilite(4562)" onMouseOut="lolite()" onClick="logVariable('available_sort_options')" href="../../../_variables/available_sort_options.html">$available_sort_options</a> = array( 'date', 'type', 'author', 'author_url', 'author_email', 'author_IP', 'spam_karma', 'status', 'item_ID' );
<a name="l431"><span class="linenum"> 431</span></a>          <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('order_by')" href="../../../_variables/order_by.html">$order_by</a> = <a class="function" onClick="logFunction('gen_order_clause')" href="../../../_functions/gen_order_clause.html" onMouseOver="funcPopup(event,'gen_order_clause')">gen_order_clause</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['orderby'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['order'], <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Cache')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/Cache.html">Cache</a>-&gt;dbprefix, <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Cache')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/Cache.html">Cache</a>-&gt;dbIDname, <a class="var it4562" onMouseOver="hilite(4562)" onMouseOut="lolite()" onClick="logVariable('available_sort_options')" href="../../../_variables/available_sort_options.html">$available_sort_options</a> );
<a name="l432"><span class="linenum"> 432</span></a>  
<a name="l433"><span class="linenum"> 433</span></a>          if( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['threaded_comments'] )
<a name="l434"><span class="linenum"> 434</span></a>          {    // In mode &quot;Threaded comments&quot; we should get all replies in the begining of the list
<a name="l435"><span class="linenum"> 435</span></a>              <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('order_by')" href="../../../_variables/order_by.html">$order_by</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Cache')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/Cache.html">Cache</a>-&gt;dbprefix.'in_reply_to_cmt_ID DESC, '.<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('order_by')" href="../../../_variables/order_by.html">$order_by</a>;
<a name="l436"><span class="linenum"> 436</span></a>          }
<a name="l437"><span class="linenum"> 437</span></a>  
<a name="l438"><span class="linenum"> 438</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('CommentQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/CommentQuery.html">CommentQuery</a>-&gt;<a class="function" onClick="logFunction('order_by')" href="../../../_functions/order_by.html" onMouseOver="funcPopup(event,'order_by')">order_by</a>( <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('order_by')" href="../../../_variables/order_by.html">$order_by</a> );
<a name="l439"><span class="linenum"> 439</span></a>  
<a name="l440"><span class="linenum"> 440</span></a>  <span class="comment">        // GET Item IDs, this way we don't have to JOIN two times the items and the categories table into the comment query</span>
<a name="l441"><span class="linenum"> 441</span></a>          if( isset( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['post_statuses'] ) )
<a name="l442"><span class="linenum"> 442</span></a>          { // Set post statuses by filters
<a name="l443"><span class="linenum"> 443</span></a>              <a class="var it4563" onMouseOver="hilite(4563)" onMouseOut="lolite()" onClick="logVariable('post_show_statuses')" href="../../../_variables/post_show_statuses.html">$post_show_statuses</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['post_statuses'];
<a name="l444"><span class="linenum"> 444</span></a>          }
<a name="l445"><span class="linenum"> 445</span></a>          elseif( <a class="function" onClick="logFunction('is_admin_page')" href="../../../_functions/is_admin_page.html" onMouseOver="funcPopup(event,'is_admin_page')">is_admin_page</a>() )
<a name="l446"><span class="linenum"> 446</span></a>          { // Allow all kind of post <a class="function" onClick="logFunction('status')" href="../../../_functions/status.html" onMouseOver="funcPopup(event,'status')">status</a> ( This statuses will be filtered later by user perms )
<a name="l447"><span class="linenum"> 447</span></a>              <a class="var it4563" onMouseOver="hilite(4563)" onMouseOut="lolite()" onClick="logVariable('post_show_statuses')" href="../../../_variables/post_show_statuses.html">$post_show_statuses</a> = <a class="function" onClick="logFunction('get_visibility_statuses')" href="../../../_functions/get_visibility_statuses.html" onMouseOver="funcPopup(event,'get_visibility_statuses')">get_visibility_statuses</a>( 'keys' );
<a name="l448"><span class="linenum"> 448</span></a>          }
<a name="l449"><span class="linenum"> 449</span></a>          else
<a name="l450"><span class="linenum"> 450</span></a>          { // Allow only inskin statuses for posts
<a name="l451"><span class="linenum"> 451</span></a>              <a class="var it4563" onMouseOver="hilite(4563)" onMouseOut="lolite()" onClick="logVariable('post_show_statuses')" href="../../../_variables/post_show_statuses.html">$post_show_statuses</a> = <a class="function" onClick="logFunction('get_inskin_statuses')" href="../../../_functions/get_inskin_statuses.html" onMouseOver="funcPopup(event,'get_inskin_statuses')">get_inskin_statuses</a>( isset( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Blog')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/Blog.html">Blog</a> ) ? <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Blog')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/Blog.html">Blog</a>-&gt;ID : NULL, 'post');
<a name="l452"><span class="linenum"> 452</span></a>          }
<a name="l453"><span class="linenum"> 453</span></a>  <span class="comment">        // Restrict post filters to available statuses. When blog = 0 we will check visibility statuses for each blog separately ( on the same query ).</span>
<a name="l454"><span class="linenum"> 454</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('ItemQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/ItemQuery.html">ItemQuery</a>-&gt;<a class="function" onClick="logFunction('where_visibility')" href="../../../_functions/where_visibility.html" onMouseOver="funcPopup(event,'where_visibility')">where_visibility</a>( <a class="var it4563" onMouseOver="hilite(4563)" onMouseOut="lolite()" onClick="logVariable('post_show_statuses')" href="../../../_variables/post_show_statuses.html">$post_show_statuses</a> );
<a name="l455"><span class="linenum"> 455</span></a>          <a class="var it4564" onMouseOver="hilite(4564)" onMouseOut="lolite()" onClick="logVariable('sql_item_IDs')" href="../../../_variables/sql_item_IDs.html">$sql_item_IDs</a> = 'SELECT DISTINCT post_ID'
<a name="l456"><span class="linenum"> 456</span></a>                          .<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('ItemQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/ItemQuery.html">ItemQuery</a>-&gt;<a class="function" onClick="logFunction('get_from')" href="../../../_functions/get_from.html" onMouseOver="funcPopup(event,'get_from')">get_from</a>();
<a name="l457"><span class="linenum"> 457</span></a>          if( <a class="phpfunction" onClick="logFunction('strpos')" href="../../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('ItemQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/ItemQuery.html">ItemQuery</a>-&gt;<a class="function" onClick="logFunction('get_from')" href="../../../_functions/get_from.html" onMouseOver="funcPopup(event,'get_from')">get_from</a>(), 'T_categories' ) === false &amp;&amp;
<a name="l458"><span class="linenum"> 458</span></a>              <a class="phpfunction" onClick="logFunction('strpos')" href="../../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('ItemQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/ItemQuery.html">ItemQuery</a>-&gt;<a class="function" onClick="logFunction('get_where')" href="../../../_functions/get_where.html" onMouseOver="funcPopup(event,'get_where')">get_where</a>(), 'cat_blog_ID' ) !== false )
<a name="l459"><span class="linenum"> 459</span></a>          { // Join categories table because it is required here for the field &quot;cat_blog_ID&quot;
<a name="l460"><span class="linenum"> 460</span></a>              <a class="var it4564" onMouseOver="hilite(4564)" onMouseOut="lolite()" onClick="logVariable('sql_item_IDs')" href="../../../_variables/sql_item_IDs.html">$sql_item_IDs</a> .= ' INNER JOIN T_categories ON post_main_cat_ID = cat_ID ';
<a name="l461"><span class="linenum"> 461</span></a>          }
<a name="l462"><span class="linenum"> 462</span></a>          <a class="var it4564" onMouseOver="hilite(4564)" onMouseOut="lolite()" onClick="logVariable('sql_item_IDs')" href="../../../_variables/sql_item_IDs.html">$sql_item_IDs</a> .= <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('ItemQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/ItemQuery.html">ItemQuery</a>-&gt;<a class="function" onClick="logFunction('get_where')" href="../../../_functions/get_where.html" onMouseOver="funcPopup(event,'get_where')">get_where</a>();
<a name="l463"><span class="linenum"> 463</span></a>          <a class="var it4565" onMouseOver="hilite(4565)" onMouseOut="lolite()" onClick="logVariable('item_IDs')" href="../../../_variables/item_IDs.html">$item_IDs</a> = <a class="var it150" onMouseOver="hilite(150)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_col')" href="../../../_functions/get_col.html" onMouseOver="funcPopup(event,'get_col')">get_col</a>( <a class="var it4564" onMouseOver="hilite(4564)" onMouseOut="lolite()" onClick="logVariable('sql_item_IDs')" href="../../../_variables/sql_item_IDs.html">$sql_item_IDs</a>, 0, 'Get CommentQuery Item IDs' );
<a name="l464"><span class="linenum"> 464</span></a>          if( empty( <a class="var it4565" onMouseOver="hilite(4565)" onMouseOut="lolite()" onClick="logVariable('item_IDs')" href="../../../_variables/item_IDs.html">$item_IDs</a> ) )
<a name="l465"><span class="linenum"> 465</span></a>          { // There is no item which belongs to the given blog and user may view it, so there are no comments either
<a name="l466"><span class="linenum"> 466</span></a>              parent::<a class="function" onClick="logFunction('count_total_rows')" href="../../../_functions/count_total_rows.html" onMouseOver="funcPopup(event,'count_total_rows')">count_total_rows</a>( 0 );
<a name="l467"><span class="linenum"> 467</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('CommentQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/CommentQuery.html">CommentQuery</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( 'FALSE' );
<a name="l468"><span class="linenum"> 468</span></a>              return;
<a name="l469"><span class="linenum"> 469</span></a>          }
<a name="l470"><span class="linenum"> 470</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('CommentQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/CommentQuery.html">CommentQuery</a>-&gt;<a class="function" onClick="logFunction('where_post_ID')" href="../../../_functions/where_post_id.html" onMouseOver="funcPopup(event,'where_post_id')">where_post_ID</a>( <a class="phpfunction" onClick="logFunction('implode')" href="../../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>( ',', <a class="var it4565" onMouseOver="hilite(4565)" onMouseOut="lolite()" onClick="logVariable('item_IDs')" href="../../../_variables/item_IDs.html">$item_IDs</a> ) );
<a name="l471"><span class="linenum"> 471</span></a>  
<a name="l472"><span class="linenum"> 472</span></a>          <span class="comment">/*</span>
<a name="l473"><span class="linenum"> 473</span></a>  <span class="comment">         * Restrict to active comments by default, show expired comments only if it was requested</span>
<a name="l474"><span class="linenum"> 474</span></a>  <span class="comment">         * Note: This condition makes the CommentQuery a lot slower!</span>
<a name="l475"><span class="linenum"> 475</span></a>  <span class="comment">         */</span>
<a name="l476"><span class="linenum"> 476</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('CommentQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/CommentQuery.html">CommentQuery</a>-&gt;<a class="function" onClick="logFunction('expiry_restrict')" href="../../../_functions/expiry_restrict.html" onMouseOver="funcPopup(event,'expiry_restrict')">expiry_restrict</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['expiry_statuses'] );
<a name="l477"><span class="linenum"> 477</span></a>  
<a name="l478"><span class="linenum"> 478</span></a>          <span class="comment">/*</span>
<a name="l479"><span class="linenum"> 479</span></a>  <span class="comment">         * GET TOTAL ROW COUNT:</span>
<a name="l480"><span class="linenum"> 480</span></a>  <span class="comment">         */</span>
<a name="l481"><span class="linenum"> 481</span></a>          <a class="var it1376" onMouseOver="hilite(1376)" onMouseOut="lolite()" onClick="logVariable('sql_count')" href="../../../_variables/sql_count.html">$sql_count</a> = '
<a name="l482"><span class="linenum"> 482</span></a>                  SELECT <a class="phpfunction" onClick="logFunction('COUNT')" href="../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">COUNT</a>( '.<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Cache')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/Cache.html">Cache</a>-&gt;dbIDname.') '
<a name="l483"><span class="linenum"> 483</span></a>                      .<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('CommentQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/CommentQuery.html">CommentQuery</a>-&gt;<a class="function" onClick="logFunction('get_from')" href="../../../_functions/get_from.html" onMouseOver="funcPopup(event,'get_from')">get_from</a>()
<a name="l484"><span class="linenum"> 484</span></a>                      .<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('CommentQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/CommentQuery.html">CommentQuery</a>-&gt;<a class="function" onClick="logFunction('get_where')" href="../../../_functions/get_where.html" onMouseOver="funcPopup(event,'get_where')">get_where</a>();
<a name="l485"><span class="linenum"> 485</span></a>  
<a name="l486"><span class="linenum"> 486</span></a>          parent::<a class="function" onClick="logFunction('count_total_rows')" href="../../../_functions/count_total_rows.html" onMouseOver="funcPopup(event,'count_total_rows')">count_total_rows</a>( <a class="var it1376" onMouseOver="hilite(1376)" onMouseOut="lolite()" onClick="logVariable('sql_count')" href="../../../_variables/sql_count.html">$sql_count</a> );
<a name="l487"><span class="linenum"> 487</span></a>  
<a name="l488"><span class="linenum"> 488</span></a>          <span class="comment">/*</span>
<a name="l489"><span class="linenum"> 489</span></a>  <span class="comment">         * Page set up:</span>
<a name="l490"><span class="linenum"> 490</span></a>  <span class="comment">         */</span>
<a name="l491"><span class="linenum"> 491</span></a>          if( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/page.html">page</a> &gt; 1 )
<a name="l492"><span class="linenum"> 492</span></a>          { // We have requested a specific page number
<a name="l493"><span class="linenum"> 493</span></a>              if( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('limit')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/limit.html">limit</a> &gt; 0 )
<a name="l494"><span class="linenum"> 494</span></a>              {
<a name="l495"><span class="linenum"> 495</span></a>                  <a class="var it1377" onMouseOver="hilite(1377)" onMouseOut="lolite()" onClick="logVariable('pgstrt')" href="../../../_variables/pgstrt.html">$pgstrt</a> = '';
<a name="l496"><span class="linenum"> 496</span></a>                  <a class="var it1377" onMouseOver="hilite(1377)" onMouseOut="lolite()" onClick="logVariable('pgstrt')" href="../../../_variables/pgstrt.html">$pgstrt</a> = (<a class="phpfunction" onClick="logFunction('intval')" href="../../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/page.html">page</a>) -1) * <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('limit')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/limit.html">limit</a>. ', ';
<a name="l497"><span class="linenum"> 497</span></a>                  <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('CommentQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/CommentQuery.html">CommentQuery</a>-&gt;<a class="function" onClick="logFunction('LIMIT')" href="../../../_functions/limit.html" onMouseOver="funcPopup(event,'limit')">LIMIT</a>( <a class="var it1377" onMouseOver="hilite(1377)" onMouseOut="lolite()" onClick="logVariable('pgstrt')" href="../../../_variables/pgstrt.html">$pgstrt</a>.<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('limit')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/limit.html">limit</a> );
<a name="l498"><span class="linenum"> 498</span></a>              }
<a name="l499"><span class="linenum"> 499</span></a>          }
<a name="l500"><span class="linenum"> 500</span></a>          else
<a name="l501"><span class="linenum"> 501</span></a>          {
<a name="l502"><span class="linenum"> 502</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('CommentQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/CommentQuery.html">CommentQuery</a>-&gt;<a class="function" onClick="logFunction('LIMIT')" href="../../../_functions/limit.html" onMouseOver="funcPopup(event,'limit')">LIMIT</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('limit')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/limit.html">limit</a> );
<a name="l503"><span class="linenum"> 503</span></a>          }
<a name="l504"><span class="linenum"> 504</span></a>      }
<a name="l505"><span class="linenum"> 505</span></a>  
<a name="l506"><span class="linenum"> 506</span></a>  
<a name="l507"><span class="linenum"> 507</span></a>      <span class="comment">/**</span>
<a name="l508"><span class="linenum"> 508</span></a>  <span class="comment">     * Run Query: GET DATA ROWS *** HEAVY ***</span>
<a name="l509"><span class="linenum"> 509</span></a>  <span class="comment">     */</span>
<a name="l510"><span class="linenum"> 510</span></a>  	function <a class="function" onClick="logFunction('query')" href="../../../_functions/query.html" onMouseOver="funcPopup(event,'query')">query</a>()
<a name="l511"><span class="linenum"> 511</span></a>      {
<a name="l512"><span class="linenum"> 512</span></a>          global <a class="var it150" onMouseOver="hilite(150)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l513"><span class="linenum"> 513</span></a>  
<a name="l514"><span class="linenum"> 514</span></a>          if( !<a class="phpfunction" onClick="logFunction('is_null')" href="../../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('rows')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/rows.html">rows</a> ) )
<a name="l515"><span class="linenum"> 515</span></a>          { // Query has already executed:
<a name="l516"><span class="linenum"> 516</span></a>              return;
<a name="l517"><span class="linenum"> 517</span></a>          }
<a name="l518"><span class="linenum"> 518</span></a>  
<a name="l519"><span class="linenum"> 519</span></a>  <span class="comment">        // INIT THE QUERY:</span>
<a name="l520"><span class="linenum"> 520</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('query_init')" href="../../../_functions/query_init.html" onMouseOver="funcPopup(event,'query_init')">query_init</a>();
<a name="l521"><span class="linenum"> 521</span></a>  
<a name="l522"><span class="linenum"> 522</span></a>  <span class="comment">        // Results style orders:</span>
<a name="l523"><span class="linenum"> 523</span></a>  <span class="comment">        // $this-&gt;CommentQuery-&gt;ORDER_BY_prepend( $this-&gt;get_order_field_list() );</span>
<a name="l524"><span class="linenum"> 524</span></a>  
<a name="l525"><span class="linenum"> 525</span></a>  
<a name="l526"><span class="linenum"> 526</span></a>  <span class="comment">        // We are going to proceed in two steps (we simulate a subquery)</span>
<a name="l527"><span class="linenum"> 527</span></a>  <span class="comment">        // 1) we get the IDs we need</span>
<a name="l528"><span class="linenum"> 528</span></a>  <span class="comment">        // 2) we get all the other fields matching these IDs</span>
<a name="l529"><span class="linenum"> 529</span></a>  <span class="comment">        // This is more efficient than manipulating all fields at once.</span>
<a name="l530"><span class="linenum"> 530</span></a>  
<a name="l531"><span class="linenum"> 531</span></a>  <span class="comment">        // *** STEP 1 ***</span>
<a name="l532"><span class="linenum"> 532</span></a>  <span class="comment">        // walter&gt; Accordding to the standart, to DISTINCT queries, all columns used</span>
<a name="l533"><span class="linenum"> 533</span></a>  <span class="comment">        // in ORDER BY must appear in the query. This make que query work with PostgreSQL and</span>
<a name="l534"><span class="linenum"> 534</span></a>  <span class="comment">        // other databases.</span>
<a name="l535"><span class="linenum"> 535</span></a>  <span class="comment">        // fp&gt; That can dramatically fatten the returned data. You must handle this in the postgres class (check that order fields are in select)</span>
<a name="l536"><span class="linenum"> 536</span></a>  <span class="comment">        // asimo&gt; Note: DISTINCT was removed from the query because we should use DISTINCT only in those cases when the same field value may occur more then one times ( This is not the case )</span>
<a name="l537"><span class="linenum"> 537</span></a>          <a class="var it356" onMouseOver="hilite(356)" onMouseOut="lolite()" onClick="logVariable('step1_sql')" href="../../../_variables/step1_sql.html">$step1_sql</a> = 'SELECT '.<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Cache')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/Cache.html">Cache</a>-&gt;dbIDname // .', '.<a class="phpfunction" onClick="logFunction('implode')" href="../../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>( ', ', <a class="var it357" onMouseOver="hilite(357)" onMouseOut="lolite()" onClick="logVariable('order_cols_to_select')" href="../../../_variables/order_cols_to_select.html">$order_cols_to_select</a> )
<a name="l538"><span class="linenum"> 538</span></a>                                      .<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('CommentQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/CommentQuery.html">CommentQuery</a>-&gt;<a class="function" onClick="logFunction('get_from')" href="../../../_functions/get_from.html" onMouseOver="funcPopup(event,'get_from')">get_from</a>()
<a name="l539"><span class="linenum"> 539</span></a>                                      .<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('CommentQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/CommentQuery.html">CommentQuery</a>-&gt;<a class="function" onClick="logFunction('get_where')" href="../../../_functions/get_where.html" onMouseOver="funcPopup(event,'get_where')">get_where</a>()
<a name="l540"><span class="linenum"> 540</span></a>                                      .<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('CommentQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/CommentQuery.html">CommentQuery</a>-&gt;<a class="function" onClick="logFunction('get_group_by')" href="../../../_functions/get_group_by.html" onMouseOver="funcPopup(event,'get_group_by')">get_group_by</a>()
<a name="l541"><span class="linenum"> 541</span></a>                                      .<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('CommentQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/CommentQuery.html">CommentQuery</a>-&gt;<a class="function" onClick="logFunction('get_order_by')" href="../../../_functions/get_order_by.html" onMouseOver="funcPopup(event,'get_order_by')">get_order_by</a>()
<a name="l542"><span class="linenum"> 542</span></a>                                      .<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('CommentQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/CommentQuery.html">CommentQuery</a>-&gt;<a class="function" onClick="logFunction('get_limit')" href="../../../_functions/get_limit.html" onMouseOver="funcPopup(event,'get_limit')">get_limit</a>();
<a name="l543"><span class="linenum"> 543</span></a>  
<a name="l544"><span class="linenum"> 544</span></a>  <span class="comment">        // Get list of the IDs we need:</span>
<a name="l545"><span class="linenum"> 545</span></a>          <a class="var it358" onMouseOver="hilite(358)" onMouseOut="lolite()" onClick="logVariable('ID_list')" href="../../../_variables/ID_list.html">$ID_list</a> = <a class="phpfunction" onClick="logFunction('implode')" href="../../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>( ',', <a class="var it150" onMouseOver="hilite(150)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('get_col')" href="../../../_functions/get_col.html" onMouseOver="funcPopup(event,'get_col')">get_col</a>( <a class="var it356" onMouseOver="hilite(356)" onMouseOut="lolite()" onClick="logVariable('step1_sql')" href="../../../_variables/step1_sql.html">$step1_sql</a>, 0, '<a class="class" onClick="logClass('CommentList2')" href="../../../_classes/commentlist2.html" onMouseOver="classPopup(event,'commentlist2')">CommentList2</a>::<a class="function" onClick="logFunction('Query')" href="../../../_functions/query.html" onMouseOver="funcPopup(event,'query')">Query</a>() Step 1: Get ID list' ) );
<a name="l546"><span class="linenum"> 546</span></a>  
<a name="l547"><span class="linenum"> 547</span></a>  <span class="comment">        // *** STEP 2 ***</span>
<a name="l548"><span class="linenum"> 548</span></a>          <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('sql')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/sql.html">sql</a> = 'SELECT *
<a name="l549"><span class="linenum"> 549</span></a>                            FROM '.<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Cache')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/Cache.html">Cache</a>-&gt;dbtablename;
<a name="l550"><span class="linenum"> 550</span></a>          if( !empty(<a class="var it358" onMouseOver="hilite(358)" onMouseOut="lolite()" onClick="logVariable('ID_list')" href="../../../_variables/ID_list.html">$ID_list</a>) )
<a name="l551"><span class="linenum"> 551</span></a>          {
<a name="l552"><span class="linenum"> 552</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('sql')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/sql.html">sql</a> .= ' WHERE '.<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Cache')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/Cache.html">Cache</a>-&gt;dbIDname.' IN ('.<a class="var it358" onMouseOver="hilite(358)" onMouseOut="lolite()" onClick="logVariable('ID_list')" href="../../../_variables/ID_list.html">$ID_list</a>.') '
<a name="l553"><span class="linenum"> 553</span></a>                                          .<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('CommentQuery')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/CommentQuery.html">CommentQuery</a>-&gt;<a class="function" onClick="logFunction('get_order_by')" href="../../../_functions/get_order_by.html" onMouseOver="funcPopup(event,'get_order_by')">get_order_by</a>();
<a name="l554"><span class="linenum"> 554</span></a>          }
<a name="l555"><span class="linenum"> 555</span></a>          else
<a name="l556"><span class="linenum"> 556</span></a>          {
<a name="l557"><span class="linenum"> 557</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('sql')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/sql.html">sql</a> .= ' WHERE 0';
<a name="l558"><span class="linenum"> 558</span></a>          }
<a name="l559"><span class="linenum"> 559</span></a>  
<a name="l560"><span class="linenum"> 560</span></a>  <span class="comment">        // ATTENTION: we skip the parent on purpose here!! fp&gt; refactor</span>
<a name="l561"><span class="linenum"> 561</span></a>          <a class="class" onClick="logClass('DataObjectList2')" href="../../../_classes/dataobjectlist2.html" onMouseOver="classPopup(event,'dataobjectlist2')">DataObjectList2</a>::<a class="function" onClick="logFunction('query')" href="../../../_functions/query.html" onMouseOver="funcPopup(event,'query')">query</a>( false, false, false, '<a class="class" onClick="logClass('CommentList2')" href="../../../_classes/commentlist2.html" onMouseOver="classPopup(event,'commentlist2')">CommentList2</a>::<a class="function" onClick="logFunction('Query')" href="../../../_functions/query.html" onMouseOver="funcPopup(event,'query')">Query</a>() Step 2' );
<a name="l562"><span class="linenum"> 562</span></a>      }
<a name="l563"><span class="linenum"> 563</span></a>  
<a name="l564"><span class="linenum"> 564</span></a>  
<a name="l565"><span class="linenum"> 565</span></a>      <span class="comment">/**</span>
<a name="l566"><span class="linenum"> 566</span></a>  <span class="comment">     * Generate a title for the current list, depending on its filtering params</span>
<a name="l567"><span class="linenum"> 567</span></a>  <span class="comment">     *</span>
<a name="l568"><span class="linenum"> 568</span></a>  <span class="comment">     * @return array List of titles to display, which are escaped for HTML display</span>
<a name="l569"><span class="linenum"> 569</span></a>  <span class="comment">     */</span>
<a name="l570"><span class="linenum"> 570</span></a>  	function <a class="function" onClick="logFunction('get_filter_titles')" href="../../../_functions/get_filter_titles.html" onMouseOver="funcPopup(event,'get_filter_titles')">get_filter_titles</a>( <a class="var it1007" onMouseOver="hilite(1007)" onMouseOut="lolite()" onClick="logVariable('ignore')" href="../../../_variables/ignore.html">$ignore</a> = array(), <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = array() )
<a name="l571"><span class="linenum"> 571</span></a>      {
<a name="l572"><span class="linenum"> 572</span></a>          <a class="var it1391" onMouseOver="hilite(1391)" onMouseOut="lolite()" onClick="logVariable('title_array')" href="../../../_variables/title_array.html">$title_array</a> = array();
<a name="l573"><span class="linenum"> 573</span></a>  
<a name="l574"><span class="linenum"> 574</span></a>          if( empty (<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>) )
<a name="l575"><span class="linenum"> 575</span></a>          { // Filters have no been set before, we'll use the default filterset
<a name="l576"><span class="linenum"> 576</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('set_filters')" href="../../../_functions/set_filters.html" onMouseOver="funcPopup(event,'set_filters')">set_filters</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('default_filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/default_filters.html">default_filters</a> );
<a name="l577"><span class="linenum"> 577</span></a>          }
<a name="l578"><span class="linenum"> 578</span></a>  
<a name="l579"><span class="linenum"> 579</span></a>          if( isset( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['statuses'] ) )
<a name="l580"><span class="linenum"> 580</span></a>          {
<a name="l581"><span class="linenum"> 581</span></a>              <a class="var it1802" onMouseOver="hilite(1802)" onMouseOut="lolite()" onClick="logVariable('visibility_statuses')" href="../../../_variables/visibility_statuses.html">$visibility_statuses</a> = <a class="function" onClick="logFunction('get_visibility_statuses')" href="../../../_functions/get_visibility_statuses.html" onMouseOver="funcPopup(event,'get_visibility_statuses')">get_visibility_statuses</a>( '', array( 'redirected' ) );
<a name="l582"><span class="linenum"> 582</span></a>  
<a name="l583"><span class="linenum"> 583</span></a>              <a class="var it4566" onMouseOver="hilite(4566)" onMouseOut="lolite()" onClick="logVariable('visibility_array')" href="../../../_variables/visibility_array.html">$visibility_array</a> = array();
<a name="l584"><span class="linenum"> 584</span></a>              foreach( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['statuses'] as <a class="var it16" onMouseOver="hilite(16)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../../_variables/status.html">$status</a> )
<a name="l585"><span class="linenum"> 585</span></a>              {
<a name="l586"><span class="linenum"> 586</span></a>                  <a class="var it4566" onMouseOver="hilite(4566)" onMouseOut="lolite()" onClick="logVariable('visibility_array')" href="../../../_variables/visibility_array.html">$visibility_array</a>[] = <a class="var it1802" onMouseOver="hilite(1802)" onMouseOut="lolite()" onClick="logVariable('visibility_statuses')" href="../../../_variables/visibility_statuses.html">$visibility_statuses</a>[ <a class="var it16" onMouseOver="hilite(16)" onMouseOut="lolite()" onClick="logVariable('status')" href="../../../_variables/status.html">$status</a> ];
<a name="l587"><span class="linenum"> 587</span></a>              }
<a name="l588"><span class="linenum"> 588</span></a>              <a class="var it1391" onMouseOver="hilite(1391)" onMouseOut="lolite()" onClick="logVariable('title_array')" href="../../../_variables/title_array.html">$title_array</a>['statuses'] = <a class="function" onClick="logFunction('T_')" href="../../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Visibility').': '.<a class="phpfunction" onClick="logFunction('implode')" href="../../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>( ', ', <a class="var it4566" onMouseOver="hilite(4566)" onMouseOut="lolite()" onClick="logVariable('visibility_array')" href="../../../_variables/visibility_array.html">$visibility_array</a> );
<a name="l589"><span class="linenum"> 589</span></a>          }
<a name="l590"><span class="linenum"> 590</span></a>  
<a name="l591"><span class="linenum"> 591</span></a>          if( !empty(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['keywords']) )
<a name="l592"><span class="linenum"> 592</span></a>          {
<a name="l593"><span class="linenum"> 593</span></a>              <a class="var it1391" onMouseOver="hilite(1391)" onMouseOut="lolite()" onClick="logVariable('title_array')" href="../../../_variables/title_array.html">$title_array</a>['keywords'] = <a class="function" onClick="logFunction('T_')" href="../../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Keywords').': '.<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['keywords'];
<a name="l594"><span class="linenum"> 594</span></a>          }
<a name="l595"><span class="linenum"> 595</span></a>  
<a name="l596"><span class="linenum"> 596</span></a>          return <a class="var it1391" onMouseOver="hilite(1391)" onMouseOut="lolite()" onClick="logVariable('title_array')" href="../../../_variables/title_array.html">$title_array</a>;
<a name="l597"><span class="linenum"> 597</span></a>      }
<a name="l598"><span class="linenum"> 598</span></a>  
<a name="l599"><span class="linenum"> 599</span></a>  
<a name="l600"><span class="linenum"> 600</span></a>      <span class="comment">/**</span>
<a name="l601"><span class="linenum"> 601</span></a>  <span class="comment">     * If the list is sorted by category...</span>
<a name="l602"><span class="linenum"> 602</span></a>  <span class="comment">      *</span>
<a name="l603"><span class="linenum"> 603</span></a>  <span class="comment">      * This is basically just a stub for backward compatibility</span>
<a name="l604"><span class="linenum"> 604</span></a>  <span class="comment">     */</span>
<a name="l605"><span class="linenum"> 605</span></a>      function &amp; get_Comment()
<a name="l606"><span class="linenum"> 606</span></a>      {
<a name="l607"><span class="linenum"> 607</span></a>          <a class="var it521" onMouseOver="hilite(521)" onMouseOut="lolite()" onClick="logVariable('Comment')" href="../../../_variables/Comment.html">$Comment</a> = &amp; parent::get_next();
<a name="l608"><span class="linenum"> 608</span></a>  
<a name="l609"><span class="linenum"> 609</span></a>          if( empty(<a class="var it521" onMouseOver="hilite(521)" onMouseOut="lolite()" onClick="logVariable('Comment')" href="../../../_variables/Comment.html">$Comment</a>) )
<a name="l610"><span class="linenum"> 610</span></a>          {
<a name="l611"><span class="linenum"> 611</span></a>              <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> = false;
<a name="l612"><span class="linenum"> 612</span></a>              return <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a>;
<a name="l613"><span class="linenum"> 613</span></a>          }
<a name="l614"><span class="linenum"> 614</span></a>  
<a name="l615"><span class="linenum"> 615</span></a>  <span class="comment">        //pre_dump( $Comment );</span>
<a name="l616"><span class="linenum"> 616</span></a>  
<a name="l617"><span class="linenum"> 617</span></a>          return <a class="var it521" onMouseOver="hilite(521)" onMouseOut="lolite()" onClick="logVariable('Comment')" href="../../../_variables/Comment.html">$Comment</a>;
<a name="l618"><span class="linenum"> 618</span></a>      }
<a name="l619"><span class="linenum"> 619</span></a>  
<a name="l620"><span class="linenum"> 620</span></a>  
<a name="l621"><span class="linenum"> 621</span></a>      <span class="comment">/**</span>
<a name="l622"><span class="linenum"> 622</span></a>  <span class="comment">     * Template function: display message if list is empty</span>
<a name="l623"><span class="linenum"> 623</span></a>  <span class="comment">     *</span>
<a name="l624"><span class="linenum"> 624</span></a>  <span class="comment">     * @return boolean true if empty</span>
<a name="l625"><span class="linenum"> 625</span></a>  <span class="comment">     */</span>
<a name="l626"><span class="linenum"> 626</span></a>  	function <a class="function" onClick="logFunction('display_if_empty')" href="../../../_functions/display_if_empty.html" onMouseOver="funcPopup(event,'display_if_empty')">display_if_empty</a>( <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = array() )
<a name="l627"><span class="linenum"> 627</span></a>      {
<a name="l628"><span class="linenum"> 628</span></a>  <span class="comment">        // Make sure we are not missing any param:</span>
<a name="l629"><span class="linenum"> 629</span></a>          <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>( array(
<a name="l630"><span class="linenum"> 630</span></a>                  'msg_empty'   =&gt; <a class="function" onClick="logFunction('T_')" href="../../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('No comment yet...'),
<a name="l631"><span class="linenum"> 631</span></a>              ), <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> );
<a name="l632"><span class="linenum"> 632</span></a>  
<a name="l633"><span class="linenum"> 633</span></a>          return parent::<a class="function" onClick="logFunction('display_if_empty')" href="../../../_functions/display_if_empty.html" onMouseOver="funcPopup(event,'display_if_empty')">display_if_empty</a>( <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> );
<a name="l634"><span class="linenum"> 634</span></a>      }
<a name="l635"><span class="linenum"> 635</span></a>  
<a name="l636"><span class="linenum"> 636</span></a>  
<a name="l637"><span class="linenum"> 637</span></a>      <span class="comment">/**</span>
<a name="l638"><span class="linenum"> 638</span></a>  <span class="comment">     * Template tag</span>
<a name="l639"><span class="linenum"> 639</span></a>  <span class="comment">     *</span>
<a name="l640"><span class="linenum"> 640</span></a>  <span class="comment">     * Display page links (when paginated comments are enabled)</span>
<a name="l641"><span class="linenum"> 641</span></a>  <span class="comment">     */</span>
<a name="l642"><span class="linenum"> 642</span></a>  	function <a class="function" onClick="logFunction('page_links')" href="../../../_functions/page_links.html" onMouseOver="funcPopup(event,'page_links')">page_links</a>( <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = array() )
<a name="l643"><span class="linenum"> 643</span></a>      {
<a name="l644"><span class="linenum"> 644</span></a>          <a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('default_params')" href="../../../_variables/default_params.html">$default_params</a> = array(
<a name="l645"><span class="linenum"> 645</span></a>                  'block_start' =&gt; '&lt;p class=&quot;center&quot;&gt;',
<a name="l646"><span class="linenum"> 646</span></a>                  'block_end' =&gt; '&lt;/p&gt;',
<a name="l647"><span class="linenum"> 647</span></a>                  'block_single' =&gt; '',
<a name="l648"><span class="linenum"> 648</span></a>                  'links_format' =&gt; '#',
<a name="l649"><span class="linenum"> 649</span></a>                  'page_url' =&gt; '', // All generated links will refer to the current page
<a name="l650"><span class="linenum"> 650</span></a>                  'prev_text' =&gt; '&amp;lt;&amp;lt;',
<a name="l651"><span class="linenum"> 651</span></a>                  'next_text' =&gt; '&amp;gt;&amp;gt;',
<a name="l652"><span class="linenum"> 652</span></a>                  'no_prev_text' =&gt; '',
<a name="l653"><span class="linenum"> 653</span></a>                  'no_next_text' =&gt; '',
<a name="l654"><span class="linenum"> 654</span></a>                  'list_prev_text' =&gt; '...',
<a name="l655"><span class="linenum"> 655</span></a>                  'list_next_text' =&gt; '...',
<a name="l656"><span class="linenum"> 656</span></a>                  'list_span' =&gt; 11,
<a name="l657"><span class="linenum"> 657</span></a>                  'scroll_list_range' =&gt; 5,
<a name="l658"><span class="linenum"> 658</span></a>              );
<a name="l659"><span class="linenum"> 659</span></a>  
<a name="l660"><span class="linenum"> 660</span></a>  <span class="comment">        // Use defaults + overrides:</span>
<a name="l661"><span class="linenum"> 661</span></a>          <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> = <a class="phpfunction" onClick="logFunction('array_merge')" href="../../../_functions/array_merge.html" onMouseOver="phpfuncPopup(event,'array_merge')">array_merge</a>( <a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('default_params')" href="../../../_variables/default_params.html">$default_params</a>, <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> );
<a name="l662"><span class="linenum"> 662</span></a>  
<a name="l663"><span class="linenum"> 663</span></a>          if( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('total_pages')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/total_pages.html">total_pages</a> &lt;= 1 || <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('page')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/page.html">page</a> &gt; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('total_pages')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/total_pages.html">total_pages</a> )
<a name="l664"><span class="linenum"> 664</span></a>          {    // Single page:
<a name="l665"><span class="linenum"> 665</span></a>              echo <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['block_single'];
<a name="l666"><span class="linenum"> 666</span></a>              return;
<a name="l667"><span class="linenum"> 667</span></a>          }
<a name="l668"><span class="linenum"> 668</span></a>  
<a name="l669"><span class="linenum"> 669</span></a>          if( <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['links_format'] == '#' )
<a name="l670"><span class="linenum"> 670</span></a>          {
<a name="l671"><span class="linenum"> 671</span></a>              <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['links_format'] = '<a class="var it371" onMouseOver="hilite(371)" onMouseOut="lolite()" onClick="logVariable('prev')" href="../../../_variables/prev.html">$prev</a>$ <a class="var it728" onMouseOver="hilite(728)" onMouseOut="lolite()" onClick="logVariable('first')" href="../../../_variables/first.html">$first</a>$ <a class="var it1310" onMouseOver="hilite(1310)" onMouseOut="lolite()" onClick="logVariable('list_prev')" href="../../../_variables/list_prev.html">$list_prev</a>$ <a class="var it1311" onMouseOver="hilite(1311)" onMouseOut="lolite()" onClick="logVariable('list')" href="../../../_variables/list.html">$list</a>$ <a class="var it1312" onMouseOver="hilite(1312)" onMouseOut="lolite()" onClick="logVariable('list_next')" href="../../../_variables/list_next.html">$list_next</a>$ <a class="var it292" onMouseOver="hilite(292)" onMouseOut="lolite()" onClick="logVariable('last')" href="../../../_variables/last.html">$last</a>$ <a class="var it298" onMouseOver="hilite(298)" onMouseOut="lolite()" onClick="logVariable('next')" href="../../../_variables/next.html">$next</a>$';
<a name="l672"><span class="linenum"> 672</span></a>          }
<a name="l673"><span class="linenum"> 673</span></a>  
<a name="l674"><span class="linenum"> 674</span></a>          if( !<a class="phpfunction" onClick="logFunction('is_null')" href="../../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Blog')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/Blog.html">Blog</a> ) &amp;&amp; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Blog')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/Blog.html">Blog</a>-&gt;<a class="function" onClick="logFunction('get_setting')" href="../../../_functions/get_setting.html" onMouseOver="funcPopup(event,'get_setting')">get_setting</a>( 'paged_nofollowto' ) )
<a name="l675"><span class="linenum"> 675</span></a>          {    // We prefer robots not to follow to pages:
<a name="l676"><span class="linenum"> 676</span></a>              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('nofollow_pagenav')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/nofollow_pagenav.html">nofollow_pagenav</a> = true;
<a name="l677"><span class="linenum"> 677</span></a>          }
<a name="l678"><span class="linenum"> 678</span></a>  
<a name="l679"><span class="linenum"> 679</span></a>          echo <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['block_start'];
<a name="l680"><span class="linenum"> 680</span></a>          echo <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('replace_vars')" href="../../../_functions/replace_vars.html" onMouseOver="funcPopup(event,'replace_vars')">replace_vars</a>( <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['links_format'], <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a> );
<a name="l681"><span class="linenum"> 681</span></a>          echo <a class="var it106" onMouseOver="hilite(106)" onMouseOut="lolite()" onClick="logVariable('params')" href="../../../_variables/params.html">$params</a>['block_end'];
<a name="l682"><span class="linenum"> 682</span></a>      }
<a name="l683"><span class="linenum"> 683</span></a>  
<a name="l684"><span class="linenum"> 684</span></a>  
<a name="l685"><span class="linenum"> 685</span></a>      <span class="comment">/**</span>
<a name="l686"><span class="linenum"> 686</span></a>  <span class="comment">     * Returns values needed to make sort links for a given column</span>
<a name="l687"><span class="linenum"> 687</span></a>  <span class="comment">     * This is needed because the order is not handled by the result class.</span>
<a name="l688"><span class="linenum"> 688</span></a>  <span class="comment">     * Reason: Sometimes the comment list needs to be ordered without having a display table, and columns. The result class order is based on columns.</span>
<a name="l689"><span class="linenum"> 689</span></a>  <span class="comment">     *</span>
<a name="l690"><span class="linenum"> 690</span></a>  <span class="comment">     * Returns an array containing the following values:</span>
<a name="l691"><span class="linenum"> 691</span></a>  <span class="comment">     *  - current_order : 'ASC', 'DESC' or ''</span>
<a name="l692"><span class="linenum"> 692</span></a>  <span class="comment">     *  - order_asc : url needed to order in ascending order</span>
<a name="l693"><span class="linenum"> 693</span></a>  <span class="comment">     *  - order_desc</span>
<a name="l694"><span class="linenum"> 694</span></a>  <span class="comment">     *  - order_toggle : url needed to toggle sort order</span>
<a name="l695"><span class="linenum"> 695</span></a>  <span class="comment">     *</span>
<a name="l696"><span class="linenum"> 696</span></a>  <span class="comment">     * @param integer column to sort</span>
<a name="l697"><span class="linenum"> 697</span></a>  <span class="comment">     * @return array</span>
<a name="l698"><span class="linenum"> 698</span></a>  <span class="comment">     */</span>
<a name="l699"><span class="linenum"> 699</span></a>  	function <a class="function" onClick="logFunction('get_col_sort_values')" href="../../../_functions/get_col_sort_values.html" onMouseOver="funcPopup(event,'get_col_sort_values')">get_col_sort_values</a>( <a class="var it366" onMouseOver="hilite(366)" onMouseOut="lolite()" onClick="logVariable('col_idx')" href="../../../_variables/col_idx.html">$col_idx</a> )
<a name="l700"><span class="linenum"> 700</span></a>      {
<a name="l701"><span class="linenum"> 701</span></a>          <a class="var it367" onMouseOver="hilite(367)" onMouseOut="lolite()" onClick="logVariable('col_order_fields')" href="../../../_variables/col_order_fields.html">$col_order_fields</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('cols')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/cols.html">cols</a>[<a class="var it366" onMouseOver="hilite(366)" onMouseOut="lolite()" onClick="logVariable('col_idx')" href="../../../_variables/col_idx.html">$col_idx</a>]['order'];
<a name="l702"><span class="linenum"> 702</span></a>  
<a name="l703"><span class="linenum"> 703</span></a>  <span class="comment">        // Current order:</span>
<a name="l704"><span class="linenum"> 704</span></a>          if( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['orderby'] == <a class="var it367" onMouseOver="hilite(367)" onMouseOut="lolite()" onClick="logVariable('col_order_fields')" href="../../../_variables/col_order_fields.html">$col_order_fields</a> || <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['orderby'] == <a class="var it367" onMouseOver="hilite(367)" onMouseOut="lolite()" onClick="logVariable('col_order_fields')" href="../../../_variables/col_order_fields.html">$col_order_fields</a>  )
<a name="l705"><span class="linenum"> 705</span></a>          {
<a name="l706"><span class="linenum"> 706</span></a>              <a class="var it369" onMouseOver="hilite(369)" onMouseOut="lolite()" onClick="logVariable('col_sort_values')" href="../../../_variables/col_sort_values.html">$col_sort_values</a>['current_order'] = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['order'];
<a name="l707"><span class="linenum"> 707</span></a>          }
<a name="l708"><span class="linenum"> 708</span></a>          else
<a name="l709"><span class="linenum"> 709</span></a>          {
<a name="l710"><span class="linenum"> 710</span></a>              <a class="var it369" onMouseOver="hilite(369)" onMouseOut="lolite()" onClick="logVariable('col_sort_values')" href="../../../_variables/col_sort_values.html">$col_sort_values</a>['current_order'] = '';
<a name="l711"><span class="linenum"> 711</span></a>          }
<a name="l712"><span class="linenum"> 712</span></a>  
<a name="l713"><span class="linenum"> 713</span></a>  
<a name="l714"><span class="linenum"> 714</span></a>  <span class="comment">        // Generate sort values to use for sorting on the current column:</span>
<a name="l715"><span class="linenum"> 715</span></a>          <a class="var it369" onMouseOver="hilite(369)" onMouseOut="lolite()" onClick="logVariable('col_sort_values')" href="../../../_variables/col_sort_values.html">$col_sort_values</a>['order_asc'] = <a class="function" onClick="logFunction('regenerate_url')" href="../../../_functions/regenerate_url.html" onMouseOver="funcPopup(event,'regenerate_url')">regenerate_url</a>( array(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'order',<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'orderby'),
<a name="l716"><span class="linenum"> 716</span></a>                                                                              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'order=ASC&amp;amp;'.<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'orderby='.<a class="var it367" onMouseOver="hilite(367)" onMouseOut="lolite()" onClick="logVariable('col_order_fields')" href="../../../_variables/col_order_fields.html">$col_order_fields</a> );
<a name="l717"><span class="linenum"> 717</span></a>          <a class="var it369" onMouseOver="hilite(369)" onMouseOut="lolite()" onClick="logVariable('col_sort_values')" href="../../../_variables/col_sort_values.html">$col_sort_values</a>['order_desc'] = <a class="function" onClick="logFunction('regenerate_url')" href="../../../_functions/regenerate_url.html" onMouseOver="funcPopup(event,'regenerate_url')">regenerate_url</a>(  array(<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'order',<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'orderby'),
<a name="l718"><span class="linenum"> 718</span></a>                                                                              <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'order=DESC&amp;amp;'.<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('param_prefix')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/param_prefix.html">param_prefix</a>.'orderby='.<a class="var it367" onMouseOver="hilite(367)" onMouseOut="lolite()" onClick="logVariable('col_order_fields')" href="../../../_variables/col_order_fields.html">$col_order_fields</a> );
<a name="l719"><span class="linenum"> 719</span></a>  
<a name="l720"><span class="linenum"> 720</span></a>          if( !<a class="var it369" onMouseOver="hilite(369)" onMouseOut="lolite()" onClick="logVariable('col_sort_values')" href="../../../_variables/col_sort_values.html">$col_sort_values</a>['current_order'] &amp;&amp; isset( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('cols')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/cols.html">cols</a>[<a class="var it366" onMouseOver="hilite(366)" onMouseOut="lolite()" onClick="logVariable('col_idx')" href="../../../_variables/col_idx.html">$col_idx</a>]['default_dir'] ) )
<a name="l721"><span class="linenum"> 721</span></a>          {    // There is no current order on this column and a default order direction is set for it
<a name="l722"><span class="linenum"> 722</span></a>  <span class="comment">            // So set a default order direction for it</span>
<a name="l723"><span class="linenum"> 723</span></a>  
<a name="l724"><span class="linenum"> 724</span></a>              if( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('cols')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/cols.html">cols</a>[<a class="var it366" onMouseOver="hilite(366)" onMouseOut="lolite()" onClick="logVariable('col_idx')" href="../../../_variables/col_idx.html">$col_idx</a>]['default_dir'] == 'A' )
<a name="l725"><span class="linenum"> 725</span></a>              {    // The default order direction is A, so set its toogle  order to the order_asc
<a name="l726"><span class="linenum"> 726</span></a>                  <a class="var it369" onMouseOver="hilite(369)" onMouseOut="lolite()" onClick="logVariable('col_sort_values')" href="../../../_variables/col_sort_values.html">$col_sort_values</a>['order_toggle'] = <a class="var it369" onMouseOver="hilite(369)" onMouseOut="lolite()" onClick="logVariable('col_sort_values')" href="../../../_variables/col_sort_values.html">$col_sort_values</a>['order_asc'];
<a name="l727"><span class="linenum"> 727</span></a>              }
<a name="l728"><span class="linenum"> 728</span></a>              else
<a name="l729"><span class="linenum"> 729</span></a>              { // The default order direction is A, so set its toogle order to the order_desc
<a name="l730"><span class="linenum"> 730</span></a>                  <a class="var it369" onMouseOver="hilite(369)" onMouseOut="lolite()" onClick="logVariable('col_sort_values')" href="../../../_variables/col_sort_values.html">$col_sort_values</a>['order_toggle'] = <a class="var it369" onMouseOver="hilite(369)" onMouseOut="lolite()" onClick="logVariable('col_sort_values')" href="../../../_variables/col_sort_values.html">$col_sort_values</a>['order_desc'];
<a name="l731"><span class="linenum"> 731</span></a>              }
<a name="l732"><span class="linenum"> 732</span></a>          }
<a name="l733"><span class="linenum"> 733</span></a>          elseif( <a class="var it369" onMouseOver="hilite(369)" onMouseOut="lolite()" onClick="logVariable('col_sort_values')" href="../../../_variables/col_sort_values.html">$col_sort_values</a>['current_order'] == 'ASC' )
<a name="l734"><span class="linenum"> 734</span></a>          {    // There is an ASC current order on this column, so set its toogle order to the order_desc
<a name="l735"><span class="linenum"> 735</span></a>              <a class="var it369" onMouseOver="hilite(369)" onMouseOut="lolite()" onClick="logVariable('col_sort_values')" href="../../../_variables/col_sort_values.html">$col_sort_values</a>['order_toggle'] = <a class="var it369" onMouseOver="hilite(369)" onMouseOut="lolite()" onClick="logVariable('col_sort_values')" href="../../../_variables/col_sort_values.html">$col_sort_values</a>['order_desc'];
<a name="l736"><span class="linenum"> 736</span></a>          }
<a name="l737"><span class="linenum"> 737</span></a>          else
<a name="l738"><span class="linenum"> 738</span></a>          { // There is a DESC or NO current order on this column,  so set its toogle order to the order_asc
<a name="l739"><span class="linenum"> 739</span></a>              <a class="var it369" onMouseOver="hilite(369)" onMouseOut="lolite()" onClick="logVariable('col_sort_values')" href="../../../_variables/col_sort_values.html">$col_sort_values</a>['order_toggle'] = <a class="var it369" onMouseOver="hilite(369)" onMouseOut="lolite()" onClick="logVariable('col_sort_values')" href="../../../_variables/col_sort_values.html">$col_sort_values</a>['order_asc'];
<a name="l740"><span class="linenum"> 740</span></a>          }
<a name="l741"><span class="linenum"> 741</span></a>  
<a name="l742"><span class="linenum"> 742</span></a>  <span class="comment">        // pre_dump( $col_sort_values );</span>
<a name="l743"><span class="linenum"> 743</span></a>  
<a name="l744"><span class="linenum"> 744</span></a>          return <a class="var it369" onMouseOver="hilite(369)" onMouseOut="lolite()" onClick="logVariable('col_sort_values')" href="../../../_variables/col_sort_values.html">$col_sort_values</a>;
<a name="l745"><span class="linenum"> 745</span></a>      }
<a name="l746"><span class="linenum"> 746</span></a>  
<a name="l747"><span class="linenum"> 747</span></a>  
<a name="l748"><span class="linenum"> 748</span></a>      <span class="comment">/**</span>
<a name="l749"><span class="linenum"> 749</span></a>  <span class="comment">     * Checks if currently selected filter contains comments with trash status</span>
<a name="l750"><span class="linenum"> 750</span></a>  <span class="comment">     *</span>
<a name="l751"><span class="linenum"> 751</span></a>  <span class="comment">     * @param boolean set true to check if the filter contains only recycled comments, set false to check if the filter contains the recycled comments</span>
<a name="l752"><span class="linenum"> 752</span></a>  <span class="comment">     * @return boolean</span>
<a name="l753"><span class="linenum"> 753</span></a>  <span class="comment">     */</span>
<a name="l754"><span class="linenum"> 754</span></a>  	function <a class="function" onClick="logFunction('is_trashfilter')" href="../../../_functions/is_trashfilter.html" onMouseOver="funcPopup(event,'is_trashfilter')">is_trashfilter</a>( <a class="var it4567" onMouseOver="hilite(4567)" onMouseOut="lolite()" onClick="logVariable('only_trash')" href="../../../_variables/only_trash.html">$only_trash</a> = true )
<a name="l755"><span class="linenum"> 755</span></a>      {
<a name="l756"><span class="linenum"> 756</span></a>          if( ! <a class="var it4567" onMouseOver="hilite(4567)" onMouseOut="lolite()" onClick="logVariable('only_trash')" href="../../../_variables/only_trash.html">$only_trash</a> )
<a name="l757"><span class="linenum"> 757</span></a>          { // Check if statuses filter contains the 'trash' value
<a name="l758"><span class="linenum"> 758</span></a>              return <a class="phpfunction" onClick="logFunction('in_array')" href="../../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>( 'trash', <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['statuses'] );
<a name="l759"><span class="linenum"> 759</span></a>          }
<a name="l760"><span class="linenum"> 760</span></a>          if( <a class="phpfunction" onClick="logFunction('count')" href="../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['statuses'] ) == 1 )
<a name="l761"><span class="linenum"> 761</span></a>          { // Check if statuses filter contains only the 'trash' value
<a name="l762"><span class="linenum"> 762</span></a>              return <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('filters')" class="var it10673" onMouseOver="hilite(10673)" onMouseOut="lolite()" href="../../../_variables/filters.html">filters</a>['statuses'][0] == 'trash';
<a name="l763"><span class="linenum"> 763</span></a>          }
<a name="l764"><span class="linenum"> 764</span></a>          return false;
<a name="l765"><span class="linenum"> 765</span></a>      }
<a name="l766"><span class="linenum"> 766</span></a>  
<a name="l767"><span class="linenum"> 767</span></a>  
<a name="l768"><span class="linenum"> 768</span></a>      <span class="comment">/**</span>
<a name="l769"><span class="linenum"> 769</span></a>  <span class="comment">     * Auto pruning of recycled comments.</span>
<a name="l770"><span class="linenum"> 770</span></a>  <span class="comment">     *</span>
<a name="l771"><span class="linenum"> 771</span></a>  <span class="comment">     * It uses a general setting to store the day of the last prune, avoiding multiple prunes per day.</span>
<a name="l772"><span class="linenum"> 772</span></a>  <span class="comment">     * fplanque&gt;&gt; Check: How much faster is this than DELETING right away with an INDEX on the date field?</span>
<a name="l773"><span class="linenum"> 773</span></a>  <span class="comment">     *</span>
<a name="l774"><span class="linenum"> 774</span></a>  <span class="comment">     * NOTE: do not call this directly, but only in conjuction with auto_prune_stats_mode.</span>
<a name="l775"><span class="linenum"> 775</span></a>  <span class="comment">     *</span>
<a name="l776"><span class="linenum"> 776</span></a>  <span class="comment">     * @return string Empty, if ok.</span>
<a name="l777"><span class="linenum"> 777</span></a>  <span class="comment">     */</span>
<a name="l778"><span class="linenum"> 778</span></a>  	static function <a class="function" onClick="logFunction('dbprune')" href="../../../_functions/dbprune.html" onMouseOver="funcPopup(event,'dbprune')">dbprune</a>()
<a name="l779"><span class="linenum"> 779</span></a>      {
<a name="l780"><span class="linenum"> 780</span></a>          <span class="comment">/**</span>
<a name="l781"><span class="linenum"> 781</span></a>  <span class="comment">         * @var DB</span>
<a name="l782"><span class="linenum"> 782</span></a>  <span class="comment">         */</span>
<a name="l783"><span class="linenum"> 783</span></a>          global <a class="var it150" onMouseOver="hilite(150)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>;
<a name="l784"><span class="linenum"> 784</span></a>          global <a class="var it509" onMouseOver="hilite(509)" onMouseOut="lolite()" onClick="logVariable('Debuglog')" href="../../../_variables/Debuglog.html">$Debuglog</a>, <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('Settings')" href="../../../_variables/Settings.html">$Settings</a>, <a class="var it317" onMouseOver="hilite(317)" onMouseOut="lolite()" onClick="logVariable('localtimenow')" href="../../../_variables/localtimenow.html">$localtimenow</a>;
<a name="l785"><span class="linenum"> 785</span></a>  
<a name="l786"><span class="linenum"> 786</span></a>  <span class="comment">        // Prune when $localtime is a NEW day (which will be the 1st request after midnight):</span>
<a name="l787"><span class="linenum"> 787</span></a>          <a class="var it4568" onMouseOver="hilite(4568)" onMouseOut="lolite()" onClick="logVariable('last_prune')" href="../../../_variables/last_prune.html">$last_prune</a> = <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('Settings')" href="../../../_variables/Settings.html">$Settings</a>-&gt;<a class="function" onClick="logFunction('get')" href="../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>( 'auto_empty_trash_done' );
<a name="l788"><span class="linenum"> 788</span></a>          if( <a class="var it4568" onMouseOver="hilite(4568)" onMouseOut="lolite()" onClick="logVariable('last_prune')" href="../../../_variables/last_prune.html">$last_prune</a> &gt;= <a class="phpfunction" onClick="logFunction('date')" href="../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">date</a>('Y-m-d', <a class="var it317" onMouseOver="hilite(317)" onMouseOut="lolite()" onClick="logVariable('localtimenow')" href="../../../_variables/localtimenow.html">$localtimenow</a>) &amp;&amp; <a class="var it4568" onMouseOver="hilite(4568)" onMouseOut="lolite()" onClick="logVariable('last_prune')" href="../../../_variables/last_prune.html">$last_prune</a> &lt;= <a class="phpfunction" onClick="logFunction('date')" href="../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">date</a>('Y-m-d', <a class="var it317" onMouseOver="hilite(317)" onMouseOut="lolite()" onClick="logVariable('localtimenow')" href="../../../_variables/localtimenow.html">$localtimenow</a>+86400) )
<a name="l789"><span class="linenum"> 789</span></a>          { // Already pruned today (and not more than one day in the future -- which typically never happens)
<a name="l790"><span class="linenum"> 790</span></a>              return <a class="function" onClick="logFunction('T_')" href="../../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Pruning of recycled comments has already been done today');
<a name="l791"><span class="linenum"> 791</span></a>          }
<a name="l792"><span class="linenum"> 792</span></a>  
<a name="l793"><span class="linenum"> 793</span></a>          <a class="var it4569" onMouseOver="hilite(4569)" onMouseOut="lolite()" onClick="logVariable('time_prune_before')" href="../../../_variables/time_prune_before.html">$time_prune_before</a> = <a class="var it317" onMouseOver="hilite(317)" onMouseOut="lolite()" onClick="logVariable('localtimenow')" href="../../../_variables/localtimenow.html">$localtimenow</a> - ( <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('Settings')" href="../../../_variables/Settings.html">$Settings</a>-&gt;<a class="function" onClick="logFunction('get')" href="../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>('auto_empty_trash') * 86400 ); <span class="comment">// 1 day = 86400 seconds</span>
<a name="l794"><span class="linenum"> 794</span></a>  
<a name="l795"><span class="linenum"> 795</span></a>          <a class="var it1987" onMouseOver="hilite(1987)" onMouseOut="lolite()" onClick="logVariable('rows_affected')" href="../../../_variables/rows_affected.html">$rows_affected</a> = <a class="class" onClick="logClass('Comment')" href="../../../_classes/comment.html" onMouseOver="classPopup(event,'comment')">Comment</a>::<a class="function" onClick="logFunction('db_delete_where')" href="../../../_functions/db_delete_where.html" onMouseOver="funcPopup(event,'db_delete_where')">db_delete_where</a>( 'Comment', 'comment_status = &quot;trash&quot;
<a name="l796"><span class="linenum"> 796</span></a>              AND comment_last_touched_ts &lt; '.<a class="var it150" onMouseOver="hilite(150)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('quote')" href="../../../_functions/quote.html" onMouseOver="funcPopup(event,'quote')">quote</a>( <a class="function" onClick="logFunction('date2mysql')" href="../../../_functions/date2mysql.html" onMouseOver="funcPopup(event,'date2mysql')">date2mysql</a>( <a class="var it4569" onMouseOver="hilite(4569)" onMouseOut="lolite()" onClick="logVariable('time_prune_before')" href="../../../_variables/time_prune_before.html">$time_prune_before</a> ) ) );
<a name="l797"><span class="linenum"> 797</span></a>          <a class="var it509" onMouseOver="hilite(509)" onMouseOut="lolite()" onClick="logVariable('Debuglog')" href="../../../_variables/Debuglog.html">$Debuglog</a>-&gt;<a class="function" onClick="logFunction('add')" href="../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>( '<a class="class" onClick="logClass('CommentList2')" href="../../../_classes/commentlist2.html" onMouseOver="classPopup(event,'commentlist2')">CommentList2</a>::<a class="function" onClick="logFunction('dbprune')" href="../../../_functions/dbprune.html" onMouseOver="funcPopup(event,'dbprune')">dbprune</a>(): autopruned '.<a class="var it1987" onMouseOver="hilite(1987)" onMouseOut="lolite()" onClick="logVariable('rows_affected')" href="../../../_variables/rows_affected.html">$rows_affected</a>.' rows from T_comments.', 'request' );
<a name="l798"><span class="linenum"> 798</span></a>  
<a name="l799"><span class="linenum"> 799</span></a>  <span class="comment">        // Optimizing tables</span>
<a name="l800"><span class="linenum"> 800</span></a>          <a class="var it150" onMouseOver="hilite(150)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('query')" href="../../../_functions/query.html" onMouseOver="funcPopup(event,'query')">query</a>('OPTIMIZE TABLE T_comments');
<a name="l801"><span class="linenum"> 801</span></a>  
<a name="l802"><span class="linenum"> 802</span></a>          <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('Settings')" href="../../../_variables/Settings.html">$Settings</a>-&gt;<a class="function" onClick="logFunction('set')" href="../../../_functions/set.html" onMouseOver="funcPopup(event,'set')">set</a>( 'auto_empty_trash_done', <a class="phpfunction" onClick="logFunction('date')" href="../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">date</a>('Y-m-d H:i:s', <a class="var it317" onMouseOver="hilite(317)" onMouseOut="lolite()" onClick="logVariable('localtimenow')" href="../../../_variables/localtimenow.html">$localtimenow</a>) ); <span class="comment">// save exact datetime</span>
<a name="l803"><span class="linenum"> 803</span></a>          <a class="var it148" onMouseOver="hilite(148)" onMouseOut="lolite()" onClick="logVariable('Settings')" href="../../../_variables/Settings.html">$Settings</a>-&gt;<a class="function" onClick="logFunction('dbupdate')" href="../../../_functions/dbupdate.html" onMouseOver="funcPopup(event,'dbupdate')">dbupdate</a>();
<a name="l804"><span class="linenum"> 804</span></a>  
<a name="l805"><span class="linenum"> 805</span></a>          return ''; <span class="comment">/* ok */</span>
<a name="l806"><span class="linenum"> 806</span></a>      }
<a name="l807"><span class="linenum"> 807</span></a>  
<a name="l808"><span class="linenum"> 808</span></a>  
<a name="l809"><span class="linenum"> 809</span></a>      <span class="comment">/**</span>
<a name="l810"><span class="linenum"> 810</span></a>  <span class="comment">     * Get next object in list</span>
<a name="l811"><span class="linenum"> 811</span></a>  <span class="comment">     */</span>
<a name="l812"><span class="linenum"> 812</span></a>      function &amp; get_next()
<a name="l813"><span class="linenum"> 813</span></a>      {
<a name="l814"><span class="linenum"> 814</span></a>          <a class="var it521" onMouseOver="hilite(521)" onMouseOut="lolite()" onClick="logVariable('Comment')" href="../../../_variables/Comment.html">$Comment</a> = &amp; parent::get_next();
<a name="l815"><span class="linenum"> 815</span></a>  
<a name="l816"><span class="linenum"> 816</span></a>          if( empty( <a class="var it521" onMouseOver="hilite(521)" onMouseOut="lolite()" onClick="logVariable('Comment')" href="../../../_variables/Comment.html">$Comment</a> ) )
<a name="l817"><span class="linenum"> 817</span></a>          {
<a name="l818"><span class="linenum"> 818</span></a>              <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a> = false;
<a name="l819"><span class="linenum"> 819</span></a>              return <a class="var it86" onMouseOver="hilite(86)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../_variables/r.html">$r</a>;
<a name="l820"><span class="linenum"> 820</span></a>          }
<a name="l821"><span class="linenum"> 821</span></a>  
<a name="l822"><span class="linenum"> 822</span></a>          return <a class="var it521" onMouseOver="hilite(521)" onMouseOut="lolite()" onClick="logVariable('Comment')" href="../../../_variables/Comment.html">$Comment</a>;
<a name="l823"><span class="linenum"> 823</span></a>      }
<a name="l824"><span class="linenum"> 824</span></a>  }
<a name="l825"><span class="linenum"> 825</span></a>  
<a name="l826"><span class="linenum"> 826</span></a>  ?&gt;
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'where_keywords': ['where_keywords', 'Restrict with keywords ', [['inc/comments/model','_commentquery.class.php',438],['inc/_core/model/db','_sql.class.php',369],['inc/items/model','_itemquery.class.php',789],['inc/users/model','_userquery.class.php',157]], 10],
'activate_preset_filters': ['activate_preset_filters', 'Activate preset default filters if necessary ', [['inc/_core/model/dataobjects','_dataobjectlist2.class.php',133]], 10],
'where_author_ip': ['where_author_ip', 'Restrict to specific author IPs ', [['inc/comments/model','_commentquery.class.php',301]], 1],
'where_types': ['where_types', 'Restrict to specific post types ', [['inc/comments/model','_commentquery.class.php',410],['inc/items/model','_itemquery.class.php',572]], 8],
'restore_filterset': ['restore_filterset', 'Load previously saved filterset from session. ', [['inc/_core/model/dataobjects','_dataobjectlist2.class.php',169]], 5],
'delete': ['delete', '', [['inc/_ext/pclzip','pclzip.lib.php',1007],['inc/plugins/model','_pluginusersettings.class.php',89],['inc/settings/model','_abstractsettings.class.php',504],['inc/users/model','_usersettings.class.php',209],['inc/sessions/model','_session.class.php',483],['inc/plugins/model','_pluginsettings.class.php',65],['plugins/twitter_plugin/twitteroauth','twitteroauth.php',168],['inc/users/model','_groupsettings.class.php',181]], 99],
'is_trashfilter': ['is_trashfilter', 'Checks if currently selected filter contains comments with trash status ', [['inc/comments/model','_commentlist.class.php',748]], 2],
'dbprune': ['dbprune', 'Auto pruning of recycled comments. ', [['inc/comments/model','_commentlist.class.php',768],['inc/sessions/model','_hitlist.class.php',63]], 8],
'get': ['get', 'Get a member param by its name ', [['inc/items/model','_item.class.php',6187],['inc/_core/model/db','_sql.class.php',50],['inc/_core/model/dataobjects','_dataobject.class.php',834],['inc/plugins/model','_pluginusersettings.class.php',40],['inc/users/model','_user.class.php',1227],['rsc/js/tiny_mce/plugins/spellchecker/includes','Engine.php',145],['inc/settings/model','_abstractsettings.class.php',252],['inc/settings/model','_generalsettings.class.php',379],['inc/users/model','_usersettings.class.php',148],['inc/_ext/swift/classes/Swift/Mime','HeaderSet.php',95],['inc/links/model','_linkcomment.class.php',150],['inc/links/model','_linkitem.class.php',205],['inc/sessions/model','_session.class.php',428],['inc/collections/model','_blog.class.php',1842],['inc/comments/model','_comment.class.php',386],['inc/cron/model','_cronjob.class.php',89],['inc/plugins/model','_pluginsettings.class.php',40],['inc/links/model','_linkowner.class.php',218],['plugins/twitter_plugin/twitteroauth','twitteroauth.php',146],['inc/slugs/model','_slug.class.php',68],['inc/users/model','_groupsettings.class.php',124],['inc/chapters/model','_chapter.class.php',600],['inc/antispam/model','_iprange.class.php',60],['inc/files/model','_file.class.php',555],['inc/links/model','_linkuser.class.php',154],['inc/_ext/swift/classes/Swift/Mime','SimpleHeaderSet.php',165]], 2630],
'set_default_filters': ['set_default_filters', 'Set default filter values we always want to use if not individually specified otherwise: ', [['inc/_core/model/dataobjects','_dataobjectlist2.class.php',120]], 15],
'replace_vars': ['replace_vars', 'Replaces $vars$ with appropriate values. ', [['inc/_core/ui','_uiwidget.class.php',119]], 23],
'where_id_list': ['where_id_list', 'Restrict to a specific list of comments ', [['inc/comments/model','_commentquery.class.php',96],['inc/items/model','_itemquery.class.php',115]], 2],
'get_inskin_statuses': ['get_inskin_statuses', 'Get a list of those statuses which can be displayed in the front office ', [['inc/collections/model','_blog.funcs.php',904]], 20],
'commentlist2': ['commentlist2', 'Constructor ', [['inc/comments/model','_commentlist.class.php',47]], 19],
'get_limit': ['get_limit', 'Get LIMIT clause if there is something inside ', [['inc/_core/model/db','_sql.class.php',168],['inc/comments/model','_comment_js.funcs.php',533]], 11],
'where_author': ['where_author', 'Restrict to specific authors ', [['inc/comments/model','_commentquery.class.php',193],['inc/items/model','_itemquery.class.php',383]], 6],
'where_chapter': ['where_chapter', 'Restrict to specific collection/chapters (blog/categories) ', [['inc/items/model','_itemquery.class.php',152]], 4],
'expiry_restrict': ['expiry_restrict', 'Restrict to show or hide active/expired comments ( ecpired comments are older then the post expiry delay value ) By default only active comments will be allowed ', [['inc/comments/model','_commentquery.class.php',522]], 1],
'regenerate_url': ['regenerate_url', 'Regenerate current URL from parameters This may clean it up But it is also useful when generating static pages: you cannot rely on $_REQUEST[] ', [['inc/_core','_param.funcs.php',1748]], 503],
'get_col': ['get_col', 'Function to get 1 column from the cached result set based on X index see docs for usage and info ', [['inc/_core/model/db','_db.class.php',1032]], 117],
'set_filters': ['set_filters', 'Set/Activate filterset ', [['inc/items/model','_itemlistlight.class.php',174],['inc/_core/model/dataobjects','_dataobjectlist2.class.php',210],['inc/comments/model','_commentlist.class.php',145],['inc/users/model','_userlist.class.php',129]], 47],
'gen_order_clause': ['gen_order_clause', 'Generate order by clause ', [['inc/_core','_misc.funcs.php',5622]], 7],
'where_statuses': ['where_statuses', 'Restrict to specific statuses ', [['inc/comments/model','_commentquery.class.php',373],['inc/items/model','_itemquery.class.php',542]], 5],
'where_and': ['where_and', 'Extends the WHERE clause with AND ', [['inc/_core/model/db','_sql.class.php',247]], 369],
'db_delete_where': ['db_delete_where', 'Delete the given class objects from the database which corresponds to the given condition or to the given ids array This function must be overriden on those classes where the db delete requires some updates on other table content or some files/folders delete. Note: the delete cascade arrays are handled! Delete cascades are handled recursively only if the cascade arrays from the reffering class contains the class and class_path params ( e.g. see User class )! ', [['inc/_core/model/dataobjects','_dataobject.class.php',175],['inc/users/model','_user.class.php',3308],['inc/messaging/model','_message.class.php',503],['inc/sessions/model','_session.class.php',281],['inc/comments/model','_comment.class.php',290]], 11],
'limit': ['limit', '', [['inc/_core/model/db','_sql.class.php',343]], 30],
'where_author_url': ['where_author_url', 'Restrict to specific author url ', [['inc/comments/model','_commentquery.class.php',258]], 1],
'get_setting': ['get_setting', 'Get a setting. ', [['inc/items/model','_item.class.php',6656],['inc/skins/model','_skin.class.php',661],['inc/collections/model','_blog.class.php',2109]], 728],
'get_filter_titles': ['get_filter_titles', 'Generate a title for the current list, depending on its filtering params ', [['inc/items/model','_itemlistlight.class.php',857],['inc/comments/model','_commentlist.class.php',565]], 5],
'set': ['set', 'Set param value ', [['inc/items/model','_item.class.php',4909],['inc/tools/model','_emailaddress.class.php',76],['inc/_core/model/dataobjects','_dataobject.class.php',874],['inc/plugins/model','_pluginusersettings.class.php',64],['inc/regional/model','_country.class.php',94],['inc/users/model','_user.class.php',2059],['inc/settings/model','_abstractsettings.class.php',427],['inc/messaging/model','_thread.class.php',211],['inc/regional/model','_subregion.class.php',107],['inc/users/model','_usersettings.class.php',184],['plugins','_calendar.plugin.php',613],['inc/_ext/swift/classes/Swift/Mime','HeaderSet.php',81],['inc/files/model','_filetype.class.php',128],['inc/sessions/model','_session.class.php',451],['inc/collections/model','_blog.class.php',1104],['inc/comments/model','_comment.class.php',400],['inc/cron/model','_cronjob.class.php',64],['inc/plugins/model','_pluginsettings.class.php',52],['inc/users/model','_userfield.class.php',257],['inc/regional/model','_city.class.php',98],['inc/slugs/model','_slug.class.php',80],['inc/users/model','_group.class.php',212],['inc/regional/model','_currency.class.php',84],['inc/widgets/model','_widget.class.php',369],['inc/regional/model','_region.class.php',90],['inc/users/model','_groupsettings.class.php',140],['inc/chapters/model','_chapter.class.php',809],['inc/antispam/model','_iprange.class.php',72],['inc/items/model','_itemtag.class.php',61],['inc/sessions/model','_goal.class.php',201],['inc/items/model','_itemlight.class.php',1328],['inc/users/model','_userfieldgroup.class.php',83],['inc/_ext/swift/classes/Swift/Mime','SimpleHeaderSet.php',148]], 1238],
'count_total_rows': ['count_total_rows', 'Count the number of rows of the SQL result ', [['plugins','_archives.plugin.php',530],['inc/_core/ui/results','_results.class.php',774]], 8],
'query_init': ['query_init', 'Generate search query based on set filters and obtain count of results ', [['inc/items/model','_itemlistlight.class.php',535],['inc/comments/model','_commentlist.class.php',362],['inc/users/model','_userlist.class.php',428]], 8],
'where_id': ['where_id', 'Restrict to a specific comment ', [['inc/comments/model','_commentquery.class.php',64],['inc/items/model','_itemquery.class.php',66]], 4],
'is_admin_page': ['is_admin_page', 'Is the current page an admin/backoffice page? ', [['inc/_core','_misc.funcs.php',5028]], 118],
'get_from': ['get_from', 'Get FROM clause if there is something inside ', [['inc/_core/model/db','_sql.class.php',98]], 17],
'param_errors_detected': ['param_errors_detected', 'Check if there have been validation errors ', [['inc/_core','_param.funcs.php',1480]], 61],
'get_group_by': ['get_group_by', 'Get GROUP BY clause if there is something inside ', [['inc/_core/model/db','_sql.class.php',126]], 17],
'save_filterset': ['save_filterset', 'Save current filterset to session. ', [['inc/_core/model/dataobjects','_dataobjectlist2.class.php',152]], 6],
'get_where': ['get_where', 'Get WHERE clause if there is something inside ', [['inc/_core/model/db','_sql.class.php',112]], 27],
't_': ['t_', 'Provide translation in the context of this module: ', [['inc/_core/model','_module.class.php',67],['rsc/js','blog_widgets.js',467],['inc/skins/model','_skin.class.php',1131],['inc/plugins','_plugin.class.php',2799],['inc/locales','_locale.funcs.php',29],['inc/locales','_locale.funcs.php',226]], 12118],
'where_author_email': ['where_author_email', 'Restrict to specific authors email ', [['inc/comments/model','_commentquery.class.php',227]], 1],
'page_links': ['page_links', 'Template tag ', [['inc/items/model','_itemlistlight.class.php',1723],['inc/items/model','_item.class.php',2484],['inc/comments/model','_commentlist.class.php',637]], 10],
'param': ['param', 'Sets a parameter with values from the request or to provided default, except if param is already set! ', [['inc/_core','_param.funcs.php',35]], 2141],
'load_from_request': ['load_from_request', 'Init filter params from Request params ', [['inc/items/model','_itemlistlight.class.php',324],['inc/items/model','_item.class.php',570],['inc/widgets/widgets','_coll_tag_cloud.widget.php',37],['inc/tools/model','_emailaddress.class.php',90],['inc/email_campaigns/model','_emailcampaign.class.php',186],['inc/maintenance/model','_backup.class.php',159],['inc/items/model','_itemstatus.class.php',63],['inc/sessions/model','_domain.class.php',54],['inc/regional/model','_country.class.php',70],['inc/users/model','_user.class.php',341],['inc/skins/model','_skin.class.php',158],['inc/comments/model','_commentlist.class.php',253],['inc/messaging/model','_message.class.php',124],['inc/users/model','_userlist.class.php',260],['inc/messaging/model','_thread.class.php',186],['inc/items/model','_itemtype.class.php',148],['inc/regional/model','_subregion.class.php',78],['inc/files/model','_filetype.class.php',61],['inc/collections/model','_blog.class.php',375],['inc/cron/model','_cronjob.class.php',107],['inc/users/model','_userfield.class.php',172],['inc/regional/model','_city.class.php',68],['inc/slugs/model','_slug.class.php',94],['inc/users/model','_group.class.php',122],['inc/users/model','_invitation.class.php',69],['inc/regional/model','_currency.class.php',62],['inc/widgets/model','_widget.class.php',138],['inc/regional/model','_region.class.php',66],['inc/chapters/model','_chapter.class.php',286],['inc/antispam/model','_iprange.class.php',86],['inc/sessions/model','_goalcat.class.php',59],['inc/items/model','_itemtag.class.php',75],['inc/sessions/model','_goal.class.php',112],['inc/users/model','_userfieldgroup.class.php',64],['inc/users/model','_organization.class.php',67]], 82],
'where_rating': ['where_rating', 'Restrict to specific rating or rating interval ', [['inc/comments/model','_commentquery.class.php',321]], 1],
'memorize_param': ['memorize_param', 'Set a param (global) & Memorize it for automatic future use in regenerate_url() ', [['inc/_core','_param.funcs.php',1623]], 119],
'order_by': ['order_by', '', [['inc/_core/model/db','_sql.class.php',321]], 85],
'where_post_id': ['where_post_id', 'Restrict to a specific post comments ', [['inc/comments/model','_commentquery.class.php',133]], 1],
'get_order_by': ['get_order_by', 'Get ORDER BY clause if there is something inside ', [['inc/_core/model/db','_sql.class.php',154]], 11],
'status': ['status', 'Template function: display status of item ', [['inc/items/model','_item.class.php',4489],['inc/comments/model','_comment.class.php',3180]], 6],
'get_visibility_statuses': ['get_visibility_statuses', 'Get available post statuses ', [['inc/collections/model','_blog.funcs.php',953]], 87],
'add': ['add', '', [['inc/_ext/pclzip','pclzip.lib.php',455],['rsc/js/tiny_mce/plugins/spellchecker/includes','Engine.php',141],['inc/skins/model','_skincache.class.php',50],['inc/_core/model','_messages.class.php',114],['inc/_ext/swift/classes/Swift/Plugins','LoggerPlugin.php',33],['inc/_ext/swift/classes/Swift/Plugins','Logger.php',20],['inc/files/model','_filetypecache.class.php',38],['inc/_core/model/dataobjects','_dataobjectcache.class.php',339],['inc/_ext/swift/classes/Swift/Plugins/Loggers','EchoLogger.php',33],['inc/_core/model','_log.class.php',109],['inc/_core/model','_log.class.php',577],['inc/users/model','_usercache.class.php',239],['inc/_ext/swift/classes/Swift/Plugins/Loggers','ArrayLogger.php',44],['inc/links/model','_linkcache.class.php',86],['inc/users/model','_groupsettings.class.php',103],['inc/chapters/model','_chaptercache.class.php',98],['inc/files/model','_filelist.class.php',373],['inc/collections/model','_blogcache.class.php',50]], 1695],
'query': ['query', 'Run Query: GET DATA ROWS *** HEAVY *** ', [['inc/items/model','_itemlist.class.php',249],['inc/items/model','_itemlistlight.class.php',742],['inc/comments/model','_commentlist.class.php',507],['inc/users/model','_userlist.class.php',511],['inc/_core/ui/results','_results.class.php',468],['inc/_core/model/db','_db.class.php',749]], 1144],
'where_visibility': ['where_visibility', 'Restrict to the visibility/sharing statuses we want to show ', [['inc/items/model','_itemquery.class.php',281]], 10],
'load_class': ['load_class', 'In PHP4, this really loads the class. In PHP5, it\'s smarter than that: It only registers the class & file name so that __autoload() can later load the class IF and ONLY IF the class is actually needed during execution. ', [['inc/_core','_class5.funcs.php',64],['inc/_core','_class4.funcs.php',19]], 435],
'reset': ['reset', 'Reset the query -- EXPERIMENTAL ', [['inc/items/model','_itemlistlight.class.php',160],['inc/comments/model','_commentlist.class.php',128],['inc/users/model','_userlist.class.php',115],['inc/_ext/swift/classes/Swift','Signer.php',21],['inc/settings/model','_abstractsettings.class.php',703],['inc/_core/ui','_iconlegend.class.php',90],['inc/_ext/swift/classes/Swift/Signers','SMimeSigner.php',186],['inc/_ext/swift/classes/Swift/Signers','DKIMSigner.php',188],['inc/_core/model','_timer.class.php',58],['inc/_ext/swift/classes/Swift/Plugins','BandwidthMonitorPlugin.php',158],['inc/_core/ui/results','_results.class.php',414],['inc/_ext/swift/classes/Swift/Transport','AbstractSmtpTransport.php',243],['inc/_ext/swift/classes/Swift/Signers','DomainKeySigner.php',136]], 63],
'date2mysql': ['date2mysql', 'Convert timestamp to MySQL/ISO format. ', [['inc/_core','_misc.funcs.php',1226]], 63],
'display_if_empty': ['display_if_empty', '', [['inc/comments/model','_commentlist.class.php',626],['inc/_core','_template.funcs.php',1881],['inc/_core/ui/results','_results.class.php',2259]], 39],
'where_datestart': ['where_datestart', 'Restricts the datestart param to a specific date range. ', [['inc/items/model','_itemquery.class.php',602]], 10],
'dbupdate': ['dbupdate', 'Update the DB based on previously recorded changes ', [['inc/items/model','_item.class.php',5287],['inc/_core/model/dataobjects','_dataobject.class.php',386],['inc/users/model','_user.class.php',3249],['inc/skins/model','_skin.class.php',416],['inc/settings/model','_abstractsettings.class.php',575],['inc/items/model','_itemtype.class.php',433],['inc/files/model','_filetype.class.php',242],['inc/collections/model','_blog.class.php',2630],['inc/comments/model','_comment.class.php',3747],['inc/cron/model','_cronjob.class.php',188],['inc/slugs/model','_slug.class.php',265],['inc/users/model','_group.class.php',478],['inc/widgets/model','_widget.class.php',861],['inc/users/model','_groupsettings.class.php',159],['inc/chapters/model','_chapter.class.php',564],['inc/files/model','_file.class.php',1825]], 289],
'user_perm_restrict': ['user_perm_restrict', 'Restrict to show only those comments where user has some specific permission ', [['inc/comments/model','_commentquery.class.php',548]], 1],
'get_col_sort_values': ['get_col_sort_values', 'Returns values needed to make sort links for a given column Needed because the order is not handled by the result class. Reason: Sometimes the item list needs to be ordered without having a display table, and columns. The result class order is based on columns. ', [['inc/items/model','_itemlist.class.php',380],['inc/comments/model','_commentlist.class.php',685],['inc/_core/ui/results','_results.class.php',1427]], 1],
'quote': ['quote', 'Quote a msgid/msgstr, preferrable with single quotes. ', [['inc/locales','_pofile.class.php',261],['inc/_core/model/db','_db.class.php',491]], 1085],
'dataobjectlist2': ['dataobjectlist2', 'Constructor ', [['inc/_core/model/dataobjects','_dataobjectlist2.class.php',245]], 7],
'defined': ['defined', '', [], 962],
'is_null': ['is_null', '', [], 299],
'count': ['count', '', [], 928],
'array_merge': ['array_merge', '', [], 702],
'reset': ['reset', '', [], 63],
'in_array': ['in_array', '', [], 417],
'strpos': ['strpos', '', [], 347],
'intval': ['intval', '', [], 221],
'implode': ['implode', '', [], 571],
'date': ['date', '', [], 446],
'substr': ['substr', '', [], 745]};
CLASS_DATA={
'commentlist2': ['commentlist2', '', [['inc/comments/model','_commentlist.class.php',28]], 23],
'comment': ['comment', 'Comment Class ', [['inc/comments/model','_comment.class.php',19]], 122],
'commentquery': ['commentquery', 'CommentQuery: help constructing queries on Comments ', [['inc/comments/model','_commentquery.class.php',20]], 2],
'itemquery': ['itemquery', 'ItemQuery: help constructing queries on Items ', [['inc/items/model','_itemquery.class.php',18]], 10],
'dataobjectlist2': ['dataobjectlist2', 'Data Object List Base Class 2 ', [['inc/_core/model/dataobjects','_dataobjectlist2.class.php',229]], 11]};
CONST_DATA={
'EVO_MAIN_INIT': ['EVO_MAIN_INIT', '', [['install','index.php',26],['inc','_main.inc.php',36],['install','debug.php',22]], 912]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Sat Nov 21 22:13:19 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
