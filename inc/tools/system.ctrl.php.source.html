<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /inc/tools/system.ctrl.php source</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Sat Nov 21 22:13:19 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='inc/tools';
filename='system.ctrl.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/inc/tools/</a> -> <a href="system.ctrl.php.html">system.ctrl.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="system.ctrl.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="system.ctrl.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">/**</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment"> * This file implements the UI controller for System configuration and analysis.</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment"> *</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment"> * This file is part of the evoCore framework - {@link http://evocore.net/}</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment"> * See also {@link https://github.com/b2evolution/b2evolution}.</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment"> *</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment"> * @license GNU GPL v2 - {@link http://b2evolution.net/about/gnu-gpl-license}</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment"> *</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment"> * @copyright (c)2003-2015 by Francois Planque - {@link http://fplanque.com/}</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment"> * Parts of this file are copyright (c)2006 by Daniel HAHLER - {@link http://daniel.hahler.de/}.</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment"> *</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment"> * @package admin</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment"> */</span>
<a name="l15"><span class="linenum">  15</span></a>  if( !<a class="phpfunction" onClick="logFunction('defined')" href="../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('EVO_MAIN_INIT')" href="../../_constants/EVO_MAIN_INIT.html" onMouseOver="constPopup(event,'EVO_MAIN_INIT')">EVO_MAIN_INIT</a>') ) die( 'Please, do not access this page directly.' );
<a name="l16"><span class="linenum">  16</span></a>  
<a name="l17"><span class="linenum">  17</span></a>  <a class="function" onClick="logFunction('load_funcs')" href="../../_functions/load_funcs.html" onMouseOver="funcPopup(event,'load_funcs')">load_funcs</a>( 'tools/model/_system.funcs.php' );
<a name="l18"><span class="linenum">  18</span></a>  
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment">// Check minimum permission:</span>
<a name="l20"><span class="linenum">  20</span></a>  <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('current_User')" href="../../_variables/current_User.html">$current_User</a>-&gt;<a class="function" onClick="logFunction('check_perm')" href="../../_functions/check_perm.html" onMouseOver="funcPopup(event,'check_perm')">check_perm</a>( 'options', 'view', true );
<a name="l21"><span class="linenum">  21</span></a>  
<a name="l22"><span class="linenum">  22</span></a>  if( <a class="var it113" onMouseOver="hilite(113)" onMouseOut="lolite()" onClick="logVariable('current_User')" href="../../_variables/current_User.html">$current_User</a>-&gt;<a class="function" onClick="logFunction('check_perm')" href="../../_functions/check_perm.html" onMouseOver="funcPopup(event,'check_perm')">check_perm</a>( 'options', 'edit' ) &amp;&amp; <a class="function" onClick="logFunction('system_check_charset_update')" href="../../_functions/system_check_charset_update.html" onMouseOver="funcPopup(event,'system_check_charset_update')">system_check_charset_update</a>() )
<a name="l23"><span class="linenum">  23</span></a>  { // DB charset is required to update
<a name="l24"><span class="linenum">  24</span></a>      <a class="var it26" onMouseOver="hilite(26)" onMouseOut="lolite()" onClick="logVariable('Messages')" href="../../_variables/Messages.html">$Messages</a>-&gt;<a class="function" onClick="logFunction('add')" href="../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>( sprintf( <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('WARNING: Some of your tables have different charsets/collations than the expected. It is strongly recommended to upgrade your database charset by running the tool &lt;a %s&gt;Check/Convert/Normalize the charsets/collations used by the DB (UTF-8 / ASCII)&lt;/a&gt;.'), 'href=&quot;'.<a class="var it136" onMouseOver="hilite(136)" onMouseOut="lolite()" onClick="logVariable('admin_url')" href="../../_variables/admin_url.html">$admin_url</a>.'?ctrl=tools&amp;amp;action=utf8check&amp;amp;'.<a class="function" onClick="logFunction('url_crumb')" href="../../_functions/url_crumb.html" onMouseOver="funcPopup(event,'url_crumb')">url_crumb</a>( 'tools' ).'&quot;' ) );
<a name="l25"><span class="linenum">  25</span></a>  }
<a name="l26"><span class="linenum">  26</span></a>  
<a name="l27"><span class="linenum">  27</span></a>  <a class="var it144" onMouseOver="hilite(144)" onMouseOut="lolite()" onClick="logVariable('AdminUI')" href="../../_variables/AdminUI.html">$AdminUI</a>-&gt;<a class="function" onClick="logFunction('set_path')" href="../../_functions/set_path.html" onMouseOver="funcPopup(event,'set_path')">set_path</a>( 'options', 'system' );
<a name="l28"><span class="linenum">  28</span></a>  
<a name="l29"><span class="linenum">  29</span></a>  
<a name="l30"><span class="linenum">  30</span></a>  <a class="var it144" onMouseOver="hilite(144)" onMouseOut="lolite()" onClick="logVariable('AdminUI')" href="../../_variables/AdminUI.html">$AdminUI</a>-&gt;<a class="function" onClick="logFunction('breadcrumbpath_init')" href="../../_functions/breadcrumbpath_init.html" onMouseOver="funcPopup(event,'breadcrumbpath_init')">breadcrumbpath_init</a>( false );  <span class="comment">// fp&gt; I'm playing with the idea of keeping the current blog in the path here...</span>
<a name="l31"><span class="linenum">  31</span></a>  <a class="var it144" onMouseOver="hilite(144)" onMouseOut="lolite()" onClick="logVariable('AdminUI')" href="../../_variables/AdminUI.html">$AdminUI</a>-&gt;<a class="function" onClick="logFunction('breadcrumbpath_add')" href="../../_functions/breadcrumbpath_add.html" onMouseOver="funcPopup(event,'breadcrumbpath_add')">breadcrumbpath_add</a>( <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('System'), <a class="var it136" onMouseOver="hilite(136)" onMouseOut="lolite()" onClick="logVariable('admin_url')" href="../../_variables/admin_url.html">$admin_url</a>.'?ctrl=system' );
<a name="l32"><span class="linenum">  32</span></a>  <a class="var it144" onMouseOver="hilite(144)" onMouseOut="lolite()" onClick="logVariable('AdminUI')" href="../../_variables/AdminUI.html">$AdminUI</a>-&gt;<a class="function" onClick="logFunction('breadcrumbpath_add')" href="../../_functions/breadcrumbpath_add.html" onMouseOver="funcPopup(event,'breadcrumbpath_add')">breadcrumbpath_add</a>( <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Status'), <a class="var it136" onMouseOver="hilite(136)" onMouseOut="lolite()" onClick="logVariable('admin_url')" href="../../_variables/admin_url.html">$admin_url</a>.'?ctrl=system' );
<a name="l33"><span class="linenum">  33</span></a>  
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment">// Set an url for manual page:</span>
<a name="l35"><span class="linenum">  35</span></a>  <a class="var it144" onMouseOver="hilite(144)" onMouseOut="lolite()" onClick="logVariable('AdminUI')" href="../../_variables/AdminUI.html">$AdminUI</a>-&gt;<a class="function" onClick="logFunction('set_page_manual_link')" href="../../_functions/set_page_manual_link.html" onMouseOver="funcPopup(event,'set_page_manual_link')">set_page_manual_link</a>( 'system-status-tab' );
<a name="l36"><span class="linenum">  36</span></a>  
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment">// Display &lt;html&gt;&lt;head&gt;...&lt;/head&gt; section! (Note: should be done early if actions do not redirect)</span>
<a name="l38"><span class="linenum">  38</span></a>  <a class="var it144" onMouseOver="hilite(144)" onMouseOut="lolite()" onClick="logVariable('AdminUI')" href="../../_variables/AdminUI.html">$AdminUI</a>-&gt;<a class="function" onClick="logFunction('disp_html_head')" href="../../_functions/disp_html_head.html" onMouseOver="funcPopup(event,'disp_html_head')">disp_html_head</a>();
<a name="l39"><span class="linenum">  39</span></a>  
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment">// Display title, menu, messages, etc. (Note: messages MUST be displayed AFTER the actions)</span>
<a name="l41"><span class="linenum">  41</span></a>  <a class="var it144" onMouseOver="hilite(144)" onMouseOut="lolite()" onClick="logVariable('AdminUI')" href="../../_variables/AdminUI.html">$AdminUI</a>-&gt;<a class="function" onClick="logFunction('disp_body_top')" href="../../_functions/disp_body_top.html" onMouseOver="funcPopup(event,'disp_body_top')">disp_body_top</a>();
<a name="l42"><span class="linenum">  42</span></a>  
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment">// Begin payload block:</span>
<a name="l44"><span class="linenum">  44</span></a>  <a class="var it144" onMouseOver="hilite(144)" onMouseOut="lolite()" onClick="logVariable('AdminUI')" href="../../_variables/AdminUI.html">$AdminUI</a>-&gt;<a class="function" onClick="logFunction('disp_payload_begin')" href="../../_functions/disp_payload_begin.html" onMouseOver="funcPopup(event,'disp_payload_begin')">disp_payload_begin</a>();
<a name="l45"><span class="linenum">  45</span></a>  
<a name="l46"><span class="linenum">  46</span></a>  function <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>, <a class="var it54" onMouseOver="hilite(54)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a> )
<a name="l47"><span class="linenum">  47</span></a>  {
<a name="l48"><span class="linenum">  48</span></a>      global <a class="var it7757" onMouseOver="hilite(7757)" onMouseOut="lolite()" onClick="logVariable('syscheck_name')" href="../../_variables/syscheck_name.html">$syscheck_name</a>, <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('syscheck_value')" href="../../_variables/syscheck_value.html">$syscheck_value</a>;
<a name="l49"><span class="linenum">  49</span></a>      <a class="var it7757" onMouseOver="hilite(7757)" onMouseOut="lolite()" onClick="logVariable('syscheck_name')" href="../../_variables/syscheck_name.html">$syscheck_name</a> = <a class="var it164" onMouseOver="hilite(164)" onMouseOut="lolite()" onClick="logVariable('name')" href="../../_variables/name.html">$name</a>;
<a name="l50"><span class="linenum">  50</span></a>      <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('syscheck_value')" href="../../_variables/syscheck_value.html">$syscheck_value</a> = <a class="var it54" onMouseOver="hilite(54)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../_variables/value.html">$value</a>;
<a name="l51"><span class="linenum">  51</span></a>  }
<a name="l52"><span class="linenum">  52</span></a>  
<a name="l53"><span class="linenum">  53</span></a>  function <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( <a class="var it2069" onMouseOver="hilite(2069)" onMouseOut="lolite()" onClick="logVariable('condition')" href="../../_variables/condition.html">$condition</a>, <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../_variables/message.html">$message</a> = '' )
<a name="l54"><span class="linenum">  54</span></a>  {
<a name="l55"><span class="linenum">  55</span></a>      global <a class="var it7757" onMouseOver="hilite(7757)" onMouseOut="lolite()" onClick="logVariable('syscheck_name')" href="../../_variables/syscheck_name.html">$syscheck_name</a>, <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('syscheck_value')" href="../../_variables/syscheck_value.html">$syscheck_value</a>;
<a name="l56"><span class="linenum">  56</span></a>      echo '&lt;div class=&quot;system_check&quot;&gt;';
<a name="l57"><span class="linenum">  57</span></a>      echo '&lt;div class=&quot;system_check_name&quot;&gt;';
<a name="l58"><span class="linenum">  58</span></a>      echo <a class="var it7757" onMouseOver="hilite(7757)" onMouseOut="lolite()" onClick="logVariable('syscheck_name')" href="../../_variables/syscheck_name.html">$syscheck_name</a>;
<a name="l59"><span class="linenum">  59</span></a>      echo '&lt;/div&gt;';
<a name="l60"><span class="linenum">  60</span></a>      echo '&lt;div class=&quot;system_check_value_'.<a class="var it2069" onMouseOver="hilite(2069)" onMouseOut="lolite()" onClick="logVariable('condition')" href="../../_variables/condition.html">$condition</a>.'&quot;&gt;';
<a name="l61"><span class="linenum">  61</span></a>      echo <a class="var it7758" onMouseOver="hilite(7758)" onMouseOut="lolite()" onClick="logVariable('syscheck_value')" href="../../_variables/syscheck_value.html">$syscheck_value</a>;
<a name="l62"><span class="linenum">  62</span></a>      echo '&amp;nbsp;&lt;/div&gt;';
<a name="l63"><span class="linenum">  63</span></a>      if( !empty( <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../_variables/message.html">$message</a> ) )
<a name="l64"><span class="linenum">  64</span></a>      {
<a name="l65"><span class="linenum">  65</span></a>          echo '&lt;div class=&quot;system_check_message_'.<a class="var it2069" onMouseOver="hilite(2069)" onMouseOut="lolite()" onClick="logVariable('condition')" href="../../_variables/condition.html">$condition</a>.'&quot;&gt;';
<a name="l66"><span class="linenum">  66</span></a>          echo <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../_variables/message.html">$message</a>;
<a name="l67"><span class="linenum">  67</span></a>          echo '&lt;/div&gt;';
<a name="l68"><span class="linenum">  68</span></a>      }
<a name="l69"><span class="linenum">  69</span></a>      echo '&lt;/div&gt;';
<a name="l70"><span class="linenum">  70</span></a>  }
<a name="l71"><span class="linenum">  71</span></a>  
<a name="l72"><span class="linenum">  72</span></a>  <a class="var it7759" onMouseOver="hilite(7759)" onMouseOut="lolite()" onClick="logVariable('facilitate_exploits')" href="../../_variables/facilitate_exploits.html">$facilitate_exploits</a> = '&lt;p&gt;'.<a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('When enabled, this feature is known to facilitate hacking exploits in any PHP application.').&quot;&lt;/p&gt;\n&lt;p&gt;&quot;
<a name="l73"><span class="linenum">  73</span></a>      .<a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('b2evolution includes additional measures in order not to be affected by this. However, for maximum security, we still recommend disabling this PHP feature.').&quot;&lt;/p&gt;\n&quot;;
<a name="l74"><span class="linenum">  74</span></a>  <a class="var it7760" onMouseOver="hilite(7760)" onMouseOut="lolite()" onClick="logVariable('change_ini')" href="../../_variables/change_ini.html">$change_ini</a> = '&lt;p&gt;'.<a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('If possible, change this setting to &lt;code&gt;%s&lt;/code&gt; in your php.ini or ask your hosting provider about it.').'&lt;/p&gt;';
<a name="l75"><span class="linenum">  75</span></a>  
<a name="l76"><span class="linenum">  76</span></a>  
<a name="l77"><span class="linenum">  77</span></a>  echo '&lt;h2 class=&quot;page-title&quot;&gt;'.<a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('System status').'&lt;/h2&gt;';
<a name="l78"><span class="linenum">  78</span></a>  
<a name="l79"><span class="linenum">  79</span></a>  <span class="comment">// Get system stats to display:</span>
<a name="l80"><span class="linenum">  80</span></a>  <a class="var it5107" onMouseOver="hilite(5107)" onMouseOut="lolite()" onClick="logVariable('system_stats')" href="../../_variables/system_stats.html">$system_stats</a> = <a class="function" onClick="logFunction('get_system_stats')" href="../../_functions/get_system_stats.html" onMouseOver="funcPopup(event,'get_system_stats')">get_system_stats</a>();
<a name="l81"><span class="linenum">  81</span></a>  
<a name="l82"><span class="linenum">  82</span></a>  <span class="comment">// Note: hopefully, the update swill have been downloaded in the shutdown function of a previous page (including the login screen)</span>
<a name="l83"><span class="linenum">  83</span></a>  <span class="comment">// However if we have outdated info, we will load updates here.</span>
<a name="l84"><span class="linenum">  84</span></a>  <a class="function" onClick="logFunction('load_funcs')" href="../../_functions/load_funcs.html" onMouseOver="funcPopup(event,'load_funcs')">load_funcs</a>( 'dashboard/model/_dashboard.funcs.php' );
<a name="l85"><span class="linenum">  85</span></a>  <span class="comment">// Let's clear any remaining messages that should already have been displayed before...</span>
<a name="l86"><span class="linenum">  86</span></a>  <a class="var it26" onMouseOver="hilite(26)" onMouseOut="lolite()" onClick="logVariable('Messages')" href="../../_variables/Messages.html">$Messages</a>-&gt;<a class="function" onClick="logFunction('clear')" href="../../_functions/clear.html" onMouseOver="funcPopup(event,'clear')">clear</a>();
<a name="l87"><span class="linenum">  87</span></a>  
<a name="l88"><span class="linenum">  88</span></a>  if( <a class="function" onClick="logFunction('b2evonet_get_updates')" href="../../_functions/b2evonet_get_updates.html" onMouseOver="funcPopup(event,'b2evonet_get_updates')">b2evonet_get_updates</a>( true ) !== NULL )
<a name="l89"><span class="linenum">  89</span></a>  {    // Updates are allowed, display them:
<a name="l90"><span class="linenum">  90</span></a>  
<a name="l91"><span class="linenum">  91</span></a>  <span class="comment">    // Display info &amp; error messages</span>
<a name="l92"><span class="linenum">  92</span></a>      <a class="var it26" onMouseOver="hilite(26)" onMouseOut="lolite()" onClick="logVariable('Messages')" href="../../_variables/Messages.html">$Messages</a>-&gt;<a class="function" onClick="logFunction('display')" href="../../_functions/display.html" onMouseOver="funcPopup(event,'display')">display</a>();
<a name="l93"><span class="linenum">  93</span></a>  
<a name="l94"><span class="linenum">  94</span></a>      <span class="comment">/**</span>
<a name="l95"><span class="linenum">  95</span></a>  <span class="comment">     * @var AbstractSettings</span>
<a name="l96"><span class="linenum">  96</span></a>  <span class="comment">     */</span>
<a name="l97"><span class="linenum">  97</span></a>      global <a class="var it2236" onMouseOver="hilite(2236)" onMouseOut="lolite()" onClick="logVariable('global_Cache')" href="../../_variables/global_Cache.html">$global_Cache</a>;
<a name="l98"><span class="linenum">  98</span></a>      <a class="var it5396" onMouseOver="hilite(5396)" onMouseOut="lolite()" onClick="logVariable('version_status_msg')" href="../../_variables/version_status_msg.html">$version_status_msg</a> = <a class="var it2236" onMouseOver="hilite(2236)" onMouseOut="lolite()" onClick="logVariable('global_Cache')" href="../../_variables/global_Cache.html">$global_Cache</a>-&gt;<a class="function" onClick="logFunction('get')" href="../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>( 'version_status_msg' );
<a name="l99"><span class="linenum">  99</span></a>      if( !empty(<a class="var it5396" onMouseOver="hilite(5396)" onMouseOut="lolite()" onClick="logVariable('version_status_msg')" href="../../_variables/version_status_msg.html">$version_status_msg</a>) )
<a name="l100"><span class="linenum"> 100</span></a>      {    // We have managed to get updates (right now or in the past):
<a name="l101"><span class="linenum"> 101</span></a>          <a class="var it729" onMouseOver="hilite(729)" onMouseOut="lolite()" onClick="logVariable('msg')" href="../../_variables/msg.html">$msg</a> = '&lt;p&gt;'.<a class="var it5396" onMouseOver="hilite(5396)" onMouseOut="lolite()" onClick="logVariable('version_status_msg')" href="../../_variables/version_status_msg.html">$version_status_msg</a>.'&lt;/p&gt;';
<a name="l102"><span class="linenum"> 102</span></a>          <a class="var it5397" onMouseOver="hilite(5397)" onMouseOut="lolite()" onClick="logVariable('extra_msg')" href="../../_variables/extra_msg.html">$extra_msg</a> = <a class="var it2236" onMouseOver="hilite(2236)" onMouseOut="lolite()" onClick="logVariable('global_Cache')" href="../../_variables/global_Cache.html">$global_Cache</a>-&gt;<a class="function" onClick="logFunction('get')" href="../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>( 'extra_msg' );
<a name="l103"><span class="linenum"> 103</span></a>          if( !empty(<a class="var it5397" onMouseOver="hilite(5397)" onMouseOut="lolite()" onClick="logVariable('extra_msg')" href="../../_variables/extra_msg.html">$extra_msg</a>) )
<a name="l104"><span class="linenum"> 104</span></a>          {
<a name="l105"><span class="linenum"> 105</span></a>              <a class="var it729" onMouseOver="hilite(729)" onMouseOut="lolite()" onClick="logVariable('msg')" href="../../_variables/msg.html">$msg</a> .= '&lt;p&gt;'.<a class="var it5397" onMouseOver="hilite(5397)" onMouseOut="lolite()" onClick="logVariable('extra_msg')" href="../../_variables/extra_msg.html">$extra_msg</a>.'&lt;/p&gt;';
<a name="l106"><span class="linenum"> 106</span></a>          }
<a name="l107"><span class="linenum"> 107</span></a>      }
<a name="l108"><span class="linenum"> 108</span></a>  
<a name="l109"><span class="linenum"> 109</span></a>  }
<a name="l110"><span class="linenum"> 110</span></a>  else
<a name="l111"><span class="linenum"> 111</span></a>  {
<a name="l112"><span class="linenum"> 112</span></a>      <a class="var it729" onMouseOver="hilite(729)" onMouseOut="lolite()" onClick="logVariable('msg')" href="../../_variables/msg.html">$msg</a> = '';
<a name="l113"><span class="linenum"> 113</span></a>  }
<a name="l114"><span class="linenum"> 114</span></a>  
<a name="l115"><span class="linenum"> 115</span></a>  
<a name="l116"><span class="linenum"> 116</span></a>  <a class="var it2483" onMouseOver="hilite(2483)" onMouseOut="lolite()" onClick="logVariable('block_item_Widget')" href="../../_variables/block_item_Widget.html">$block_item_Widget</a> = <span class="keyword">new </span><a class="class" onClick="logClass('Widget')" href="../../_classes/widget.html" onMouseOver="classPopup(event,'widget')">Widget</a>( 'block_item' );
<a name="l117"><span class="linenum"> 117</span></a>  
<a name="l118"><span class="linenum"> 118</span></a>  
<a name="l119"><span class="linenum"> 119</span></a>  <span class="comment">/**</span>
<a name="l120"><span class="linenum"> 120</span></a>  <span class="comment"> * b2evolution</span>
<a name="l121"><span class="linenum"> 121</span></a>  <span class="comment"> */</span>
<a name="l122"><span class="linenum"> 122</span></a>  <a class="var it2483" onMouseOver="hilite(2483)" onMouseOut="lolite()" onClick="logVariable('block_item_Widget')" href="../../_variables/block_item_Widget.html">$block_item_Widget</a>-&gt;<a onClick="logVariable('title')" class="var it10785" onMouseOver="hilite(10785)" onMouseOut="lolite()" href="../../_variables/title.html">title</a> = 'b2evolution'.<a class="function" onClick="logFunction('get_manual_link')" href="../../_functions/get_manual_link.html" onMouseOver="funcPopup(event,'get_manual_link')">get_manual_link</a>( 'system-status-tab' );
<a name="l123"><span class="linenum"> 123</span></a>  <a class="var it2483" onMouseOver="hilite(2483)" onMouseOut="lolite()" onClick="logVariable('block_item_Widget')" href="../../_variables/block_item_Widget.html">$block_item_Widget</a>-&gt;<a class="function" onClick="logFunction('disp_template_replaced')" href="../../_functions/disp_template_replaced.html" onMouseOver="funcPopup(event,'disp_template_replaced')">disp_template_replaced</a>( 'block_start' );
<a name="l124"><span class="linenum"> 124</span></a>  
<a name="l125"><span class="linenum"> 125</span></a>  <span class="comment">// Instance name:</span>
<a name="l126"><span class="linenum"> 126</span></a>  <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Instance name'), <a class="var it4324" onMouseOver="hilite(4324)" onMouseOut="lolite()" onClick="logVariable('instance_name')" href="../../_variables/instance_name.html">$instance_name</a> );
<a name="l127"><span class="linenum"> 127</span></a>  <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'note' );
<a name="l128"><span class="linenum"> 128</span></a>  
<a name="l129"><span class="linenum"> 129</span></a>  <span class="comment">// Version:</span>
<a name="l130"><span class="linenum"> 130</span></a>  <a class="var it7761" onMouseOver="hilite(7761)" onMouseOut="lolite()" onClick="logVariable('app_timestamp')" href="../../_variables/app_timestamp.html">$app_timestamp</a> = <a class="function" onClick="logFunction('mysql2timestamp')" href="../../_functions/mysql2timestamp.html" onMouseOver="funcPopup(event,'mysql2timestamp')">mysql2timestamp</a>( <a class="var it1879" onMouseOver="hilite(1879)" onMouseOut="lolite()" onClick="logVariable('app_date')" href="../../_variables/app_date.html">$app_date</a> );
<a name="l131"><span class="linenum"> 131</span></a>  <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>( 'b2evolution version' ), sprintf( <span class="comment">/* TRANS: First %s: App version, second %s: release date */</span> <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>( '%s released on %s' ), <a class="var it44" onMouseOver="hilite(44)" onMouseOut="lolite()" onClick="logVariable('app_version')" href="../../_variables/app_version.html">$app_version</a>, <a class="function" onClick="logFunction('date_i18n')" href="../../_functions/date_i18n.html" onMouseOver="funcPopup(event,'date_i18n')">date_i18n</a>( <a class="function" onClick="logFunction('locale_datefmt')" href="../../_functions/locale_datefmt.html" onMouseOver="funcPopup(event,'locale_datefmt')">locale_datefmt</a>(), <a class="var it7761" onMouseOver="hilite(7761)" onMouseOut="lolite()" onClick="logVariable('app_timestamp')" href="../../_variables/app_timestamp.html">$app_timestamp</a> ) ) );
<a name="l132"><span class="linenum"> 132</span></a>  if( ! empty(<a class="var it729" onMouseOver="hilite(729)" onMouseOut="lolite()" onClick="logVariable('msg')" href="../../_variables/msg.html">$msg</a>) )
<a name="l133"><span class="linenum"> 133</span></a>  {
<a name="l134"><span class="linenum"> 134</span></a>      switch( <a class="var it2236" onMouseOver="hilite(2236)" onMouseOut="lolite()" onClick="logVariable('global_Cache')" href="../../_variables/global_Cache.html">$global_Cache</a>-&gt;<a class="function" onClick="logFunction('get')" href="../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>( 'version_status_color' ) )
<a name="l135"><span class="linenum"> 135</span></a>      {
<a name="l136"><span class="linenum"> 136</span></a>          case 'green':
<a name="l137"><span class="linenum"> 137</span></a>              <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'ok', <a class="var it729" onMouseOver="hilite(729)" onMouseOut="lolite()" onClick="logVariable('msg')" href="../../_variables/msg.html">$msg</a> );
<a name="l138"><span class="linenum"> 138</span></a>              break;
<a name="l139"><span class="linenum"> 139</span></a>  
<a name="l140"><span class="linenum"> 140</span></a>          case 'yellow':
<a name="l141"><span class="linenum"> 141</span></a>              <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'warning', <a class="var it729" onMouseOver="hilite(729)" onMouseOut="lolite()" onClick="logVariable('msg')" href="../../_variables/msg.html">$msg</a> );
<a name="l142"><span class="linenum"> 142</span></a>              break;
<a name="l143"><span class="linenum"> 143</span></a>  
<a name="l144"><span class="linenum"> 144</span></a>          default:
<a name="l145"><span class="linenum"> 145</span></a>              <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'error', <a class="var it729" onMouseOver="hilite(729)" onMouseOut="lolite()" onClick="logVariable('msg')" href="../../_variables/msg.html">$msg</a> );
<a name="l146"><span class="linenum"> 146</span></a>      }
<a name="l147"><span class="linenum"> 147</span></a>  }
<a name="l148"><span class="linenum"> 148</span></a>  else
<a name="l149"><span class="linenum"> 149</span></a>  {
<a name="l150"><span class="linenum"> 150</span></a>      <a class="var it729" onMouseOver="hilite(729)" onMouseOut="lolite()" onClick="logVariable('msg')" href="../../_variables/msg.html">$msg</a> = '&lt;p&gt;Updates from b2evolution.net are disabled!&lt;/p&gt;
<a name="l151"><span class="linenum"> 151</span></a>              &lt;p&gt;You will &lt;b&gt;NOT&lt;/b&gt; be alerted if you are running an insecure configuration.&lt;/p&gt;';
<a name="l152"><span class="linenum"> 152</span></a>  
<a name="l153"><span class="linenum"> 153</span></a>      <a class="var it7762" onMouseOver="hilite(7762)" onMouseOut="lolite()" onClick="logVariable('app_age')" href="../../_variables/app_age.html">$app_age</a> = (<a class="var it317" onMouseOver="hilite(317)" onMouseOut="lolite()" onClick="logVariable('localtimenow')" href="../../_variables/localtimenow.html">$localtimenow</a> - <a class="var it7761" onMouseOver="hilite(7761)" onMouseOut="lolite()" onClick="logVariable('app_timestamp')" href="../../_variables/app_timestamp.html">$app_timestamp</a>) / 3600 / 24 / 30;    <span class="comment">// approx age in months</span>
<a name="l154"><span class="linenum"> 154</span></a>      if( <a class="var it7762" onMouseOver="hilite(7762)" onMouseOut="lolite()" onClick="logVariable('app_age')" href="../../_variables/app_age.html">$app_age</a> &gt; 12 )
<a name="l155"><span class="linenum"> 155</span></a>      {
<a name="l156"><span class="linenum"> 156</span></a>          <a class="var it729" onMouseOver="hilite(729)" onMouseOut="lolite()" onClick="logVariable('msg')" href="../../_variables/msg.html">$msg</a> .= '&lt;p&gt;'.sprintf( <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Furthermore, this version is old. You should check for newer releases on %s.'),
<a name="l157"><span class="linenum"> 157</span></a>              '&lt;a href=&quot;http://b2evolution.net/downloads/&quot;&gt;b2evolution.net&lt;/a&gt;' ).'&lt;/p&gt;';
<a name="l158"><span class="linenum"> 158</span></a>      }
<a name="l159"><span class="linenum"> 159</span></a>      elseif( <a class="var it7762" onMouseOver="hilite(7762)" onMouseOut="lolite()" onClick="logVariable('app_age')" href="../../_variables/app_age.html">$app_age</a> &gt; 6 )
<a name="l160"><span class="linenum"> 160</span></a>      {
<a name="l161"><span class="linenum"> 161</span></a>          <a class="var it729" onMouseOver="hilite(729)" onMouseOut="lolite()" onClick="logVariable('msg')" href="../../_variables/msg.html">$msg</a> .= '&lt;p&gt;'.sprintf( <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Furthermore, this version is aging. You may want to check for newer releases on %s.'),
<a name="l162"><span class="linenum"> 162</span></a>              '&lt;a href=&quot;http://b2evolution.net/downloads/&quot;&gt;b2evolution.net&lt;/a&gt;' ).'&lt;/p&gt;';
<a name="l163"><span class="linenum"> 163</span></a>      }
<a name="l164"><span class="linenum"> 164</span></a>  
<a name="l165"><span class="linenum"> 165</span></a>      <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'error', <a class="var it729" onMouseOver="hilite(729)" onMouseOut="lolite()" onClick="logVariable('msg')" href="../../_variables/msg.html">$msg</a> );
<a name="l166"><span class="linenum"> 166</span></a>  }
<a name="l167"><span class="linenum"> 167</span></a>  
<a name="l168"><span class="linenum"> 168</span></a>  <span class="comment">// Media folder writable?</span>
<a name="l169"><span class="linenum"> 169</span></a>  <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>( <a class="var it7763" onMouseOver="hilite(7763)" onMouseOut="lolite()" onClick="logVariable('mediadir_status')" href="../../_variables/mediadir_status.html">$mediadir_status</a>, <a class="var it7764" onMouseOver="hilite(7764)" onMouseOut="lolite()" onClick="logVariable('mediadir_msg')" href="../../_variables/mediadir_msg.html">$mediadir_msg</a> ) = <a class="function" onClick="logFunction('system_get_result')" href="../../_functions/system_get_result.html" onMouseOver="funcPopup(event,'system_get_result')">system_get_result</a>( <a class="var it5107" onMouseOver="hilite(5107)" onMouseOut="lolite()" onClick="logVariable('system_stats')" href="../../_variables/system_stats.html">$system_stats</a>['mediadir_status'] );
<a name="l170"><span class="linenum"> 170</span></a>  <a class="var it7765" onMouseOver="hilite(7765)" onMouseOut="lolite()" onClick="logVariable('mediadir_long')" href="../../_variables/mediadir_long.html">$mediadir_long</a> = '';
<a name="l171"><span class="linenum"> 171</span></a>  if( <a class="var it7763" onMouseOver="hilite(7763)" onMouseOut="lolite()" onClick="logVariable('mediadir_status')" href="../../_variables/mediadir_status.html">$mediadir_status</a> == 'error' )
<a name="l172"><span class="linenum"> 172</span></a>  {
<a name="l173"><span class="linenum"> 173</span></a>      <a class="var it7765" onMouseOver="hilite(7765)" onMouseOut="lolite()" onClick="logVariable('mediadir_long')" href="../../_variables/mediadir_long.html">$mediadir_long</a> = '&lt;p&gt;'.<a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('You will not be able to upload files/images and b2evolution will not be able to generate thumbnails.').&quot;&lt;/p&gt;\n&quot;
<a name="l174"><span class="linenum"> 174</span></a>      .'&lt;p&gt;'.<a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Your host requires that you set special file permissions on your media directory.').<a class="function" onClick="logFunction('get_manual_link')" href="../../_functions/get_manual_link.html" onMouseOver="funcPopup(event,'get_manual_link')">get_manual_link</a>('media_file_permission_errors').&quot;&lt;/p&gt;\n&quot;;
<a name="l175"><span class="linenum"> 175</span></a>  }
<a name="l176"><span class="linenum"> 176</span></a>  <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>( 'Media directory' ), <a class="var it7764" onMouseOver="hilite(7764)" onMouseOut="lolite()" onClick="logVariable('mediadir_msg')" href="../../_variables/mediadir_msg.html">$mediadir_msg</a>.' - '.<a class="var it2840" onMouseOver="hilite(2840)" onMouseOut="lolite()" onClick="logVariable('media_path')" href="../../_variables/media_path.html">$media_path</a> );
<a name="l177"><span class="linenum"> 177</span></a>  <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( <a class="var it7763" onMouseOver="hilite(7763)" onMouseOut="lolite()" onClick="logVariable('mediadir_status')" href="../../_variables/mediadir_status.html">$mediadir_status</a>, <a class="var it7765" onMouseOver="hilite(7765)" onMouseOut="lolite()" onClick="logVariable('mediadir_long')" href="../../_variables/mediadir_long.html">$mediadir_long</a> );
<a name="l178"><span class="linenum"> 178</span></a>  
<a name="l179"><span class="linenum"> 179</span></a>  
<a name="l180"><span class="linenum"> 180</span></a>  <span class="comment">// /install/ folder deleted?</span>
<a name="l181"><span class="linenum"> 181</span></a>  <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>( 'Install folder' ), <a class="var it5107" onMouseOver="hilite(5107)" onMouseOut="lolite()" onClick="logVariable('system_stats')" href="../../_variables/system_stats.html">$system_stats</a>['install_removed'] ?  <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Deleted') : <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Not deleted').' - '.<a class="var it1895" onMouseOver="hilite(1895)" onMouseOut="lolite()" onClick="logVariable('basepath')" href="../../_variables/basepath.html">$basepath</a>.<a class="var it4348" onMouseOver="hilite(4348)" onMouseOut="lolite()" onClick="logVariable('install_subdir')" href="../../_variables/install_subdir.html">$install_subdir</a> );
<a name="l182"><span class="linenum"> 182</span></a>  if( ! <a class="var it5107" onMouseOver="hilite(5107)" onMouseOut="lolite()" onClick="logVariable('system_stats')" href="../../_variables/system_stats.html">$system_stats</a>['install_removed'] )
<a name="l183"><span class="linenum"> 183</span></a>  {
<a name="l184"><span class="linenum"> 184</span></a>      <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'warning', <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('For maximum security, it is recommended that you delete your /blogs/install/ folder once you are done with install or upgrade.') );
<a name="l185"><span class="linenum"> 185</span></a>  
<a name="l186"><span class="linenum"> 186</span></a>  <span class="comment">    // Database reset allowed?</span>
<a name="l187"><span class="linenum"> 187</span></a>      <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>( 'Database reset' ), <a class="var it2921" onMouseOver="hilite(2921)" onMouseOut="lolite()" onClick="logVariable('allow_evodb_reset')" href="../../_variables/allow_evodb_reset.html">$allow_evodb_reset</a> ?  <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Allowed!') : <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Forbidden') );
<a name="l188"><span class="linenum"> 188</span></a>      if( <a class="var it2921" onMouseOver="hilite(2921)" onMouseOut="lolite()" onClick="logVariable('allow_evodb_reset')" href="../../_variables/allow_evodb_reset.html">$allow_evodb_reset</a> )
<a name="l189"><span class="linenum"> 189</span></a>      {
<a name="l190"><span class="linenum"> 190</span></a>        <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'error', '&lt;p&gt;'.<a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Currently, anyone who accesses your install folder could entirely reset your b2evolution database.').&quot;&lt;/p&gt;\n&quot;
<a name="l191"><span class="linenum"> 191</span></a>         .'&lt;p&gt;'.<a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('ALL YOUR DATA WOULD BE LOST!').&quot;&lt;/p&gt;\n&quot;
<a name="l192"><span class="linenum"> 192</span></a>         .'&lt;p&gt;'.<a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('As soon as possible, change the setting &lt;code&gt;<a class="var it2921" onMouseOver="hilite(2921)" onMouseOut="lolite()" onClick="logVariable('allow_evodb_reset')" href="../../_variables/allow_evodb_reset.html">$allow_evodb_reset</a> = 0;&lt;/code&gt; in your /conf/_basic.config.php.').'&lt;/p&gt;' );
<a name="l193"><span class="linenum"> 193</span></a>      }
<a name="l194"><span class="linenum"> 194</span></a>      else
<a name="l195"><span class="linenum"> 195</span></a>      {
<a name="l196"><span class="linenum"> 196</span></a>          <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'ok' );
<a name="l197"><span class="linenum"> 197</span></a>      }
<a name="l198"><span class="linenum"> 198</span></a>  }
<a name="l199"><span class="linenum"> 199</span></a>  else
<a name="l200"><span class="linenum"> 200</span></a>  {
<a name="l201"><span class="linenum"> 201</span></a>      <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'ok' );
<a name="l202"><span class="linenum"> 202</span></a>  }
<a name="l203"><span class="linenum"> 203</span></a>  
<a name="l204"><span class="linenum"> 204</span></a>  <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( 'Internal b2evo charset' , <a class="var it5107" onMouseOver="hilite(5107)" onMouseOut="lolite()" onClick="logVariable('system_stats')" href="../../_variables/system_stats.html">$system_stats</a>['evo_charset'] );
<a name="l205"><span class="linenum"> 205</span></a>  <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'note' );
<a name="l206"><span class="linenum"> 206</span></a>  
<a name="l207"><span class="linenum"> 207</span></a>  <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( 'Blog count' , <a class="var it5107" onMouseOver="hilite(5107)" onMouseOut="lolite()" onClick="logVariable('system_stats')" href="../../_variables/system_stats.html">$system_stats</a>['evo_blog_count'] );
<a name="l208"><span class="linenum"> 208</span></a>  <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'note' );
<a name="l209"><span class="linenum"> 209</span></a>  
<a name="l210"><span class="linenum"> 210</span></a>  <a class="var it2483" onMouseOver="hilite(2483)" onMouseOut="lolite()" onClick="logVariable('block_item_Widget')" href="../../_variables/block_item_Widget.html">$block_item_Widget</a>-&gt;<a class="function" onClick="logFunction('disp_template_raw')" href="../../_functions/disp_template_raw.html" onMouseOver="funcPopup(event,'disp_template_raw')">disp_template_raw</a>( 'block_end' );
<a name="l211"><span class="linenum"> 211</span></a>  
<a name="l212"><span class="linenum"> 212</span></a>  
<a name="l213"><span class="linenum"> 213</span></a>  <span class="comment">/*</span>
<a name="l214"><span class="linenum"> 214</span></a>  <span class="comment"> * Caching</span>
<a name="l215"><span class="linenum"> 215</span></a>  <span class="comment"> */</span>
<a name="l216"><span class="linenum"> 216</span></a>  <a class="var it2483" onMouseOver="hilite(2483)" onMouseOut="lolite()" onClick="logVariable('block_item_Widget')" href="../../_variables/block_item_Widget.html">$block_item_Widget</a>-&gt;<a onClick="logVariable('title')" class="var it10785" onMouseOver="hilite(10785)" onMouseOut="lolite()" href="../../_variables/title.html">title</a> = <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>( 'Caching' );
<a name="l217"><span class="linenum"> 217</span></a>  <a class="var it2483" onMouseOver="hilite(2483)" onMouseOut="lolite()" onClick="logVariable('block_item_Widget')" href="../../_variables/block_item_Widget.html">$block_item_Widget</a>-&gt;<a class="function" onClick="logFunction('disp_template_replaced')" href="../../_functions/disp_template_replaced.html" onMouseOver="funcPopup(event,'disp_template_replaced')">disp_template_replaced</a>( 'block_start' );
<a name="l218"><span class="linenum"> 218</span></a>  
<a name="l219"><span class="linenum"> 219</span></a>  <span class="comment">// Cache folder writable?</span>
<a name="l220"><span class="linenum"> 220</span></a>  <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>( <a class="var it7766" onMouseOver="hilite(7766)" onMouseOut="lolite()" onClick="logVariable('cachedir_status')" href="../../_variables/cachedir_status.html">$cachedir_status</a>, <a class="var it7767" onMouseOver="hilite(7767)" onMouseOut="lolite()" onClick="logVariable('cachedir_msg')" href="../../_variables/cachedir_msg.html">$cachedir_msg</a> ) = <a class="function" onClick="logFunction('system_get_result')" href="../../_functions/system_get_result.html" onMouseOver="funcPopup(event,'system_get_result')">system_get_result</a>( <a class="var it5107" onMouseOver="hilite(5107)" onMouseOut="lolite()" onClick="logVariable('system_stats')" href="../../_variables/system_stats.html">$system_stats</a>['cachedir_status'] );
<a name="l221"><span class="linenum"> 221</span></a>  <a class="var it7768" onMouseOver="hilite(7768)" onMouseOut="lolite()" onClick="logVariable('cachedir_long')" href="../../_variables/cachedir_long.html">$cachedir_long</a> = '';
<a name="l222"><span class="linenum"> 222</span></a>  if( <a class="var it7766" onMouseOver="hilite(7766)" onMouseOut="lolite()" onClick="logVariable('cachedir_status')" href="../../_variables/cachedir_status.html">$cachedir_status</a> == 'error' )
<a name="l223"><span class="linenum"> 223</span></a>  {
<a name="l224"><span class="linenum"> 224</span></a>      <a class="var it7768" onMouseOver="hilite(7768)" onMouseOut="lolite()" onClick="logVariable('cachedir_long')" href="../../_variables/cachedir_long.html">$cachedir_long</a> = '&lt;p&gt;'.<a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('You will not be able to use page cache.').&quot;&lt;/p&gt;\n&quot;
<a name="l225"><span class="linenum"> 225</span></a>      .'&lt;p&gt;'.<a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Your host requires that you set special file permissions on your cache directory.').<a class="function" onClick="logFunction('get_manual_link')" href="../../_functions/get_manual_link.html" onMouseOver="funcPopup(event,'get_manual_link')">get_manual_link</a>('cache_file_permission_errors').&quot;&lt;/p&gt;\n&quot;;
<a name="l226"><span class="linenum"> 226</span></a>  }
<a name="l227"><span class="linenum"> 227</span></a>  <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>( 'Cache directory' ), <a class="var it7767" onMouseOver="hilite(7767)" onMouseOut="lolite()" onClick="logVariable('cachedir_msg')" href="../../_variables/cachedir_msg.html">$cachedir_msg</a>.' - '.<a class="var it4351" onMouseOver="hilite(4351)" onMouseOut="lolite()" onClick="logVariable('cache_path')" href="../../_variables/cache_path.html">$cache_path</a> );
<a name="l228"><span class="linenum"> 228</span></a>  <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( <a class="var it7766" onMouseOver="hilite(7766)" onMouseOut="lolite()" onClick="logVariable('cachedir_status')" href="../../_variables/cachedir_status.html">$cachedir_status</a>, <a class="var it7768" onMouseOver="hilite(7768)" onMouseOut="lolite()" onClick="logVariable('cachedir_long')" href="../../_variables/cachedir_long.html">$cachedir_long</a> );
<a name="l229"><span class="linenum"> 229</span></a>  
<a name="l230"><span class="linenum"> 230</span></a>  <span class="comment">// cache folder size</span>
<a name="l231"><span class="linenum"> 231</span></a>  <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( 'Cache folder size', <a class="function" onClick="logFunction('bytesreadable')" href="../../_functions/bytesreadable.html" onMouseOver="funcPopup(event,'bytesreadable')">bytesreadable</a>(<a class="var it5107" onMouseOver="hilite(5107)" onMouseOut="lolite()" onClick="logVariable('system_stats')" href="../../_variables/system_stats.html">$system_stats</a>['cachedir_size']) );
<a name="l232"><span class="linenum"> 232</span></a>  <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'note' );
<a name="l233"><span class="linenum"> 233</span></a>  
<a name="l234"><span class="linenum"> 234</span></a>  if( <a class="var it7766" onMouseOver="hilite(7766)" onMouseOut="lolite()" onClick="logVariable('cachedir_status')" href="../../_variables/cachedir_status.html">$cachedir_status</a> != 'error' )
<a name="l235"><span class="linenum"> 235</span></a>  { // 'cache/ directory exists and, it is writable
<a name="l236"><span class="linenum"> 236</span></a>  
<a name="l237"><span class="linenum"> 237</span></a>  <span class="comment">    // General cache is enabled</span>
<a name="l238"><span class="linenum"> 238</span></a>      <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>( 'General caching' ), <a class="var it5107" onMouseOver="hilite(5107)" onMouseOut="lolite()" onClick="logVariable('system_stats')" href="../../_variables/system_stats.html">$system_stats</a>['general_pagecache_enabled'] ? 'Enabled' : 'Disabled' );
<a name="l239"><span class="linenum"> 239</span></a>      <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'note' );
<a name="l240"><span class="linenum"> 240</span></a>  
<a name="l241"><span class="linenum"> 241</span></a>  <span class="comment">    // how many blogs have enabled caches</span>
<a name="l242"><span class="linenum"> 242</span></a>      <a class="var it5121" onMouseOver="hilite(5121)" onMouseOut="lolite()" onClick="logVariable('error_messages')" href="../../_variables/error_messages.html">$error_messages</a> = <a class="function" onClick="logFunction('system_check_caches')" href="../../_functions/system_check_caches.html" onMouseOver="funcPopup(event,'system_check_caches')">system_check_caches</a>( false );
<a name="l243"><span class="linenum"> 243</span></a>      <a class="var it7769" onMouseOver="hilite(7769)" onMouseOut="lolite()" onClick="logVariable('enabled_message')" href="../../_variables/enabled_message.html">$enabled_message</a> = <a class="var it5107" onMouseOver="hilite(5107)" onMouseOut="lolite()" onClick="logVariable('system_stats')" href="../../_variables/system_stats.html">$system_stats</a>['blog_pagecaches_enabled'].' enabled /'.<a class="var it5107" onMouseOver="hilite(5107)" onMouseOut="lolite()" onClick="logVariable('system_stats')" href="../../_variables/system_stats.html">$system_stats</a>['evo_blog_count'].' blogs';
<a name="l244"><span class="linenum"> 244</span></a>      <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>( 'Blog\'s cache setting' ), <a class="var it7769" onMouseOver="hilite(7769)" onMouseOut="lolite()" onClick="logVariable('enabled_message')" href="../../_variables/enabled_message.html">$enabled_message</a> );
<a name="l245"><span class="linenum"> 245</span></a>      <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'note' );
<a name="l246"><span class="linenum"> 246</span></a>      if( <a class="phpfunction" onClick="logFunction('count')" href="../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>( <a class="var it5121" onMouseOver="hilite(5121)" onMouseOut="lolite()" onClick="logVariable('error_messages')" href="../../_variables/error_messages.html">$error_messages</a> ) &gt; 0 )
<a name="l247"><span class="linenum"> 247</span></a>      { // show errors
<a name="l248"><span class="linenum"> 248</span></a>          <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>( 'Blog\'s cache errors' ), <a class="phpfunction" onClick="logFunction('implode')" href="../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>( '&lt;br /&gt;', <a class="var it5121" onMouseOver="hilite(5121)" onMouseOut="lolite()" onClick="logVariable('error_messages')" href="../../_variables/error_messages.html">$error_messages</a> ) );
<a name="l249"><span class="linenum"> 249</span></a>          <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'error' );
<a name="l250"><span class="linenum"> 250</span></a>      }
<a name="l251"><span class="linenum"> 251</span></a>  }
<a name="l252"><span class="linenum"> 252</span></a>  
<a name="l253"><span class="linenum"> 253</span></a>  <a class="var it2483" onMouseOver="hilite(2483)" onMouseOut="lolite()" onClick="logVariable('block_item_Widget')" href="../../_variables/block_item_Widget.html">$block_item_Widget</a>-&gt;<a class="function" onClick="logFunction('disp_template_raw')" href="../../_functions/disp_template_raw.html" onMouseOver="funcPopup(event,'disp_template_raw')">disp_template_raw</a>( 'block_end' );
<a name="l254"><span class="linenum"> 254</span></a>  
<a name="l255"><span class="linenum"> 255</span></a>  
<a name="l256"><span class="linenum"> 256</span></a>  <span class="comment">/*</span>
<a name="l257"><span class="linenum"> 257</span></a>  <span class="comment"> * Time</span>
<a name="l258"><span class="linenum"> 258</span></a>  <span class="comment"> */</span>
<a name="l259"><span class="linenum"> 259</span></a>  <a class="var it2483" onMouseOver="hilite(2483)" onMouseOut="lolite()" onClick="logVariable('block_item_Widget')" href="../../_variables/block_item_Widget.html">$block_item_Widget</a>-&gt;<a onClick="logVariable('title')" class="var it10785" onMouseOver="hilite(10785)" onMouseOut="lolite()" href="../../_variables/title.html">title</a> = <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Time');
<a name="l260"><span class="linenum"> 260</span></a>  <a class="var it2483" onMouseOver="hilite(2483)" onMouseOut="lolite()" onClick="logVariable('block_item_Widget')" href="../../_variables/block_item_Widget.html">$block_item_Widget</a>-&gt;<a class="function" onClick="logFunction('disp_template_replaced')" href="../../_functions/disp_template_replaced.html" onMouseOver="funcPopup(event,'disp_template_replaced')">disp_template_replaced</a>( 'block_start' );
<a name="l261"><span class="linenum"> 261</span></a>  
<a name="l262"><span class="linenum"> 262</span></a>  <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>( 'Server time' ), <a class="function" onClick="logFunction('date_i18n')" href="../../_functions/date_i18n.html" onMouseOver="funcPopup(event,'date_i18n')">date_i18n</a>( <a class="function" onClick="logFunction('locale_datetimefmt')" href="../../_functions/locale_datetimefmt.html" onMouseOver="funcPopup(event,'locale_datetimefmt')">locale_datetimefmt</a>( ' - ' ), <a class="var it1254" onMouseOver="hilite(1254)" onMouseOut="lolite()" onClick="logVariable('servertimenow')" href="../../_variables/servertimenow.html">$servertimenow</a> ) );
<a name="l263"><span class="linenum"> 263</span></a>  <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'note' );
<a name="l264"><span class="linenum"> 264</span></a>  
<a name="l265"><span class="linenum"> 265</span></a>  <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>( 'GMT / UTC time' ), <a class="phpfunction" onClick="logFunction('gmdate')" href="../../_functions/gmdate.html" onMouseOver="phpfuncPopup(event,'gmdate')">gmdate</a>( <a class="function" onClick="logFunction('locale_datetimefmt')" href="../../_functions/locale_datetimefmt.html" onMouseOver="funcPopup(event,'locale_datetimefmt')">locale_datetimefmt</a>( ' - ' ), <a class="var it1254" onMouseOver="hilite(1254)" onMouseOut="lolite()" onClick="logVariable('servertimenow')" href="../../_variables/servertimenow.html">$servertimenow</a> ) );
<a name="l266"><span class="linenum"> 266</span></a>  <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'note' );
<a name="l267"><span class="linenum"> 267</span></a>  
<a name="l268"><span class="linenum"> 268</span></a>  <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>( 'b2evolution time' ), <a class="function" onClick="logFunction('date_i18n')" href="../../_functions/date_i18n.html" onMouseOver="funcPopup(event,'date_i18n')">date_i18n</a>( <a class="function" onClick="logFunction('locale_datetimefmt')" href="../../_functions/locale_datetimefmt.html" onMouseOver="funcPopup(event,'locale_datetimefmt')">locale_datetimefmt</a>( ' - ' ), <a class="var it317" onMouseOver="hilite(317)" onMouseOut="lolite()" onClick="logVariable('localtimenow')" href="../../_variables/localtimenow.html">$localtimenow</a> ) );
<a name="l269"><span class="linenum"> 269</span></a>  <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'note' );
<a name="l270"><span class="linenum"> 270</span></a>  
<a name="l271"><span class="linenum"> 271</span></a>  <a class="var it2483" onMouseOver="hilite(2483)" onMouseOut="lolite()" onClick="logVariable('block_item_Widget')" href="../../_variables/block_item_Widget.html">$block_item_Widget</a>-&gt;<a class="function" onClick="logFunction('disp_template_raw')" href="../../_functions/disp_template_raw.html" onMouseOver="funcPopup(event,'disp_template_raw')">disp_template_raw</a>( 'block_end' );
<a name="l272"><span class="linenum"> 272</span></a>  
<a name="l273"><span class="linenum"> 273</span></a>  
<a name="l274"><span class="linenum"> 274</span></a>  <span class="comment">/*</span>
<a name="l275"><span class="linenum"> 275</span></a>  <span class="comment"> * MySQL Version</span>
<a name="l276"><span class="linenum"> 276</span></a>  <span class="comment"> */</span>
<a name="l277"><span class="linenum"> 277</span></a>  <a class="var it2483" onMouseOver="hilite(2483)" onMouseOut="lolite()" onClick="logVariable('block_item_Widget')" href="../../_variables/block_item_Widget.html">$block_item_Widget</a>-&gt;<a onClick="logVariable('title')" class="var it10785" onMouseOver="hilite(10785)" onMouseOut="lolite()" href="../../_variables/title.html">title</a> = 'MySQL';
<a name="l278"><span class="linenum"> 278</span></a>  <a class="var it2483" onMouseOver="hilite(2483)" onMouseOut="lolite()" onClick="logVariable('block_item_Widget')" href="../../_variables/block_item_Widget.html">$block_item_Widget</a>-&gt;<a class="function" onClick="logFunction('disp_template_replaced')" href="../../_functions/disp_template_replaced.html" onMouseOver="funcPopup(event,'disp_template_replaced')">disp_template_replaced</a>( 'block_start' );
<a name="l279"><span class="linenum"> 279</span></a>  
<a name="l280"><span class="linenum"> 280</span></a>  <span class="comment">// Version:</span>
<a name="l281"><span class="linenum"> 281</span></a>  <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>( 'MySQL version' ), <a class="var it150" onMouseOver="hilite(150)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../_variables/DB.html">$DB</a>-&gt;<a onClick="logVariable('version_long')" class="var it10754" onMouseOver="hilite(10754)" onMouseOut="lolite()" href="../../_variables/version_long.html">version_long</a> );
<a name="l282"><span class="linenum"> 282</span></a>  if( <a class="phpfunction" onClick="logFunction('version_compare')" href="../../_functions/version_compare.html" onMouseOver="phpfuncPopup(event,'version_compare')">version_compare</a>( <a class="var it5107" onMouseOver="hilite(5107)" onMouseOut="lolite()" onClick="logVariable('system_stats')" href="../../_variables/system_stats.html">$system_stats</a>['db_version'], <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('required_mysql_version')" href="../../_variables/required_mysql_version.html">$required_mysql_version</a>['application'] ) &lt; 0 )
<a name="l283"><span class="linenum"> 283</span></a>  {
<a name="l284"><span class="linenum"> 284</span></a>      <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'error', sprintf( <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('This version is too old. The minimum recommended MySQL version is %s.'), <a class="var it128" onMouseOver="hilite(128)" onMouseOut="lolite()" onClick="logVariable('required_mysql_version')" href="../../_variables/required_mysql_version.html">$required_mysql_version</a>['application'] ) );
<a name="l285"><span class="linenum"> 285</span></a>  }
<a name="l286"><span class="linenum"> 286</span></a>  else
<a name="l287"><span class="linenum"> 287</span></a>  {
<a name="l288"><span class="linenum"> 288</span></a>      <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'ok' );
<a name="l289"><span class="linenum"> 289</span></a>  }
<a name="l290"><span class="linenum"> 290</span></a>  
<a name="l291"><span class="linenum"> 291</span></a>  <span class="comment">// UTF8 support?</span>
<a name="l292"><span class="linenum"> 292</span></a>  <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( 'MySQL UTF-8 support', <a class="var it5107" onMouseOver="hilite(5107)" onMouseOut="lolite()" onClick="logVariable('system_stats')" href="../../_variables/system_stats.html">$system_stats</a>['db_utf8'] ?  <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Yes') : <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('No') );
<a name="l293"><span class="linenum"> 293</span></a>  if( ! <a class="var it5107" onMouseOver="hilite(5107)" onMouseOut="lolite()" onClick="logVariable('system_stats')" href="../../_variables/system_stats.html">$system_stats</a>['db_utf8'] )
<a name="l294"><span class="linenum"> 294</span></a>  {
<a name="l295"><span class="linenum"> 295</span></a>      <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'warning', <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('UTF-8 is not supported by your MySQL server.') ); <span class="comment">// fp&gt; TODO: explain why this is bad. Better yet: try to detect if we really need it, base don other conf variables.</span>
<a name="l296"><span class="linenum"> 296</span></a>  }
<a name="l297"><span class="linenum"> 297</span></a>  else
<a name="l298"><span class="linenum"> 298</span></a>  {
<a name="l299"><span class="linenum"> 299</span></a>      <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'ok' );
<a name="l300"><span class="linenum"> 300</span></a>  }
<a name="l301"><span class="linenum"> 301</span></a>  
<a name="l302"><span class="linenum"> 302</span></a>  <a class="var it2483" onMouseOver="hilite(2483)" onMouseOut="lolite()" onClick="logVariable('block_item_Widget')" href="../../_variables/block_item_Widget.html">$block_item_Widget</a>-&gt;<a class="function" onClick="logFunction('disp_template_raw')" href="../../_functions/disp_template_raw.html" onMouseOver="funcPopup(event,'disp_template_raw')">disp_template_raw</a>( 'block_end' );
<a name="l303"><span class="linenum"> 303</span></a>  
<a name="l304"><span class="linenum"> 304</span></a>  
<a name="l305"><span class="linenum"> 305</span></a>  <span class="comment">/**</span>
<a name="l306"><span class="linenum"> 306</span></a>  <span class="comment"> * PHP</span>
<a name="l307"><span class="linenum"> 307</span></a>  <span class="comment"> */</span>
<a name="l308"><span class="linenum"> 308</span></a>  <a class="var it2483" onMouseOver="hilite(2483)" onMouseOut="lolite()" onClick="logVariable('block_item_Widget')" href="../../_variables/block_item_Widget.html">$block_item_Widget</a>-&gt;<a onClick="logVariable('title')" class="var it10785" onMouseOver="hilite(10785)" onMouseOut="lolite()" href="../../_variables/title.html">title</a> = 'PHP';
<a name="l309"><span class="linenum"> 309</span></a>  <a class="var it2483" onMouseOver="hilite(2483)" onMouseOut="lolite()" onClick="logVariable('block_item_Widget')" href="../../_variables/block_item_Widget.html">$block_item_Widget</a>-&gt;<a class="function" onClick="logFunction('disp_template_replaced')" href="../../_functions/disp_template_replaced.html" onMouseOver="funcPopup(event,'disp_template_replaced')">disp_template_replaced</a>( 'block_start' );
<a name="l310"><span class="linenum"> 310</span></a>  
<a name="l311"><span class="linenum"> 311</span></a>  
<a name="l312"><span class="linenum"> 312</span></a>  <span class="comment">// User ID:</span>
<a name="l313"><span class="linenum"> 313</span></a>  <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>( <a class="var it5108" onMouseOver="hilite(5108)" onMouseOut="lolite()" onClick="logVariable('uid')" href="../../_variables/uid.html">$uid</a>, <a class="var it5109" onMouseOver="hilite(5109)" onMouseOut="lolite()" onClick="logVariable('uname')" href="../../_variables/uname.html">$uname</a>, <a class="var it5132" onMouseOver="hilite(5132)" onMouseOut="lolite()" onClick="logVariable('running_as')" href="../../_variables/running_as.html">$running_as</a> ) = <a class="function" onClick="logFunction('system_check_process_user')" href="../../_functions/system_check_process_user.html" onMouseOver="funcPopup(event,'system_check_process_user')">system_check_process_user</a>();
<a name="l314"><span class="linenum"> 314</span></a>  <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( 'PHP running as USER:', <a class="var it5132" onMouseOver="hilite(5132)" onMouseOut="lolite()" onClick="logVariable('running_as')" href="../../_variables/running_as.html">$running_as</a> );
<a name="l315"><span class="linenum"> 315</span></a>  <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'note' );
<a name="l316"><span class="linenum"> 316</span></a>  
<a name="l317"><span class="linenum"> 317</span></a>  
<a name="l318"><span class="linenum"> 318</span></a>  <span class="comment">// Group ID:</span>
<a name="l319"><span class="linenum"> 319</span></a>  <a class="function" onClick="logFunction('list')" href="../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a>( <a class="var it5110" onMouseOver="hilite(5110)" onMouseOut="lolite()" onClick="logVariable('gid')" href="../../_variables/gid.html">$gid</a>, <a class="var it5111" onMouseOver="hilite(5111)" onMouseOut="lolite()" onClick="logVariable('gname')" href="../../_variables/gname.html">$gname</a>, <a class="var it5132" onMouseOver="hilite(5132)" onMouseOut="lolite()" onClick="logVariable('running_as')" href="../../_variables/running_as.html">$running_as</a> ) = <a class="function" onClick="logFunction('system_check_process_group')" href="../../_functions/system_check_process_group.html" onMouseOver="funcPopup(event,'system_check_process_group')">system_check_process_group</a>();
<a name="l320"><span class="linenum"> 320</span></a>  <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( 'PHP running as GROUP:', <a class="var it5132" onMouseOver="hilite(5132)" onMouseOut="lolite()" onClick="logVariable('running_as')" href="../../_variables/running_as.html">$running_as</a> );
<a name="l321"><span class="linenum"> 321</span></a>  <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'note' );
<a name="l322"><span class="linenum"> 322</span></a>  
<a name="l323"><span class="linenum"> 323</span></a>  
<a name="l324"><span class="linenum"> 324</span></a>  <span class="comment">// PHP version</span>
<a name="l325"><span class="linenum"> 325</span></a>  <a class="var it7771" onMouseOver="hilite(7771)" onMouseOut="lolite()" onClick="logVariable('phpinfo_url')" href="../../_variables/phpinfo_url.html">$phpinfo_url</a> = '?ctrl=tools&amp;amp;action=view_phpinfo&amp;amp;'.<a class="function" onClick="logFunction('url_crumb')" href="../../_functions/url_crumb.html" onMouseOver="funcPopup(event,'url_crumb')">url_crumb</a>('tools');
<a name="l326"><span class="linenum"> 326</span></a>  <a class="var it7772" onMouseOver="hilite(7772)" onMouseOut="lolite()" onClick="logVariable('phpinfo_link')" href="../../_variables/phpinfo_link.html">$phpinfo_link</a> = <a class="function" onClick="logFunction('action_icon')" href="../../_functions/action_icon.html" onMouseOver="funcPopup(event,'action_icon')">action_icon</a>( <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('View PHP info'), 'info', <a class="var it7771" onMouseOver="hilite(7771)" onMouseOut="lolite()" onClick="logVariable('phpinfo_url')" href="../../_variables/phpinfo_url.html">$phpinfo_url</a>, '', 5, '', array( 'target'=&gt;'_blank', 'onclick'=&gt;'return <a class="function" onClick="logFunction('pop_up_window')" href="../../_functions/pop_up_window.html" onMouseOver="funcPopup(event,'pop_up_window')">pop_up_window</a>( \''.<a class="var it7771" onMouseOver="hilite(7771)" onMouseOut="lolite()" onClick="logVariable('phpinfo_url')" href="../../_variables/phpinfo_url.html">$phpinfo_url</a>.'\', \'phpinfo\', 650 )' ) );
<a name="l327"><span class="linenum"> 327</span></a>  <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( 'PHP version', <a class="var it5107" onMouseOver="hilite(5107)" onMouseOut="lolite()" onClick="logVariable('system_stats')" href="../../_variables/system_stats.html">$system_stats</a>['php_version'].' '.<a class="var it7772" onMouseOver="hilite(7772)" onMouseOut="lolite()" onClick="logVariable('phpinfo_link')" href="../../_variables/phpinfo_link.html">$phpinfo_link</a> );
<a name="l328"><span class="linenum"> 328</span></a>  
<a name="l329"><span class="linenum"> 329</span></a>  if( <a class="phpfunction" onClick="logFunction('version_compare')" href="../../_functions/version_compare.html" onMouseOver="phpfuncPopup(event,'version_compare')">version_compare</a>( <a class="var it5107" onMouseOver="hilite(5107)" onMouseOut="lolite()" onClick="logVariable('system_stats')" href="../../_variables/system_stats.html">$system_stats</a>['php_version'], <a class="var it127" onMouseOver="hilite(127)" onMouseOut="lolite()" onClick="logVariable('required_php_version')" href="../../_variables/required_php_version.html">$required_php_version</a>['application'], '&lt;' ) )
<a name="l330"><span class="linenum"> 330</span></a>  {
<a name="l331"><span class="linenum"> 331</span></a>      <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'error', <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('This version is too old. b2evolution will not run correctly. You must ask your host to upgrade PHP before you can run b2evolution.') );
<a name="l332"><span class="linenum"> 332</span></a>  }
<a name="l333"><span class="linenum"> 333</span></a>  elseif( <a class="phpfunction" onClick="logFunction('version_compare')" href="../../_functions/version_compare.html" onMouseOver="phpfuncPopup(event,'version_compare')">version_compare</a>( <a class="var it5107" onMouseOver="hilite(5107)" onMouseOut="lolite()" onClick="logVariable('system_stats')" href="../../_variables/system_stats.html">$system_stats</a>['php_version'], '5.2', '&lt;' ) )
<a name="l334"><span class="linenum"> 334</span></a>  {
<a name="l335"><span class="linenum"> 335</span></a>      <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'warning', <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('This version is old. b2evolution may run but some features may fail. You should ask your host to upgrade PHP before running b2evolution.')
<a name="l336"><span class="linenum"> 336</span></a>  <span class="comment">        // Display a message about httpOnly for PHP &lt; 5.2</span>
<a name="l337"><span class="linenum"> 337</span></a>          .'&lt;br /&gt;'.<a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>( 'PHP 5.2 or greater is recommended for maximum security, especially for &quot;httpOnly&quot; cookies support.' ) );
<a name="l338"><span class="linenum"> 338</span></a>  }
<a name="l339"><span class="linenum"> 339</span></a>  else
<a name="l340"><span class="linenum"> 340</span></a>  {
<a name="l341"><span class="linenum"> 341</span></a>      <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'ok' );
<a name="l342"><span class="linenum"> 342</span></a>  }
<a name="l343"><span class="linenum"> 343</span></a>  
<a name="l344"><span class="linenum"> 344</span></a>  <span class="comment">// register_globals?</span>
<a name="l345"><span class="linenum"> 345</span></a>  <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( 'PHP register_globals', <a class="var it5107" onMouseOver="hilite(5107)" onMouseOut="lolite()" onClick="logVariable('system_stats')" href="../../_variables/system_stats.html">$system_stats</a>['php_reg_globals'] ?  <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('On') : <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Off') );
<a name="l346"><span class="linenum"> 346</span></a>  if( <a class="var it5107" onMouseOver="hilite(5107)" onMouseOut="lolite()" onClick="logVariable('system_stats')" href="../../_variables/system_stats.html">$system_stats</a>['php_reg_globals'] )
<a name="l347"><span class="linenum"> 347</span></a>  {
<a name="l348"><span class="linenum"> 348</span></a>      <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'warning', <a class="var it7759" onMouseOver="hilite(7759)" onMouseOut="lolite()" onClick="logVariable('facilitate_exploits')" href="../../_variables/facilitate_exploits.html">$facilitate_exploits</a>.' '.sprintf( <a class="var it7760" onMouseOver="hilite(7760)" onMouseOut="lolite()" onClick="logVariable('change_ini')" href="../../_variables/change_ini.html">$change_ini</a>, 'register_globals = Off' )  );
<a name="l349"><span class="linenum"> 349</span></a>  }
<a name="l350"><span class="linenum"> 350</span></a>  else
<a name="l351"><span class="linenum"> 351</span></a>  {
<a name="l352"><span class="linenum"> 352</span></a>      <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'ok' );
<a name="l353"><span class="linenum"> 353</span></a>  }
<a name="l354"><span class="linenum"> 354</span></a>  
<a name="l355"><span class="linenum"> 355</span></a>  
<a name="l356"><span class="linenum"> 356</span></a>  <span class="comment">// allow_url_include? (since 5.2, supercedes allow_url_fopen for require()/include())</span>
<a name="l357"><span class="linenum"> 357</span></a>  if( <a class="phpfunction" onClick="logFunction('version_compare')" href="../../_functions/version_compare.html" onMouseOver="phpfuncPopup(event,'version_compare')">version_compare</a>(PHP_VERSION, '5.2', '&gt;=') )
<a name="l358"><span class="linenum"> 358</span></a>  {
<a name="l359"><span class="linenum"> 359</span></a>      <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( 'PHP allow_url_include', <a class="var it5107" onMouseOver="hilite(5107)" onMouseOut="lolite()" onClick="logVariable('system_stats')" href="../../_variables/system_stats.html">$system_stats</a>['php_allow_url_include'] ?  <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('On') : <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Off') );
<a name="l360"><span class="linenum"> 360</span></a>      if( <a class="var it5107" onMouseOver="hilite(5107)" onMouseOut="lolite()" onClick="logVariable('system_stats')" href="../../_variables/system_stats.html">$system_stats</a>['php_allow_url_include'] )
<a name="l361"><span class="linenum"> 361</span></a>      {
<a name="l362"><span class="linenum"> 362</span></a>          <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'warning', <a class="var it7759" onMouseOver="hilite(7759)" onMouseOut="lolite()" onClick="logVariable('facilitate_exploits')" href="../../_variables/facilitate_exploits.html">$facilitate_exploits</a>.' '.sprintf( <a class="var it7760" onMouseOver="hilite(7760)" onMouseOut="lolite()" onClick="logVariable('change_ini')" href="../../_variables/change_ini.html">$change_ini</a>, 'allow_url_include = Off' )  );
<a name="l363"><span class="linenum"> 363</span></a>      }
<a name="l364"><span class="linenum"> 364</span></a>      else
<a name="l365"><span class="linenum"> 365</span></a>      {
<a name="l366"><span class="linenum"> 366</span></a>          <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'ok' );
<a name="l367"><span class="linenum"> 367</span></a>      }
<a name="l368"><span class="linenum"> 368</span></a>  }
<a name="l369"><span class="linenum"> 369</span></a>  else
<a name="l370"><span class="linenum"> 370</span></a>  {
<a name="l371"><span class="linenum"> 371</span></a>      <span class="comment">/*</span>
<a name="l372"><span class="linenum"> 372</span></a>  <span class="comment">     * allow_url_fopen</span>
<a name="l373"><span class="linenum"> 373</span></a>  <span class="comment">     * Note: this allows including of remote files (PHP 4 only) as well as opening remote files with fopen() (all versions of PHP)</span>
<a name="l374"><span class="linenum"> 374</span></a>  <span class="comment">     * Both have potential for exploits. (The first is easier to exploit than the second).</span>
<a name="l375"><span class="linenum"> 375</span></a>  <span class="comment">     * dh&gt; Should we check for curl etc then also and warn the user until there's no method for us anymore to open remote files?</span>
<a name="l376"><span class="linenum"> 376</span></a>  <span class="comment">     * fp&gt; Yes</span>
<a name="l377"><span class="linenum"> 377</span></a>  <span class="comment">     */</span>
<a name="l378"><span class="linenum"> 378</span></a>      <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( 'PHP allow_url_fopen', <a class="var it5107" onMouseOver="hilite(5107)" onMouseOut="lolite()" onClick="logVariable('system_stats')" href="../../_variables/system_stats.html">$system_stats</a>['php_allow_url_fopen'] ?  <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('On') : <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Off') );
<a name="l379"><span class="linenum"> 379</span></a>      if( <a class="var it5107" onMouseOver="hilite(5107)" onMouseOut="lolite()" onClick="logVariable('system_stats')" href="../../_variables/system_stats.html">$system_stats</a>['php_allow_url_fopen'] )
<a name="l380"><span class="linenum"> 380</span></a>      {
<a name="l381"><span class="linenum"> 381</span></a>          <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'warning', <a class="var it7759" onMouseOver="hilite(7759)" onMouseOut="lolite()" onClick="logVariable('facilitate_exploits')" href="../../_variables/facilitate_exploits.html">$facilitate_exploits</a>.' '.sprintf( <a class="var it7760" onMouseOver="hilite(7760)" onMouseOut="lolite()" onClick="logVariable('change_ini')" href="../../_variables/change_ini.html">$change_ini</a>, 'allow_url_fopen = Off' )  );
<a name="l382"><span class="linenum"> 382</span></a>      }
<a name="l383"><span class="linenum"> 383</span></a>      else
<a name="l384"><span class="linenum"> 384</span></a>      {
<a name="l385"><span class="linenum"> 385</span></a>          <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'ok' );
<a name="l386"><span class="linenum"> 386</span></a>      }
<a name="l387"><span class="linenum"> 387</span></a>  }
<a name="l388"><span class="linenum"> 388</span></a>  
<a name="l389"><span class="linenum"> 389</span></a>  <span class="comment">// Magic quotes:</span>
<a name="l390"><span class="linenum"> 390</span></a>  if( !<a class="phpfunction" onClick="logFunction('strcasecmp')" href="../../_functions/strcasecmp.html" onMouseOver="phpfuncPopup(event,'strcasecmp')">strcasecmp</a>( <a class="phpfunction" onClick="logFunction('ini_get')" href="../../_functions/ini_get.html" onMouseOver="phpfuncPopup(event,'ini_get')">ini_get</a>('magic_quotes_sybase'), 'on' ) )
<a name="l391"><span class="linenum"> 391</span></a>  {
<a name="l392"><span class="linenum"> 392</span></a>      <a class="var it7773" onMouseOver="hilite(7773)" onMouseOut="lolite()" onClick="logVariable('magic_quotes')" href="../../_variables/magic_quotes.html">$magic_quotes</a> = <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('On').' (magic_quotes_sybase)';
<a name="l393"><span class="linenum"> 393</span></a>      <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../_variables/message.html">$message</a> = 'magic_quotes_sybase = Off';
<a name="l394"><span class="linenum"> 394</span></a>  }
<a name="l395"><span class="linenum"> 395</span></a>  elseif( <a class="phpfunction" onClick="logFunction('get_magic_quotes_gpc')" href="../../_functions/get_magic_quotes_gpc.html" onMouseOver="phpfuncPopup(event,'get_magic_quotes_gpc')">get_magic_quotes_gpc</a>() )
<a name="l396"><span class="linenum"> 396</span></a>  {
<a name="l397"><span class="linenum"> 397</span></a>      <a class="var it7773" onMouseOver="hilite(7773)" onMouseOut="lolite()" onClick="logVariable('magic_quotes')" href="../../_variables/magic_quotes.html">$magic_quotes</a> = <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('On').' (magic_quotes_gpc)';
<a name="l398"><span class="linenum"> 398</span></a>      <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../_variables/message.html">$message</a> = 'magic_quotes_gpc = Off';
<a name="l399"><span class="linenum"> 399</span></a>  }
<a name="l400"><span class="linenum"> 400</span></a>  else
<a name="l401"><span class="linenum"> 401</span></a>  {
<a name="l402"><span class="linenum"> 402</span></a>      <a class="var it7773" onMouseOver="hilite(7773)" onMouseOut="lolite()" onClick="logVariable('magic_quotes')" href="../../_variables/magic_quotes.html">$magic_quotes</a> = <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Off');
<a name="l403"><span class="linenum"> 403</span></a>      <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../_variables/message.html">$message</a> = '';
<a name="l404"><span class="linenum"> 404</span></a>  }
<a name="l405"><span class="linenum"> 405</span></a>  <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( 'PHP Magic Quotes', <a class="var it7773" onMouseOver="hilite(7773)" onMouseOut="lolite()" onClick="logVariable('magic_quotes')" href="../../_variables/magic_quotes.html">$magic_quotes</a> );
<a name="l406"><span class="linenum"> 406</span></a>  if( !empty( <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../_variables/message.html">$message</a> ) )
<a name="l407"><span class="linenum"> 407</span></a>  {
<a name="l408"><span class="linenum"> 408</span></a>      <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'warning', <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('PHP is adding extra quotes to all inputs. This leads to unnecessary extra processing.')
<a name="l409"><span class="linenum"> 409</span></a>          .' '.sprintf( <a class="var it7760" onMouseOver="hilite(7760)" onMouseOut="lolite()" onClick="logVariable('change_ini')" href="../../_variables/change_ini.html">$change_ini</a>, <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('message')" href="../../_variables/message.html">$message</a> ) );
<a name="l410"><span class="linenum"> 410</span></a>  }
<a name="l411"><span class="linenum"> 411</span></a>  else
<a name="l412"><span class="linenum"> 412</span></a>  {
<a name="l413"><span class="linenum"> 413</span></a>      <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'ok' );
<a name="l414"><span class="linenum"> 414</span></a>  }
<a name="l415"><span class="linenum"> 415</span></a>  
<a name="l416"><span class="linenum"> 416</span></a>  
<a name="l417"><span class="linenum"> 417</span></a>  <span class="comment">// Max upload size:</span>
<a name="l418"><span class="linenum"> 418</span></a>  <a class="var it7774" onMouseOver="hilite(7774)" onMouseOut="lolite()" onClick="logVariable('upload_max_filesize')" href="../../_variables/upload_max_filesize.html">$upload_max_filesize</a> = <a class="function" onClick="logFunction('system_check_upload_max_filesize')" href="../../_functions/system_check_upload_max_filesize.html" onMouseOver="funcPopup(event,'system_check_upload_max_filesize')">system_check_upload_max_filesize</a>();
<a name="l419"><span class="linenum"> 419</span></a>  <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( 'PHP upload_max_filesize', <a class="phpfunction" onClick="logFunction('ini_get')" href="../../_functions/ini_get.html" onMouseOver="phpfuncPopup(event,'ini_get')">ini_get</a>('upload_max_filesize') );
<a name="l420"><span class="linenum"> 420</span></a>  <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'ok' );
<a name="l421"><span class="linenum"> 421</span></a>  
<a name="l422"><span class="linenum"> 422</span></a>  <span class="comment">// Max post size:</span>
<a name="l423"><span class="linenum"> 423</span></a>  <a class="var it7775" onMouseOver="hilite(7775)" onMouseOut="lolite()" onClick="logVariable('post_max_size')" href="../../_variables/post_max_size.html">$post_max_size</a> = <a class="function" onClick="logFunction('system_check_post_max_size')" href="../../_functions/system_check_post_max_size.html" onMouseOver="funcPopup(event,'system_check_post_max_size')">system_check_post_max_size</a>();
<a name="l424"><span class="linenum"> 424</span></a>  <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( 'PHP post_max_size', <a class="phpfunction" onClick="logFunction('ini_get')" href="../../_functions/ini_get.html" onMouseOver="phpfuncPopup(event,'ini_get')">ini_get</a>('post_max_size') );
<a name="l425"><span class="linenum"> 425</span></a>  if( <a class="var it7775" onMouseOver="hilite(7775)" onMouseOut="lolite()" onClick="logVariable('post_max_size')" href="../../_variables/post_max_size.html">$post_max_size</a> &gt; <a class="var it7774" onMouseOver="hilite(7774)" onMouseOut="lolite()" onClick="logVariable('upload_max_filesize')" href="../../_variables/upload_max_filesize.html">$upload_max_filesize</a> )
<a name="l426"><span class="linenum"> 426</span></a>  {
<a name="l427"><span class="linenum"> 427</span></a>      <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'ok' );
<a name="l428"><span class="linenum"> 428</span></a>  }
<a name="l429"><span class="linenum"> 429</span></a>  elseif( <a class="var it7775" onMouseOver="hilite(7775)" onMouseOut="lolite()" onClick="logVariable('post_max_size')" href="../../_variables/post_max_size.html">$post_max_size</a> == <a class="var it7774" onMouseOver="hilite(7774)" onMouseOut="lolite()" onClick="logVariable('upload_max_filesize')" href="../../_variables/upload_max_filesize.html">$upload_max_filesize</a> )
<a name="l430"><span class="linenum"> 430</span></a>  {
<a name="l431"><span class="linenum"> 431</span></a>      <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'warning', <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('post_max_size should be larger than upload_max_filesize') );
<a name="l432"><span class="linenum"> 432</span></a>  }
<a name="l433"><span class="linenum"> 433</span></a>  else
<a name="l434"><span class="linenum"> 434</span></a>  {
<a name="l435"><span class="linenum"> 435</span></a>      <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'error', <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('post_max_size should be larger than upload_max_filesize') );
<a name="l436"><span class="linenum"> 436</span></a>  }
<a name="l437"><span class="linenum"> 437</span></a>  
<a name="l438"><span class="linenum"> 438</span></a>  <span class="comment">// Memory limit:</span>
<a name="l439"><span class="linenum"> 439</span></a>  <a class="var it2002" onMouseOver="hilite(2002)" onMouseOut="lolite()" onClick="logVariable('memory_limit')" href="../../_variables/memory_limit.html">$memory_limit</a> = <a class="function" onClick="logFunction('system_check_memory_limit')" href="../../_functions/system_check_memory_limit.html" onMouseOver="funcPopup(event,'system_check_memory_limit')">system_check_memory_limit</a>();
<a name="l440"><span class="linenum"> 440</span></a>  if( empty(<a class="var it2002" onMouseOver="hilite(2002)" onMouseOut="lolite()" onClick="logVariable('memory_limit')" href="../../_variables/memory_limit.html">$memory_limit</a>) )
<a name="l441"><span class="linenum"> 441</span></a>  {
<a name="l442"><span class="linenum"> 442</span></a>      <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( 'PHP memory_limit', <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('n.a.') );
<a name="l443"><span class="linenum"> 443</span></a>      <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'note' );
<a name="l444"><span class="linenum"> 444</span></a>  }
<a name="l445"><span class="linenum"> 445</span></a>  else
<a name="l446"><span class="linenum"> 446</span></a>  {
<a name="l447"><span class="linenum"> 447</span></a>      <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( 'PHP memory_limit', <a class="phpfunction" onClick="logFunction('ini_get')" href="../../_functions/ini_get.html" onMouseOver="phpfuncPopup(event,'ini_get')">ini_get</a>('memory_limit') );
<a name="l448"><span class="linenum"> 448</span></a>      if( <a class="var it2002" onMouseOver="hilite(2002)" onMouseOut="lolite()" onClick="logVariable('memory_limit')" href="../../_variables/memory_limit.html">$memory_limit</a> &lt; <a class="function" onClick="logFunction('get_php_bytes_size')" href="../../_functions/get_php_bytes_size.html" onMouseOver="funcPopup(event,'get_php_bytes_size')">get_php_bytes_size</a>( '256M' ) )
<a name="l449"><span class="linenum"> 449</span></a>      {
<a name="l450"><span class="linenum"> 450</span></a>          <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'error', <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('The memory_limit is too low. Some features like image manipulation will fail to work.') );
<a name="l451"><span class="linenum"> 451</span></a>      }
<a name="l452"><span class="linenum"> 452</span></a>      elseif( <a class="var it2002" onMouseOver="hilite(2002)" onMouseOut="lolite()" onClick="logVariable('memory_limit')" href="../../_variables/memory_limit.html">$memory_limit</a> &lt; <a class="function" onClick="logFunction('get_php_bytes_size')" href="../../_functions/get_php_bytes_size.html" onMouseOver="funcPopup(event,'get_php_bytes_size')">get_php_bytes_size</a>( '384M' ) )
<a name="l453"><span class="linenum"> 453</span></a>      {
<a name="l454"><span class="linenum"> 454</span></a>          <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'warning', <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('The memory_limit is low. Some features like image manipulation of large files may fail to work.') );
<a name="l455"><span class="linenum"> 455</span></a>      }
<a name="l456"><span class="linenum"> 456</span></a>      else
<a name="l457"><span class="linenum"> 457</span></a>      {
<a name="l458"><span class="linenum"> 458</span></a>          <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'ok' );
<a name="l459"><span class="linenum"> 459</span></a>      }
<a name="l460"><span class="linenum"> 460</span></a>  }
<a name="l461"><span class="linenum"> 461</span></a>  
<a name="l462"><span class="linenum"> 462</span></a>  <span class="comment">// Maximum execution time of each script</span>
<a name="l463"><span class="linenum"> 463</span></a>  <a class="var it5137" onMouseOver="hilite(5137)" onMouseOut="lolite()" onClick="logVariable('max_execution_time')" href="../../_variables/max_execution_time.html">$max_execution_time</a> = <a class="function" onClick="logFunction('system_check_max_execution_time')" href="../../_functions/system_check_max_execution_time.html" onMouseOver="funcPopup(event,'system_check_max_execution_time')">system_check_max_execution_time</a>();
<a name="l464"><span class="linenum"> 464</span></a>  if( empty( <a class="var it5137" onMouseOver="hilite(5137)" onMouseOut="lolite()" onClick="logVariable('max_execution_time')" href="../../_variables/max_execution_time.html">$max_execution_time</a> ) )
<a name="l465"><span class="linenum"> 465</span></a>  {
<a name="l466"><span class="linenum"> 466</span></a>      <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( 'PHP max_execution_time', <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Unlimited') );
<a name="l467"><span class="linenum"> 467</span></a>      <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'ok' );
<a name="l468"><span class="linenum"> 468</span></a>  }
<a name="l469"><span class="linenum"> 469</span></a>  else
<a name="l470"><span class="linenum"> 470</span></a>  {    // Time is limited, can we request more?:
<a name="l471"><span class="linenum"> 471</span></a>      <a class="var it7776" onMouseOver="hilite(7776)" onMouseOut="lolite()" onClick="logVariable('can_force_time')" href="../../_variables/can_force_time.html">$can_force_time</a> = <a class="phpfunction" onClick="logFunction('ini_set')" href="../../_functions/ini_set.html" onMouseOver="phpfuncPopup(event,'ini_set')">ini_set</a>( 'max_execution_time', 600 ); <span class="comment">// Try to force max_execution_time to 10 minutes</span>
<a name="l472"><span class="linenum"> 472</span></a>  
<a name="l473"><span class="linenum"> 473</span></a>      if( <a class="var it7776" onMouseOver="hilite(7776)" onMouseOut="lolite()" onClick="logVariable('can_force_time')" href="../../_variables/can_force_time.html">$can_force_time</a> !== false )
<a name="l474"><span class="linenum"> 474</span></a>      {
<a name="l475"><span class="linenum"> 475</span></a>          <a class="var it7777" onMouseOver="hilite(7777)" onMouseOut="lolite()" onClick="logVariable('forced_max_execution_time')" href="../../_variables/forced_max_execution_time.html">$forced_max_execution_time</a> = <a class="function" onClick="logFunction('system_check_max_execution_time')" href="../../_functions/system_check_max_execution_time.html" onMouseOver="funcPopup(event,'system_check_max_execution_time')">system_check_max_execution_time</a>();
<a name="l476"><span class="linenum"> 476</span></a>          <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( 'PHP forced max_execution_time', sprintf( <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('%s seconds'), <a class="var it7777" onMouseOver="hilite(7777)" onMouseOut="lolite()" onClick="logVariable('forced_max_execution_time')" href="../../_variables/forced_max_execution_time.html">$forced_max_execution_time</a> ) );
<a name="l477"><span class="linenum"> 477</span></a>          <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'ok', sprintf( <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('b2evolution was able to request more <a class="phpfunction" onClick="logFunction('time')" href="../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a> (than the default %s seconds) to execute complex tasks.'), <a class="var it5137" onMouseOver="hilite(5137)" onMouseOut="lolite()" onClick="logVariable('max_execution_time')" href="../../_variables/max_execution_time.html">$max_execution_time</a> ) );
<a name="l478"><span class="linenum"> 478</span></a>      }    
<a name="l479"><span class="linenum"> 479</span></a>      elseif( <a class="var it5137" onMouseOver="hilite(5137)" onMouseOut="lolite()" onClick="logVariable('max_execution_time')" href="../../_variables/max_execution_time.html">$max_execution_time</a> &lt;= 5 * 60 )
<a name="l480"><span class="linenum"> 480</span></a>      {
<a name="l481"><span class="linenum"> 481</span></a>          <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( 'PHP max_execution_time', sprintf( <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('%s seconds'), <a class="var it5137" onMouseOver="hilite(5137)" onMouseOut="lolite()" onClick="logVariable('max_execution_time')" href="../../_variables/max_execution_time.html">$max_execution_time</a> ) );
<a name="l482"><span class="linenum"> 482</span></a>          <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'error', <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('b2evolution may frequently run out of time to execute properly.') );
<a name="l483"><span class="linenum"> 483</span></a>      }
<a name="l484"><span class="linenum"> 484</span></a>      elseif( <a class="var it5137" onMouseOver="hilite(5137)" onMouseOut="lolite()" onClick="logVariable('max_execution_time')" href="../../_variables/max_execution_time.html">$max_execution_time</a> &gt; 5 * 60 )
<a name="l485"><span class="linenum"> 485</span></a>      {
<a name="l486"><span class="linenum"> 486</span></a>          <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( 'PHP max_execution_time', sprintf( <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('%s seconds'), <a class="var it5137" onMouseOver="hilite(5137)" onMouseOut="lolite()" onClick="logVariable('max_execution_time')" href="../../_variables/max_execution_time.html">$max_execution_time</a> ) );
<a name="l487"><span class="linenum"> 487</span></a>          <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'warning', <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('b2evolution may sometimes run out of time to execute properly.' ) );
<a name="l488"><span class="linenum"> 488</span></a>      }
<a name="l489"><span class="linenum"> 489</span></a>  }
<a name="l490"><span class="linenum"> 490</span></a>  
<a name="l491"><span class="linenum"> 491</span></a>  <span class="comment">// mbstring extension</span>
<a name="l492"><span class="linenum"> 492</span></a>  <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( 'PHP mbstring extension', <a class="phpfunction" onClick="logFunction('extension_loaded')" href="../../_functions/extension_loaded.html" onMouseOver="phpfuncPopup(event,'extension_loaded')">extension_loaded</a>('mbstring') ?  <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Loaded') : <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Not loaded') );
<a name="l493"><span class="linenum"> 493</span></a>  if( ! <a class="phpfunction" onClick="logFunction('extension_loaded')" href="../../_functions/extension_loaded.html" onMouseOver="phpfuncPopup(event,'extension_loaded')">extension_loaded</a>('mbstring' ) )
<a name="l494"><span class="linenum"> 494</span></a>  {
<a name="l495"><span class="linenum"> 495</span></a>      <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'warning', <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('b2evolution will not be able to convert character sets and special characters/languages may not be displayed correctly. Enable the mbstring extension in your php.ini file or ask your hosting provider about it.') );
<a name="l496"><span class="linenum"> 496</span></a>  }
<a name="l497"><span class="linenum"> 497</span></a>  else
<a name="l498"><span class="linenum"> 498</span></a>  {
<a name="l499"><span class="linenum"> 499</span></a>      <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'ok' );
<a name="l500"><span class="linenum"> 500</span></a>  }
<a name="l501"><span class="linenum"> 501</span></a>  
<a name="l502"><span class="linenum"> 502</span></a>  
<a name="l503"><span class="linenum"> 503</span></a>  <span class="comment">// XML extension</span>
<a name="l504"><span class="linenum"> 504</span></a>  <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( 'PHP XML extension', <a class="phpfunction" onClick="logFunction('extension_loaded')" href="../../_functions/extension_loaded.html" onMouseOver="phpfuncPopup(event,'extension_loaded')">extension_loaded</a>('xml') ?  <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Loaded') : <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Not loaded') );
<a name="l505"><span class="linenum"> 505</span></a>  if( ! <a class="phpfunction" onClick="logFunction('extension_loaded')" href="../../_functions/extension_loaded.html" onMouseOver="phpfuncPopup(event,'extension_loaded')">extension_loaded</a>('xml' ) )
<a name="l506"><span class="linenum"> 506</span></a>  {
<a name="l507"><span class="linenum"> 507</span></a>      <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'warning', <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('The XML extension is not loaded.') ); <span class="comment">// fp&gt; This message only repeats the exact same info that is already displayed. Not helpful.</span>
<a name="l508"><span class="linenum"> 508</span></a>  <span class="comment">    // fp&gt;TODO: explain what we need it for. Is it a problem or not.</span>
<a name="l509"><span class="linenum"> 509</span></a>  <span class="comment">    // furthermore I think xmlrpc does dynamic loading (or has it been removed?), in which case this should be tested too.</span>
<a name="l510"><span class="linenum"> 510</span></a>  <span class="comment">    // dh&gt; You mean the deprecated dl() loading? (fp&gt;yes) We might just try this then here also before any warning.</span>
<a name="l511"><span class="linenum"> 511</span></a>  }
<a name="l512"><span class="linenum"> 512</span></a>  else
<a name="l513"><span class="linenum"> 513</span></a>  {
<a name="l514"><span class="linenum"> 514</span></a>      <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'ok' );
<a name="l515"><span class="linenum"> 515</span></a>  }
<a name="l516"><span class="linenum"> 516</span></a>  
<a name="l517"><span class="linenum"> 517</span></a>  <span class="comment">// IMAP extension</span>
<a name="l518"><span class="linenum"> 518</span></a>  <a class="var it7778" onMouseOver="hilite(7778)" onMouseOut="lolite()" onClick="logVariable('imap_loaded')" href="../../_variables/imap_loaded.html">$imap_loaded</a> = <a class="phpfunction" onClick="logFunction('extension_loaded')" href="../../_functions/extension_loaded.html" onMouseOver="phpfuncPopup(event,'extension_loaded')">extension_loaded</a>( 'imap' );
<a name="l519"><span class="linenum"> 519</span></a>  <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( 'PHP IMAP extension', <a class="var it7778" onMouseOver="hilite(7778)" onMouseOut="lolite()" onClick="logVariable('imap_loaded')" href="../../_variables/imap_loaded.html">$imap_loaded</a> ? <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>( 'Loaded' ) : <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>( 'Not loaded' ) );
<a name="l520"><span class="linenum"> 520</span></a>  if ( ! <a class="var it7778" onMouseOver="hilite(7778)" onMouseOut="lolite()" onClick="logVariable('imap_loaded')" href="../../_variables/imap_loaded.html">$imap_loaded</a> )
<a name="l521"><span class="linenum"> 521</span></a>  {
<a name="l522"><span class="linenum"> 522</span></a>      <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'warning', <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>( 'You will not be able to use the Post by Email feature and the Return Path email processing of b2evolution. Enable the IMAP extension in your php.ini file or ask your hosting provider about it.' ) );
<a name="l523"><span class="linenum"> 523</span></a>  }
<a name="l524"><span class="linenum"> 524</span></a>  else
<a name="l525"><span class="linenum"> 525</span></a>  {
<a name="l526"><span class="linenum"> 526</span></a>      <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'ok' );
<a name="l527"><span class="linenum"> 527</span></a>  }
<a name="l528"><span class="linenum"> 528</span></a>  
<a name="l529"><span class="linenum"> 529</span></a>  <span class="comment">// Opcode cache</span>
<a name="l530"><span class="linenum"> 530</span></a>  <a class="var it7779" onMouseOver="hilite(7779)" onMouseOut="lolite()" onClick="logVariable('opcode_cache')" href="../../_variables/opcode_cache.html">$opcode_cache</a> = <a class="function" onClick="logFunction('get_active_opcode_cache')" href="../../_functions/get_active_opcode_cache.html" onMouseOver="funcPopup(event,'get_active_opcode_cache')">get_active_opcode_cache</a>();
<a name="l531"><span class="linenum"> 531</span></a>  <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( 'PHP opcode cache', <a class="var it7779" onMouseOver="hilite(7779)" onMouseOut="lolite()" onClick="logVariable('opcode_cache')" href="../../_variables/opcode_cache.html">$opcode_cache</a> );
<a name="l532"><span class="linenum"> 532</span></a>  if( <a class="var it7779" onMouseOver="hilite(7779)" onMouseOut="lolite()" onClick="logVariable('opcode_cache')" href="../../_variables/opcode_cache.html">$opcode_cache</a> == 'none' )
<a name="l533"><span class="linenum"> 533</span></a>  {
<a name="l534"><span class="linenum"> 534</span></a>      <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'warning', <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>( 'Using an opcode cache allows all your PHP scripts to run faster by caching a &quot;compiled&quot; (opcode) version of the scripts instead of recompiling everything at every page load. Several opcode caches are available. We recommend APC.' ) );
<a name="l535"><span class="linenum"> 535</span></a>  }
<a name="l536"><span class="linenum"> 536</span></a>  else
<a name="l537"><span class="linenum"> 537</span></a>  {
<a name="l538"><span class="linenum"> 538</span></a>      <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'ok' );
<a name="l539"><span class="linenum"> 539</span></a>  }
<a name="l540"><span class="linenum"> 540</span></a>  
<a name="l541"><span class="linenum"> 541</span></a>  <span class="comment">// pre_dump( get_loaded_extensions() );</span>
<a name="l542"><span class="linenum"> 542</span></a>  
<a name="l543"><span class="linenum"> 543</span></a>  <a class="var it2483" onMouseOver="hilite(2483)" onMouseOut="lolite()" onClick="logVariable('block_item_Widget')" href="../../_variables/block_item_Widget.html">$block_item_Widget</a>-&gt;<a class="function" onClick="logFunction('disp_template_raw')" href="../../_functions/disp_template_raw.html" onMouseOver="funcPopup(event,'disp_template_raw')">disp_template_raw</a>( 'block_end' );
<a name="l544"><span class="linenum"> 544</span></a>  
<a name="l545"><span class="linenum"> 545</span></a>  
<a name="l546"><span class="linenum"> 546</span></a>  
<a name="l547"><span class="linenum"> 547</span></a>  <span class="comment">/*</span>
<a name="l548"><span class="linenum"> 548</span></a>  <span class="comment"> * GD Library</span>
<a name="l549"><span class="linenum"> 549</span></a>  <span class="comment"> * windows: extension=php_gd2.dll</span>
<a name="l550"><span class="linenum"> 550</span></a>  <span class="comment"> * unix: ?</span>
<a name="l551"><span class="linenum"> 551</span></a>  <span class="comment"> * fp&gt; Note: I'm going to use this for thumbnails for now, but I plan to use it for other things like small stats &amp; status graphics.</span>
<a name="l552"><span class="linenum"> 552</span></a>  <span class="comment"> */</span>
<a name="l553"><span class="linenum"> 553</span></a>  <a class="var it2483" onMouseOver="hilite(2483)" onMouseOut="lolite()" onClick="logVariable('block_item_Widget')" href="../../_variables/block_item_Widget.html">$block_item_Widget</a>-&gt;<a onClick="logVariable('title')" class="var it10785" onMouseOver="hilite(10785)" onMouseOut="lolite()" href="../../_variables/title.html">title</a> = <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('GD Library (image handling)');
<a name="l554"><span class="linenum"> 554</span></a>  <a class="var it2483" onMouseOver="hilite(2483)" onMouseOut="lolite()" onClick="logVariable('block_item_Widget')" href="../../_variables/block_item_Widget.html">$block_item_Widget</a>-&gt;<a class="function" onClick="logFunction('disp_template_replaced')" href="../../_functions/disp_template_replaced.html" onMouseOver="funcPopup(event,'disp_template_replaced')">disp_template_replaced</a>( 'block_start' );
<a name="l555"><span class="linenum"> 555</span></a>  
<a name="l556"><span class="linenum"> 556</span></a>  <a class="var it5136" onMouseOver="hilite(5136)" onMouseOut="lolite()" onClick="logVariable('gd_version')" href="../../_variables/gd_version.html">$gd_version</a> = <a class="function" onClick="logFunction('system_check_gd_version')" href="../../_functions/system_check_gd_version.html" onMouseOver="funcPopup(event,'system_check_gd_version')">system_check_gd_version</a>();
<a name="l557"><span class="linenum"> 557</span></a>  <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>( 'GD Library version' ), isset(<a class="var it5136" onMouseOver="hilite(5136)" onMouseOut="lolite()" onClick="logVariable('gd_version')" href="../../_variables/gd_version.html">$gd_version</a>) ? <a class="var it5136" onMouseOver="hilite(5136)" onMouseOut="lolite()" onClick="logVariable('gd_version')" href="../../_variables/gd_version.html">$gd_version</a> : <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Not installed') );
<a name="l558"><span class="linenum"> 558</span></a>  if( ! isset(<a class="var it5136" onMouseOver="hilite(5136)" onMouseOut="lolite()" onClick="logVariable('gd_version')" href="../../_variables/gd_version.html">$gd_version</a>) )
<a name="l559"><span class="linenum"> 559</span></a>  {
<a name="l560"><span class="linenum"> 560</span></a>      <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'warning', <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('You will not be able to automatically generate thumbnails for images. Enable the gd2 extension in your php.ini file or ask your hosting provider about it.') );
<a name="l561"><span class="linenum"> 561</span></a>  }
<a name="l562"><span class="linenum"> 562</span></a>  else
<a name="l563"><span class="linenum"> 563</span></a>  {
<a name="l564"><span class="linenum"> 564</span></a>      <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'ok' );
<a name="l565"><span class="linenum"> 565</span></a>  
<a name="l566"><span class="linenum"> 566</span></a>      <a class="var it5135" onMouseOver="hilite(5135)" onMouseOut="lolite()" onClick="logVariable('gd_info')" href="../../_variables/gd_info.html">$gd_info</a> = <a class="phpfunction" onClick="logFunction('gd_info')" href="../../_functions/gd_info.html" onMouseOver="phpfuncPopup(event,'gd_info')">gd_info</a>();
<a name="l567"><span class="linenum"> 567</span></a>  
<a name="l568"><span class="linenum"> 568</span></a>  <span class="comment">    // JPG:</span>
<a name="l569"><span class="linenum"> 569</span></a>  <span class="comment">    // Tblue&gt; Note: &quot;JPG Support&quot; was renamed to &quot;JPEG Support&quot; in PHP 5.3.</span>
<a name="l570"><span class="linenum"> 570</span></a>      <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( 'GD JPG Support', ( ! empty(<a class="var it5135" onMouseOver="hilite(5135)" onMouseOut="lolite()" onClick="logVariable('gd_info')" href="../../_variables/gd_info.html">$gd_info</a>['JPG Support']) || ! empty(<a class="var it5135" onMouseOver="hilite(5135)" onMouseOut="lolite()" onClick="logVariable('gd_info')" href="../../_variables/gd_info.html">$gd_info</a>['JPEG Support']) ) ? <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Read/Write') : <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('No') );
<a name="l571"><span class="linenum"> 571</span></a>      if( empty(<a class="var it5135" onMouseOver="hilite(5135)" onMouseOut="lolite()" onClick="logVariable('gd_info')" href="../../_variables/gd_info.html">$gd_info</a>['JPG Support']) &amp;&amp; empty(<a class="var it5135" onMouseOver="hilite(5135)" onMouseOut="lolite()" onClick="logVariable('gd_info')" href="../../_variables/gd_info.html">$gd_info</a>['JPEG Support']) )
<a name="l572"><span class="linenum"> 572</span></a>      {
<a name="l573"><span class="linenum"> 573</span></a>          <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'warning', <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('You will not be able to automatically generate thumbnails for JPG images.') );
<a name="l574"><span class="linenum"> 574</span></a>      }
<a name="l575"><span class="linenum"> 575</span></a>      else
<a name="l576"><span class="linenum"> 576</span></a>      {
<a name="l577"><span class="linenum"> 577</span></a>          <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'ok' );
<a name="l578"><span class="linenum"> 578</span></a>      }
<a name="l579"><span class="linenum"> 579</span></a>  
<a name="l580"><span class="linenum"> 580</span></a>  <span class="comment">    // PNG:</span>
<a name="l581"><span class="linenum"> 581</span></a>      <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( 'GD PNG Support', !empty(<a class="var it5135" onMouseOver="hilite(5135)" onMouseOut="lolite()" onClick="logVariable('gd_info')" href="../../_variables/gd_info.html">$gd_info</a>['PNG Support']) ? <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Read/Write') : <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('No') );
<a name="l582"><span class="linenum"> 582</span></a>      if( empty(<a class="var it5135" onMouseOver="hilite(5135)" onMouseOut="lolite()" onClick="logVariable('gd_info')" href="../../_variables/gd_info.html">$gd_info</a>['PNG Support']) )
<a name="l583"><span class="linenum"> 583</span></a>      {
<a name="l584"><span class="linenum"> 584</span></a>          <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'warning', <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('You will not be able to automatically generate thumbnails for PNG images.') );
<a name="l585"><span class="linenum"> 585</span></a>      }
<a name="l586"><span class="linenum"> 586</span></a>      else
<a name="l587"><span class="linenum"> 587</span></a>      {
<a name="l588"><span class="linenum"> 588</span></a>          <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'ok' );
<a name="l589"><span class="linenum"> 589</span></a>      }
<a name="l590"><span class="linenum"> 590</span></a>  
<a name="l591"><span class="linenum"> 591</span></a>  <span class="comment">    // GIF:</span>
<a name="l592"><span class="linenum"> 592</span></a>      if( !empty(<a class="var it5135" onMouseOver="hilite(5135)" onMouseOut="lolite()" onClick="logVariable('gd_info')" href="../../_variables/gd_info.html">$gd_info</a>['GIF Create Support']) )
<a name="l593"><span class="linenum"> 593</span></a>      {
<a name="l594"><span class="linenum"> 594</span></a>          <a class="var it7780" onMouseOver="hilite(7780)" onMouseOut="lolite()" onClick="logVariable('gif_support')" href="../../_variables/gif_support.html">$gif_support</a> = <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Read/Write');
<a name="l595"><span class="linenum"> 595</span></a>      }
<a name="l596"><span class="linenum"> 596</span></a>      elseif( !empty(<a class="var it5135" onMouseOver="hilite(5135)" onMouseOut="lolite()" onClick="logVariable('gd_info')" href="../../_variables/gd_info.html">$gd_info</a>['GIF Read Support']) )
<a name="l597"><span class="linenum"> 597</span></a>      {
<a name="l598"><span class="linenum"> 598</span></a>          <a class="var it7780" onMouseOver="hilite(7780)" onMouseOut="lolite()" onClick="logVariable('gif_support')" href="../../_variables/gif_support.html">$gif_support</a> = <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Read');
<a name="l599"><span class="linenum"> 599</span></a>      }
<a name="l600"><span class="linenum"> 600</span></a>      else
<a name="l601"><span class="linenum"> 601</span></a>      {
<a name="l602"><span class="linenum"> 602</span></a>          <a class="var it7780" onMouseOver="hilite(7780)" onMouseOut="lolite()" onClick="logVariable('gif_support')" href="../../_variables/gif_support.html">$gif_support</a> = <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('No');
<a name="l603"><span class="linenum"> 603</span></a>      }
<a name="l604"><span class="linenum"> 604</span></a>      <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( 'GD GIF Support', <a class="var it7780" onMouseOver="hilite(7780)" onMouseOut="lolite()" onClick="logVariable('gif_support')" href="../../_variables/gif_support.html">$gif_support</a> );
<a name="l605"><span class="linenum"> 605</span></a>      if( <a class="var it7780" onMouseOver="hilite(7780)" onMouseOut="lolite()" onClick="logVariable('gif_support')" href="../../_variables/gif_support.html">$gif_support</a> == <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('No') )
<a name="l606"><span class="linenum"> 606</span></a>      {
<a name="l607"><span class="linenum"> 607</span></a>          <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'warning', <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('You will not be able to automatically generate thumbnails for GIF images.') );
<a name="l608"><span class="linenum"> 608</span></a>      }
<a name="l609"><span class="linenum"> 609</span></a>      elseif( <a class="var it7780" onMouseOver="hilite(7780)" onMouseOut="lolite()" onClick="logVariable('gif_support')" href="../../_variables/gif_support.html">$gif_support</a> == <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Read') )
<a name="l610"><span class="linenum"> 610</span></a>      {
<a name="l611"><span class="linenum"> 611</span></a>          <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'warning', <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Thumbnails for GIF images will be generated as PNG or JPG.') );
<a name="l612"><span class="linenum"> 612</span></a>      }
<a name="l613"><span class="linenum"> 613</span></a>      else
<a name="l614"><span class="linenum"> 614</span></a>      {
<a name="l615"><span class="linenum"> 615</span></a>          <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'ok' );
<a name="l616"><span class="linenum"> 616</span></a>      }
<a name="l617"><span class="linenum"> 617</span></a>  
<a name="l618"><span class="linenum"> 618</span></a>  <span class="comment">    // FreeType:</span>
<a name="l619"><span class="linenum"> 619</span></a>      <a class="function" onClick="logFunction('init_system_check')" href="../../_functions/init_system_check.html" onMouseOver="funcPopup(event,'init_system_check')">init_system_check</a>( 'GD FreeType Support', !empty(<a class="var it5135" onMouseOver="hilite(5135)" onMouseOut="lolite()" onClick="logVariable('gd_info')" href="../../_variables/gd_info.html">$gd_info</a>['FreeType Support']) ?  <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('Yes') : <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('No') );
<a name="l620"><span class="linenum"> 620</span></a>      if( empty(<a class="var it5135" onMouseOver="hilite(5135)" onMouseOut="lolite()" onClick="logVariable('gd_info')" href="../../_variables/gd_info.html">$gd_info</a>['FreeType Support']) )
<a name="l621"><span class="linenum"> 621</span></a>      {
<a name="l622"><span class="linenum"> 622</span></a>          <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'warning', <a class="function" onClick="logFunction('T_')" href="../../_functions/t_.html" onMouseOver="funcPopup(event,'t_')">T_</a>('You will not be able to write text to images using TrueType fonts.') );
<a name="l623"><span class="linenum"> 623</span></a>      }
<a name="l624"><span class="linenum"> 624</span></a>      else
<a name="l625"><span class="linenum"> 625</span></a>      {
<a name="l626"><span class="linenum"> 626</span></a>          <a class="function" onClick="logFunction('disp_system_check')" href="../../_functions/disp_system_check.html" onMouseOver="funcPopup(event,'disp_system_check')">disp_system_check</a>( 'ok' );
<a name="l627"><span class="linenum"> 627</span></a>      }
<a name="l628"><span class="linenum"> 628</span></a>  <span class="comment">    // pre_dump( $gd_info );</span>
<a name="l629"><span class="linenum"> 629</span></a>  }
<a name="l630"><span class="linenum"> 630</span></a>  <a class="var it2483" onMouseOver="hilite(2483)" onMouseOut="lolite()" onClick="logVariable('block_item_Widget')" href="../../_variables/block_item_Widget.html">$block_item_Widget</a>-&gt;<a class="function" onClick="logFunction('disp_template_raw')" href="../../_functions/disp_template_raw.html" onMouseOver="funcPopup(event,'disp_template_raw')">disp_template_raw</a>( 'block_end' );
<a name="l631"><span class="linenum"> 631</span></a>  
<a name="l632"><span class="linenum"> 632</span></a>  
<a name="l633"><span class="linenum"> 633</span></a>  <span class="comment">// TODO: dh&gt; output_buffering (recommend off)</span>
<a name="l634"><span class="linenum"> 634</span></a>  <span class="comment">// TODO: dh&gt; session.auto_start (recommend off)</span>
<a name="l635"><span class="linenum"> 635</span></a>  <span class="comment">// TODO: dh&gt; How to change ini settings in .htaccess (for mod_php), link to manual</span>
<a name="l636"><span class="linenum"> 636</span></a>  <span class="comment">// fp&gt; all good ideas :)</span>
<a name="l637"><span class="linenum"> 637</span></a>  <span class="comment">// TODO: dh&gt; submit the report into a central database</span>
<a name="l638"><span class="linenum"> 638</span></a>  <span class="comment">// fp&gt;yope, with a Globally unique identifier in order to avoid duplicates.</span>
<a name="l639"><span class="linenum"> 639</span></a>  
<a name="l640"><span class="linenum"> 640</span></a>  <span class="comment">// pre_dump( ini_get_all() );</span>
<a name="l641"><span class="linenum"> 641</span></a>  
<a name="l642"><span class="linenum"> 642</span></a>  
<a name="l643"><span class="linenum"> 643</span></a>  <span class="comment">// End payload block:</span>
<a name="l644"><span class="linenum"> 644</span></a>  <a class="var it144" onMouseOver="hilite(144)" onMouseOut="lolite()" onClick="logVariable('AdminUI')" href="../../_variables/AdminUI.html">$AdminUI</a>-&gt;<a class="function" onClick="logFunction('disp_payload_end')" href="../../_functions/disp_payload_end.html" onMouseOver="funcPopup(event,'disp_payload_end')">disp_payload_end</a>();
<a name="l645"><span class="linenum"> 645</span></a>  
<a name="l646"><span class="linenum"> 646</span></a>  <span class="comment">// Display body bottom, debug info and close &lt;/html&gt;:</span>
<a name="l647"><span class="linenum"> 647</span></a>  <a class="var it144" onMouseOver="hilite(144)" onMouseOut="lolite()" onClick="logVariable('AdminUI')" href="../../_variables/AdminUI.html">$AdminUI</a>-&gt;<a class="function" onClick="logFunction('disp_global_footer')" href="../../_functions/disp_global_footer.html" onMouseOver="funcPopup(event,'disp_global_footer')">disp_global_footer</a>();
<a name="l648"><span class="linenum"> 648</span></a>  
<a name="l649"><span class="linenum"> 649</span></a>  ?&gt;
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'disp_body_top': ['disp_body_top', 'Dsiplay the top of the HTML <body>... ', [['skins_adm/bootstrap','_adminUI.class.php',161],['skins_adm','_adminUI_general.class.php',516]], 61],
'disp_payload_begin': ['disp_payload_begin', 'Display the start of a payload block ', [['skins_adm/bootstrap','_adminUI.class.php',200],['skins_adm','_adminUI_general.class.php',605]], 91],
'breadcrumbpath_add': ['breadcrumbpath_add', 'Note: These are not real breadcrumbs. It\'s just "so to speak" for a hierarchical path. ', [['skins_adm','_adminUI_general.class.php',213]], 253],
'list': ['list', '', [['rsc/js/bootstrap','typeahead.bundle.js',156]], 105],
'get_manual_link': ['get_manual_link', 'Generate a link to a online help resource. testing the concept of online help (aka webhelp). this function should be relocated somewhere better if it is taken onboard by the project ', [['inc/_core','_misc.funcs.php',4935]], 284],
'get_php_bytes_size': ['get_php_bytes_size', 'Get how much bytes php ini value takes ', [['inc/tools/model','_system.funcs.php',524]], 6],
'disp_payload_end': ['disp_payload_end', 'Display the end of a payload block ', [['skins_adm/bootstrap','_adminUI.class.php',214],['skins_adm','_adminUI_general.class.php',656]], 91],
'set_page_manual_link': ['set_page_manual_link', 'Adds a manual link to the entire page right after the breadcrumb ', [['skins_adm','_adminUI_general.class.php',243]], 149],
'locale_datetimefmt': ['locale_datetimefmt', '', [['inc/locales','_locale.funcs.php',425]], 5],
'init_system_check': ['init_system_check', '', [['inc/tools','system.ctrl.php',46]], 41],
'add': ['add', '', [['inc/_ext/pclzip','pclzip.lib.php',455],['rsc/js/tiny_mce/plugins/spellchecker/includes','Engine.php',141],['inc/skins/model','_skincache.class.php',50],['inc/_core/model','_messages.class.php',114],['inc/_ext/swift/classes/Swift/Plugins','LoggerPlugin.php',33],['inc/_ext/swift/classes/Swift/Plugins','Logger.php',20],['inc/files/model','_filetypecache.class.php',38],['inc/_core/model/dataobjects','_dataobjectcache.class.php',339],['inc/_ext/swift/classes/Swift/Plugins/Loggers','EchoLogger.php',33],['inc/_core/model','_log.class.php',109],['inc/_core/model','_log.class.php',577],['inc/users/model','_usercache.class.php',239],['inc/_ext/swift/classes/Swift/Plugins/Loggers','ArrayLogger.php',44],['inc/links/model','_linkcache.class.php',86],['inc/users/model','_groupsettings.class.php',103],['inc/chapters/model','_chaptercache.class.php',98],['inc/files/model','_filelist.class.php',373],['inc/collections/model','_blogcache.class.php',50]], 1695],
'system_check_post_max_size': ['system_check_post_max_size', '', [['inc/tools/model','_system.funcs.php',483]], 2],
'mysql2timestamp': ['mysql2timestamp', 'Convert a MYSQL date to a UNIX timestamp. ', [['inc/_core','_misc.funcs.php',1237]], 15],
'system_check_charset_update': ['system_check_charset_update', 'Check if some of the tables have different charset than what we expect ', [['inc/tools/model','_system.funcs.php',559]], 3],
'breadcrumbpath_init': ['breadcrumbpath_init', 'Note: These are not real breadcrumbs. It\'s just "so to speak" for a hierarchical path. ', [['skins_adm','_adminUI_general.class.php',174]], 63],
'check_perm': ['check_perm', 'Check module permission ', [['inc/_core/model','_module.class.php',234],['inc/users/model','_user.class.php',2234],['inc/messaging/model','_message.class.php',595],['inc/messaging/model','_thread.class.php',482],['inc/links/model','_linkcomment.class.php',49],['inc/links/model','_linkitem.class.php',50],['inc/users/model','_group.class.php',265],['inc/sessions/model','_goal.class.php',94],['inc/links/model','_linkuser.class.php',47]], 1082],
'pop_up_window': ['pop_up_window', 'Opens a window, centers it and makes sure it gets focus. ', [['rsc/js','functions.js',9]], 4],
'get_system_stats': ['get_system_stats', 'Collect system stats for display on the "About this system" page ', [['inc/tools/model','_system.funcs.php',16]], 2],
'b2evonet_get_updates': ['b2evonet_get_updates', 'Get updates from b2evolution.net ', [['inc/dashboard/model','_dashboard.funcs.php',16]], 4],
'disp_template_raw': ['disp_template_raw', 'Display a template param without replacing variables ', [['inc/_core/ui','_uiwidget.class.php',101]], 27],
'system_check_process_group': ['system_check_process_group', '', [['inc/tools/model','_system.funcs.php',446]], 2],
'bytesreadable': ['bytesreadable', 'Converts bytes to readable bytes/kb/mb/gb, like "12.45mb" ', [['inc/files/model','_file.funcs.php',32]], 22],
'disp_template_replaced': ['disp_template_replaced', 'Display a template param with its variables replaced ', [['inc/_core/ui','_uiwidget.class.php',110]], 53],
'system_check_gd_version': ['system_check_gd_version', '', [['inc/tools/model','_system.funcs.php',500]], 2],
'get_active_opcode_cache': ['get_active_opcode_cache', '', [['inc/_core','_misc.funcs.php',5703]], 3],
'system_check_process_user': ['system_check_process_user', '', [['inc/tools/model','_system.funcs.php',416]], 2],
'load_funcs': ['load_funcs', '', [['inc/_core','_misc.funcs.php',158]], 242],
'date_i18n': ['date_i18n', 'Date internationalization: same as date() formatting but with i18n support. ', [['inc/_core','_misc.funcs.php',1322]], 24],
'system_get_result': ['system_get_result', 'Get corresponding status and message for the system_check_dir code. ', [['inc/tools/model','_system.funcs.php',136]], 4],
'system_check_memory_limit': ['system_check_memory_limit', '', [['inc/tools/model','_system.funcs.php',491]], 6],
'system_check_caches': ['system_check_caches', 'Check and repair cache folders. ', [['inc/tools/model','_system.funcs.php',276]], 4],
'display': ['display', 'Display the widget! ', [['inc/widgets/widgets','_coll_tag_cloud.widget.php',170],['inc/_core/model/db','_sql.class.php',68],['inc/widgets/widgets','_coll_logo.widget.php',138],['inc/widgets/widgets','_mobile_skin_switcher.widget.php',105],['inc/widgets/widgets','_online_users.widget.php',95],['inc/widgets/widgets','_user_login.widget.php',195],['inc/widgets/widgets','_coll_item_list.widget.php',274],['inc/_core/model','_messages.class.php',183],['inc/widgets/widgets','_user_links.widget.php',114],['inc/widgets/widgets','_coll_featured_intro.widget.php',171],['plugins','_calendar.plugin.php',619],['inc/widgets/widgets','_coll_search_form.widget.php',135],['inc/widgets/widgets','_coll_longdesc.widget.php',99],['inc/widgets/widgets','_content_hierarchy.widget.php',120],['inc/widgets/widgets','_coll_tagline.widget.php',79],['inc/widgets/widgets','_coll_current_filters.widget.php',113],['inc/widgets/widgets','_coll_category_list.widget.php',198],['inc/widgets/widgets','_org_members.widget.php',147],['inc/widgets/widgets','_coll_comment_list.widget.php',129],['inc/_core/model','_log.class.php',276],['inc/_core/model','_log.class.php',602],['inc/widgets/widgets','_member_count.widget.php',66],['inc/widgets/widgets','_menu_link.widget.php',202],['inc/_core/ui/results','_results.class.php',916],['inc/widgets/widgets','_free_html.widget.php',110],['inc/widgets/widgets','_breadcrumb_path.widget.php',103],['inc/widgets/widgets','_image.widget.php',139],['inc/widgets/widgets','_profile_menu_link.widget.php',128],['inc/widgets/widgets','_coll_media_index.widget.php',199],['inc/widgets/model','_widget.class.php',513],['inc/widgets/widgets','_colls_list_owner.widget.php',121],['inc/widgets/widgets','_user_tools.widget.php',252],['inc/widgets/widgets','_coll_common_links.widget.php',167],['inc/widgets/widgets','_msg_menu_link.widget.php',191],['inc/widgets/widgets','_user_avatars.widget.php',177],['inc/widgets/widgets','_coll_xml_feeds.widget.php',120],['inc/widgets/widgets','_coll_avatar.widget.php',92],['inc/widgets/widgets','_user_register.widget.php',156],['inc/widgets/widgets','_colls_list_public.widget.php',121],['inc/widgets/widgets','_coll_title.widget.php',100]], 129],
'url_crumb': ['url_crumb', 'Create a crumb param to be passed in action urls... ', [['inc/_core','_url.funcs.php',597]], 281],
't_': ['t_', 'Provide translation in the context of this module: ', [['inc/_core/model','_module.class.php',67],['rsc/js','blog_widgets.js',467],['inc/skins/model','_skin.class.php',1131],['inc/plugins','_plugin.class.php',2799],['inc/locales','_locale.funcs.php',29],['inc/locales','_locale.funcs.php',226]], 12118],
'disp_global_footer': ['disp_global_footer', 'Display body bottom, debug info and close </html> ', [['skins_adm/bootstrap','_adminUI.class.php',185],['skins_adm','_adminUI_general.class.php',582]], 61],
'disp_system_check': ['disp_system_check', '', [['inc/tools','system.ctrl.php',53]], 68],
'set_path': ['set_path', 'Set the full selected path. ', [['skins_adm','_adminUI_general.class.php',1377]], 88],
'disp_html_head': ['disp_html_head', 'Display doctype + <head>...</head> section ', [['skins_adm','_adminUI_general.class.php',493]], 60],
'clear': ['clear', 'Empty the message list ', [['inc/_ext/swift/classes/Swift/Plugins','MessageLogger.php',50],['inc/_ext/swift/classes/Swift/Plugins/Reporters','HitReporter.php',54],['inc/_core/model','_messages.class.php',102],['inc/_ext/swift/classes/Swift/Plugins','LoggerPlugin.php',43],['inc/_ext/swift/classes/Swift/Plugins','Logger.php',27],['inc/_core/model/dataobjects','_dataobjectcache.class.php',437],['inc/_ext/swift/classes/Swift/Plugins/Loggers','EchoLogger.php',47],['inc/_core/model','_log.class.php',84],['inc/_core/model','_log.class.php',587],['inc/users/model','_usercache.class.php',376],['inc/files/model','_filerootcache.class.php',172],['inc/_ext/swift/classes/Swift/Plugins/Loggers','ArrayLogger.php',57],['inc/links/model','_linkcache.class.php',517],['inc/chapters/model','_chaptercache.class.php',81]], 99],
'system_check_upload_max_filesize': ['system_check_upload_max_filesize', '', [['inc/tools/model','_system.funcs.php',475]], 2],
'locale_datefmt': ['locale_datefmt', 'Returns the current locale\'s default date format ', [['inc/locales','_locale.funcs.php',385]], 71],
'action_icon': ['action_icon', 'Generate requested action icon depending on perm ', [['inc/_core/model/dataobjects','_dataobject.class.php',1071],['inc/_core','_misc.funcs.php',3977]], 289],
'get': ['get', 'Get a member param by its name ', [['inc/items/model','_item.class.php',6187],['inc/_core/model/db','_sql.class.php',50],['inc/_core/model/dataobjects','_dataobject.class.php',834],['inc/plugins/model','_pluginusersettings.class.php',40],['inc/users/model','_user.class.php',1227],['rsc/js/tiny_mce/plugins/spellchecker/includes','Engine.php',145],['inc/settings/model','_abstractsettings.class.php',252],['inc/settings/model','_generalsettings.class.php',379],['inc/users/model','_usersettings.class.php',148],['inc/_ext/swift/classes/Swift/Mime','HeaderSet.php',95],['inc/links/model','_linkcomment.class.php',150],['inc/links/model','_linkitem.class.php',205],['inc/sessions/model','_session.class.php',428],['inc/collections/model','_blog.class.php',1842],['inc/comments/model','_comment.class.php',386],['inc/cron/model','_cronjob.class.php',89],['inc/plugins/model','_pluginsettings.class.php',40],['inc/links/model','_linkowner.class.php',218],['plugins/twitter_plugin/twitteroauth','twitteroauth.php',146],['inc/slugs/model','_slug.class.php',68],['inc/users/model','_groupsettings.class.php',124],['inc/chapters/model','_chapter.class.php',600],['inc/antispam/model','_iprange.class.php',60],['inc/files/model','_file.class.php',555],['inc/links/model','_linkuser.class.php',154],['inc/_ext/swift/classes/Swift/Mime','SimpleHeaderSet.php',165]], 2630],
'system_check_max_execution_time': ['system_check_max_execution_time', '', [['inc/tools/model','_system.funcs.php',516]], 2],
'version_compare': ['version_compare', '', [], 113],
'strcasecmp': ['strcasecmp', '', [], 23],
'gmdate': ['gmdate', '', [], 18],
'count': ['count', '', [], 928],
'ini_get': ['ini_get', '', [], 43],
'time': ['time', '', [], 76],
'gd_info': ['gd_info', '', [], 2],
'get_magic_quotes_gpc': ['get_magic_quotes_gpc', '', [], 2],
'ini_set': ['ini_set', '', [], 37],
'defined': ['defined', '', [], 962],
'implode': ['implode', '', [], 571],
'extension_loaded': ['extension_loaded', '', [], 30]};
CLASS_DATA={
'widget': ['widget', 'Widget class which provides an interface to widget methods for other classes. ', [['inc/_core/ui','_uiwidget.class.php',18]], 43]};
CONST_DATA={
'EVO_MAIN_INIT': ['EVO_MAIN_INIT', '', [['install','index.php',26],['inc','_main.inc.php',36],['install','debug.php',22]], 912]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Sat Nov 21 22:13:19 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
