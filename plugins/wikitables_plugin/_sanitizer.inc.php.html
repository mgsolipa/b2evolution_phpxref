<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : Detail view of _sanitizer.inc.php</title>
    <link rel="stylesheet" href="../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Sat Nov 21 22:13:19 2015 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../';
subdir='plugins/wikitables_plugin';
filename='_sanitizer.inc.php.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="details-heading"><a href="./index.html">/plugins/wikitables_plugin/</a> -> <a href="_sanitizer.inc.php.source.html">_sanitizer.inc.php</a> (summary)</h2>
<div class="details-summary">
<p class="viewlinks">[<a href="_sanitizer.inc.php.source.html">Source view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="../../_stats.html">Project Stats</a>]</p>
<p><b>XHTML sanitizer for %MediaWiki. Copyright Â© 2002-2005 Brion Vibber &lt;brion@pobox.com&gt; et al http://www.mediawiki.org/</b></p>
<table>
<tr><td align="right">File Size: </td><td>1778 lines (54 kb)</td></tr>
<tr><td align="right">Included or required:</td><td>0 times</td></tr>
<tr><td align="right" valign="top">Referenced: </td><td>0 times</td></tr>
<tr><td align="right" valign="top">Includes or requires: </td><td>0 files</td></tr>
</table>
<h3>Defines 1 class</h3>
<div class="inset">
<p><b>Sanitizer::</b> (39 methods):<br>
&nbsp;&nbsp;<a href="#getattribsregex">getAttribsRegex</a>()<br>
&nbsp;&nbsp;<a href="#removehtmltags">removeHTMLtags</a>()<br>
&nbsp;&nbsp;<a href="#removehtmlcomments">removeHTMLcomments</a>()<br>
&nbsp;&nbsp;<a href="#validatetag">validateTag</a>()<br>
&nbsp;&nbsp;<a href="#validatetagattributes">validateTagAttributes</a>()<br>
&nbsp;&nbsp;<a href="#validateattributes">validateAttributes</a>()<br>
&nbsp;&nbsp;<a href="#mergeattributes">mergeAttributes</a>()<br>
&nbsp;&nbsp;<a href="#checkcss">checkCss</a>()<br>
&nbsp;&nbsp;<a href="#cssdecodecallback">cssDecodeCallback</a>()<br>
&nbsp;&nbsp;<a href="#fixtagattributes">fixTagAttributes</a>()<br>
&nbsp;&nbsp;<a href="#encodeattribute">encodeAttribute</a>()<br>
&nbsp;&nbsp;<a href="#safeencodeattribute">safeEncodeAttribute</a>()<br>
&nbsp;&nbsp;<a href="#escapeid">escapeId</a>()<br>
&nbsp;&nbsp;<a href="#escapeclass">escapeClass</a>()<br>
&nbsp;&nbsp;<a href="#escapehtmlallowentities">escapeHtmlAllowEntities</a>()<br>
&nbsp;&nbsp;<a href="#armorlinkscallback">armorLinksCallback</a>()<br>
&nbsp;&nbsp;<a href="#decodetagattributes">decodeTagAttributes</a>()<br>
&nbsp;&nbsp;<a href="#gettagattributecallback">getTagAttributeCallback</a>()<br>
&nbsp;&nbsp;<a href="#normalizeattributevalue">normalizeAttributeValue</a>()<br>
&nbsp;&nbsp;<a href="#normalizewhitespace">normalizeWhitespace</a>()<br>
&nbsp;&nbsp;<a href="#normalizesectionnamewhitespace">normalizeSectionNameWhitespace</a>()<br>
&nbsp;&nbsp;<a href="#normalizecharreferences">normalizeCharReferences</a>()<br>
&nbsp;&nbsp;<a href="#normalizecharreferencescallback">normalizeCharReferencesCallback</a>()<br>
&nbsp;&nbsp;<a href="#normalizeentity">normalizeEntity</a>()<br>
&nbsp;&nbsp;<a href="#deccharreference">decCharReference</a>()<br>
&nbsp;&nbsp;<a href="#hexcharreference">hexCharReference</a>()<br>
&nbsp;&nbsp;<a href="#validatecodepoint">validateCodepoint</a>()<br>
&nbsp;&nbsp;<a href="#decodecharreferences">decodeCharReferences</a>()<br>
&nbsp;&nbsp;<a href="#decodecharreferencesandnormalize">decodeCharReferencesAndNormalize</a>()<br>
&nbsp;&nbsp;<a href="#decodecharreferencescallback">decodeCharReferencesCallback</a>()<br>
&nbsp;&nbsp;<a href="#decodechar">decodeChar</a>()<br>
&nbsp;&nbsp;<a href="#decodeentity">decodeEntity</a>()<br>
&nbsp;&nbsp;<a href="#attributewhitelist">attributeWhitelist</a>()<br>
&nbsp;&nbsp;<a href="#setupattributewhitelist">setupAttributeWhitelist</a>()<br>
&nbsp;&nbsp;<a href="#stripalltags">stripAllTags</a>()<br>
&nbsp;&nbsp;<a href="#hackdoctype">hackDocType</a>()<br>
&nbsp;&nbsp;<a href="#cleanurl">cleanUrl</a>()<br>
&nbsp;&nbsp;<a href="#cleanurlcallback">cleanUrlCallback</a>()<br>
&nbsp;&nbsp;<a href="#validateemail">validateEmail</a>()<br>
</p>
</div>
</div>
<br><div class="details-funclist">
<div class="details-classinfo">
<p class="details-classtitle">Class: <a name="sanitizer"><b>Sanitizer</b></a>&nbsp;&nbsp;- <a href="../../_classes/sanitizer.html"><small>X-Ref</small></a>
</p>
<b>XHTML sanitizer for MediaWiki<BR>
</b><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="getattribsregex" onClick="logFunction('getattribsregex', '_sanitizer.inc.php.source.html#l328')" href="_sanitizer.inc.php.source.html#l328">getAttribsRegex</a>()&nbsp;&nbsp;
<a href="../../_functions/getattribsregex.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Regular expression to match HTML/XML attribute pairs within a tag.<BR>
Allows some... latitude.<BR>
Used in Sanitizer::fixTagAttributes and Sanitizer::decodeTagAttributes<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="removehtmltags" onClick="logFunction('removehtmltags', '_sanitizer.inc.php.source.html#l355')" href="_sanitizer.inc.php.source.html#l355">removeHTMLtags</a>( <a href="../../_variables/text.html">$text</a>, <a href="../../_variables/processCallback.html">$processCallback</a> = null, <a href="../../_variables/args.html">$args</a> = array()&nbsp;&nbsp;
<a href="../../_functions/removehtmltags.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Cleans up HTML, removes dangerous tags and attributes, and<BR>
removes HTML comments<BR>
</b><BR><b>param:</b> $text String<br>
<b>param:</b> $processCallback Callback to do any variable or parameter replacements in HTML attribute values<br>
<b>param:</b> array $args for the processing callback<br>
<b>param:</b> array $extratags for any extra tags to include<br>
<b>param:</b> array $removetags for any tags (default or extra) to exclude<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="removehtmlcomments" onClick="logFunction('removehtmlcomments', '_sanitizer.inc.php.source.html#l595')" href="_sanitizer.inc.php.source.html#l595">removeHTMLcomments</a>( <a href="../../_variables/text.html">$text</a> )&nbsp;&nbsp;
<a href="../../_functions/removehtmlcomments.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Remove '&lt;!--', '--&gt;', and everything between.<BR>
To avoid leaving blank lines, when a comment is both preceded<BR>
and followed by a newline (ignoring spaces), trim leading and<BR>
trailing spaces and one of the newlines.<BR>
</b><BR><b>param:</b> $text String<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="validatetag" onClick="logFunction('validatetag', '_sanitizer.inc.php.source.html#l640')" href="_sanitizer.inc.php.source.html#l640">validateTag</a>( <a href="../../_variables/params.html">$params</a>, <a href="../../_variables/element.html">$element</a> )&nbsp;&nbsp;
<a href="../../_functions/validatetag.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Takes attribute names and values for a tag and the tag name and<BR>
validates that the tag is allowed to be present.<BR>
This DOES NOT validate the attributes, nor does it validate the<BR>
tags themselves. This method only handles the special circumstances<BR>
where we may want to allow a tag within content but ONLY when it has<BR>
specific attributes set.<BR>
</b><BR><b>param:</b> $params<br>
<b>param:</b> $element<br>
<b>return:</b> bool<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="validatetagattributes" onClick="logFunction('validatetagattributes', '_sanitizer.inc.php.source.html#l673')" href="_sanitizer.inc.php.source.html#l673">validateTagAttributes</a>( <a href="../../_variables/attribs.html">$attribs</a>, <a href="../../_variables/element.html">$element</a> )&nbsp;&nbsp;
<a href="../../_functions/validatetagattributes.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Take an array of attribute names and values and normalize or discard<BR>
illegal values for the given element type.<BR>
</b><BR>- Discards attributes not on a whitelist for the given element<BR>
- Unsafe style attributes are discarded<BR>
- Invalid id attributes are re-encoded<BR>
<BR>
<b>param:</b> $attribs Array<br>
<b>param:</b> $element String<br>
<b>return:</b> Array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="validateattributes" onClick="logFunction('validateattributes', '_sanitizer.inc.php.source.html#l693')" href="_sanitizer.inc.php.source.html#l693">validateAttributes</a>( <a href="../../_variables/attribs.html">$attribs</a>, <a href="../../_variables/whitelist.html">$whitelist</a> )&nbsp;&nbsp;
<a href="../../_functions/validateattributes.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Take an array of attribute names and values and normalize or discard<BR>
illegal values for the given whitelist.<BR>
</b><BR>- Discards attributes not the given whitelist<BR>
- Unsafe style attributes are discarded<BR>
- Invalid id attributes are re-encoded<BR>
<BR>
<b>param:</b> $attribs Array<br>
<b>param:</b> array $whitelist list of allowed attribute names<br>
<b>return:</b> Array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="mergeattributes" onClick="logFunction('mergeattributes', '_sanitizer.inc.php.source.html#l789')" href="_sanitizer.inc.php.source.html#l789">mergeAttributes</a>( <a href="../../_variables/a.html">$a</a>, <a href="../../_variables/b.html">$b</a> )&nbsp;&nbsp;
<a href="../../_functions/mergeattributes.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Merge two sets of HTML attributes.&nbsp;&nbsp;Conflicting items in the second set<BR>
will override those in the first, except for 'class' attributes which<BR>
will be combined (if they're both strings).<BR>
</b><BR><b>param:</b> $a Array<br>
<b>param:</b> $b Array<br>
<b>return:</b> array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="checkcss" onClick="logFunction('checkcss', '_sanitizer.inc.php.source.html#l811')" href="_sanitizer.inc.php.source.html#l811">checkCss</a>( <a href="../../_variables/value.html">$value</a> )&nbsp;&nbsp;
<a href="../../_functions/checkcss.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Pick apart some CSS and check it for forbidden or unsafe structures.<BR>
Returns a sanitized string. This sanitized string will have<BR>
character references and escape sequences decoded, and comments<BR>
stripped. If the input is just too evil, only a comment complaining<BR>
about evilness will be returned.<BR>
</b><BR>Currently URL references, 'expression', 'tps' are forbidden.<BR>
<BR>
NOTE: Despite the fact that character references are decoded, the<BR>
returned string may contain character references given certain<BR>
clever input strings. These character references must<BR>
be escaped before the return value is embedded in HTML.<BR>
<BR>
<b>param:</b> $value String<br>
<b>return:</b> String<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="cssdecodecallback" onClick="logFunction('cssdecodecallback', '_sanitizer.inc.php.source.html#l885')" href="_sanitizer.inc.php.source.html#l885">cssDecodeCallback</a>( <a href="../../_variables/matches.html">$matches</a> )&nbsp;&nbsp;
<a href="../../_functions/cssdecodecallback.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> $matches array<br>
<b>return:</b> String<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="fixtagattributes" onClick="logFunction('fixtagattributes', '_sanitizer.inc.php.source.html#l906')" href="_sanitizer.inc.php.source.html#l906">fixTagAttributes</a>( <a href="../../_variables/text.html">$text</a>, <a href="../../_variables/element.html">$element</a> )&nbsp;&nbsp;
<a href="../../_functions/fixtagattributes.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Take a tag soup fragment listing an HTML element's attributes<BR>
and normalize it to well-formed XML, discarding unwanted attributes.<BR>
Output is safe for further wikitext processing, with escaping of<BR>
values that could trigger problems.<BR>
</b><BR>- Normalizes attribute names to lowercase<BR>
- Discards attributes not on a whitelist for the given element<BR>
- Turns broken or invalid entities into plaintext<BR>
- Double-quotes all attribute values<BR>
- Attributes without values are given the name as attribute<BR>
- Double attributes are discarded<BR>
- Unsafe style attributes are discarded<BR>
- Prepends space if there are attributes.<BR>
<BR>
<b>param:</b> $text String<br>
<b>param:</b> $element String<br>
<b>return:</b> String<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="encodeattribute" onClick="logFunction('encodeattribute', '_sanitizer.inc.php.source.html#l943')" href="_sanitizer.inc.php.source.html#l943">encodeAttribute</a>( <a href="../../_variables/text.html">$text</a> )&nbsp;&nbsp;
<a href="../../_functions/encodeattribute.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Encode an attribute value for HTML output.<BR>
</b><BR><b>param:</b> $text String<br>
<b>return:</b> HTML-encoded text fragment<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="safeencodeattribute" onClick="logFunction('safeencodeattribute', '_sanitizer.inc.php.source.html#l963')" href="_sanitizer.inc.php.source.html#l963">safeEncodeAttribute</a>( <a href="../../_variables/text.html">$text</a> )&nbsp;&nbsp;
<a href="../../_functions/safeencodeattribute.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Encode an attribute value for HTML tags, with extra armoring<BR>
against further wiki processing.<BR>
</b><BR><b>param:</b> $text String<br>
<b>return:</b> HTML-encoded text fragment<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="escapeid" onClick="logFunction('escapeid', '_sanitizer.inc.php.source.html#l996')" href="_sanitizer.inc.php.source.html#l996">escapeId</a>( <a href="../../_variables/id.html">$id</a>, <a href="../../_variables/options.html">$options</a> = array()&nbsp;&nbsp;
<a href="../../_functions/escapeid.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given a value, escape it so that it can be used in an id attribute and<BR>
return it.&nbsp;&nbsp;This will use HTML5 validation if $wgExperimentalHtmlIds is<BR>
true, allowing anything but ASCII whitespace.&nbsp;&nbsp;Otherwise it will use<BR>
HTML 4 rules, which means a narrow subset of ASCII, with bad characters<BR>
escaped with lots of dots.<BR>
</b><BR>To ensure we don't have to bother escaping anything, we also strip ', &quot;,<BR>
&amp; even if $wgExperimentalIds is true.&nbsp;&nbsp;TODO: Is this the best tactic?<BR>
We also strip # because it upsets IE, and % because it could be<BR>
ambiguous if it's part of something that looks like a percent escape<BR>
(which don't work reliably in fragments cross-browser).<BR>
<BR>
<b>param:</b> string $id id to escape<br>
<b>param:</b> $options Mixed: string or array of strings (default is array()):<br>
<b>return:</b> String<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="escapeclass" onClick="logFunction('escapeclass', '_sanitizer.inc.php.source.html#l1060')" href="_sanitizer.inc.php.source.html#l1060">escapeClass</a>( <a href="../../_variables/class.html">$class</a> )&nbsp;&nbsp;
<a href="../../_functions/escapeclass.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given a value, escape it so that it can be used as a CSS class and<BR>
return it.<BR>
</b><BR><b>param:</b> $class String<br>
<b>return:</b> String<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="escapehtmlallowentities" onClick="logFunction('escapehtmlallowentities', '_sanitizer.inc.php.source.html#l1079')" href="_sanitizer.inc.php.source.html#l1079">escapeHtmlAllowEntities</a>( <a href="../../_variables/html.html">$html</a> )&nbsp;&nbsp;
<a href="../../_functions/escapehtmlallowentities.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given HTML input, escape with htmlspecialchars but un-escape entities.<BR>
This allows (generally harmless) entities like &amp;#160; to survive.<BR>
</b><BR><b>param:</b> string $html to escape<br>
<b>return:</b> String: escaped input<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="armorlinkscallback" onClick="logFunction('armorlinkscallback', '_sanitizer.inc.php.source.html#l1094')" href="_sanitizer.inc.php.source.html#l1094">armorLinksCallback</a>( <a href="../../_variables/matches.html">$matches</a> )&nbsp;&nbsp;
<a href="../../_functions/armorlinkscallback.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Regex replace callback for armoring links against further processing.<BR>
</b><BR><b>param:</b> $matches Array<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="decodetagattributes" onClick="logFunction('decodetagattributes', '_sanitizer.inc.php.source.html#l1103')" href="_sanitizer.inc.php.source.html#l1103">decodeTagAttributes</a>( <a href="../../_variables/text.html">$text</a> )&nbsp;&nbsp;
<a href="../../_functions/decodetagattributes.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Return an associative array of attribute names and values from<BR>
a partial tag string. Attribute names are forces to lowercase,<BR>
character references are decoded to UTF-8 text.<BR>
</b><BR><b>param:</b> $text String<br>
<b>return:</b> Array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="gettagattributecallback" onClick="logFunction('gettagattributecallback', '_sanitizer.inc.php.source.html#l1143')" href="_sanitizer.inc.php.source.html#l1143">getTagAttributeCallback</a>( <a href="../../_variables/set.html">$set</a> )&nbsp;&nbsp;
<a href="../../_functions/gettagattributecallback.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Pick the appropriate attribute value from a match set from the<BR>
attribs regex matches.<BR>
</b><BR><b>param:</b> $set Array<br>
<b>return:</b> String<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="normalizeattributevalue" onClick="logFunction('normalizeattributevalue', '_sanitizer.inc.php.source.html#l1173')" href="_sanitizer.inc.php.source.html#l1173">normalizeAttributeValue</a>( <a href="../../_variables/text.html">$text</a> )&nbsp;&nbsp;
<a href="../../_functions/normalizeattributevalue.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Normalize whitespace and character references in an XML source-<BR>
encoded text for an attribute value.<BR>
</b><BR>See http://www.w3.org/TR/REC-xml/#AVNormalize for background,<BR>
but note that we're not returning the value, but are returning<BR>
XML source fragments that will be slapped into output.<BR>
<BR>
<b>param:</b> $text String<br>
<b>return:</b> String<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="normalizewhitespace" onClick="logFunction('normalizewhitespace', '_sanitizer.inc.php.source.html#l1194')" href="_sanitizer.inc.php.source.html#l1194">normalizeWhitespace</a>( <a href="../../_variables/text.html">$text</a> )&nbsp;&nbsp;
<a href="../../_functions/normalizewhitespace.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> $text string<br>
<b>return:</b> mixed<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="normalizesectionnamewhitespace" onClick="logFunction('normalizesectionnamewhitespace', '_sanitizer.inc.php.source.html#l1201')" href="_sanitizer.inc.php.source.html#l1201">normalizeSectionNameWhitespace</a>( <a href="../../_variables/section.html">$section</a> )&nbsp;&nbsp;
<a href="../../_functions/normalizesectionnamewhitespace.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Normalizes whitespace in a section name, such as might be returned<BR>
by Parser::stripSectionName(), for use in the id's that are used for<BR>
section links.<BR>
</b><BR><b>param:</b> $section String<br>
<b>return:</b> String<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="normalizecharreferences" onClick="logFunction('normalizecharreferences', '_sanitizer.inc.php.source.html#l1213')" href="_sanitizer.inc.php.source.html#l1213">normalizeCharReferences</a>( <a href="../../_variables/text.html">$text</a> )&nbsp;&nbsp;
<a href="../../_functions/normalizecharreferences.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Ensure that any entities and character references are legal<BR>
for XML and XHTML specifically. Any stray bits will be<BR>
&amp;amp;-escaped to result in a valid text fragment.<BR>
</b><BR>a. named char refs can only be &amp;lt; &amp;gt; &amp;amp; &amp;quot;, others are<BR>
numericized (this way we're well-formed even without a DTD)<BR>
b. any numeric char refs must be legal chars, not invalid or forbidden<BR>
c. use lower cased &quot;&amp;#x&quot;, not &quot;&amp;#X&quot;<BR>
d. fix or reject non-valid attributes<BR>
<BR>
<b>param:</b> $text String<br>
<b>return:</b> String<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="normalizecharreferencescallback" onClick="logFunction('normalizecharreferencescallback', '_sanitizer.inc.php.source.html#l1238')" href="_sanitizer.inc.php.source.html#l1238">normalizeCharReferencesCallback</a>( <a href="../../_variables/matches.html">$matches</a> )&nbsp;&nbsp;
<a href="../../_functions/normalizecharreferencescallback.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> $matches String<br>
<b>return:</b> String<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="normalizeentity" onClick="logFunction('normalizeentity', '_sanitizer.inc.php.source.html#l1254')" href="_sanitizer.inc.php.source.html#l1254">normalizeEntity</a>( <a href="../../_variables/name.html">$name</a> )&nbsp;&nbsp;
<a href="../../_functions/normalizeentity.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>If the named entity is defined in the HTML 4.0/XHTML 1.0 DTD,<BR>
return the equivalent numeric entity reference (except for the core &amp;lt;<BR>
&amp;gt; &amp;amp; &amp;quot;). If the entity is a MediaWiki-specific alias, returns<BR>
the HTML equivalent. Otherwise, returns HTML-escaped text of<BR>
pseudo-entity source (eg &amp;amp;foo;)<BR>
</b><BR><b>param:</b> $name String<br>
<b>return:</b> String<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="deccharreference" onClick="logFunction('deccharreference', '_sanitizer.inc.php.source.html#l1281')" href="_sanitizer.inc.php.source.html#l1281">decCharReference</a>( <a href="../../_variables/codepoint.html">$codepoint</a> )&nbsp;&nbsp;
<a href="../../_functions/deccharreference.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> $codepoint<br>
<b>return:</b> null|string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="hexcharreference" onClick="logFunction('hexcharreference', '_sanitizer.inc.php.source.html#l1294')" href="_sanitizer.inc.php.source.html#l1294">hexCharReference</a>( <a href="../../_variables/codepoint.html">$codepoint</a> )&nbsp;&nbsp;
<a href="../../_functions/hexcharreference.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> $codepoint<br>
<b>return:</b> null|string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="validatecodepoint" onClick="logFunction('validatecodepoint', '_sanitizer.inc.php.source.html#l1303')" href="_sanitizer.inc.php.source.html#l1303">validateCodepoint</a>( <a href="../../_variables/codepoint.html">$codepoint</a> )&nbsp;&nbsp;
<a href="../../_functions/validatecodepoint.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Returns true if a given Unicode codepoint is a valid character in XML.<BR>
</b><BR><b>param:</b> $codepoint Integer<br>
<b>return:</b> Boolean<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="decodecharreferences" onClick="logFunction('decodecharreferences', '_sanitizer.inc.php.source.html#l1317')" href="_sanitizer.inc.php.source.html#l1317">decodeCharReferences</a>( <a href="../../_variables/text.html">$text</a> )&nbsp;&nbsp;
<a href="../../_functions/decodecharreferences.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Decode any character references, numeric or named entities,<BR>
in the text and return a UTF-8 string.<BR>
</b><BR><b>param:</b> $text String<br>
<b>return:</b> String<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="decodecharreferencesandnormalize" onClick="logFunction('decodecharreferencesandnormalize', '_sanitizer.inc.php.source.html#l1331')" href="_sanitizer.inc.php.source.html#l1331">decodeCharReferencesAndNormalize</a>( <a href="../../_variables/text.html">$text</a> )&nbsp;&nbsp;
<a href="../../_functions/decodecharreferencesandnormalize.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Decode any character references, numeric or named entities,<BR>
in the next and normalize the resulting string. (bug 14952)<BR>
</b><BR>This is useful for page titles, not for text to be displayed,<BR>
MediaWiki allows HTML entities to escape normalization as a feature.<BR>
<BR>
<b>param:</b> string $text (already normalized, containing entities)<br>
<b>return:</b> String (still normalized, without entities)<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="decodecharreferencescallback" onClick="logFunction('decodecharreferencescallback', '_sanitizer.inc.php.source.html#l1359')" href="_sanitizer.inc.php.source.html#l1359">decodeCharReferencesCallback</a>( <a href="../../_variables/matches.html">$matches</a> )&nbsp;&nbsp;
<a href="../../_functions/decodecharreferencescallback.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> $matches String<br>
<b>return:</b> String<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="decodechar" onClick="logFunction('decodechar', '_sanitizer.inc.php.source.html#l1371')" href="_sanitizer.inc.php.source.html#l1371">decodeChar</a>( <a href="../../_variables/codepoint.html">$codepoint</a> )&nbsp;&nbsp;
<a href="../../_functions/decodechar.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Return UTF-8 string for a codepoint if that is a valid<BR>
character reference, otherwise U+FFFD REPLACEMENT CHARACTER.<BR>
</b><BR><b>param:</b> $codepoint Integer<br>
<b>return:</b> String<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="decodeentity" onClick="logFunction('decodeentity', '_sanitizer.inc.php.source.html#l1386')" href="_sanitizer.inc.php.source.html#l1386">decodeEntity</a>( <a href="../../_variables/name.html">$name</a> )&nbsp;&nbsp;
<a href="../../_functions/decodeentity.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>If the named entity is defined in the HTML 4.0/XHTML 1.0 DTD,<BR>
return the UTF-8 encoding of that character. Otherwise, returns<BR>
pseudo-entity source (eg &quot;&amp;foo;&quot;)<BR>
</b><BR><b>param:</b> $name String<br>
<b>return:</b> String<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="attributewhitelist" onClick="logFunction('attributewhitelist', '_sanitizer.inc.php.source.html#l1405')" href="_sanitizer.inc.php.source.html#l1405">attributeWhitelist</a>( <a href="../../_variables/element.html">$element</a> )&nbsp;&nbsp;
<a href="../../_functions/attributewhitelist.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Fetch the whitelist of acceptable attributes for a given element name.<BR>
</b><BR><b>param:</b> $element String<br>
<b>return:</b> Array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="setupattributewhitelist" onClick="logFunction('setupattributewhitelist', '_sanitizer.inc.php.source.html#l1418')" href="_sanitizer.inc.php.source.html#l1418">setupAttributeWhitelist</a>()&nbsp;&nbsp;
<a href="../../_functions/setupattributewhitelist.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Foreach array key (an allowed HTML element), return an array<BR>
of allowed attributes<BR>
</b><BR><b>return:</b> Array<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="stripalltags" onClick="logFunction('stripalltags', '_sanitizer.inc.php.source.html#l1633')" href="_sanitizer.inc.php.source.html#l1633">stripAllTags</a>( <a href="../../_variables/text.html">$text</a> )&nbsp;&nbsp;
<a href="../../_functions/stripalltags.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Take a fragment of (potentially invalid) HTML and return<BR>
a version with any tags removed, encoded as plain text.<BR>
</b><BR>Warning: this return value must be further escaped for literal<BR>
inclusion in HTML output as of 1.10!<BR>
<BR>
<b>param:</b> string $text HTML fragment<br>
<b>return:</b> String<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="hackdoctype" onClick="logFunction('hackdoctype', '_sanitizer.inc.php.source.html#l1654')" href="_sanitizer.inc.php.source.html#l1654">hackDocType</a>()&nbsp;&nbsp;
<a href="../../_functions/hackdoctype.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Hack up a private DOCTYPE with HTML's standard entity declarations.<BR>
PHP 4 seemed to know these if you gave it an HTML doctype, but<BR>
PHP 5.1 doesn't.<BR>
</b><BR>Use for passing XHTML fragments to PHP's XML parsing functions<BR>
<BR>
<b>return:</b> String<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="cleanurl" onClick="logFunction('cleanurl', '_sanitizer.inc.php.source.html#l1676')" href="_sanitizer.inc.php.source.html#l1676">cleanUrl</a>( <a href="../../_variables/url.html">$url</a> )&nbsp;&nbsp;
<a href="../../_functions/cleanurl.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> $url string<br>
<b>return:</b> mixed|string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="cleanurlcallback" onClick="logFunction('cleanurlcallback', '_sanitizer.inc.php.source.html#l1723')" href="_sanitizer.inc.php.source.html#l1723">cleanUrlCallback</a>( <a href="../../_variables/matches.html">$matches</a> )&nbsp;&nbsp;
<a href="../../_functions/cleanurlcallback.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b></b><BR><b>param:</b> $matches array<br>
<b>return:</b> string<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="validateemail" onClick="logFunction('validateemail', '_sanitizer.inc.php.source.html#l1727')" href="_sanitizer.inc.php.source.html#l1727">validateEmail</a>( <a href="../../_variables/addr.html">$addr</a> )&nbsp;&nbsp;
<a href="../../_functions/validateemail.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Does a string look like an e-mail address?<BR>
</b><BR>This validates an email address using an HTML5 specification found at:<BR>
http://www.whatwg.org/specs/web-apps/current-work/multipage/states-of-the-type-attribute.html#valid-e-mail-address<BR>
Which as of 2011-01-24 says:<BR>
<BR>
A valid e-mail address is a string that matches the ABNF production<BR>
1*( atext / &quot;.&quot; ) &quot;@&quot; ldh-str *( &quot;.&quot; ldh-str ) where atext is defined<BR>
in RFC 5322 section 3.2.3, and ldh-str is defined in RFC 1034 section<BR>
3.5.<BR>
<BR>
This function is an implementation of the specification as requested in<BR>
bug 22449.<BR>
<BR>
Client-side forms will use the same standard validation rules via JS or<BR>
HTML 5 validation; additional restrictions can be enforced server-side<BR>
by extensions via the 'isValidEmailAddr' hook.<BR>
<BR>
Note that this validation doesn't 100% match RFC 2822, but is believed<BR>
to be liberal enough for wide use. Some invalid addresses will still<BR>
pass validation here.<BR>
<BR>
<b>param:</b> string $addr E-mail address<br>
<b>return:</b> Bool<br>
</td></tr></table>

<br>
</div>
</div>

</div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Sat Nov 21 22:13:19 2015</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
