<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /blogs/rsc/js/jquery/jquery.ui.all.js source</title>
    <link rel="stylesheet" href="../../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Sat Jul  5 12:18:44 2014 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../../';
subdir='blogs/rsc/js/jquery';
filename='jquery.ui.all.js.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/blogs/rsc/js/jquery/</a> -> <a href="jquery.ui.all.js.html">jquery.ui.all.js</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="jquery.ui.all.js.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="jquery.ui.all.js.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  <span class="comment">/*!</span>
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment"> * jQuery UI 1.8.18</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment"> *</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment"> * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment"> *</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment"> * http://docs.jquery.com/UI</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment"> */</span>
<a name="l10"><span class="linenum">  10</span></a>  (function( $, undefined ) {
<a name="l11"><span class="linenum">  11</span></a>  
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// prevent duplicate loading</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment">// this is only a problem because we proxy existing functions</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">// and we don't want to double proxy them</span>
<a name="l15"><span class="linenum">  15</span></a>  $.ui = $.ui || {};
<a name="l16"><span class="linenum">  16</span></a>  if ( $.ui.version ) {
<a name="l17"><span class="linenum">  17</span></a>      return;
<a name="l18"><span class="linenum">  18</span></a>  }
<a name="l19"><span class="linenum">  19</span></a>  
<a name="l20"><span class="linenum">  20</span></a>  $.extend( $.ui, {
<a name="l21"><span class="linenum">  21</span></a>      version: &quot;1.8.18&quot;,
<a name="l22"><span class="linenum">  22</span></a>  
<a name="l23"><span class="linenum">  23</span></a>      keyCode: {
<a name="l24"><span class="linenum">  24</span></a>          ALT: 18,
<a name="l25"><span class="linenum">  25</span></a>          BACKSPACE: 8,
<a name="l26"><span class="linenum">  26</span></a>          CAPS_LOCK: 20,
<a name="l27"><span class="linenum">  27</span></a>          COMMA: 188,
<a name="l28"><span class="linenum">  28</span></a>          COMMAND: 91,
<a name="l29"><span class="linenum">  29</span></a>          COMMAND_LEFT: 91, // COMMAND
<a name="l30"><span class="linenum">  30</span></a>          COMMAND_RIGHT: 93,
<a name="l31"><span class="linenum">  31</span></a>          CONTROL: 17,
<a name="l32"><span class="linenum">  32</span></a>          DELETE: 46,
<a name="l33"><span class="linenum">  33</span></a>          DOWN: 40,
<a name="l34"><span class="linenum">  34</span></a>          END: 35,
<a name="l35"><span class="linenum">  35</span></a>          ENTER: 13,
<a name="l36"><span class="linenum">  36</span></a>          ESCAPE: 27,
<a name="l37"><span class="linenum">  37</span></a>          HOME: 36,
<a name="l38"><span class="linenum">  38</span></a>          INSERT: 45,
<a name="l39"><span class="linenum">  39</span></a>          LEFT: 37,
<a name="l40"><span class="linenum">  40</span></a>          MENU: 93, // COMMAND_RIGHT
<a name="l41"><span class="linenum">  41</span></a>          NUMPAD_ADD: 107,
<a name="l42"><span class="linenum">  42</span></a>          NUMPAD_DECIMAL: 110,
<a name="l43"><span class="linenum">  43</span></a>          NUMPAD_DIVIDE: 111,
<a name="l44"><span class="linenum">  44</span></a>          NUMPAD_ENTER: 108,
<a name="l45"><span class="linenum">  45</span></a>          NUMPAD_MULTIPLY: 106,
<a name="l46"><span class="linenum">  46</span></a>          NUMPAD_SUBTRACT: 109,
<a name="l47"><span class="linenum">  47</span></a>          PAGE_DOWN: 34,
<a name="l48"><span class="linenum">  48</span></a>          PAGE_UP: 33,
<a name="l49"><span class="linenum">  49</span></a>          PERIOD: 190,
<a name="l50"><span class="linenum">  50</span></a>          RIGHT: 39,
<a name="l51"><span class="linenum">  51</span></a>          SHIFT: 16,
<a name="l52"><span class="linenum">  52</span></a>          SPACE: 32,
<a name="l53"><span class="linenum">  53</span></a>          TAB: 9,
<a name="l54"><span class="linenum">  54</span></a>          UP: 38,
<a name="l55"><span class="linenum">  55</span></a>          WINDOWS: 91 // COMMAND
<a name="l56"><span class="linenum">  56</span></a>      }
<a name="l57"><span class="linenum">  57</span></a>  });
<a name="l58"><span class="linenum">  58</span></a>  
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment">// plugins</span>
<a name="l60"><span class="linenum">  60</span></a>  $.fn.extend({
<a name="l61"><span class="linenum">  61</span></a>      propAttr: $.fn.prop || $.fn.attr,
<a name="l62"><span class="linenum">  62</span></a>  
<a name="l63"><span class="linenum">  63</span></a>      _focus: $.fn.focus,
<a name="l64"><span class="linenum">  64</span></a>      focus: function( delay, fn ) {
<a name="l65"><span class="linenum">  65</span></a>          return typeof delay === &quot;number&quot; ?
<a name="l66"><span class="linenum">  66</span></a>              this.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l67"><span class="linenum">  67</span></a>                  var elem = this;
<a name="l68"><span class="linenum">  68</span></a>                  setTimeout(function() {
<a name="l69"><span class="linenum">  69</span></a>                      $( elem ).focus();
<a name="l70"><span class="linenum">  70</span></a>                      if ( fn ) {
<a name="l71"><span class="linenum">  71</span></a>                          fn.call( elem );
<a name="l72"><span class="linenum">  72</span></a>                      }
<a name="l73"><span class="linenum">  73</span></a>                  }, delay );
<a name="l74"><span class="linenum">  74</span></a>              }) :
<a name="l75"><span class="linenum">  75</span></a>              this._focus.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>( this, arguments );
<a name="l76"><span class="linenum">  76</span></a>      },
<a name="l77"><span class="linenum">  77</span></a>  
<a name="l78"><span class="linenum">  78</span></a>      scrollParent: function() {
<a name="l79"><span class="linenum">  79</span></a>          var scrollParent;
<a name="l80"><span class="linenum">  80</span></a>          if (($.browser.msie &amp;&amp; (/(static|relative)/).test(this.css('position'))) || (/absolute/).test(this.css('position'))) {
<a name="l81"><span class="linenum">  81</span></a>              scrollParent = this.parents().filter(function() {
<a name="l82"><span class="linenum">  82</span></a>                  return (/(relative|absolute|fixed)/).test($.curCSS(this,'position',1)) &amp;&amp; (/(auto|scroll)/).test($.curCSS(this,'overflow',1)+$.curCSS(this,'overflow-y',1)+$.curCSS(this,'overflow-x',1));
<a name="l83"><span class="linenum">  83</span></a>              }).eq(0);
<a name="l84"><span class="linenum">  84</span></a>          } else {
<a name="l85"><span class="linenum">  85</span></a>              scrollParent = this.parents().filter(function() {
<a name="l86"><span class="linenum">  86</span></a>                  return (/(auto|scroll)/).test($.curCSS(this,'overflow',1)+$.curCSS(this,'overflow-y',1)+$.curCSS(this,'overflow-x',1));
<a name="l87"><span class="linenum">  87</span></a>              }).eq(0);
<a name="l88"><span class="linenum">  88</span></a>          }
<a name="l89"><span class="linenum">  89</span></a>  
<a name="l90"><span class="linenum">  90</span></a>          return (/fixed/).test(this.css('position')) || !scrollParent.length ? $(document) : scrollParent;
<a name="l91"><span class="linenum">  91</span></a>      },
<a name="l92"><span class="linenum">  92</span></a>  
<a name="l93"><span class="linenum">  93</span></a>      zIndex: function( zIndex ) {
<a name="l94"><span class="linenum">  94</span></a>          if ( zIndex !== undefined ) {
<a name="l95"><span class="linenum">  95</span></a>              return this.css( &quot;zIndex&quot;, zIndex );
<a name="l96"><span class="linenum">  96</span></a>          }
<a name="l97"><span class="linenum">  97</span></a>  
<a name="l98"><span class="linenum">  98</span></a>          if ( this.length ) {
<a name="l99"><span class="linenum">  99</span></a>              var elem = $( this[ 0 ] ), position, value;
<a name="l100"><span class="linenum"> 100</span></a>              while ( elem.length &amp;&amp; elem[ 0 ] !== document ) {
<a name="l101"><span class="linenum"> 101</span></a>  <span class="comment">                // Ignore z-index if position is set to a value where z-index is ignored by the browser</span>
<a name="l102"><span class="linenum"> 102</span></a>  <span class="comment">                // This makes behavior of this function consistent across browsers</span>
<a name="l103"><span class="linenum"> 103</span></a>  <span class="comment">                // WebKit always returns auto if the element is positioned</span>
<a name="l104"><span class="linenum"> 104</span></a>                  position = elem.css( &quot;position&quot; );
<a name="l105"><span class="linenum"> 105</span></a>                  if ( position === &quot;absolute&quot; || position === &quot;relative&quot; || position === &quot;fixed&quot; ) {
<a name="l106"><span class="linenum"> 106</span></a>  <span class="comment">                    // IE returns 0 when zIndex is not specified</span>
<a name="l107"><span class="linenum"> 107</span></a>  <span class="comment">                    // other browsers return a string</span>
<a name="l108"><span class="linenum"> 108</span></a>  <span class="comment">                    // we ignore the case of nested elements with an explicit value of 0</span>
<a name="l109"><span class="linenum"> 109</span></a>  <span class="comment">                    // &lt;div style=&quot;z-index: -10;&quot;&gt;&lt;div style=&quot;z-index: 0;&quot;&gt;&lt;/div&gt;&lt;/div&gt;</span>
<a name="l110"><span class="linenum"> 110</span></a>                      value = parseInt( elem.css( &quot;zIndex&quot; ), 10 );
<a name="l111"><span class="linenum"> 111</span></a>                      if ( !isNaN( value ) &amp;&amp; value !== 0 ) {
<a name="l112"><span class="linenum"> 112</span></a>                          return value;
<a name="l113"><span class="linenum"> 113</span></a>                      }
<a name="l114"><span class="linenum"> 114</span></a>                  }
<a name="l115"><span class="linenum"> 115</span></a>                  elem = elem.parent();
<a name="l116"><span class="linenum"> 116</span></a>              }
<a name="l117"><span class="linenum"> 117</span></a>          }
<a name="l118"><span class="linenum"> 118</span></a>  
<a name="l119"><span class="linenum"> 119</span></a>          return 0;
<a name="l120"><span class="linenum"> 120</span></a>      },
<a name="l121"><span class="linenum"> 121</span></a>  
<a name="l122"><span class="linenum"> 122</span></a>      disableSelection: function() {
<a name="l123"><span class="linenum"> 123</span></a>          return this.bind( ( $.support.selectstart ? &quot;selectstart&quot; : &quot;mousedown&quot; ) +
<a name="l124"><span class="linenum"> 124</span></a>              &quot;.ui-disableSelection&quot;, function( event ) {
<a name="l125"><span class="linenum"> 125</span></a>                  event.preventDefault();
<a name="l126"><span class="linenum"> 126</span></a>              });
<a name="l127"><span class="linenum"> 127</span></a>      },
<a name="l128"><span class="linenum"> 128</span></a>  
<a name="l129"><span class="linenum"> 129</span></a>      enableSelection: function() {
<a name="l130"><span class="linenum"> 130</span></a>          return this.unbind( &quot;.ui-disableSelection&quot; );
<a name="l131"><span class="linenum"> 131</span></a>      }
<a name="l132"><span class="linenum"> 132</span></a>  });
<a name="l133"><span class="linenum"> 133</span></a>  
<a name="l134"><span class="linenum"> 134</span></a>  $.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>( [ &quot;Width&quot;, &quot;Height&quot; ], function( i, name ) {
<a name="l135"><span class="linenum"> 135</span></a>      var side = name === &quot;Width&quot; ? [ &quot;Left&quot;, &quot;Right&quot; ] : [ &quot;Top&quot;, &quot;Bottom&quot; ],
<a name="l136"><span class="linenum"> 136</span></a>          type = name.toLowerCase(),
<a name="l137"><span class="linenum"> 137</span></a>          orig = {
<a name="l138"><span class="linenum"> 138</span></a>              innerWidth: $.fn.innerWidth,
<a name="l139"><span class="linenum"> 139</span></a>              innerHeight: $.fn.innerHeight,
<a name="l140"><span class="linenum"> 140</span></a>              outerWidth: $.fn.outerWidth,
<a name="l141"><span class="linenum"> 141</span></a>              outerHeight: $.fn.outerHeight
<a name="l142"><span class="linenum"> 142</span></a>          };
<a name="l143"><span class="linenum"> 143</span></a>  
<a name="l144"><span class="linenum"> 144</span></a>  	function <a class="function" onClick="logFunction('reduce')" href="../../../../_functions/reduce.html" onMouseOver="funcPopup(event,'reduce')">reduce</a>( elem, size, border, margin ) {
<a name="l145"><span class="linenum"> 145</span></a>          $.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>( side, function() {
<a name="l146"><span class="linenum"> 146</span></a>              size -= parseFloat( $.curCSS( elem, &quot;padding&quot; + this, true) ) || 0;
<a name="l147"><span class="linenum"> 147</span></a>              if ( border ) {
<a name="l148"><span class="linenum"> 148</span></a>                  size -= parseFloat( $.curCSS( elem, &quot;border&quot; + this + &quot;Width&quot;, true) ) || 0;
<a name="l149"><span class="linenum"> 149</span></a>              }
<a name="l150"><span class="linenum"> 150</span></a>              if ( margin ) {
<a name="l151"><span class="linenum"> 151</span></a>                  size -= parseFloat( $.curCSS( elem, &quot;margin&quot; + this, true) ) || 0;
<a name="l152"><span class="linenum"> 152</span></a>              }
<a name="l153"><span class="linenum"> 153</span></a>          });
<a name="l154"><span class="linenum"> 154</span></a>          return size;
<a name="l155"><span class="linenum"> 155</span></a>      }
<a name="l156"><span class="linenum"> 156</span></a>  
<a name="l157"><span class="linenum"> 157</span></a>      $.fn[ &quot;inner&quot; + name ] = function( size ) {
<a name="l158"><span class="linenum"> 158</span></a>          if ( size === undefined ) {
<a name="l159"><span class="linenum"> 159</span></a>              return orig[ &quot;inner&quot; + name ].call( this );
<a name="l160"><span class="linenum"> 160</span></a>          }
<a name="l161"><span class="linenum"> 161</span></a>  
<a name="l162"><span class="linenum"> 162</span></a>          return this.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l163"><span class="linenum"> 163</span></a>              $( this ).css( type, <a class="function" onClick="logFunction('reduce')" href="../../../../_functions/reduce.html" onMouseOver="funcPopup(event,'reduce')">reduce</a>( this, size ) + &quot;px&quot; );
<a name="l164"><span class="linenum"> 164</span></a>          });
<a name="l165"><span class="linenum"> 165</span></a>      };
<a name="l166"><span class="linenum"> 166</span></a>  
<a name="l167"><span class="linenum"> 167</span></a>      $.fn[ &quot;outer&quot; + name] = function( size, margin ) {
<a name="l168"><span class="linenum"> 168</span></a>          if ( typeof size !== &quot;number&quot; ) {
<a name="l169"><span class="linenum"> 169</span></a>              return orig[ &quot;outer&quot; + name ].call( this, size );
<a name="l170"><span class="linenum"> 170</span></a>          }
<a name="l171"><span class="linenum"> 171</span></a>  
<a name="l172"><span class="linenum"> 172</span></a>          return this.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l173"><span class="linenum"> 173</span></a>              $( this).css( type, <a class="function" onClick="logFunction('reduce')" href="../../../../_functions/reduce.html" onMouseOver="funcPopup(event,'reduce')">reduce</a>( this, size, true, margin ) + &quot;px&quot; );
<a name="l174"><span class="linenum"> 174</span></a>          });
<a name="l175"><span class="linenum"> 175</span></a>      };
<a name="l176"><span class="linenum"> 176</span></a>  });
<a name="l177"><span class="linenum"> 177</span></a>  
<a name="l178"><span class="linenum"> 178</span></a>  <span class="comment">// selectors</span>
<a name="l179"><span class="linenum"> 179</span></a>  function <a class="function" onClick="logFunction('focusable')" href="../../../../_functions/focusable.html" onMouseOver="funcPopup(event,'focusable')">focusable</a>( element, isTabIndexNotNaN ) {
<a name="l180"><span class="linenum"> 180</span></a>      var nodeName = element.nodeName.toLowerCase();
<a name="l181"><span class="linenum"> 181</span></a>      if ( &quot;area&quot; === nodeName ) {
<a name="l182"><span class="linenum"> 182</span></a>          var map = element.parentNode,
<a name="l183"><span class="linenum"> 183</span></a>              mapName = map.name,
<a name="l184"><span class="linenum"> 184</span></a>              img;
<a name="l185"><span class="linenum"> 185</span></a>          if ( !element.href || !mapName || map.nodeName.toLowerCase() !== &quot;map&quot; ) {
<a name="l186"><span class="linenum"> 186</span></a>              return false;
<a name="l187"><span class="linenum"> 187</span></a>          }
<a name="l188"><span class="linenum"> 188</span></a>          img = $( &quot;img[usemap=#&quot; + mapName + &quot;]&quot; )[0];
<a name="l189"><span class="linenum"> 189</span></a>          return !!img &amp;&amp; <a class="function" onClick="logFunction('visible')" href="../../../../_functions/visible.html" onMouseOver="funcPopup(event,'visible')">visible</a>( img );
<a name="l190"><span class="linenum"> 190</span></a>      }
<a name="l191"><span class="linenum"> 191</span></a>      return ( /input|select|textarea|button|object/.test( nodeName )
<a name="l192"><span class="linenum"> 192</span></a>          ? !element.disabled
<a name="l193"><span class="linenum"> 193</span></a>          : &quot;a&quot; == nodeName
<a name="l194"><span class="linenum"> 194</span></a>              ? element.href || isTabIndexNotNaN
<a name="l195"><span class="linenum"> 195</span></a>              : isTabIndexNotNaN)
<a name="l196"><span class="linenum"> 196</span></a>  <span class="comment">        // the element and all of its ancestors must be visible</span>
<a name="l197"><span class="linenum"> 197</span></a>          &amp;&amp; <a class="function" onClick="logFunction('visible')" href="../../../../_functions/visible.html" onMouseOver="funcPopup(event,'visible')">visible</a>( element );
<a name="l198"><span class="linenum"> 198</span></a>  }
<a name="l199"><span class="linenum"> 199</span></a>  
<a name="l200"><span class="linenum"> 200</span></a>  function <a class="function" onClick="logFunction('visible')" href="../../../../_functions/visible.html" onMouseOver="funcPopup(event,'visible')">visible</a>( element ) {
<a name="l201"><span class="linenum"> 201</span></a>      return !$( element ).parents().andSelf().filter(function() {
<a name="l202"><span class="linenum"> 202</span></a>          return $.curCSS( this, &quot;visibility&quot; ) === &quot;hidden&quot; ||
<a name="l203"><span class="linenum"> 203</span></a>              $.expr.filters.<a class="function" onClick="logFunction('hidden')" href="../../../../_functions/hidden.html" onMouseOver="funcPopup(event,'hidden')">hidden</a>( this );
<a name="l204"><span class="linenum"> 204</span></a>      }).length;
<a name="l205"><span class="linenum"> 205</span></a>  }
<a name="l206"><span class="linenum"> 206</span></a>  
<a name="l207"><span class="linenum"> 207</span></a>  $.extend( $.expr[ &quot;:&quot; ], {
<a name="l208"><span class="linenum"> 208</span></a>      data: function( elem, i, match ) {
<a name="l209"><span class="linenum"> 209</span></a>          return !!$.data( elem, match[ 3 ] );
<a name="l210"><span class="linenum"> 210</span></a>      },
<a name="l211"><span class="linenum"> 211</span></a>  
<a name="l212"><span class="linenum"> 212</span></a>      focusable: function( element ) {
<a name="l213"><span class="linenum"> 213</span></a>          return <a class="function" onClick="logFunction('focusable')" href="../../../../_functions/focusable.html" onMouseOver="funcPopup(event,'focusable')">focusable</a>( element, !isNaN( $.attr( element, &quot;tabindex&quot; ) ) );
<a name="l214"><span class="linenum"> 214</span></a>      },
<a name="l215"><span class="linenum"> 215</span></a>  
<a name="l216"><span class="linenum"> 216</span></a>      tabbable: function( element ) {
<a name="l217"><span class="linenum"> 217</span></a>          var tabIndex = $.attr( element, &quot;tabindex&quot; ),
<a name="l218"><span class="linenum"> 218</span></a>              isTabIndexNaN = isNaN( tabIndex );
<a name="l219"><span class="linenum"> 219</span></a>          return ( isTabIndexNaN || tabIndex &gt;= 0 ) &amp;&amp; <a class="function" onClick="logFunction('focusable')" href="../../../../_functions/focusable.html" onMouseOver="funcPopup(event,'focusable')">focusable</a>( element, !isTabIndexNaN );
<a name="l220"><span class="linenum"> 220</span></a>      }
<a name="l221"><span class="linenum"> 221</span></a>  });
<a name="l222"><span class="linenum"> 222</span></a>  
<a name="l223"><span class="linenum"> 223</span></a>  <span class="comment">// support</span>
<a name="l224"><span class="linenum"> 224</span></a>  $(function() {
<a name="l225"><span class="linenum"> 225</span></a>      var body = document.body,
<a name="l226"><span class="linenum"> 226</span></a>          div = body.appendChild( div = document.createElement( &quot;div&quot; ) );
<a name="l227"><span class="linenum"> 227</span></a>  
<a name="l228"><span class="linenum"> 228</span></a>  <span class="comment">    // access offsetHeight before setting the style to prevent a layout bug</span>
<a name="l229"><span class="linenum"> 229</span></a>  <span class="comment">    // in IE 9 which causes the elemnt to continue to take up space even</span>
<a name="l230"><span class="linenum"> 230</span></a>  <span class="comment">    // after it is removed from the DOM (#8026)</span>
<a name="l231"><span class="linenum"> 231</span></a>      div.offsetHeight;
<a name="l232"><span class="linenum"> 232</span></a>  
<a name="l233"><span class="linenum"> 233</span></a>      $.extend( div.style, {
<a name="l234"><span class="linenum"> 234</span></a>          minHeight: &quot;100px&quot;,
<a name="l235"><span class="linenum"> 235</span></a>          height: &quot;auto&quot;,
<a name="l236"><span class="linenum"> 236</span></a>          padding: 0,
<a name="l237"><span class="linenum"> 237</span></a>          borderWidth: 0
<a name="l238"><span class="linenum"> 238</span></a>      });
<a name="l239"><span class="linenum"> 239</span></a>  
<a name="l240"><span class="linenum"> 240</span></a>      $.support.minHeight = div.offsetHeight === 100;
<a name="l241"><span class="linenum"> 241</span></a>      $.support.selectstart = &quot;onselectstart&quot; in div;
<a name="l242"><span class="linenum"> 242</span></a>  
<a name="l243"><span class="linenum"> 243</span></a>  <span class="comment">    // set display to none to avoid a layout bug in IE</span>
<a name="l244"><span class="linenum"> 244</span></a>  <span class="comment">    // http://dev.jquery.com/ticket/4014</span>
<a name="l245"><span class="linenum"> 245</span></a>      body.removeChild( div ).style.display = &quot;none&quot;;
<a name="l246"><span class="linenum"> 246</span></a>  });
<a name="l247"><span class="linenum"> 247</span></a>  
<a name="l248"><span class="linenum"> 248</span></a>  
<a name="l249"><span class="linenum"> 249</span></a>  
<a name="l250"><span class="linenum"> 250</span></a>  
<a name="l251"><span class="linenum"> 251</span></a>  
<a name="l252"><span class="linenum"> 252</span></a>  <span class="comment">// deprecated</span>
<a name="l253"><span class="linenum"> 253</span></a>  $.extend( $.ui, {
<a name="l254"><span class="linenum"> 254</span></a>  <span class="comment">    // $.ui.plugin is deprecated.  Use the proxy pattern instead.</span>
<a name="l255"><span class="linenum"> 255</span></a>      plugin: {
<a name="l256"><span class="linenum"> 256</span></a>          add: function( module, option, set ) {
<a name="l257"><span class="linenum"> 257</span></a>              var proto = $.ui[ module ].prototype;
<a name="l258"><span class="linenum"> 258</span></a>              for ( var i in set ) {
<a name="l259"><span class="linenum"> 259</span></a>                  proto.plugins[ i ] = proto.plugins[ i ] || [];
<a name="l260"><span class="linenum"> 260</span></a>                  proto.plugins[ i ].push( [ option, set[ i ] ] );
<a name="l261"><span class="linenum"> 261</span></a>              }
<a name="l262"><span class="linenum"> 262</span></a>          },
<a name="l263"><span class="linenum"> 263</span></a>          call: function( instance, name, args ) {
<a name="l264"><span class="linenum"> 264</span></a>              var set = instance.plugins[ name ];
<a name="l265"><span class="linenum"> 265</span></a>              if ( !set || !instance.element[ 0 ].parentNode ) {
<a name="l266"><span class="linenum"> 266</span></a>                  return;
<a name="l267"><span class="linenum"> 267</span></a>              }
<a name="l268"><span class="linenum"> 268</span></a>      
<a name="l269"><span class="linenum"> 269</span></a>              for ( var i = 0; i &lt; set.length; i++ ) {
<a name="l270"><span class="linenum"> 270</span></a>                  if ( instance.options[ set[ i ][ 0 ] ] ) {
<a name="l271"><span class="linenum"> 271</span></a>                      set[ i ][ 1 ].<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>( instance.element, args );
<a name="l272"><span class="linenum"> 272</span></a>                  }
<a name="l273"><span class="linenum"> 273</span></a>              }
<a name="l274"><span class="linenum"> 274</span></a>          }
<a name="l275"><span class="linenum"> 275</span></a>      },
<a name="l276"><span class="linenum"> 276</span></a>      
<a name="l277"><span class="linenum"> 277</span></a>  <span class="comment">    // will be deprecated when we switch to jQuery 1.4 - use jQuery.contains()</span>
<a name="l278"><span class="linenum"> 278</span></a>      contains: function( a, b ) {
<a name="l279"><span class="linenum"> 279</span></a>          return document.compareDocumentPosition ?
<a name="l280"><span class="linenum"> 280</span></a>              a.compareDocumentPosition( b ) &amp; 16 :
<a name="l281"><span class="linenum"> 281</span></a>              a !== b &amp;&amp; a.<a class="function" onClick="logFunction('contains')" href="../../../../_functions/contains.html" onMouseOver="funcPopup(event,'contains')">contains</a>( b );
<a name="l282"><span class="linenum"> 282</span></a>      },
<a name="l283"><span class="linenum"> 283</span></a>      
<a name="l284"><span class="linenum"> 284</span></a>  <span class="comment">    // only used by resizable</span>
<a name="l285"><span class="linenum"> 285</span></a>      hasScroll: function( el, a ) {
<a name="l286"><span class="linenum"> 286</span></a>      
<a name="l287"><span class="linenum"> 287</span></a>  <span class="comment">        //If overflow is hidden, the element might have extra content, but the user wants to hide it</span>
<a name="l288"><span class="linenum"> 288</span></a>          if ( $( el ).css( &quot;overflow&quot; ) === &quot;hidden&quot;) {
<a name="l289"><span class="linenum"> 289</span></a>              return false;
<a name="l290"><span class="linenum"> 290</span></a>          }
<a name="l291"><span class="linenum"> 291</span></a>      
<a name="l292"><span class="linenum"> 292</span></a>          var scroll = ( a &amp;&amp; a === &quot;left&quot; ) ? &quot;scrollLeft&quot; : &quot;scrollTop&quot;,
<a name="l293"><span class="linenum"> 293</span></a>              has = false;
<a name="l294"><span class="linenum"> 294</span></a>      
<a name="l295"><span class="linenum"> 295</span></a>          if ( el[ scroll ] &gt; 0 ) {
<a name="l296"><span class="linenum"> 296</span></a>              return true;
<a name="l297"><span class="linenum"> 297</span></a>          }
<a name="l298"><span class="linenum"> 298</span></a>      
<a name="l299"><span class="linenum"> 299</span></a>  <span class="comment">        // TODO: determine which cases actually cause this to happen</span>
<a name="l300"><span class="linenum"> 300</span></a>  <span class="comment">        // if the element doesn't have the scroll set, see if it's possible to</span>
<a name="l301"><span class="linenum"> 301</span></a>  <span class="comment">        // set the scroll</span>
<a name="l302"><span class="linenum"> 302</span></a>          el[ scroll ] = 1;
<a name="l303"><span class="linenum"> 303</span></a>          has = ( el[ scroll ] &gt; 0 );
<a name="l304"><span class="linenum"> 304</span></a>          el[ scroll ] = 0;
<a name="l305"><span class="linenum"> 305</span></a>          return has;
<a name="l306"><span class="linenum"> 306</span></a>      },
<a name="l307"><span class="linenum"> 307</span></a>      
<a name="l308"><span class="linenum"> 308</span></a>  <span class="comment">    // these are odd functions, fix the API or move into individual plugins</span>
<a name="l309"><span class="linenum"> 309</span></a>      isOverAxis: function( x, reference, size ) {
<a name="l310"><span class="linenum"> 310</span></a>  <span class="comment">        //Determines when x coordinate is over &quot;b&quot; element axis</span>
<a name="l311"><span class="linenum"> 311</span></a>          return ( x &gt; reference ) &amp;&amp; ( x &lt; ( reference + size ) );
<a name="l312"><span class="linenum"> 312</span></a>      },
<a name="l313"><span class="linenum"> 313</span></a>      isOver: function( y, x, top, left, height, width ) {
<a name="l314"><span class="linenum"> 314</span></a>  <span class="comment">        //Determines when x, y coordinates is over &quot;b&quot; element</span>
<a name="l315"><span class="linenum"> 315</span></a>          return $.ui.isOverAxis( y, top, height ) &amp;&amp; $.ui.isOverAxis( x, left, width );
<a name="l316"><span class="linenum"> 316</span></a>      }
<a name="l317"><span class="linenum"> 317</span></a>  });
<a name="l318"><span class="linenum"> 318</span></a>  
<a name="l319"><span class="linenum"> 319</span></a>  })( jQuery );
<a name="l320"><span class="linenum"> 320</span></a>  <span class="comment">/*!</span>
<a name="l321"><span class="linenum"> 321</span></a>  <span class="comment"> * jQuery UI Widget 1.8.18</span>
<a name="l322"><span class="linenum"> 322</span></a>  <span class="comment"> *</span>
<a name="l323"><span class="linenum"> 323</span></a>  <span class="comment"> * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l324"><span class="linenum"> 324</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l325"><span class="linenum"> 325</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l326"><span class="linenum"> 326</span></a>  <span class="comment"> *</span>
<a name="l327"><span class="linenum"> 327</span></a>  <span class="comment"> * http://docs.jquery.com/UI/Widget</span>
<a name="l328"><span class="linenum"> 328</span></a>  <span class="comment"> */</span>
<a name="l329"><span class="linenum"> 329</span></a>  (function( $, undefined ) {
<a name="l330"><span class="linenum"> 330</span></a>  
<a name="l331"><span class="linenum"> 331</span></a>  <span class="comment">// jQuery 1.4+</span>
<a name="l332"><span class="linenum"> 332</span></a>  if ( $.cleanData ) {
<a name="l333"><span class="linenum"> 333</span></a>      var _cleanData = $.cleanData;
<a name="l334"><span class="linenum"> 334</span></a>      $.cleanData = function( elems ) {
<a name="l335"><span class="linenum"> 335</span></a>          for ( var i = 0, elem; (elem = elems[i]) != null; i++ ) {
<a name="l336"><span class="linenum"> 336</span></a>              try {
<a name="l337"><span class="linenum"> 337</span></a>                  $( elem ).<a class="function" onClick="logFunction('triggerHandler')" href="../../../../_functions/triggerhandler.html" onMouseOver="funcPopup(event,'triggerhandler')">triggerHandler</a>( &quot;remove&quot; );
<a name="l338"><span class="linenum"> 338</span></a>  <span class="comment">            // http://bugs.jquery.com/ticket/8235</span>
<a name="l339"><span class="linenum"> 339</span></a>              } catch( e ) {}
<a name="l340"><span class="linenum"> 340</span></a>          }
<a name="l341"><span class="linenum"> 341</span></a>          _cleanData( elems );
<a name="l342"><span class="linenum"> 342</span></a>      };
<a name="l343"><span class="linenum"> 343</span></a>  } else {
<a name="l344"><span class="linenum"> 344</span></a>      var _remove = $.fn.remove;
<a name="l345"><span class="linenum"> 345</span></a>      $.fn.remove = function( selector, keepData ) {
<a name="l346"><span class="linenum"> 346</span></a>          return this.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l347"><span class="linenum"> 347</span></a>              if ( !keepData ) {
<a name="l348"><span class="linenum"> 348</span></a>                  if ( !selector || $.filter( selector, [ this ] ).length ) {
<a name="l349"><span class="linenum"> 349</span></a>                      $( &quot;*&quot;, this ).<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>( [ this ] ).<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l350"><span class="linenum"> 350</span></a>                          try {
<a name="l351"><span class="linenum"> 351</span></a>                              $( this ).<a class="function" onClick="logFunction('triggerHandler')" href="../../../../_functions/triggerhandler.html" onMouseOver="funcPopup(event,'triggerhandler')">triggerHandler</a>( &quot;remove&quot; );
<a name="l352"><span class="linenum"> 352</span></a>  <span class="comment">                        // http://bugs.jquery.com/ticket/8235</span>
<a name="l353"><span class="linenum"> 353</span></a>                          } catch( e ) {}
<a name="l354"><span class="linenum"> 354</span></a>                      });
<a name="l355"><span class="linenum"> 355</span></a>                  }
<a name="l356"><span class="linenum"> 356</span></a>              }
<a name="l357"><span class="linenum"> 357</span></a>              return _remove.call( $(this), selector, keepData );
<a name="l358"><span class="linenum"> 358</span></a>          });
<a name="l359"><span class="linenum"> 359</span></a>      };
<a name="l360"><span class="linenum"> 360</span></a>  }
<a name="l361"><span class="linenum"> 361</span></a>  
<a name="l362"><span class="linenum"> 362</span></a>  $.widget = function( name, base, prototype ) {
<a name="l363"><span class="linenum"> 363</span></a>      var namespace = name.<a class="phpfunction" onClick="logFunction('split')" href="../../../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>( &quot;.&quot; )[ 0 ],
<a name="l364"><span class="linenum"> 364</span></a>          fullName;
<a name="l365"><span class="linenum"> 365</span></a>      name = name.<a class="phpfunction" onClick="logFunction('split')" href="../../../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>( &quot;.&quot; )[ 1 ];
<a name="l366"><span class="linenum"> 366</span></a>      fullName = namespace + &quot;-&quot; + name;
<a name="l367"><span class="linenum"> 367</span></a>  
<a name="l368"><span class="linenum"> 368</span></a>      if ( !prototype ) {
<a name="l369"><span class="linenum"> 369</span></a>          prototype = base;
<a name="l370"><span class="linenum"> 370</span></a>          base = $.Widget;
<a name="l371"><span class="linenum"> 371</span></a>      }
<a name="l372"><span class="linenum"> 372</span></a>  
<a name="l373"><span class="linenum"> 373</span></a>  <span class="comment">    // create selector for plugin</span>
<a name="l374"><span class="linenum"> 374</span></a>      $.expr[ &quot;:&quot; ][ fullName ] = function( elem ) {
<a name="l375"><span class="linenum"> 375</span></a>          return !!$.data( elem, name );
<a name="l376"><span class="linenum"> 376</span></a>      };
<a name="l377"><span class="linenum"> 377</span></a>  
<a name="l378"><span class="linenum"> 378</span></a>      $[ namespace ] = $[ namespace ] || {};
<a name="l379"><span class="linenum"> 379</span></a>      $[ namespace ][ name ] = function( options, element ) {
<a name="l380"><span class="linenum"> 380</span></a>  <span class="comment">        // allow instantiation without initializing for simple inheritance</span>
<a name="l381"><span class="linenum"> 381</span></a>          if ( arguments.length ) {
<a name="l382"><span class="linenum"> 382</span></a>              this._createWidget( options, element );
<a name="l383"><span class="linenum"> 383</span></a>          }
<a name="l384"><span class="linenum"> 384</span></a>      };
<a name="l385"><span class="linenum"> 385</span></a>  
<a name="l386"><span class="linenum"> 386</span></a>      var basePrototype = new base();
<a name="l387"><span class="linenum"> 387</span></a>  <span class="comment">    // we need to make the options hash a property directly on the new instance</span>
<a name="l388"><span class="linenum"> 388</span></a>  <span class="comment">    // otherwise we'll modify the options hash on the prototype that we're</span>
<a name="l389"><span class="linenum"> 389</span></a>  <span class="comment">    // inheriting from</span>
<a name="l390"><span class="linenum"> 390</span></a>  <span class="comment">//    $.each( basePrototype, function( key, val ) {</span>
<a name="l391"><span class="linenum"> 391</span></a>  <span class="comment">//        if ( $.isPlainObject(val) ) {</span>
<a name="l392"><span class="linenum"> 392</span></a>  <span class="comment">//            basePrototype[ key ] = $.extend( {}, val );</span>
<a name="l393"><span class="linenum"> 393</span></a>  <span class="comment">//        }</span>
<a name="l394"><span class="linenum"> 394</span></a>  <span class="comment">//    });</span>
<a name="l395"><span class="linenum"> 395</span></a>      basePrototype.options = $.extend( true, {}, basePrototype.options );
<a name="l396"><span class="linenum"> 396</span></a>      $[ namespace ][ name ].prototype = $.extend( true, basePrototype, {
<a name="l397"><span class="linenum"> 397</span></a>          namespace: namespace,
<a name="l398"><span class="linenum"> 398</span></a>          widgetName: name,
<a name="l399"><span class="linenum"> 399</span></a>          widgetEventPrefix: $[ namespace ][ name ].prototype.widgetEventPrefix || name,
<a name="l400"><span class="linenum"> 400</span></a>          widgetBaseClass: fullName
<a name="l401"><span class="linenum"> 401</span></a>      }, prototype );
<a name="l402"><span class="linenum"> 402</span></a>  
<a name="l403"><span class="linenum"> 403</span></a>      $.widget.bridge( name, $[ namespace ][ name ] );
<a name="l404"><span class="linenum"> 404</span></a>  };
<a name="l405"><span class="linenum"> 405</span></a>  
<a name="l406"><span class="linenum"> 406</span></a>  $.widget.bridge = function( name, object ) {
<a name="l407"><span class="linenum"> 407</span></a>      $.fn[ name ] = function( options ) {
<a name="l408"><span class="linenum"> 408</span></a>          var isMethodCall = typeof options === &quot;string&quot;,
<a name="l409"><span class="linenum"> 409</span></a>              args = Array.prototype.slice.call( arguments, 1 ),
<a name="l410"><span class="linenum"> 410</span></a>              returnValue = this;
<a name="l411"><span class="linenum"> 411</span></a>  
<a name="l412"><span class="linenum"> 412</span></a>  <span class="comment">        // allow multiple hashes to be passed on init</span>
<a name="l413"><span class="linenum"> 413</span></a>          options = !isMethodCall &amp;&amp; args.length ?
<a name="l414"><span class="linenum"> 414</span></a>              $.extend.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>( null, [ true, options ].concat(args) ) :
<a name="l415"><span class="linenum"> 415</span></a>              options;
<a name="l416"><span class="linenum"> 416</span></a>  
<a name="l417"><span class="linenum"> 417</span></a>  <span class="comment">        // prevent calls to internal methods</span>
<a name="l418"><span class="linenum"> 418</span></a>          if ( isMethodCall &amp;&amp; options.charAt( 0 ) === &quot;_&quot; ) {
<a name="l419"><span class="linenum"> 419</span></a>              return returnValue;
<a name="l420"><span class="linenum"> 420</span></a>          }
<a name="l421"><span class="linenum"> 421</span></a>  
<a name="l422"><span class="linenum"> 422</span></a>          if ( isMethodCall ) {
<a name="l423"><span class="linenum"> 423</span></a>              this.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l424"><span class="linenum"> 424</span></a>                  var instance = $.data( this, name ),
<a name="l425"><span class="linenum"> 425</span></a>                      methodValue = instance &amp;&amp; $.isFunction( instance[options] ) ?
<a name="l426"><span class="linenum"> 426</span></a>                          instance[ options ].<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>( instance, args ) :
<a name="l427"><span class="linenum"> 427</span></a>                          instance;
<a name="l428"><span class="linenum"> 428</span></a>  <span class="comment">                // TODO: add this back in 1.9 and use $.error() (see #5972)</span>
<a name="l429"><span class="linenum"> 429</span></a>  <span class="comment">//                if ( !instance ) {</span>
<a name="l430"><span class="linenum"> 430</span></a>  <span class="comment">//                    throw &quot;cannot call methods on &quot; + name + &quot; prior to initialization; &quot; +</span>
<a name="l431"><span class="linenum"> 431</span></a>  <span class="comment">//                        &quot;attempted to call method '&quot; + options + &quot;'&quot;;</span>
<a name="l432"><span class="linenum"> 432</span></a>  <span class="comment">//                }</span>
<a name="l433"><span class="linenum"> 433</span></a>  <span class="comment">//                if ( !$.isFunction( instance[options] ) ) {</span>
<a name="l434"><span class="linenum"> 434</span></a>  <span class="comment">//                    throw &quot;no such method '&quot; + options + &quot;' for &quot; + name + &quot; widget instance&quot;;</span>
<a name="l435"><span class="linenum"> 435</span></a>  <span class="comment">//                }</span>
<a name="l436"><span class="linenum"> 436</span></a>  <span class="comment">//                var methodValue = instance[ options ].apply( instance, args );</span>
<a name="l437"><span class="linenum"> 437</span></a>                  if ( methodValue !== instance &amp;&amp; methodValue !== undefined ) {
<a name="l438"><span class="linenum"> 438</span></a>                      returnValue = methodValue;
<a name="l439"><span class="linenum"> 439</span></a>                      return false;
<a name="l440"><span class="linenum"> 440</span></a>                  }
<a name="l441"><span class="linenum"> 441</span></a>              });
<a name="l442"><span class="linenum"> 442</span></a>          } else {
<a name="l443"><span class="linenum"> 443</span></a>              this.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l444"><span class="linenum"> 444</span></a>                  var instance = $.data( this, name );
<a name="l445"><span class="linenum"> 445</span></a>                  if ( instance ) {
<a name="l446"><span class="linenum"> 446</span></a>                      instance.<a class="function" onClick="logFunction('option')" href="../../../../_functions/option.html" onMouseOver="funcPopup(event,'option')">option</a>( options || {} ).<a class="function" onClick="logFunction('_init')" href="../../../../_functions/_init.html" onMouseOver="funcPopup(event,'_init')">_init</a>();
<a name="l447"><span class="linenum"> 447</span></a>                  } else {
<a name="l448"><span class="linenum"> 448</span></a>                      $.data( this, name, new object( options, this ) );
<a name="l449"><span class="linenum"> 449</span></a>                  }
<a name="l450"><span class="linenum"> 450</span></a>              });
<a name="l451"><span class="linenum"> 451</span></a>          }
<a name="l452"><span class="linenum"> 452</span></a>  
<a name="l453"><span class="linenum"> 453</span></a>          return returnValue;
<a name="l454"><span class="linenum"> 454</span></a>      };
<a name="l455"><span class="linenum"> 455</span></a>  };
<a name="l456"><span class="linenum"> 456</span></a>  
<a name="l457"><span class="linenum"> 457</span></a>  $.Widget = function( options, element ) {
<a name="l458"><span class="linenum"> 458</span></a>  <span class="comment">    // allow instantiation without initializing for simple inheritance</span>
<a name="l459"><span class="linenum"> 459</span></a>      if ( arguments.length ) {
<a name="l460"><span class="linenum"> 460</span></a>          this._createWidget( options, element );
<a name="l461"><span class="linenum"> 461</span></a>      }
<a name="l462"><span class="linenum"> 462</span></a>  };
<a name="l463"><span class="linenum"> 463</span></a>  
<a name="l464"><span class="linenum"> 464</span></a>  $.Widget.prototype = {
<a name="l465"><span class="linenum"> 465</span></a>      widgetName: &quot;widget&quot;,
<a name="l466"><span class="linenum"> 466</span></a>      widgetEventPrefix: &quot;&quot;,
<a name="l467"><span class="linenum"> 467</span></a>      options: {
<a name="l468"><span class="linenum"> 468</span></a>          disabled: false
<a name="l469"><span class="linenum"> 469</span></a>      },
<a name="l470"><span class="linenum"> 470</span></a>      _createWidget: function( options, element ) {
<a name="l471"><span class="linenum"> 471</span></a>  <span class="comment">        // $.widget.bridge stores the plugin instance, but we do it anyway</span>
<a name="l472"><span class="linenum"> 472</span></a>  <span class="comment">        // so that it's stored even before the _create function runs</span>
<a name="l473"><span class="linenum"> 473</span></a>          $.data( element, this.widgetName, this );
<a name="l474"><span class="linenum"> 474</span></a>          this.element = $( element );
<a name="l475"><span class="linenum"> 475</span></a>          this.options = $.extend( true, {},
<a name="l476"><span class="linenum"> 476</span></a>              this.options,
<a name="l477"><span class="linenum"> 477</span></a>              this._getCreateOptions(),
<a name="l478"><span class="linenum"> 478</span></a>              options );
<a name="l479"><span class="linenum"> 479</span></a>  
<a name="l480"><span class="linenum"> 480</span></a>          var self = this;
<a name="l481"><span class="linenum"> 481</span></a>          this.element.bind( &quot;remove.&quot; + this.widgetName, function() {
<a name="l482"><span class="linenum"> 482</span></a>              self.destroy();
<a name="l483"><span class="linenum"> 483</span></a>          });
<a name="l484"><span class="linenum"> 484</span></a>  
<a name="l485"><span class="linenum"> 485</span></a>          this._create();
<a name="l486"><span class="linenum"> 486</span></a>          this._trigger( &quot;create&quot; );
<a name="l487"><span class="linenum"> 487</span></a>          this.<a class="function" onClick="logFunction('_init')" href="../../../../_functions/_init.html" onMouseOver="funcPopup(event,'_init')">_init</a>();
<a name="l488"><span class="linenum"> 488</span></a>      },
<a name="l489"><span class="linenum"> 489</span></a>      _getCreateOptions: function() {
<a name="l490"><span class="linenum"> 490</span></a>          return $.metadata &amp;&amp; $.metadata.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>( this.element[0] )[ this.widgetName ];
<a name="l491"><span class="linenum"> 491</span></a>      },
<a name="l492"><span class="linenum"> 492</span></a>      _create: function() {},
<a name="l493"><span class="linenum"> 493</span></a>      _init: function() {},
<a name="l494"><span class="linenum"> 494</span></a>  
<a name="l495"><span class="linenum"> 495</span></a>      destroy: function() {
<a name="l496"><span class="linenum"> 496</span></a>          this.element
<a name="l497"><span class="linenum"> 497</span></a>              .unbind( &quot;.&quot; + this.widgetName )
<a name="l498"><span class="linenum"> 498</span></a>              .removeData( this.widgetName );
<a name="l499"><span class="linenum"> 499</span></a>          this.<a class="function" onClick="logFunction('widget')" href="../../../../_functions/widget.html" onMouseOver="funcPopup(event,'widget')">widget</a>()
<a name="l500"><span class="linenum"> 500</span></a>              .unbind( &quot;.&quot; + this.widgetName )
<a name="l501"><span class="linenum"> 501</span></a>              .removeAttr( &quot;aria-disabled&quot; )
<a name="l502"><span class="linenum"> 502</span></a>              .removeClass(
<a name="l503"><span class="linenum"> 503</span></a>                  this.widgetBaseClass + &quot;-disabled &quot; +
<a name="l504"><span class="linenum"> 504</span></a>                  &quot;ui-state-disabled&quot; );
<a name="l505"><span class="linenum"> 505</span></a>      },
<a name="l506"><span class="linenum"> 506</span></a>  
<a name="l507"><span class="linenum"> 507</span></a>      widget: function() {
<a name="l508"><span class="linenum"> 508</span></a>          return this.element;
<a name="l509"><span class="linenum"> 509</span></a>      },
<a name="l510"><span class="linenum"> 510</span></a>  
<a name="l511"><span class="linenum"> 511</span></a>      option: function( key, value ) {
<a name="l512"><span class="linenum"> 512</span></a>          var options = key;
<a name="l513"><span class="linenum"> 513</span></a>  
<a name="l514"><span class="linenum"> 514</span></a>          if ( arguments.length === 0 ) {
<a name="l515"><span class="linenum"> 515</span></a>  <span class="comment">            // don't return a reference to the internal hash</span>
<a name="l516"><span class="linenum"> 516</span></a>              return $.extend( {}, this.options );
<a name="l517"><span class="linenum"> 517</span></a>          }
<a name="l518"><span class="linenum"> 518</span></a>  
<a name="l519"><span class="linenum"> 519</span></a>          if  (typeof key === &quot;string&quot; ) {
<a name="l520"><span class="linenum"> 520</span></a>              if ( value === undefined ) {
<a name="l521"><span class="linenum"> 521</span></a>                  return this.options[ key ];
<a name="l522"><span class="linenum"> 522</span></a>              }
<a name="l523"><span class="linenum"> 523</span></a>              options = {};
<a name="l524"><span class="linenum"> 524</span></a>              options[ key ] = value;
<a name="l525"><span class="linenum"> 525</span></a>          }
<a name="l526"><span class="linenum"> 526</span></a>  
<a name="l527"><span class="linenum"> 527</span></a>          this._setOptions( options );
<a name="l528"><span class="linenum"> 528</span></a>  
<a name="l529"><span class="linenum"> 529</span></a>          return this;
<a name="l530"><span class="linenum"> 530</span></a>      },
<a name="l531"><span class="linenum"> 531</span></a>      _setOptions: function( options ) {
<a name="l532"><span class="linenum"> 532</span></a>          var self = this;
<a name="l533"><span class="linenum"> 533</span></a>          $.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>( options, function( key, value ) {
<a name="l534"><span class="linenum"> 534</span></a>              self._setOption( key, value );
<a name="l535"><span class="linenum"> 535</span></a>          });
<a name="l536"><span class="linenum"> 536</span></a>  
<a name="l537"><span class="linenum"> 537</span></a>          return this;
<a name="l538"><span class="linenum"> 538</span></a>      },
<a name="l539"><span class="linenum"> 539</span></a>      _setOption: function( key, value ) {
<a name="l540"><span class="linenum"> 540</span></a>          this.options[ key ] = value;
<a name="l541"><span class="linenum"> 541</span></a>  
<a name="l542"><span class="linenum"> 542</span></a>          if ( key === &quot;disabled&quot; ) {
<a name="l543"><span class="linenum"> 543</span></a>              this.<a class="function" onClick="logFunction('widget')" href="../../../../_functions/widget.html" onMouseOver="funcPopup(event,'widget')">widget</a>()
<a name="l544"><span class="linenum"> 544</span></a>                  [ value ? &quot;addClass&quot; : &quot;removeClass&quot;](
<a name="l545"><span class="linenum"> 545</span></a>                      this.widgetBaseClass + &quot;-disabled&quot; + &quot; &quot; +
<a name="l546"><span class="linenum"> 546</span></a>                      &quot;ui-state-disabled&quot; )
<a name="l547"><span class="linenum"> 547</span></a>                  .attr( &quot;aria-disabled&quot;, value );
<a name="l548"><span class="linenum"> 548</span></a>          }
<a name="l549"><span class="linenum"> 549</span></a>  
<a name="l550"><span class="linenum"> 550</span></a>          return this;
<a name="l551"><span class="linenum"> 551</span></a>      },
<a name="l552"><span class="linenum"> 552</span></a>  
<a name="l553"><span class="linenum"> 553</span></a>      enable: function() {
<a name="l554"><span class="linenum"> 554</span></a>          return this._setOption( &quot;disabled&quot;, false );
<a name="l555"><span class="linenum"> 555</span></a>      },
<a name="l556"><span class="linenum"> 556</span></a>      disable: function() {
<a name="l557"><span class="linenum"> 557</span></a>          return this._setOption( &quot;disabled&quot;, true );
<a name="l558"><span class="linenum"> 558</span></a>      },
<a name="l559"><span class="linenum"> 559</span></a>  
<a name="l560"><span class="linenum"> 560</span></a>      _trigger: function( type, event, data ) {
<a name="l561"><span class="linenum"> 561</span></a>          var prop, orig,
<a name="l562"><span class="linenum"> 562</span></a>              callback = this.options[ type ];
<a name="l563"><span class="linenum"> 563</span></a>  
<a name="l564"><span class="linenum"> 564</span></a>          data = data || {};
<a name="l565"><span class="linenum"> 565</span></a>          event = $.Event( event );
<a name="l566"><span class="linenum"> 566</span></a>          event.type = ( type === this.widgetEventPrefix ?
<a name="l567"><span class="linenum"> 567</span></a>              type :
<a name="l568"><span class="linenum"> 568</span></a>              this.widgetEventPrefix + type ).toLowerCase();
<a name="l569"><span class="linenum"> 569</span></a>  <span class="comment">        // the original event may come from any element</span>
<a name="l570"><span class="linenum"> 570</span></a>  <span class="comment">        // so we need to reset the target on the new event</span>
<a name="l571"><span class="linenum"> 571</span></a>          event.target = this.element[ 0 ];
<a name="l572"><span class="linenum"> 572</span></a>  
<a name="l573"><span class="linenum"> 573</span></a>  <span class="comment">        // copy original event properties over to the new event</span>
<a name="l574"><span class="linenum"> 574</span></a>          orig = event.originalEvent;
<a name="l575"><span class="linenum"> 575</span></a>          if ( orig ) {
<a name="l576"><span class="linenum"> 576</span></a>              for ( prop in orig ) {
<a name="l577"><span class="linenum"> 577</span></a>                  if ( !( prop in event ) ) {
<a name="l578"><span class="linenum"> 578</span></a>                      event[ prop ] = orig[ prop ];
<a name="l579"><span class="linenum"> 579</span></a>                  }
<a name="l580"><span class="linenum"> 580</span></a>              }
<a name="l581"><span class="linenum"> 581</span></a>          }
<a name="l582"><span class="linenum"> 582</span></a>  
<a name="l583"><span class="linenum"> 583</span></a>          this.element.<a class="function" onClick="logFunction('trigger')" href="../../../../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>( event, data );
<a name="l584"><span class="linenum"> 584</span></a>  
<a name="l585"><span class="linenum"> 585</span></a>          return !( $.isFunction(callback) &amp;&amp;
<a name="l586"><span class="linenum"> 586</span></a>              callback.call( this.element[0], event, data ) === false ||
<a name="l587"><span class="linenum"> 587</span></a>              event.isDefaultPrevented() );
<a name="l588"><span class="linenum"> 588</span></a>      }
<a name="l589"><span class="linenum"> 589</span></a>  };
<a name="l590"><span class="linenum"> 590</span></a>  
<a name="l591"><span class="linenum"> 591</span></a>  })( jQuery );
<a name="l592"><span class="linenum"> 592</span></a>  <span class="comment">/*!</span>
<a name="l593"><span class="linenum"> 593</span></a>  <span class="comment"> * jQuery UI Mouse 1.8.18</span>
<a name="l594"><span class="linenum"> 594</span></a>  <span class="comment"> *</span>
<a name="l595"><span class="linenum"> 595</span></a>  <span class="comment"> * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l596"><span class="linenum"> 596</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l597"><span class="linenum"> 597</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l598"><span class="linenum"> 598</span></a>  <span class="comment"> *</span>
<a name="l599"><span class="linenum"> 599</span></a>  <span class="comment"> * http://docs.jquery.com/UI/Mouse</span>
<a name="l600"><span class="linenum"> 600</span></a>  <span class="comment"> *</span>
<a name="l601"><span class="linenum"> 601</span></a>  <span class="comment"> * Depends:</span>
<a name="l602"><span class="linenum"> 602</span></a>  <span class="comment"> *    jquery.ui.widget.js</span>
<a name="l603"><span class="linenum"> 603</span></a>  <span class="comment"> */</span>
<a name="l604"><span class="linenum"> 604</span></a>  (function( $, undefined ) {
<a name="l605"><span class="linenum"> 605</span></a>  
<a name="l606"><span class="linenum"> 606</span></a>  var mouseHandled = false;
<a name="l607"><span class="linenum"> 607</span></a>  $( document ).mouseup( function( e ) {
<a name="l608"><span class="linenum"> 608</span></a>      mouseHandled = false;
<a name="l609"><span class="linenum"> 609</span></a>  });
<a name="l610"><span class="linenum"> 610</span></a>  
<a name="l611"><span class="linenum"> 611</span></a>  $.<a class="function" onClick="logFunction('widget')" href="../../../../_functions/widget.html" onMouseOver="funcPopup(event,'widget')">widget</a>(&quot;ui.mouse&quot;, {
<a name="l612"><span class="linenum"> 612</span></a>      options: {
<a name="l613"><span class="linenum"> 613</span></a>          cancel: ':input,option',
<a name="l614"><span class="linenum"> 614</span></a>          distance: 1,
<a name="l615"><span class="linenum"> 615</span></a>          delay: 0
<a name="l616"><span class="linenum"> 616</span></a>      },
<a name="l617"><span class="linenum"> 617</span></a>      _mouseInit: function() {
<a name="l618"><span class="linenum"> 618</span></a>          var self = this;
<a name="l619"><span class="linenum"> 619</span></a>  
<a name="l620"><span class="linenum"> 620</span></a>          this.element
<a name="l621"><span class="linenum"> 621</span></a>              .bind('mousedown.'+this.widgetName, function(event) {
<a name="l622"><span class="linenum"> 622</span></a>                  return self._mouseDown(event);
<a name="l623"><span class="linenum"> 623</span></a>              })
<a name="l624"><span class="linenum"> 624</span></a>              .bind('click.'+this.widgetName, function(event) {
<a name="l625"><span class="linenum"> 625</span></a>                  if (true === $.data(event.target, self.widgetName + '.preventClickEvent')) {
<a name="l626"><span class="linenum"> 626</span></a>                      $.removeData(event.target, self.widgetName + '.preventClickEvent');
<a name="l627"><span class="linenum"> 627</span></a>                      event.stopImmediatePropagation();
<a name="l628"><span class="linenum"> 628</span></a>                      return false;
<a name="l629"><span class="linenum"> 629</span></a>                  }
<a name="l630"><span class="linenum"> 630</span></a>              });
<a name="l631"><span class="linenum"> 631</span></a>  
<a name="l632"><span class="linenum"> 632</span></a>          this.started = false;
<a name="l633"><span class="linenum"> 633</span></a>      },
<a name="l634"><span class="linenum"> 634</span></a>  
<a name="l635"><span class="linenum"> 635</span></a>  <span class="comment">    // TODO: make sure destroying one instance of mouse doesn't mess with</span>
<a name="l636"><span class="linenum"> 636</span></a>  <span class="comment">    // other instances of mouse</span>
<a name="l637"><span class="linenum"> 637</span></a>      _mouseDestroy: function() {
<a name="l638"><span class="linenum"> 638</span></a>          this.element.unbind('.'+this.widgetName);
<a name="l639"><span class="linenum"> 639</span></a>      },
<a name="l640"><span class="linenum"> 640</span></a>  
<a name="l641"><span class="linenum"> 641</span></a>      _mouseDown: function(event) {
<a name="l642"><span class="linenum"> 642</span></a>  <span class="comment">        // don't let more than one widget handle mouseStart</span>
<a name="l643"><span class="linenum"> 643</span></a>          if( mouseHandled ) { return };
<a name="l644"><span class="linenum"> 644</span></a>  
<a name="l645"><span class="linenum"> 645</span></a>  <span class="comment">        // we may have missed mouseup (out of window)</span>
<a name="l646"><span class="linenum"> 646</span></a>          (this._mouseStarted &amp;&amp; this._mouseUp(event));
<a name="l647"><span class="linenum"> 647</span></a>  
<a name="l648"><span class="linenum"> 648</span></a>          this._mouseDownEvent = event;
<a name="l649"><span class="linenum"> 649</span></a>  
<a name="l650"><span class="linenum"> 650</span></a>          var self = this,
<a name="l651"><span class="linenum"> 651</span></a>              btnIsLeft = (event.which == 1),
<a name="l652"><span class="linenum"> 652</span></a>  <span class="comment">            // event.target.nodeName works around a bug in IE 8 with</span>
<a name="l653"><span class="linenum"> 653</span></a>  <span class="comment">            // disabled inputs (#7620)</span>
<a name="l654"><span class="linenum"> 654</span></a>              elIsCancel = (typeof this.options.cancel == &quot;string&quot; &amp;&amp; event.target.nodeName ? $(event.target).closest(this.options.cancel).length : false);
<a name="l655"><span class="linenum"> 655</span></a>          if (!btnIsLeft || elIsCancel || !this._mouseCapture(event)) {
<a name="l656"><span class="linenum"> 656</span></a>              return true;
<a name="l657"><span class="linenum"> 657</span></a>          }
<a name="l658"><span class="linenum"> 658</span></a>  
<a name="l659"><span class="linenum"> 659</span></a>          this.mouseDelayMet = !this.options.delay;
<a name="l660"><span class="linenum"> 660</span></a>          if (!this.mouseDelayMet) {
<a name="l661"><span class="linenum"> 661</span></a>              this._mouseDelayTimer = setTimeout(function() {
<a name="l662"><span class="linenum"> 662</span></a>                  self.mouseDelayMet = true;
<a name="l663"><span class="linenum"> 663</span></a>              }, this.options.delay);
<a name="l664"><span class="linenum"> 664</span></a>          }
<a name="l665"><span class="linenum"> 665</span></a>  
<a name="l666"><span class="linenum"> 666</span></a>          if (this._mouseDistanceMet(event) &amp;&amp; this._mouseDelayMet(event)) {
<a name="l667"><span class="linenum"> 667</span></a>              this._mouseStarted = (this._mouseStart(event) !== false);
<a name="l668"><span class="linenum"> 668</span></a>              if (!this._mouseStarted) {
<a name="l669"><span class="linenum"> 669</span></a>                  event.preventDefault();
<a name="l670"><span class="linenum"> 670</span></a>                  return true;
<a name="l671"><span class="linenum"> 671</span></a>              }
<a name="l672"><span class="linenum"> 672</span></a>          }
<a name="l673"><span class="linenum"> 673</span></a>  
<a name="l674"><span class="linenum"> 674</span></a>  <span class="comment">        // Click event may never have fired (Gecko &amp; Opera)</span>
<a name="l675"><span class="linenum"> 675</span></a>          if (true === $.data(event.target, this.widgetName + '.preventClickEvent')) {
<a name="l676"><span class="linenum"> 676</span></a>              $.removeData(event.target, this.widgetName + '.preventClickEvent');
<a name="l677"><span class="linenum"> 677</span></a>          }
<a name="l678"><span class="linenum"> 678</span></a>  
<a name="l679"><span class="linenum"> 679</span></a>  <span class="comment">        // these delegates are required to keep context</span>
<a name="l680"><span class="linenum"> 680</span></a>          this._mouseMoveDelegate = function(event) {
<a name="l681"><span class="linenum"> 681</span></a>              return self._mouseMove(event);
<a name="l682"><span class="linenum"> 682</span></a>          };
<a name="l683"><span class="linenum"> 683</span></a>          this._mouseUpDelegate = function(event) {
<a name="l684"><span class="linenum"> 684</span></a>              return self._mouseUp(event);
<a name="l685"><span class="linenum"> 685</span></a>          };
<a name="l686"><span class="linenum"> 686</span></a>          $(document)
<a name="l687"><span class="linenum"> 687</span></a>              .bind('mousemove.'+this.widgetName, this._mouseMoveDelegate)
<a name="l688"><span class="linenum"> 688</span></a>              .bind('mouseup.'+this.widgetName, this._mouseUpDelegate);
<a name="l689"><span class="linenum"> 689</span></a>  
<a name="l690"><span class="linenum"> 690</span></a>          event.preventDefault();
<a name="l691"><span class="linenum"> 691</span></a>          
<a name="l692"><span class="linenum"> 692</span></a>          mouseHandled = true;
<a name="l693"><span class="linenum"> 693</span></a>          return true;
<a name="l694"><span class="linenum"> 694</span></a>      },
<a name="l695"><span class="linenum"> 695</span></a>  
<a name="l696"><span class="linenum"> 696</span></a>      _mouseMove: function(event) {
<a name="l697"><span class="linenum"> 697</span></a>  <span class="comment">        // IE mouseup check - mouseup happened when mouse was out of window</span>
<a name="l698"><span class="linenum"> 698</span></a>          if ($.browser.msie &amp;&amp; !(document.documentMode &gt;= 9) &amp;&amp; !event.button) {
<a name="l699"><span class="linenum"> 699</span></a>              return this._mouseUp(event);
<a name="l700"><span class="linenum"> 700</span></a>          }
<a name="l701"><span class="linenum"> 701</span></a>  
<a name="l702"><span class="linenum"> 702</span></a>          if (this._mouseStarted) {
<a name="l703"><span class="linenum"> 703</span></a>              this._mouseDrag(event);
<a name="l704"><span class="linenum"> 704</span></a>              return event.preventDefault();
<a name="l705"><span class="linenum"> 705</span></a>          }
<a name="l706"><span class="linenum"> 706</span></a>  
<a name="l707"><span class="linenum"> 707</span></a>          if (this._mouseDistanceMet(event) &amp;&amp; this._mouseDelayMet(event)) {
<a name="l708"><span class="linenum"> 708</span></a>              this._mouseStarted =
<a name="l709"><span class="linenum"> 709</span></a>                  (this._mouseStart(this._mouseDownEvent, event) !== false);
<a name="l710"><span class="linenum"> 710</span></a>              (this._mouseStarted ? this._mouseDrag(event) : this._mouseUp(event));
<a name="l711"><span class="linenum"> 711</span></a>          }
<a name="l712"><span class="linenum"> 712</span></a>  
<a name="l713"><span class="linenum"> 713</span></a>          return !this._mouseStarted;
<a name="l714"><span class="linenum"> 714</span></a>      },
<a name="l715"><span class="linenum"> 715</span></a>  
<a name="l716"><span class="linenum"> 716</span></a>      _mouseUp: function(event) {
<a name="l717"><span class="linenum"> 717</span></a>          $(document)
<a name="l718"><span class="linenum"> 718</span></a>              .unbind('mousemove.'+this.widgetName, this._mouseMoveDelegate)
<a name="l719"><span class="linenum"> 719</span></a>              .unbind('mouseup.'+this.widgetName, this._mouseUpDelegate);
<a name="l720"><span class="linenum"> 720</span></a>  
<a name="l721"><span class="linenum"> 721</span></a>          if (this._mouseStarted) {
<a name="l722"><span class="linenum"> 722</span></a>              this._mouseStarted = false;
<a name="l723"><span class="linenum"> 723</span></a>  
<a name="l724"><span class="linenum"> 724</span></a>              if (event.target == this._mouseDownEvent.target) {
<a name="l725"><span class="linenum"> 725</span></a>                  $.data(event.target, this.widgetName + '.preventClickEvent', true);
<a name="l726"><span class="linenum"> 726</span></a>              }
<a name="l727"><span class="linenum"> 727</span></a>  
<a name="l728"><span class="linenum"> 728</span></a>              this._mouseStop(event);
<a name="l729"><span class="linenum"> 729</span></a>          }
<a name="l730"><span class="linenum"> 730</span></a>  
<a name="l731"><span class="linenum"> 731</span></a>          return false;
<a name="l732"><span class="linenum"> 732</span></a>      },
<a name="l733"><span class="linenum"> 733</span></a>  
<a name="l734"><span class="linenum"> 734</span></a>      _mouseDistanceMet: function(event) {
<a name="l735"><span class="linenum"> 735</span></a>          return (Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(
<a name="l736"><span class="linenum"> 736</span></a>                  Math.<a class="phpfunction" onClick="logFunction('abs')" href="../../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(this._mouseDownEvent.pageX - event.pageX),
<a name="l737"><span class="linenum"> 737</span></a>                  Math.<a class="phpfunction" onClick="logFunction('abs')" href="../../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(this._mouseDownEvent.pageY - event.pageY)
<a name="l738"><span class="linenum"> 738</span></a>              ) &gt;= this.options.distance
<a name="l739"><span class="linenum"> 739</span></a>          );
<a name="l740"><span class="linenum"> 740</span></a>      },
<a name="l741"><span class="linenum"> 741</span></a>  
<a name="l742"><span class="linenum"> 742</span></a>      _mouseDelayMet: function(event) {
<a name="l743"><span class="linenum"> 743</span></a>          return this.mouseDelayMet;
<a name="l744"><span class="linenum"> 744</span></a>      },
<a name="l745"><span class="linenum"> 745</span></a>  
<a name="l746"><span class="linenum"> 746</span></a>  <span class="comment">    // These are placeholder methods, to be overriden by extending plugin</span>
<a name="l747"><span class="linenum"> 747</span></a>      _mouseStart: function(event) {},
<a name="l748"><span class="linenum"> 748</span></a>      _mouseDrag: function(event) {},
<a name="l749"><span class="linenum"> 749</span></a>      _mouseStop: function(event) {},
<a name="l750"><span class="linenum"> 750</span></a>      _mouseCapture: function(event) { return true; }
<a name="l751"><span class="linenum"> 751</span></a>  });
<a name="l752"><span class="linenum"> 752</span></a>  
<a name="l753"><span class="linenum"> 753</span></a>  })(jQuery);
<a name="l754"><span class="linenum"> 754</span></a>  <span class="comment">/*</span>
<a name="l755"><span class="linenum"> 755</span></a>  <span class="comment"> * jQuery UI Position 1.8.18</span>
<a name="l756"><span class="linenum"> 756</span></a>  <span class="comment"> *</span>
<a name="l757"><span class="linenum"> 757</span></a>  <span class="comment"> * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l758"><span class="linenum"> 758</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l759"><span class="linenum"> 759</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l760"><span class="linenum"> 760</span></a>  <span class="comment"> *</span>
<a name="l761"><span class="linenum"> 761</span></a>  <span class="comment"> * http://docs.jquery.com/UI/Position</span>
<a name="l762"><span class="linenum"> 762</span></a>  <span class="comment"> */</span>
<a name="l763"><span class="linenum"> 763</span></a>  (function( $, undefined ) {
<a name="l764"><span class="linenum"> 764</span></a>  
<a name="l765"><span class="linenum"> 765</span></a>  $.ui = $.ui || {};
<a name="l766"><span class="linenum"> 766</span></a>  
<a name="l767"><span class="linenum"> 767</span></a>  var horizontalPositions = /left|center|right/,
<a name="l768"><span class="linenum"> 768</span></a>      verticalPositions = /top|center|bottom/,
<a name="l769"><span class="linenum"> 769</span></a>      center = &quot;center&quot;,
<a name="l770"><span class="linenum"> 770</span></a>      support = {},
<a name="l771"><span class="linenum"> 771</span></a>      _position = $.fn.position,
<a name="l772"><span class="linenum"> 772</span></a>      _offset = $.fn.offset;
<a name="l773"><span class="linenum"> 773</span></a>  
<a name="l774"><span class="linenum"> 774</span></a>  $.fn.position = function( options ) {
<a name="l775"><span class="linenum"> 775</span></a>      if ( !options || !options.of ) {
<a name="l776"><span class="linenum"> 776</span></a>          return _position.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>( this, arguments );
<a name="l777"><span class="linenum"> 777</span></a>      }
<a name="l778"><span class="linenum"> 778</span></a>  
<a name="l779"><span class="linenum"> 779</span></a>  <span class="comment">    // make a copy, we don't want to modify arguments</span>
<a name="l780"><span class="linenum"> 780</span></a>      options = $.extend( {}, options );
<a name="l781"><span class="linenum"> 781</span></a>  
<a name="l782"><span class="linenum"> 782</span></a>      var target = $( options.of ),
<a name="l783"><span class="linenum"> 783</span></a>          targetElem = target[0],
<a name="l784"><span class="linenum"> 784</span></a>          collision = ( options.collision || &quot;flip&quot; ).<a class="phpfunction" onClick="logFunction('split')" href="../../../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>( &quot; &quot; ),
<a name="l785"><span class="linenum"> 785</span></a>          offset = options.offset ? options.offset.<a class="phpfunction" onClick="logFunction('split')" href="../../../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>( &quot; &quot; ) : [ 0, 0 ],
<a name="l786"><span class="linenum"> 786</span></a>          targetWidth,
<a name="l787"><span class="linenum"> 787</span></a>          targetHeight,
<a name="l788"><span class="linenum"> 788</span></a>          basePosition;
<a name="l789"><span class="linenum"> 789</span></a>  
<a name="l790"><span class="linenum"> 790</span></a>      if ( targetElem.nodeType === 9 ) {
<a name="l791"><span class="linenum"> 791</span></a>          targetWidth = target.width();
<a name="l792"><span class="linenum"> 792</span></a>          targetHeight = target.height();
<a name="l793"><span class="linenum"> 793</span></a>          basePosition = { top: 0, left: 0 };
<a name="l794"><span class="linenum"> 794</span></a>  <span class="comment">    // TODO: use $.isWindow() in 1.9</span>
<a name="l795"><span class="linenum"> 795</span></a>      } else if ( targetElem.setTimeout ) {
<a name="l796"><span class="linenum"> 796</span></a>          targetWidth = target.width();
<a name="l797"><span class="linenum"> 797</span></a>          targetHeight = target.height();
<a name="l798"><span class="linenum"> 798</span></a>          basePosition = { top: target.scrollTop(), left: target.scrollLeft() };
<a name="l799"><span class="linenum"> 799</span></a>      } else if ( targetElem.preventDefault ) {
<a name="l800"><span class="linenum"> 800</span></a>  <span class="comment">        // force left top to allow flipping</span>
<a name="l801"><span class="linenum"> 801</span></a>          options.at = &quot;left top&quot;;
<a name="l802"><span class="linenum"> 802</span></a>          targetWidth = targetHeight = 0;
<a name="l803"><span class="linenum"> 803</span></a>          basePosition = { top: options.of.pageY, left: options.of.pageX };
<a name="l804"><span class="linenum"> 804</span></a>      } else {
<a name="l805"><span class="linenum"> 805</span></a>          targetWidth = target.outerWidth();
<a name="l806"><span class="linenum"> 806</span></a>          targetHeight = target.outerHeight();
<a name="l807"><span class="linenum"> 807</span></a>          basePosition = target.offset();
<a name="l808"><span class="linenum"> 808</span></a>      }
<a name="l809"><span class="linenum"> 809</span></a>  
<a name="l810"><span class="linenum"> 810</span></a>  <span class="comment">    // force my and at to have valid horizontal and veritcal positions</span>
<a name="l811"><span class="linenum"> 811</span></a>  <span class="comment">    // if a value is missing or invalid, it will be converted to center </span>
<a name="l812"><span class="linenum"> 812</span></a>      $.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>( [ &quot;my&quot;, &quot;at&quot; ], function() {
<a name="l813"><span class="linenum"> 813</span></a>          var pos = ( options[this] || &quot;&quot; ).<a class="phpfunction" onClick="logFunction('split')" href="../../../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>( &quot; &quot; );
<a name="l814"><span class="linenum"> 814</span></a>          if ( pos.length === 1) {
<a name="l815"><span class="linenum"> 815</span></a>              pos = horizontalPositions.test( pos[0] ) ?
<a name="l816"><span class="linenum"> 816</span></a>                  pos.concat( [center] ) :
<a name="l817"><span class="linenum"> 817</span></a>                  verticalPositions.test( pos[0] ) ?
<a name="l818"><span class="linenum"> 818</span></a>                      [ center ].concat( pos ) :
<a name="l819"><span class="linenum"> 819</span></a>                      [ center, center ];
<a name="l820"><span class="linenum"> 820</span></a>          }
<a name="l821"><span class="linenum"> 821</span></a>          pos[ 0 ] = horizontalPositions.test( pos[0] ) ? pos[ 0 ] : center;
<a name="l822"><span class="linenum"> 822</span></a>          pos[ 1 ] = verticalPositions.test( pos[1] ) ? pos[ 1 ] : center;
<a name="l823"><span class="linenum"> 823</span></a>          options[ this ] = pos;
<a name="l824"><span class="linenum"> 824</span></a>      });
<a name="l825"><span class="linenum"> 825</span></a>  
<a name="l826"><span class="linenum"> 826</span></a>  <span class="comment">    // normalize collision option</span>
<a name="l827"><span class="linenum"> 827</span></a>      if ( collision.length === 1 ) {
<a name="l828"><span class="linenum"> 828</span></a>          collision[ 1 ] = collision[ 0 ];
<a name="l829"><span class="linenum"> 829</span></a>      }
<a name="l830"><span class="linenum"> 830</span></a>  
<a name="l831"><span class="linenum"> 831</span></a>  <span class="comment">    // normalize offset option</span>
<a name="l832"><span class="linenum"> 832</span></a>      offset[ 0 ] = parseInt( offset[0], 10 ) || 0;
<a name="l833"><span class="linenum"> 833</span></a>      if ( offset.length === 1 ) {
<a name="l834"><span class="linenum"> 834</span></a>          offset[ 1 ] = offset[ 0 ];
<a name="l835"><span class="linenum"> 835</span></a>      }
<a name="l836"><span class="linenum"> 836</span></a>      offset[ 1 ] = parseInt( offset[1], 10 ) || 0;
<a name="l837"><span class="linenum"> 837</span></a>  
<a name="l838"><span class="linenum"> 838</span></a>      if ( options.at[0] === &quot;right&quot; ) {
<a name="l839"><span class="linenum"> 839</span></a>          basePosition.left += targetWidth;
<a name="l840"><span class="linenum"> 840</span></a>      } else if ( options.at[0] === center ) {
<a name="l841"><span class="linenum"> 841</span></a>          basePosition.left += targetWidth / 2;
<a name="l842"><span class="linenum"> 842</span></a>      }
<a name="l843"><span class="linenum"> 843</span></a>  
<a name="l844"><span class="linenum"> 844</span></a>      if ( options.at[1] === &quot;bottom&quot; ) {
<a name="l845"><span class="linenum"> 845</span></a>          basePosition.top += targetHeight;
<a name="l846"><span class="linenum"> 846</span></a>      } else if ( options.at[1] === center ) {
<a name="l847"><span class="linenum"> 847</span></a>          basePosition.top += targetHeight / 2;
<a name="l848"><span class="linenum"> 848</span></a>      }
<a name="l849"><span class="linenum"> 849</span></a>  
<a name="l850"><span class="linenum"> 850</span></a>      basePosition.left += offset[ 0 ];
<a name="l851"><span class="linenum"> 851</span></a>      basePosition.top += offset[ 1 ];
<a name="l852"><span class="linenum"> 852</span></a>  
<a name="l853"><span class="linenum"> 853</span></a>      return this.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l854"><span class="linenum"> 854</span></a>          var elem = $( this ),
<a name="l855"><span class="linenum"> 855</span></a>              elemWidth = elem.outerWidth(),
<a name="l856"><span class="linenum"> 856</span></a>              elemHeight = elem.outerHeight(),
<a name="l857"><span class="linenum"> 857</span></a>              marginLeft = parseInt( $.curCSS( this, &quot;marginLeft&quot;, true ) ) || 0,
<a name="l858"><span class="linenum"> 858</span></a>              marginTop = parseInt( $.curCSS( this, &quot;marginTop&quot;, true ) ) || 0,
<a name="l859"><span class="linenum"> 859</span></a>              collisionWidth = elemWidth + marginLeft +
<a name="l860"><span class="linenum"> 860</span></a>                  ( parseInt( $.curCSS( this, &quot;marginRight&quot;, true ) ) || 0 ),
<a name="l861"><span class="linenum"> 861</span></a>              collisionHeight = elemHeight + marginTop +
<a name="l862"><span class="linenum"> 862</span></a>                  ( parseInt( $.curCSS( this, &quot;marginBottom&quot;, true ) ) || 0 ),
<a name="l863"><span class="linenum"> 863</span></a>              position = $.extend( {}, basePosition ),
<a name="l864"><span class="linenum"> 864</span></a>              collisionPosition;
<a name="l865"><span class="linenum"> 865</span></a>  
<a name="l866"><span class="linenum"> 866</span></a>          if ( options.my[0] === &quot;right&quot; ) {
<a name="l867"><span class="linenum"> 867</span></a>              position.left -= elemWidth;
<a name="l868"><span class="linenum"> 868</span></a>          } else if ( options.my[0] === center ) {
<a name="l869"><span class="linenum"> 869</span></a>              position.left -= elemWidth / 2;
<a name="l870"><span class="linenum"> 870</span></a>          }
<a name="l871"><span class="linenum"> 871</span></a>  
<a name="l872"><span class="linenum"> 872</span></a>          if ( options.my[1] === &quot;bottom&quot; ) {
<a name="l873"><span class="linenum"> 873</span></a>              position.top -= elemHeight;
<a name="l874"><span class="linenum"> 874</span></a>          } else if ( options.my[1] === center ) {
<a name="l875"><span class="linenum"> 875</span></a>              position.top -= elemHeight / 2;
<a name="l876"><span class="linenum"> 876</span></a>          }
<a name="l877"><span class="linenum"> 877</span></a>  
<a name="l878"><span class="linenum"> 878</span></a>  <span class="comment">        // prevent fractions if jQuery version doesn't support them (see #5280)</span>
<a name="l879"><span class="linenum"> 879</span></a>          if ( !support.fractions ) {
<a name="l880"><span class="linenum"> 880</span></a>              position.left = Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>( position.left );
<a name="l881"><span class="linenum"> 881</span></a>              position.top = Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>( position.top );
<a name="l882"><span class="linenum"> 882</span></a>          }
<a name="l883"><span class="linenum"> 883</span></a>  
<a name="l884"><span class="linenum"> 884</span></a>          collisionPosition = {
<a name="l885"><span class="linenum"> 885</span></a>              left: position.left - marginLeft,
<a name="l886"><span class="linenum"> 886</span></a>              top: position.top - marginTop
<a name="l887"><span class="linenum"> 887</span></a>          };
<a name="l888"><span class="linenum"> 888</span></a>  
<a name="l889"><span class="linenum"> 889</span></a>          $.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>( [ &quot;left&quot;, &quot;top&quot; ], function( i, dir ) {
<a name="l890"><span class="linenum"> 890</span></a>              if ( $.ui.position[ collision[i] ] ) {
<a name="l891"><span class="linenum"> 891</span></a>                  $.ui.position[ collision[i] ][ dir ]( position, {
<a name="l892"><span class="linenum"> 892</span></a>                      targetWidth: targetWidth,
<a name="l893"><span class="linenum"> 893</span></a>                      targetHeight: targetHeight,
<a name="l894"><span class="linenum"> 894</span></a>                      elemWidth: elemWidth,
<a name="l895"><span class="linenum"> 895</span></a>                      elemHeight: elemHeight,
<a name="l896"><span class="linenum"> 896</span></a>                      collisionPosition: collisionPosition,
<a name="l897"><span class="linenum"> 897</span></a>                      collisionWidth: collisionWidth,
<a name="l898"><span class="linenum"> 898</span></a>                      collisionHeight: collisionHeight,
<a name="l899"><span class="linenum"> 899</span></a>                      offset: offset,
<a name="l900"><span class="linenum"> 900</span></a>                      my: options.my,
<a name="l901"><span class="linenum"> 901</span></a>                      at: options.at
<a name="l902"><span class="linenum"> 902</span></a>                  });
<a name="l903"><span class="linenum"> 903</span></a>              }
<a name="l904"><span class="linenum"> 904</span></a>          });
<a name="l905"><span class="linenum"> 905</span></a>  
<a name="l906"><span class="linenum"> 906</span></a>          if ( $.fn.bgiframe ) {
<a name="l907"><span class="linenum"> 907</span></a>              elem.bgiframe();
<a name="l908"><span class="linenum"> 908</span></a>          }
<a name="l909"><span class="linenum"> 909</span></a>          elem.offset( $.extend( position, { using: options.using } ) );
<a name="l910"><span class="linenum"> 910</span></a>      });
<a name="l911"><span class="linenum"> 911</span></a>  };
<a name="l912"><span class="linenum"> 912</span></a>  
<a name="l913"><span class="linenum"> 913</span></a>  $.ui.position = {
<a name="l914"><span class="linenum"> 914</span></a>      fit: {
<a name="l915"><span class="linenum"> 915</span></a>          left: function( position, data ) {
<a name="l916"><span class="linenum"> 916</span></a>              var win = $( window ),
<a name="l917"><span class="linenum"> 917</span></a>                  over = data.collisionPosition.left + data.collisionWidth - win.width() - win.scrollLeft();
<a name="l918"><span class="linenum"> 918</span></a>              position.left = over &gt; 0 ? position.left - over : Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>( position.left - data.collisionPosition.left, position.left );
<a name="l919"><span class="linenum"> 919</span></a>          },
<a name="l920"><span class="linenum"> 920</span></a>          top: function( position, data ) {
<a name="l921"><span class="linenum"> 921</span></a>              var win = $( window ),
<a name="l922"><span class="linenum"> 922</span></a>                  over = data.collisionPosition.top + data.collisionHeight - win.height() - win.scrollTop();
<a name="l923"><span class="linenum"> 923</span></a>              position.top = over &gt; 0 ? position.top - over : Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>( position.top - data.collisionPosition.top, position.top );
<a name="l924"><span class="linenum"> 924</span></a>          }
<a name="l925"><span class="linenum"> 925</span></a>      },
<a name="l926"><span class="linenum"> 926</span></a>  
<a name="l927"><span class="linenum"> 927</span></a>      flip: {
<a name="l928"><span class="linenum"> 928</span></a>          left: function( position, data ) {
<a name="l929"><span class="linenum"> 929</span></a>              if ( data.at[0] === center ) {
<a name="l930"><span class="linenum"> 930</span></a>                  return;
<a name="l931"><span class="linenum"> 931</span></a>              }
<a name="l932"><span class="linenum"> 932</span></a>              var win = $( window ),
<a name="l933"><span class="linenum"> 933</span></a>                  over = data.collisionPosition.left + data.collisionWidth - win.width() - win.scrollLeft(),
<a name="l934"><span class="linenum"> 934</span></a>                  myOffset = data.my[ 0 ] === &quot;left&quot; ?
<a name="l935"><span class="linenum"> 935</span></a>                      -data.elemWidth :
<a name="l936"><span class="linenum"> 936</span></a>                      data.my[ 0 ] === &quot;right&quot; ?
<a name="l937"><span class="linenum"> 937</span></a>                          data.elemWidth :
<a name="l938"><span class="linenum"> 938</span></a>                          0,
<a name="l939"><span class="linenum"> 939</span></a>                  atOffset = data.at[ 0 ] === &quot;left&quot; ?
<a name="l940"><span class="linenum"> 940</span></a>                      data.targetWidth :
<a name="l941"><span class="linenum"> 941</span></a>                      -data.targetWidth,
<a name="l942"><span class="linenum"> 942</span></a>                  offset = -2 * data.offset[ 0 ];
<a name="l943"><span class="linenum"> 943</span></a>              position.left += data.collisionPosition.left &lt; 0 ?
<a name="l944"><span class="linenum"> 944</span></a>                  myOffset + atOffset + offset :
<a name="l945"><span class="linenum"> 945</span></a>                  over &gt; 0 ?
<a name="l946"><span class="linenum"> 946</span></a>                      myOffset + atOffset + offset :
<a name="l947"><span class="linenum"> 947</span></a>                      0;
<a name="l948"><span class="linenum"> 948</span></a>          },
<a name="l949"><span class="linenum"> 949</span></a>          top: function( position, data ) {
<a name="l950"><span class="linenum"> 950</span></a>              if ( data.at[1] === center ) {
<a name="l951"><span class="linenum"> 951</span></a>                  return;
<a name="l952"><span class="linenum"> 952</span></a>              }
<a name="l953"><span class="linenum"> 953</span></a>              var win = $( window ),
<a name="l954"><span class="linenum"> 954</span></a>                  over = data.collisionPosition.top + data.collisionHeight - win.height() - win.scrollTop(),
<a name="l955"><span class="linenum"> 955</span></a>                  myOffset = data.my[ 1 ] === &quot;top&quot; ?
<a name="l956"><span class="linenum"> 956</span></a>                      -data.elemHeight :
<a name="l957"><span class="linenum"> 957</span></a>                      data.my[ 1 ] === &quot;bottom&quot; ?
<a name="l958"><span class="linenum"> 958</span></a>                          data.elemHeight :
<a name="l959"><span class="linenum"> 959</span></a>                          0,
<a name="l960"><span class="linenum"> 960</span></a>                  atOffset = data.at[ 1 ] === &quot;top&quot; ?
<a name="l961"><span class="linenum"> 961</span></a>                      data.targetHeight :
<a name="l962"><span class="linenum"> 962</span></a>                      -data.targetHeight,
<a name="l963"><span class="linenum"> 963</span></a>                  offset = -2 * data.offset[ 1 ];
<a name="l964"><span class="linenum"> 964</span></a>              position.top += data.collisionPosition.top &lt; 0 ?
<a name="l965"><span class="linenum"> 965</span></a>                  myOffset + atOffset + offset :
<a name="l966"><span class="linenum"> 966</span></a>                  over &gt; 0 ?
<a name="l967"><span class="linenum"> 967</span></a>                      myOffset + atOffset + offset :
<a name="l968"><span class="linenum"> 968</span></a>                      0;
<a name="l969"><span class="linenum"> 969</span></a>          }
<a name="l970"><span class="linenum"> 970</span></a>      }
<a name="l971"><span class="linenum"> 971</span></a>  };
<a name="l972"><span class="linenum"> 972</span></a>  
<a name="l973"><span class="linenum"> 973</span></a>  <span class="comment">// offset setter from jQuery 1.4</span>
<a name="l974"><span class="linenum"> 974</span></a>  if ( !$.offset.setOffset ) {
<a name="l975"><span class="linenum"> 975</span></a>      $.offset.setOffset = function( elem, options ) {
<a name="l976"><span class="linenum"> 976</span></a>  <span class="comment">        // set position first, in-case top/left are set even on static elem</span>
<a name="l977"><span class="linenum"> 977</span></a>          if ( /static/.test( $.curCSS( elem, &quot;position&quot; ) ) ) {
<a name="l978"><span class="linenum"> 978</span></a>              elem.style.position = &quot;relative&quot;;
<a name="l979"><span class="linenum"> 979</span></a>          }
<a name="l980"><span class="linenum"> 980</span></a>          var curElem   = $( elem ),
<a name="l981"><span class="linenum"> 981</span></a>              curOffset = curElem.offset(),
<a name="l982"><span class="linenum"> 982</span></a>              curTop    = parseInt( $.curCSS( elem, &quot;top&quot;,  true ), 10 ) || 0,
<a name="l983"><span class="linenum"> 983</span></a>              curLeft   = parseInt( $.curCSS( elem, &quot;left&quot;, true ), 10)  || 0,
<a name="l984"><span class="linenum"> 984</span></a>              props     = {
<a name="l985"><span class="linenum"> 985</span></a>                  top:  (options.top  - curOffset.top)  + curTop,
<a name="l986"><span class="linenum"> 986</span></a>                  left: (options.left - curOffset.left) + curLeft
<a name="l987"><span class="linenum"> 987</span></a>              };
<a name="l988"><span class="linenum"> 988</span></a>          
<a name="l989"><span class="linenum"> 989</span></a>          if ( 'using' in options ) {
<a name="l990"><span class="linenum"> 990</span></a>              options.using.call( elem, props );
<a name="l991"><span class="linenum"> 991</span></a>          } else {
<a name="l992"><span class="linenum"> 992</span></a>              curElem.css( props );
<a name="l993"><span class="linenum"> 993</span></a>          }
<a name="l994"><span class="linenum"> 994</span></a>      };
<a name="l995"><span class="linenum"> 995</span></a>  
<a name="l996"><span class="linenum"> 996</span></a>      $.fn.offset = function( options ) {
<a name="l997"><span class="linenum"> 997</span></a>          var elem = this[ 0 ];
<a name="l998"><span class="linenum"> 998</span></a>          if ( !elem || !elem.ownerDocument ) { return null; }
<a name="l999"><span class="linenum"> 999</span></a>          if ( options ) { 
<a name="l1000"><span class="linenum">1000</span></a>              return this.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l1001"><span class="linenum">1001</span></a>                  $.offset.setOffset( this, options );
<a name="l1002"><span class="linenum">1002</span></a>              });
<a name="l1003"><span class="linenum">1003</span></a>          }
<a name="l1004"><span class="linenum">1004</span></a>          return _offset.call( this );
<a name="l1005"><span class="linenum">1005</span></a>      };
<a name="l1006"><span class="linenum">1006</span></a>  }
<a name="l1007"><span class="linenum">1007</span></a>  
<a name="l1008"><span class="linenum">1008</span></a>  <span class="comment">// fraction support test (older versions of jQuery don't support fractions)</span>
<a name="l1009"><span class="linenum">1009</span></a>  (function () {
<a name="l1010"><span class="linenum">1010</span></a>      var body = document.getElementsByTagName( &quot;body&quot; )[ 0 ], 
<a name="l1011"><span class="linenum">1011</span></a>          div = document.createElement( &quot;div&quot; ),
<a name="l1012"><span class="linenum">1012</span></a>          testElement, testElementParent, testElementStyle, offset, offsetTotal;
<a name="l1013"><span class="linenum">1013</span></a>  
<a name="l1014"><span class="linenum">1014</span></a>  <span class="comment">    //Create a &quot;fake body&quot; for testing based on method used in jQuery.support</span>
<a name="l1015"><span class="linenum">1015</span></a>      testElement = document.createElement( body ? &quot;div&quot; : &quot;body&quot; );
<a name="l1016"><span class="linenum">1016</span></a>      testElementStyle = {
<a name="l1017"><span class="linenum">1017</span></a>          visibility: &quot;hidden&quot;,
<a name="l1018"><span class="linenum">1018</span></a>          width: 0,
<a name="l1019"><span class="linenum">1019</span></a>          height: 0,
<a name="l1020"><span class="linenum">1020</span></a>          border: 0,
<a name="l1021"><span class="linenum">1021</span></a>          margin: 0,
<a name="l1022"><span class="linenum">1022</span></a>          background: &quot;none&quot;
<a name="l1023"><span class="linenum">1023</span></a>      };
<a name="l1024"><span class="linenum">1024</span></a>      if ( body ) {
<a name="l1025"><span class="linenum">1025</span></a>          $.extend( testElementStyle, {
<a name="l1026"><span class="linenum">1026</span></a>              position: &quot;absolute&quot;,
<a name="l1027"><span class="linenum">1027</span></a>              left: &quot;-1000px&quot;,
<a name="l1028"><span class="linenum">1028</span></a>              top: &quot;-1000px&quot;
<a name="l1029"><span class="linenum">1029</span></a>          });
<a name="l1030"><span class="linenum">1030</span></a>      }
<a name="l1031"><span class="linenum">1031</span></a>      for ( var i in testElementStyle ) {
<a name="l1032"><span class="linenum">1032</span></a>          testElement.style[ i ] = testElementStyle[ i ];
<a name="l1033"><span class="linenum">1033</span></a>      }
<a name="l1034"><span class="linenum">1034</span></a>      testElement.appendChild( div );
<a name="l1035"><span class="linenum">1035</span></a>      testElementParent = body || document.documentElement;
<a name="l1036"><span class="linenum">1036</span></a>      testElementParent.insertBefore( testElement, testElementParent.firstChild );
<a name="l1037"><span class="linenum">1037</span></a>  
<a name="l1038"><span class="linenum">1038</span></a>      div.style.cssText = &quot;position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;&quot;;
<a name="l1039"><span class="linenum">1039</span></a>  
<a name="l1040"><span class="linenum">1040</span></a>      offset = $( div ).offset( function( _, offset ) {
<a name="l1041"><span class="linenum">1041</span></a>          return offset;
<a name="l1042"><span class="linenum">1042</span></a>      }).offset();
<a name="l1043"><span class="linenum">1043</span></a>  
<a name="l1044"><span class="linenum">1044</span></a>      testElement.innerHTML = &quot;&quot;;
<a name="l1045"><span class="linenum">1045</span></a>      testElementParent.removeChild( testElement );
<a name="l1046"><span class="linenum">1046</span></a>  
<a name="l1047"><span class="linenum">1047</span></a>      offsetTotal = offset.top + offset.left + ( body ? 2000 : 0 );
<a name="l1048"><span class="linenum">1048</span></a>      support.fractions = offsetTotal &gt; 21 &amp;&amp; offsetTotal &lt; 22;
<a name="l1049"><span class="linenum">1049</span></a>  })();
<a name="l1050"><span class="linenum">1050</span></a>  
<a name="l1051"><span class="linenum">1051</span></a>  }( jQuery ));
<a name="l1052"><span class="linenum">1052</span></a>  <span class="comment">/*</span>
<a name="l1053"><span class="linenum">1053</span></a>  <span class="comment"> * jQuery UI Draggable 1.8.18</span>
<a name="l1054"><span class="linenum">1054</span></a>  <span class="comment"> *</span>
<a name="l1055"><span class="linenum">1055</span></a>  <span class="comment"> * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l1056"><span class="linenum">1056</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l1057"><span class="linenum">1057</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l1058"><span class="linenum">1058</span></a>  <span class="comment"> *</span>
<a name="l1059"><span class="linenum">1059</span></a>  <span class="comment"> * http://docs.jquery.com/UI/Draggables</span>
<a name="l1060"><span class="linenum">1060</span></a>  <span class="comment"> *</span>
<a name="l1061"><span class="linenum">1061</span></a>  <span class="comment"> * Depends:</span>
<a name="l1062"><span class="linenum">1062</span></a>  <span class="comment"> *    jquery.ui.core.js</span>
<a name="l1063"><span class="linenum">1063</span></a>  <span class="comment"> *    jquery.ui.mouse.js</span>
<a name="l1064"><span class="linenum">1064</span></a>  <span class="comment"> *    jquery.ui.widget.js</span>
<a name="l1065"><span class="linenum">1065</span></a>  <span class="comment"> */</span>
<a name="l1066"><span class="linenum">1066</span></a>  (function( $, undefined ) {
<a name="l1067"><span class="linenum">1067</span></a>  
<a name="l1068"><span class="linenum">1068</span></a>  $.<a class="function" onClick="logFunction('widget')" href="../../../../_functions/widget.html" onMouseOver="funcPopup(event,'widget')">widget</a>(&quot;ui.draggable&quot;, $.ui.mouse, {
<a name="l1069"><span class="linenum">1069</span></a>      widgetEventPrefix: &quot;drag&quot;,
<a name="l1070"><span class="linenum">1070</span></a>      options: {
<a name="l1071"><span class="linenum">1071</span></a>          addClasses: true,
<a name="l1072"><span class="linenum">1072</span></a>          appendTo: &quot;parent&quot;,
<a name="l1073"><span class="linenum">1073</span></a>          axis: false,
<a name="l1074"><span class="linenum">1074</span></a>          connectToSortable: false,
<a name="l1075"><span class="linenum">1075</span></a>          containment: false,
<a name="l1076"><span class="linenum">1076</span></a>          cursor: &quot;auto&quot;,
<a name="l1077"><span class="linenum">1077</span></a>          cursorAt: false,
<a name="l1078"><span class="linenum">1078</span></a>          grid: false,
<a name="l1079"><span class="linenum">1079</span></a>          handle: false,
<a name="l1080"><span class="linenum">1080</span></a>          helper: &quot;original&quot;,
<a name="l1081"><span class="linenum">1081</span></a>          iframeFix: false,
<a name="l1082"><span class="linenum">1082</span></a>          opacity: false,
<a name="l1083"><span class="linenum">1083</span></a>          refreshPositions: false,
<a name="l1084"><span class="linenum">1084</span></a>          revert: false,
<a name="l1085"><span class="linenum">1085</span></a>          revertDuration: 500,
<a name="l1086"><span class="linenum">1086</span></a>          scope: &quot;default&quot;,
<a name="l1087"><span class="linenum">1087</span></a>          scroll: true,
<a name="l1088"><span class="linenum">1088</span></a>          scrollSensitivity: 20,
<a name="l1089"><span class="linenum">1089</span></a>          scrollSpeed: 20,
<a name="l1090"><span class="linenum">1090</span></a>          snap: false,
<a name="l1091"><span class="linenum">1091</span></a>          snapMode: &quot;both&quot;,
<a name="l1092"><span class="linenum">1092</span></a>          snapTolerance: 20,
<a name="l1093"><span class="linenum">1093</span></a>          stack: false,
<a name="l1094"><span class="linenum">1094</span></a>          zIndex: false
<a name="l1095"><span class="linenum">1095</span></a>      },
<a name="l1096"><span class="linenum">1096</span></a>      _create: function() {
<a name="l1097"><span class="linenum">1097</span></a>  
<a name="l1098"><span class="linenum">1098</span></a>          if (this.options.helper == 'original' &amp;&amp; !(/^(?:r|a|f)/).test(this.element.css(&quot;position&quot;)))
<a name="l1099"><span class="linenum">1099</span></a>              this.element[0].style.position = 'relative';
<a name="l1100"><span class="linenum">1100</span></a>  
<a name="l1101"><span class="linenum">1101</span></a>          (this.options.addClasses &amp;&amp; this.element.addClass(&quot;ui-draggable&quot;));
<a name="l1102"><span class="linenum">1102</span></a>          (this.options.disabled &amp;&amp; this.element.addClass(&quot;ui-draggable-disabled&quot;));
<a name="l1103"><span class="linenum">1103</span></a>  
<a name="l1104"><span class="linenum">1104</span></a>          this._mouseInit();
<a name="l1105"><span class="linenum">1105</span></a>  
<a name="l1106"><span class="linenum">1106</span></a>      },
<a name="l1107"><span class="linenum">1107</span></a>  
<a name="l1108"><span class="linenum">1108</span></a>      destroy: function() {
<a name="l1109"><span class="linenum">1109</span></a>          if(!this.element.data('draggable')) return;
<a name="l1110"><span class="linenum">1110</span></a>          this.element
<a name="l1111"><span class="linenum">1111</span></a>              .removeData(&quot;draggable&quot;)
<a name="l1112"><span class="linenum">1112</span></a>              .unbind(&quot;.draggable&quot;)
<a name="l1113"><span class="linenum">1113</span></a>              .removeClass(&quot;ui-draggable&quot;
<a name="l1114"><span class="linenum">1114</span></a>                  + &quot; ui-draggable-dragging&quot;
<a name="l1115"><span class="linenum">1115</span></a>                  + &quot; ui-draggable-disabled&quot;);
<a name="l1116"><span class="linenum">1116</span></a>          this._mouseDestroy();
<a name="l1117"><span class="linenum">1117</span></a>  
<a name="l1118"><span class="linenum">1118</span></a>          return this;
<a name="l1119"><span class="linenum">1119</span></a>      },
<a name="l1120"><span class="linenum">1120</span></a>  
<a name="l1121"><span class="linenum">1121</span></a>      _mouseCapture: function(event) {
<a name="l1122"><span class="linenum">1122</span></a>  
<a name="l1123"><span class="linenum">1123</span></a>          var o = this.options;
<a name="l1124"><span class="linenum">1124</span></a>  
<a name="l1125"><span class="linenum">1125</span></a>  <span class="comment">        // among others, prevent a drag on a resizable-handle</span>
<a name="l1126"><span class="linenum">1126</span></a>          if (this.helper || o.disabled || $(event.target).is('.ui-resizable-handle'))
<a name="l1127"><span class="linenum">1127</span></a>              return false;
<a name="l1128"><span class="linenum">1128</span></a>  
<a name="l1129"><span class="linenum">1129</span></a>  <span class="comment">        //Quit if we're not on a valid handle</span>
<a name="l1130"><span class="linenum">1130</span></a>          this.handle = this._getHandle(event);
<a name="l1131"><span class="linenum">1131</span></a>          if (!this.handle)
<a name="l1132"><span class="linenum">1132</span></a>              return false;
<a name="l1133"><span class="linenum">1133</span></a>          
<a name="l1134"><span class="linenum">1134</span></a>          if ( o.iframeFix ) {
<a name="l1135"><span class="linenum">1135</span></a>              $(o.iframeFix === true ? &quot;iframe&quot; : o.iframeFix).<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l1136"><span class="linenum">1136</span></a>                  $('&lt;div class=&quot;ui-draggable-iframeFix&quot; style=&quot;background: #fff;&quot;&gt;&lt;/div&gt;')
<a name="l1137"><span class="linenum">1137</span></a>                  .css({
<a name="l1138"><span class="linenum">1138</span></a>                      width: this.offsetWidth+&quot;px&quot;, height: this.offsetHeight+&quot;px&quot;,
<a name="l1139"><span class="linenum">1139</span></a>                      position: &quot;absolute&quot;, opacity: &quot;0.001&quot;, zIndex: 1000
<a name="l1140"><span class="linenum">1140</span></a>                  })
<a name="l1141"><span class="linenum">1141</span></a>                  .css($(this).offset())
<a name="l1142"><span class="linenum">1142</span></a>                  .appendTo(&quot;body&quot;);
<a name="l1143"><span class="linenum">1143</span></a>              });
<a name="l1144"><span class="linenum">1144</span></a>          }
<a name="l1145"><span class="linenum">1145</span></a>  
<a name="l1146"><span class="linenum">1146</span></a>          return true;
<a name="l1147"><span class="linenum">1147</span></a>  
<a name="l1148"><span class="linenum">1148</span></a>      },
<a name="l1149"><span class="linenum">1149</span></a>  
<a name="l1150"><span class="linenum">1150</span></a>      _mouseStart: function(event) {
<a name="l1151"><span class="linenum">1151</span></a>  
<a name="l1152"><span class="linenum">1152</span></a>          var o = this.options;
<a name="l1153"><span class="linenum">1153</span></a>  
<a name="l1154"><span class="linenum">1154</span></a>  <span class="comment">        //Create and append the visible helper</span>
<a name="l1155"><span class="linenum">1155</span></a>          this.helper = this._createHelper(event);
<a name="l1156"><span class="linenum">1156</span></a>  
<a name="l1157"><span class="linenum">1157</span></a>  <span class="comment">        //Cache the helper size</span>
<a name="l1158"><span class="linenum">1158</span></a>          this._cacheHelperProportions();
<a name="l1159"><span class="linenum">1159</span></a>  
<a name="l1160"><span class="linenum">1160</span></a>  <span class="comment">        //If ddmanager is used for droppables, set the global draggable</span>
<a name="l1161"><span class="linenum">1161</span></a>          if($.ui.ddmanager)
<a name="l1162"><span class="linenum">1162</span></a>              $.ui.ddmanager.current = this;
<a name="l1163"><span class="linenum">1163</span></a>  
<a name="l1164"><span class="linenum">1164</span></a>          <span class="comment">/*</span>
<a name="l1165"><span class="linenum">1165</span></a>  <span class="comment">         * - Position generation -</span>
<a name="l1166"><span class="linenum">1166</span></a>  <span class="comment">         * This block generates everything position related - it's the core of draggables.</span>
<a name="l1167"><span class="linenum">1167</span></a>  <span class="comment">         */</span>
<a name="l1168"><span class="linenum">1168</span></a>  
<a name="l1169"><span class="linenum">1169</span></a>  <span class="comment">        //Cache the margins of the original element</span>
<a name="l1170"><span class="linenum">1170</span></a>          this._cacheMargins();
<a name="l1171"><span class="linenum">1171</span></a>  
<a name="l1172"><span class="linenum">1172</span></a>  <span class="comment">        //Store the helper's css position</span>
<a name="l1173"><span class="linenum">1173</span></a>          this.cssPosition = this.helper.css(&quot;position&quot;);
<a name="l1174"><span class="linenum">1174</span></a>          this.scrollParent = this.helper.scrollParent();
<a name="l1175"><span class="linenum">1175</span></a>  
<a name="l1176"><span class="linenum">1176</span></a>  <span class="comment">        //The element's absolute position on the page minus margins</span>
<a name="l1177"><span class="linenum">1177</span></a>          this.offset = this.positionAbs = this.element.offset();
<a name="l1178"><span class="linenum">1178</span></a>          this.offset = {
<a name="l1179"><span class="linenum">1179</span></a>              top: this.offset.top - this.margins.top,
<a name="l1180"><span class="linenum">1180</span></a>              left: this.offset.left - this.margins.left
<a name="l1181"><span class="linenum">1181</span></a>          };
<a name="l1182"><span class="linenum">1182</span></a>  
<a name="l1183"><span class="linenum">1183</span></a>          $.extend(this.offset, {
<a name="l1184"><span class="linenum">1184</span></a>              click: { //Where the click happened, relative to the element
<a name="l1185"><span class="linenum">1185</span></a>                  left: event.pageX - this.offset.left,
<a name="l1186"><span class="linenum">1186</span></a>                  top: event.pageY - this.offset.top
<a name="l1187"><span class="linenum">1187</span></a>              },
<a name="l1188"><span class="linenum">1188</span></a>              parent: this._getParentOffset(),
<a name="l1189"><span class="linenum">1189</span></a>              relative: this._getRelativeOffset() //This is a relative to absolute position minus the actual position calculation - only used for relative positioned helper
<a name="l1190"><span class="linenum">1190</span></a>          });
<a name="l1191"><span class="linenum">1191</span></a>  
<a name="l1192"><span class="linenum">1192</span></a>  <span class="comment">        //Generate the original position</span>
<a name="l1193"><span class="linenum">1193</span></a>          this.originalPosition = this.position = this._generatePosition(event);
<a name="l1194"><span class="linenum">1194</span></a>          this.originalPageX = event.pageX;
<a name="l1195"><span class="linenum">1195</span></a>          this.originalPageY = event.pageY;
<a name="l1196"><span class="linenum">1196</span></a>  
<a name="l1197"><span class="linenum">1197</span></a>  <span class="comment">        //Adjust the mouse offset relative to the helper if 'cursorAt' is supplied</span>
<a name="l1198"><span class="linenum">1198</span></a>          (o.cursorAt &amp;&amp; this._adjustOffsetFromHelper(o.cursorAt));
<a name="l1199"><span class="linenum">1199</span></a>  
<a name="l1200"><span class="linenum">1200</span></a>  <span class="comment">        //Set a containment if given in the options</span>
<a name="l1201"><span class="linenum">1201</span></a>          if(o.containment)
<a name="l1202"><span class="linenum">1202</span></a>              this._setContainment();
<a name="l1203"><span class="linenum">1203</span></a>  
<a name="l1204"><span class="linenum">1204</span></a>  <span class="comment">        //Trigger event + callbacks</span>
<a name="l1205"><span class="linenum">1205</span></a>          if(this._trigger(&quot;start&quot;, event) === false) {
<a name="l1206"><span class="linenum">1206</span></a>              this._clear();
<a name="l1207"><span class="linenum">1207</span></a>              return false;
<a name="l1208"><span class="linenum">1208</span></a>          }
<a name="l1209"><span class="linenum">1209</span></a>  
<a name="l1210"><span class="linenum">1210</span></a>  <span class="comment">        //Recache the helper size</span>
<a name="l1211"><span class="linenum">1211</span></a>          this._cacheHelperProportions();
<a name="l1212"><span class="linenum">1212</span></a>  
<a name="l1213"><span class="linenum">1213</span></a>  <span class="comment">        //Prepare the droppable offsets</span>
<a name="l1214"><span class="linenum">1214</span></a>          if ($.ui.ddmanager &amp;&amp; !o.dropBehaviour)
<a name="l1215"><span class="linenum">1215</span></a>              $.ui.ddmanager.prepareOffsets(this, event);
<a name="l1216"><span class="linenum">1216</span></a>  
<a name="l1217"><span class="linenum">1217</span></a>          this.helper.addClass(&quot;ui-draggable-dragging&quot;);
<a name="l1218"><span class="linenum">1218</span></a>          this._mouseDrag(event, true); <span class="comment">//Execute the drag once - this causes the helper not to be visible before getting its correct position</span>
<a name="l1219"><span class="linenum">1219</span></a>          
<a name="l1220"><span class="linenum">1220</span></a>  <span class="comment">        //If the ddmanager is used for droppables, inform the manager that dragging has started (see #5003)</span>
<a name="l1221"><span class="linenum">1221</span></a>          if ( $.ui.ddmanager ) $.ui.ddmanager.dragStart(this, event);
<a name="l1222"><span class="linenum">1222</span></a>          
<a name="l1223"><span class="linenum">1223</span></a>          return true;
<a name="l1224"><span class="linenum">1224</span></a>      },
<a name="l1225"><span class="linenum">1225</span></a>  
<a name="l1226"><span class="linenum">1226</span></a>      _mouseDrag: function(event, noPropagation) {
<a name="l1227"><span class="linenum">1227</span></a>  
<a name="l1228"><span class="linenum">1228</span></a>  <span class="comment">        //Compute the helpers position</span>
<a name="l1229"><span class="linenum">1229</span></a>          this.position = this._generatePosition(event);
<a name="l1230"><span class="linenum">1230</span></a>          this.positionAbs = this._convertPositionTo(&quot;absolute&quot;);
<a name="l1231"><span class="linenum">1231</span></a>  
<a name="l1232"><span class="linenum">1232</span></a>  <span class="comment">        //Call plugins and callbacks and use the resulting position if something is returned</span>
<a name="l1233"><span class="linenum">1233</span></a>          if (!noPropagation) {
<a name="l1234"><span class="linenum">1234</span></a>              var ui = this._uiHash();
<a name="l1235"><span class="linenum">1235</span></a>              if(this._trigger('drag', event, ui) === false) {
<a name="l1236"><span class="linenum">1236</span></a>                  this._mouseUp({});
<a name="l1237"><span class="linenum">1237</span></a>                  return false;
<a name="l1238"><span class="linenum">1238</span></a>              }
<a name="l1239"><span class="linenum">1239</span></a>              this.position = ui.position;
<a name="l1240"><span class="linenum">1240</span></a>          }
<a name="l1241"><span class="linenum">1241</span></a>  
<a name="l1242"><span class="linenum">1242</span></a>          if(!this.options.axis || this.options.axis != &quot;y&quot;) this.helper[0].style.left = this.position.left+'px';
<a name="l1243"><span class="linenum">1243</span></a>          if(!this.options.axis || this.options.axis != &quot;x&quot;) this.helper[0].style.top = this.position.top+'px';
<a name="l1244"><span class="linenum">1244</span></a>          if($.ui.ddmanager) $.ui.ddmanager.drag(this, event);
<a name="l1245"><span class="linenum">1245</span></a>  
<a name="l1246"><span class="linenum">1246</span></a>          return false;
<a name="l1247"><span class="linenum">1247</span></a>      },
<a name="l1248"><span class="linenum">1248</span></a>  
<a name="l1249"><span class="linenum">1249</span></a>      _mouseStop: function(event) {
<a name="l1250"><span class="linenum">1250</span></a>  
<a name="l1251"><span class="linenum">1251</span></a>  <span class="comment">        //If we are using droppables, inform the manager about the drop</span>
<a name="l1252"><span class="linenum">1252</span></a>          var dropped = false;
<a name="l1253"><span class="linenum">1253</span></a>          if ($.ui.ddmanager &amp;&amp; !this.options.dropBehaviour)
<a name="l1254"><span class="linenum">1254</span></a>              dropped = $.ui.ddmanager.drop(this, event);
<a name="l1255"><span class="linenum">1255</span></a>  
<a name="l1256"><span class="linenum">1256</span></a>  <span class="comment">        //if a drop comes from outside (a sortable)</span>
<a name="l1257"><span class="linenum">1257</span></a>          if(this.dropped) {
<a name="l1258"><span class="linenum">1258</span></a>              dropped = this.dropped;
<a name="l1259"><span class="linenum">1259</span></a>              this.dropped = false;
<a name="l1260"><span class="linenum">1260</span></a>          }
<a name="l1261"><span class="linenum">1261</span></a>          
<a name="l1262"><span class="linenum">1262</span></a>  <span class="comment">        //if the original element is removed, don't bother to continue if helper is set to &quot;original&quot;</span>
<a name="l1263"><span class="linenum">1263</span></a>          if((!this.element[0] || !this.element[0].parentNode) &amp;&amp; this.options.helper == &quot;original&quot;)
<a name="l1264"><span class="linenum">1264</span></a>              return false;
<a name="l1265"><span class="linenum">1265</span></a>  
<a name="l1266"><span class="linenum">1266</span></a>          if((this.options.revert == &quot;invalid&quot; &amp;&amp; !dropped) || (this.options.revert == &quot;valid&quot; &amp;&amp; dropped) || this.options.revert === true || ($.isFunction(this.options.revert) &amp;&amp; this.options.revert.call(this.element, dropped))) {
<a name="l1267"><span class="linenum">1267</span></a>              var self = this;
<a name="l1268"><span class="linenum">1268</span></a>              $(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function() {
<a name="l1269"><span class="linenum">1269</span></a>                  if(self._trigger(&quot;stop&quot;, event) !== false) {
<a name="l1270"><span class="linenum">1270</span></a>                      self._clear();
<a name="l1271"><span class="linenum">1271</span></a>                  }
<a name="l1272"><span class="linenum">1272</span></a>              });
<a name="l1273"><span class="linenum">1273</span></a>          } else {
<a name="l1274"><span class="linenum">1274</span></a>              if(this._trigger(&quot;stop&quot;, event) !== false) {
<a name="l1275"><span class="linenum">1275</span></a>                  this._clear();
<a name="l1276"><span class="linenum">1276</span></a>              }
<a name="l1277"><span class="linenum">1277</span></a>          }
<a name="l1278"><span class="linenum">1278</span></a>  
<a name="l1279"><span class="linenum">1279</span></a>          return false;
<a name="l1280"><span class="linenum">1280</span></a>      },
<a name="l1281"><span class="linenum">1281</span></a>      
<a name="l1282"><span class="linenum">1282</span></a>      _mouseUp: function(event) {
<a name="l1283"><span class="linenum">1283</span></a>          if (this.options.iframeFix === true) {
<a name="l1284"><span class="linenum">1284</span></a>              $(&quot;div.ui-draggable-iframeFix&quot;).<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() { 
<a name="l1285"><span class="linenum">1285</span></a>                  this.parentNode.removeChild(this); 
<a name="l1286"><span class="linenum">1286</span></a>              }); <span class="comment">//Remove frame helpers</span>
<a name="l1287"><span class="linenum">1287</span></a>          }
<a name="l1288"><span class="linenum">1288</span></a>          
<a name="l1289"><span class="linenum">1289</span></a>  <span class="comment">        //If the ddmanager is used for droppables, inform the manager that dragging has stopped (see #5003)</span>
<a name="l1290"><span class="linenum">1290</span></a>          if( $.ui.ddmanager ) $.ui.ddmanager.dragStop(this, event);
<a name="l1291"><span class="linenum">1291</span></a>          
<a name="l1292"><span class="linenum">1292</span></a>          return $.ui.mouse.prototype._mouseUp.call(this, event);
<a name="l1293"><span class="linenum">1293</span></a>      },
<a name="l1294"><span class="linenum">1294</span></a>      
<a name="l1295"><span class="linenum">1295</span></a>      cancel: function() {
<a name="l1296"><span class="linenum">1296</span></a>          
<a name="l1297"><span class="linenum">1297</span></a>          if(this.helper.is(&quot;.ui-draggable-dragging&quot;)) {
<a name="l1298"><span class="linenum">1298</span></a>              this._mouseUp({});
<a name="l1299"><span class="linenum">1299</span></a>          } else {
<a name="l1300"><span class="linenum">1300</span></a>              this._clear();
<a name="l1301"><span class="linenum">1301</span></a>          }
<a name="l1302"><span class="linenum">1302</span></a>          
<a name="l1303"><span class="linenum">1303</span></a>          return this;
<a name="l1304"><span class="linenum">1304</span></a>          
<a name="l1305"><span class="linenum">1305</span></a>      },
<a name="l1306"><span class="linenum">1306</span></a>  
<a name="l1307"><span class="linenum">1307</span></a>      _getHandle: function(event) {
<a name="l1308"><span class="linenum">1308</span></a>  
<a name="l1309"><span class="linenum">1309</span></a>          var handle = !this.options.handle || !$(this.options.handle, this.element).length ? true : false;
<a name="l1310"><span class="linenum">1310</span></a>          $(this.options.handle, this.element)
<a name="l1311"><span class="linenum">1311</span></a>              .<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>(&quot;*&quot;)
<a name="l1312"><span class="linenum">1312</span></a>              .andSelf()
<a name="l1313"><span class="linenum">1313</span></a>              .<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l1314"><span class="linenum">1314</span></a>                  if(this == event.target) handle = true;
<a name="l1315"><span class="linenum">1315</span></a>              });
<a name="l1316"><span class="linenum">1316</span></a>  
<a name="l1317"><span class="linenum">1317</span></a>          return handle;
<a name="l1318"><span class="linenum">1318</span></a>  
<a name="l1319"><span class="linenum">1319</span></a>      },
<a name="l1320"><span class="linenum">1320</span></a>  
<a name="l1321"><span class="linenum">1321</span></a>      _createHelper: function(event) {
<a name="l1322"><span class="linenum">1322</span></a>  
<a name="l1323"><span class="linenum">1323</span></a>          var o = this.options;
<a name="l1324"><span class="linenum">1324</span></a>          var helper = $.isFunction(o.helper) ? $(o.helper.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this.element[0], [event])) : (o.helper == 'clone' ? this.element.<a class="function" onClick="logFunction('clone')" href="../../../../_functions/clone.html" onMouseOver="funcPopup(event,'clone')">clone</a>().removeAttr('id') : this.element);
<a name="l1325"><span class="linenum">1325</span></a>  
<a name="l1326"><span class="linenum">1326</span></a>          if(!helper.parents('body').length)
<a name="l1327"><span class="linenum">1327</span></a>              helper.appendTo((o.appendTo == 'parent' ? this.element[0].parentNode : o.appendTo));
<a name="l1328"><span class="linenum">1328</span></a>  
<a name="l1329"><span class="linenum">1329</span></a>          if(helper[0] != this.element[0] &amp;&amp; !(/(fixed|absolute)/).test(helper.css(&quot;position&quot;)))
<a name="l1330"><span class="linenum">1330</span></a>              helper.css(&quot;position&quot;, &quot;absolute&quot;);
<a name="l1331"><span class="linenum">1331</span></a>  
<a name="l1332"><span class="linenum">1332</span></a>          return helper;
<a name="l1333"><span class="linenum">1333</span></a>  
<a name="l1334"><span class="linenum">1334</span></a>      },
<a name="l1335"><span class="linenum">1335</span></a>  
<a name="l1336"><span class="linenum">1336</span></a>      _adjustOffsetFromHelper: function(obj) {
<a name="l1337"><span class="linenum">1337</span></a>          if (typeof obj == 'string') {
<a name="l1338"><span class="linenum">1338</span></a>              obj = obj.<a class="phpfunction" onClick="logFunction('split')" href="../../../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>(' ');
<a name="l1339"><span class="linenum">1339</span></a>          }
<a name="l1340"><span class="linenum">1340</span></a>          if ($.<a class="function" onClick="logFunction('isArray')" href="../../../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(obj)) {
<a name="l1341"><span class="linenum">1341</span></a>              obj = {left: +obj[0], top: +obj[1] || 0};
<a name="l1342"><span class="linenum">1342</span></a>          }
<a name="l1343"><span class="linenum">1343</span></a>          if ('left' in obj) {
<a name="l1344"><span class="linenum">1344</span></a>              this.offset.click.left = obj.left + this.margins.left;
<a name="l1345"><span class="linenum">1345</span></a>          }
<a name="l1346"><span class="linenum">1346</span></a>          if ('right' in obj) {
<a name="l1347"><span class="linenum">1347</span></a>              this.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;
<a name="l1348"><span class="linenum">1348</span></a>          }
<a name="l1349"><span class="linenum">1349</span></a>          if ('top' in obj) {
<a name="l1350"><span class="linenum">1350</span></a>              this.offset.click.top = obj.top + this.margins.top;
<a name="l1351"><span class="linenum">1351</span></a>          }
<a name="l1352"><span class="linenum">1352</span></a>          if ('bottom' in obj) {
<a name="l1353"><span class="linenum">1353</span></a>              this.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;
<a name="l1354"><span class="linenum">1354</span></a>          }
<a name="l1355"><span class="linenum">1355</span></a>      },
<a name="l1356"><span class="linenum">1356</span></a>  
<a name="l1357"><span class="linenum">1357</span></a>      _getParentOffset: function() {
<a name="l1358"><span class="linenum">1358</span></a>  
<a name="l1359"><span class="linenum">1359</span></a>  <span class="comment">        //Get the offsetParent and cache its position</span>
<a name="l1360"><span class="linenum">1360</span></a>          this.offsetParent = this.helper.offsetParent();
<a name="l1361"><span class="linenum">1361</span></a>          var po = this.offsetParent.offset();
<a name="l1362"><span class="linenum">1362</span></a>  
<a name="l1363"><span class="linenum">1363</span></a>  <span class="comment">        // This is a special case where we need to modify a offset calculated on start, since the following happened:</span>
<a name="l1364"><span class="linenum">1364</span></a>  <span class="comment">        // 1. The position of the helper is absolute, so it's position is calculated based on the next positioned parent</span>
<a name="l1365"><span class="linenum">1365</span></a>  <span class="comment">        // 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't the document, which means that</span>
<a name="l1366"><span class="linenum">1366</span></a>  <span class="comment">        //    the scroll is included in the initial calculation of the offset of the parent, and never recalculated upon drag</span>
<a name="l1367"><span class="linenum">1367</span></a>          if(this.cssPosition == 'absolute' &amp;&amp; this.scrollParent[0] != document &amp;&amp; $.ui.<a class="function" onClick="logFunction('contains')" href="../../../../_functions/contains.html" onMouseOver="funcPopup(event,'contains')">contains</a>(this.scrollParent[0], this.offsetParent[0])) {
<a name="l1368"><span class="linenum">1368</span></a>              po.left += this.scrollParent.scrollLeft();
<a name="l1369"><span class="linenum">1369</span></a>              po.top += this.scrollParent.scrollTop();
<a name="l1370"><span class="linenum">1370</span></a>          }
<a name="l1371"><span class="linenum">1371</span></a>  
<a name="l1372"><span class="linenum">1372</span></a>          if((this.offsetParent[0] == document.body) //This needs to be actually done for all browsers, since pageX/pageY includes this information
<a name="l1373"><span class="linenum">1373</span></a>          || (this.offsetParent[0].tagName &amp;&amp; this.offsetParent[0].tagName.toLowerCase() == 'html' &amp;&amp; $.browser.msie)) //Ugly IE fix
<a name="l1374"><span class="linenum">1374</span></a>              po = { top: 0, left: 0 };
<a name="l1375"><span class="linenum">1375</span></a>  
<a name="l1376"><span class="linenum">1376</span></a>          return {
<a name="l1377"><span class="linenum">1377</span></a>              top: po.top + (parseInt(this.offsetParent.css(&quot;borderTopWidth&quot;),10) || 0),
<a name="l1378"><span class="linenum">1378</span></a>              left: po.left + (parseInt(this.offsetParent.css(&quot;borderLeftWidth&quot;),10) || 0)
<a name="l1379"><span class="linenum">1379</span></a>          };
<a name="l1380"><span class="linenum">1380</span></a>  
<a name="l1381"><span class="linenum">1381</span></a>      },
<a name="l1382"><span class="linenum">1382</span></a>  
<a name="l1383"><span class="linenum">1383</span></a>      _getRelativeOffset: function() {
<a name="l1384"><span class="linenum">1384</span></a>  
<a name="l1385"><span class="linenum">1385</span></a>          if(this.cssPosition == &quot;relative&quot;) {
<a name="l1386"><span class="linenum">1386</span></a>              var p = this.element.position();
<a name="l1387"><span class="linenum">1387</span></a>              return {
<a name="l1388"><span class="linenum">1388</span></a>                  top: p.top - (parseInt(this.helper.css(&quot;top&quot;),10) || 0) + this.scrollParent.scrollTop(),
<a name="l1389"><span class="linenum">1389</span></a>                  left: p.left - (parseInt(this.helper.css(&quot;left&quot;),10) || 0) + this.scrollParent.scrollLeft()
<a name="l1390"><span class="linenum">1390</span></a>              };
<a name="l1391"><span class="linenum">1391</span></a>          } else {
<a name="l1392"><span class="linenum">1392</span></a>              return { top: 0, left: 0 };
<a name="l1393"><span class="linenum">1393</span></a>          }
<a name="l1394"><span class="linenum">1394</span></a>  
<a name="l1395"><span class="linenum">1395</span></a>      },
<a name="l1396"><span class="linenum">1396</span></a>  
<a name="l1397"><span class="linenum">1397</span></a>      _cacheMargins: function() {
<a name="l1398"><span class="linenum">1398</span></a>          this.margins = {
<a name="l1399"><span class="linenum">1399</span></a>              left: (parseInt(this.element.css(&quot;marginLeft&quot;),10) || 0),
<a name="l1400"><span class="linenum">1400</span></a>              top: (parseInt(this.element.css(&quot;marginTop&quot;),10) || 0),
<a name="l1401"><span class="linenum">1401</span></a>              right: (parseInt(this.element.css(&quot;marginRight&quot;),10) || 0),
<a name="l1402"><span class="linenum">1402</span></a>              bottom: (parseInt(this.element.css(&quot;marginBottom&quot;),10) || 0)
<a name="l1403"><span class="linenum">1403</span></a>          };
<a name="l1404"><span class="linenum">1404</span></a>      },
<a name="l1405"><span class="linenum">1405</span></a>  
<a name="l1406"><span class="linenum">1406</span></a>      _cacheHelperProportions: function() {
<a name="l1407"><span class="linenum">1407</span></a>          this.helperProportions = {
<a name="l1408"><span class="linenum">1408</span></a>              width: this.helper.outerWidth(),
<a name="l1409"><span class="linenum">1409</span></a>              height: this.helper.outerHeight()
<a name="l1410"><span class="linenum">1410</span></a>          };
<a name="l1411"><span class="linenum">1411</span></a>      },
<a name="l1412"><span class="linenum">1412</span></a>  
<a name="l1413"><span class="linenum">1413</span></a>      _setContainment: function() {
<a name="l1414"><span class="linenum">1414</span></a>  
<a name="l1415"><span class="linenum">1415</span></a>          var o = this.options;
<a name="l1416"><span class="linenum">1416</span></a>          if(o.containment == 'parent') o.containment = this.helper[0].parentNode;
<a name="l1417"><span class="linenum">1417</span></a>          if(o.containment == 'document' || o.containment == 'window') this.containment = [
<a name="l1418"><span class="linenum">1418</span></a>              o.containment == 'document' ? 0 : $(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left,
<a name="l1419"><span class="linenum">1419</span></a>              o.containment == 'document' ? 0 : $(window).scrollTop() - this.offset.relative.top - this.offset.parent.top,
<a name="l1420"><span class="linenum">1420</span></a>              (o.containment == 'document' ? 0 : $(window).scrollLeft()) + $(o.containment == 'document' ? document : window).width() - this.helperProportions.width - this.margins.left,
<a name="l1421"><span class="linenum">1421</span></a>              (o.containment == 'document' ? 0 : $(window).scrollTop()) + ($(o.containment == 'document' ? document : window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top
<a name="l1422"><span class="linenum">1422</span></a>          ];
<a name="l1423"><span class="linenum">1423</span></a>  
<a name="l1424"><span class="linenum">1424</span></a>          if(!(/^(document|window|parent)$/).test(o.containment) &amp;&amp; o.containment.constructor != Array) {
<a name="l1425"><span class="linenum">1425</span></a>                  var c = $(o.containment);
<a name="l1426"><span class="linenum">1426</span></a>              var ce = c[0]; if(!ce) return;
<a name="l1427"><span class="linenum">1427</span></a>              var co = c.offset();
<a name="l1428"><span class="linenum">1428</span></a>              var over = ($(ce).css(&quot;overflow&quot;) != 'hidden');
<a name="l1429"><span class="linenum">1429</span></a>  
<a name="l1430"><span class="linenum">1430</span></a>              this.containment = [
<a name="l1431"><span class="linenum">1431</span></a>                  (parseInt($(ce).css(&quot;borderLeftWidth&quot;),10) || 0) + (parseInt($(ce).css(&quot;paddingLeft&quot;),10) || 0),
<a name="l1432"><span class="linenum">1432</span></a>                  (parseInt($(ce).css(&quot;borderTopWidth&quot;),10) || 0) + (parseInt($(ce).css(&quot;paddingTop&quot;),10) || 0),
<a name="l1433"><span class="linenum">1433</span></a>                  (over ? Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(ce.scrollWidth,ce.offsetWidth) : ce.offsetWidth) - (parseInt($(ce).css(&quot;borderLeftWidth&quot;),10) || 0) - (parseInt($(ce).css(&quot;paddingRight&quot;),10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right,
<a name="l1434"><span class="linenum">1434</span></a>                  (over ? Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(ce.scrollHeight,ce.offsetHeight) : ce.offsetHeight) - (parseInt($(ce).css(&quot;borderTopWidth&quot;),10) || 0) - (parseInt($(ce).css(&quot;paddingBottom&quot;),10) || 0) - this.helperProportions.height - this.margins.top  - this.margins.bottom
<a name="l1435"><span class="linenum">1435</span></a>              ];
<a name="l1436"><span class="linenum">1436</span></a>              this.relative_container = c;
<a name="l1437"><span class="linenum">1437</span></a>  
<a name="l1438"><span class="linenum">1438</span></a>          } else if(o.containment.constructor == Array) {
<a name="l1439"><span class="linenum">1439</span></a>              this.containment = o.containment;
<a name="l1440"><span class="linenum">1440</span></a>          }
<a name="l1441"><span class="linenum">1441</span></a>  
<a name="l1442"><span class="linenum">1442</span></a>      },
<a name="l1443"><span class="linenum">1443</span></a>  
<a name="l1444"><span class="linenum">1444</span></a>      _convertPositionTo: function(d, pos) {
<a name="l1445"><span class="linenum">1445</span></a>  
<a name="l1446"><span class="linenum">1446</span></a>          if(!pos) pos = this.position;
<a name="l1447"><span class="linenum">1447</span></a>          var mod = d == &quot;absolute&quot; ? 1 : -1;
<a name="l1448"><span class="linenum">1448</span></a>          var o = this.options, scroll = this.cssPosition == 'absolute' &amp;&amp; !(this.scrollParent[0] != document &amp;&amp; $.ui.<a class="function" onClick="logFunction('contains')" href="../../../../_functions/contains.html" onMouseOver="funcPopup(event,'contains')">contains</a>(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent, scrollIsRootNode = (/(html|body)/i).test(scroll[0].tagName);
<a name="l1449"><span class="linenum">1449</span></a>  
<a name="l1450"><span class="linenum">1450</span></a>          return {
<a name="l1451"><span class="linenum">1451</span></a>              top: (
<a name="l1452"><span class="linenum">1452</span></a>                  pos.top                                                                    // The absolute mouse position
<a name="l1453"><span class="linenum">1453</span></a>                  + this.offset.relative.top * mod                                        // Only for relative positioned nodes: Relative offset from element to offset parent
<a name="l1454"><span class="linenum">1454</span></a>                  + this.offset.parent.top * mod                                            // The offsetParent's offset without borders (offset + border)
<a name="l1455"><span class="linenum">1455</span></a>                  - ($.browser.safari &amp;&amp; $.browser.version &lt; 526 &amp;&amp; this.cssPosition == 'fixed' ? 0 : ( this.cssPosition == 'fixed' ? -this.scrollParent.scrollTop() : ( scrollIsRootNode ? 0 : scroll.scrollTop() ) ) * mod)
<a name="l1456"><span class="linenum">1456</span></a>              ),
<a name="l1457"><span class="linenum">1457</span></a>              left: (
<a name="l1458"><span class="linenum">1458</span></a>                  pos.left                                                                // The absolute mouse position
<a name="l1459"><span class="linenum">1459</span></a>                  + this.offset.relative.left * mod                                        // Only for relative positioned nodes: Relative offset from element to offset parent
<a name="l1460"><span class="linenum">1460</span></a>                  + this.offset.parent.left * mod                                            // The offsetParent's offset without borders (offset + border)
<a name="l1461"><span class="linenum">1461</span></a>                  - ($.browser.safari &amp;&amp; $.browser.version &lt; 526 &amp;&amp; this.cssPosition == 'fixed' ? 0 : ( this.cssPosition == 'fixed' ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft() ) * mod)
<a name="l1462"><span class="linenum">1462</span></a>              )
<a name="l1463"><span class="linenum">1463</span></a>          };
<a name="l1464"><span class="linenum">1464</span></a>  
<a name="l1465"><span class="linenum">1465</span></a>      },
<a name="l1466"><span class="linenum">1466</span></a>  
<a name="l1467"><span class="linenum">1467</span></a>      _generatePosition: function(event) {
<a name="l1468"><span class="linenum">1468</span></a>  
<a name="l1469"><span class="linenum">1469</span></a>          var o = this.options, scroll = this.cssPosition == 'absolute' &amp;&amp; !(this.scrollParent[0] != document &amp;&amp; $.ui.<a class="function" onClick="logFunction('contains')" href="../../../../_functions/contains.html" onMouseOver="funcPopup(event,'contains')">contains</a>(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent, scrollIsRootNode = (/(html|body)/i).test(scroll[0].tagName);
<a name="l1470"><span class="linenum">1470</span></a>          var pageX = event.pageX;
<a name="l1471"><span class="linenum">1471</span></a>          var pageY = event.pageY;
<a name="l1472"><span class="linenum">1472</span></a>  
<a name="l1473"><span class="linenum">1473</span></a>          <span class="comment">/*</span>
<a name="l1474"><span class="linenum">1474</span></a>  <span class="comment">         * - Position constraining -</span>
<a name="l1475"><span class="linenum">1475</span></a>  <span class="comment">         * Constrain the position to a mix of grid, containment.</span>
<a name="l1476"><span class="linenum">1476</span></a>  <span class="comment">         */</span>
<a name="l1477"><span class="linenum">1477</span></a>  
<a name="l1478"><span class="linenum">1478</span></a>          if(this.originalPosition) { //If we are not dragging yet, we won't check for options
<a name="l1479"><span class="linenum">1479</span></a>                   var containment;
<a name="l1480"><span class="linenum">1480</span></a>                   if(this.containment) {
<a name="l1481"><span class="linenum">1481</span></a>                   if (this.relative_container){
<a name="l1482"><span class="linenum">1482</span></a>                       var co = this.relative_container.offset();
<a name="l1483"><span class="linenum">1483</span></a>                       containment = [ this.containment[0] + co.left,
<a name="l1484"><span class="linenum">1484</span></a>                               this.containment[1] + co.top,
<a name="l1485"><span class="linenum">1485</span></a>                               this.containment[2] + co.left,
<a name="l1486"><span class="linenum">1486</span></a>                               this.containment[3] + co.top ];
<a name="l1487"><span class="linenum">1487</span></a>                   }
<a name="l1488"><span class="linenum">1488</span></a>                   else {
<a name="l1489"><span class="linenum">1489</span></a>                       containment = this.containment;
<a name="l1490"><span class="linenum">1490</span></a>                   }
<a name="l1491"><span class="linenum">1491</span></a>  
<a name="l1492"><span class="linenum">1492</span></a>                  if(event.pageX - this.offset.click.left &lt; containment[0]) pageX = containment[0] + this.offset.click.left;
<a name="l1493"><span class="linenum">1493</span></a>                  if(event.pageY - this.offset.click.top &lt; containment[1]) pageY = containment[1] + this.offset.click.top;
<a name="l1494"><span class="linenum">1494</span></a>                  if(event.pageX - this.offset.click.left &gt; containment[2]) pageX = containment[2] + this.offset.click.left;
<a name="l1495"><span class="linenum">1495</span></a>                  if(event.pageY - this.offset.click.top &gt; containment[3]) pageY = containment[3] + this.offset.click.top;
<a name="l1496"><span class="linenum">1496</span></a>              }
<a name="l1497"><span class="linenum">1497</span></a>  
<a name="l1498"><span class="linenum">1498</span></a>              if(o.grid) {
<a name="l1499"><span class="linenum">1499</span></a>  <span class="comment">                //Check for grid elements set to 0 to prevent divide by 0 error causing invalid argument errors in IE (see ticket #6950)</span>
<a name="l1500"><span class="linenum">1500</span></a>                  var top = o.grid[1] ? this.originalPageY + Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>((pageY - this.originalPageY) / o.grid[1]) * o.grid[1] : this.originalPageY;
<a name="l1501"><span class="linenum">1501</span></a>                  pageY = containment ? (!(top - this.offset.click.top &lt; containment[1] || top - this.offset.click.top &gt; containment[3]) ? top : (!(top - this.offset.click.top &lt; containment[1]) ? top - o.grid[1] : top + o.grid[1])) : top;
<a name="l1502"><span class="linenum">1502</span></a>  
<a name="l1503"><span class="linenum">1503</span></a>                  var left = o.grid[0] ? this.originalPageX + Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>((pageX - this.originalPageX) / o.grid[0]) * o.grid[0] : this.originalPageX;
<a name="l1504"><span class="linenum">1504</span></a>                  pageX = containment ? (!(left - this.offset.click.left &lt; containment[0] || left - this.offset.click.left &gt; containment[2]) ? left : (!(left - this.offset.click.left &lt; containment[0]) ? left - o.grid[0] : left + o.grid[0])) : left;
<a name="l1505"><span class="linenum">1505</span></a>              }
<a name="l1506"><span class="linenum">1506</span></a>  
<a name="l1507"><span class="linenum">1507</span></a>          }
<a name="l1508"><span class="linenum">1508</span></a>  
<a name="l1509"><span class="linenum">1509</span></a>          return {
<a name="l1510"><span class="linenum">1510</span></a>              top: (
<a name="l1511"><span class="linenum">1511</span></a>                  pageY                                                                // The absolute mouse position
<a name="l1512"><span class="linenum">1512</span></a>                  - this.offset.click.top                                                    // Click offset (relative to the element)
<a name="l1513"><span class="linenum">1513</span></a>                  - this.offset.relative.top                                                // Only for relative positioned nodes: Relative offset from element to offset parent
<a name="l1514"><span class="linenum">1514</span></a>                  - this.offset.parent.top                                                // The offsetParent's offset without borders (offset + border)
<a name="l1515"><span class="linenum">1515</span></a>                  + ($.browser.safari &amp;&amp; $.browser.version &lt; 526 &amp;&amp; this.cssPosition == 'fixed' ? 0 : ( this.cssPosition == 'fixed' ? -this.scrollParent.scrollTop() : ( scrollIsRootNode ? 0 : scroll.scrollTop() ) ))
<a name="l1516"><span class="linenum">1516</span></a>              ),
<a name="l1517"><span class="linenum">1517</span></a>              left: (
<a name="l1518"><span class="linenum">1518</span></a>                  pageX                                                                // The absolute mouse position
<a name="l1519"><span class="linenum">1519</span></a>                  - this.offset.click.left                                                // Click offset (relative to the element)
<a name="l1520"><span class="linenum">1520</span></a>                  - this.offset.relative.left                                                // Only for relative positioned nodes: Relative offset from element to offset parent
<a name="l1521"><span class="linenum">1521</span></a>                  - this.offset.parent.left                                                // The offsetParent's offset without borders (offset + border)
<a name="l1522"><span class="linenum">1522</span></a>                  + ($.browser.safari &amp;&amp; $.browser.version &lt; 526 &amp;&amp; this.cssPosition == 'fixed' ? 0 : ( this.cssPosition == 'fixed' ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft() ))
<a name="l1523"><span class="linenum">1523</span></a>              )
<a name="l1524"><span class="linenum">1524</span></a>          };
<a name="l1525"><span class="linenum">1525</span></a>  
<a name="l1526"><span class="linenum">1526</span></a>      },
<a name="l1527"><span class="linenum">1527</span></a>  
<a name="l1528"><span class="linenum">1528</span></a>      _clear: function() {
<a name="l1529"><span class="linenum">1529</span></a>          this.helper.removeClass(&quot;ui-draggable-dragging&quot;);
<a name="l1530"><span class="linenum">1530</span></a>          if(this.helper[0] != this.element[0] &amp;&amp; !this.cancelHelperRemoval) this.helper.<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>();
<a name="l1531"><span class="linenum">1531</span></a>  <span class="comment">        //if($.ui.ddmanager) $.ui.ddmanager.current = null;</span>
<a name="l1532"><span class="linenum">1532</span></a>          this.helper = null;
<a name="l1533"><span class="linenum">1533</span></a>          this.cancelHelperRemoval = false;
<a name="l1534"><span class="linenum">1534</span></a>      },
<a name="l1535"><span class="linenum">1535</span></a>  
<a name="l1536"><span class="linenum">1536</span></a>  <span class="comment">    // From now on bulk stuff - mainly helpers</span>
<a name="l1537"><span class="linenum">1537</span></a>  
<a name="l1538"><span class="linenum">1538</span></a>      _trigger: function(type, event, ui) {
<a name="l1539"><span class="linenum">1539</span></a>          ui = ui || this._uiHash();
<a name="l1540"><span class="linenum">1540</span></a>          $.ui.plugin.call(this, type, [event, ui]);
<a name="l1541"><span class="linenum">1541</span></a>          if(type == &quot;drag&quot;) this.positionAbs = this._convertPositionTo(&quot;absolute&quot;); <span class="comment">//The absolute position has to be recalculated after plugins</span>
<a name="l1542"><span class="linenum">1542</span></a>          return $.Widget.prototype._trigger.call(this, type, event, ui);
<a name="l1543"><span class="linenum">1543</span></a>      },
<a name="l1544"><span class="linenum">1544</span></a>  
<a name="l1545"><span class="linenum">1545</span></a>      plugins: {},
<a name="l1546"><span class="linenum">1546</span></a>  
<a name="l1547"><span class="linenum">1547</span></a>      _uiHash: function(event) {
<a name="l1548"><span class="linenum">1548</span></a>          return {
<a name="l1549"><span class="linenum">1549</span></a>              helper: this.helper,
<a name="l1550"><span class="linenum">1550</span></a>              position: this.position,
<a name="l1551"><span class="linenum">1551</span></a>              originalPosition: this.originalPosition,
<a name="l1552"><span class="linenum">1552</span></a>              offset: this.positionAbs
<a name="l1553"><span class="linenum">1553</span></a>          };
<a name="l1554"><span class="linenum">1554</span></a>      }
<a name="l1555"><span class="linenum">1555</span></a>  
<a name="l1556"><span class="linenum">1556</span></a>  });
<a name="l1557"><span class="linenum">1557</span></a>  
<a name="l1558"><span class="linenum">1558</span></a>  $.extend($.ui.draggable, {
<a name="l1559"><span class="linenum">1559</span></a>      version: &quot;1.8.18&quot;
<a name="l1560"><span class="linenum">1560</span></a>  });
<a name="l1561"><span class="linenum">1561</span></a>  
<a name="l1562"><span class="linenum">1562</span></a>  $.ui.plugin.<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(&quot;draggable&quot;, &quot;connectToSortable&quot;, {
<a name="l1563"><span class="linenum">1563</span></a>      start: function(event, ui) {
<a name="l1564"><span class="linenum">1564</span></a>  
<a name="l1565"><span class="linenum">1565</span></a>          var inst = $(this).data(&quot;draggable&quot;), o = inst.options,
<a name="l1566"><span class="linenum">1566</span></a>              uiSortable = $.extend({}, ui, { item: inst.element });
<a name="l1567"><span class="linenum">1567</span></a>          inst.sortables = [];
<a name="l1568"><span class="linenum">1568</span></a>          $(o.connectToSortable).<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l1569"><span class="linenum">1569</span></a>              var sortable = $.data(this, 'sortable');
<a name="l1570"><span class="linenum">1570</span></a>              if (sortable &amp;&amp; !sortable.options.disabled) {
<a name="l1571"><span class="linenum">1571</span></a>                  inst.sortables.push({
<a name="l1572"><span class="linenum">1572</span></a>                      instance: sortable,
<a name="l1573"><span class="linenum">1573</span></a>                      shouldRevert: sortable.options.revert
<a name="l1574"><span class="linenum">1574</span></a>                  });
<a name="l1575"><span class="linenum">1575</span></a>                  sortable.refreshPositions();    <span class="comment">// Call the sortable's refreshPositions at drag start to refresh the containerCache since the sortable container cache is used in drag and needs to be up to date (this will ensure it's initialised as well as being kept in step with any changes that might have happened on the page).</span>
<a name="l1576"><span class="linenum">1576</span></a>                  sortable._trigger(&quot;activate&quot;, event, uiSortable);
<a name="l1577"><span class="linenum">1577</span></a>              }
<a name="l1578"><span class="linenum">1578</span></a>          });
<a name="l1579"><span class="linenum">1579</span></a>  
<a name="l1580"><span class="linenum">1580</span></a>      },
<a name="l1581"><span class="linenum">1581</span></a>      stop: function(event, ui) {
<a name="l1582"><span class="linenum">1582</span></a>  
<a name="l1583"><span class="linenum">1583</span></a>  <span class="comment">        //If we are still over the sortable, we fake the stop event of the sortable, but also remove helper</span>
<a name="l1584"><span class="linenum">1584</span></a>          var inst = $(this).data(&quot;draggable&quot;),
<a name="l1585"><span class="linenum">1585</span></a>              uiSortable = $.extend({}, ui, { item: inst.element });
<a name="l1586"><span class="linenum">1586</span></a>  
<a name="l1587"><span class="linenum">1587</span></a>          $.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(inst.sortables, function() {
<a name="l1588"><span class="linenum">1588</span></a>              if(this.instance.isOver) {
<a name="l1589"><span class="linenum">1589</span></a>  
<a name="l1590"><span class="linenum">1590</span></a>                  this.instance.isOver = 0;
<a name="l1591"><span class="linenum">1591</span></a>  
<a name="l1592"><span class="linenum">1592</span></a>                  inst.cancelHelperRemoval = true; <span class="comment">//Don't remove the helper in the draggable instance</span>
<a name="l1593"><span class="linenum">1593</span></a>                  this.instance.cancelHelperRemoval = false; <span class="comment">//Remove it in the sortable instance (so sortable plugins like revert still work)</span>
<a name="l1594"><span class="linenum">1594</span></a>  
<a name="l1595"><span class="linenum">1595</span></a>  <span class="comment">                //The sortable revert is supported, and we have to set a temporary dropped variable on the draggable to support revert: 'valid/invalid'</span>
<a name="l1596"><span class="linenum">1596</span></a>                  if(this.shouldRevert) this.instance.options.revert = true;
<a name="l1597"><span class="linenum">1597</span></a>  
<a name="l1598"><span class="linenum">1598</span></a>  <span class="comment">                //Trigger the stop of the sortable</span>
<a name="l1599"><span class="linenum">1599</span></a>                  this.instance._mouseStop(event);
<a name="l1600"><span class="linenum">1600</span></a>  
<a name="l1601"><span class="linenum">1601</span></a>                  this.instance.options.helper = this.instance.options._helper;
<a name="l1602"><span class="linenum">1602</span></a>  
<a name="l1603"><span class="linenum">1603</span></a>  <span class="comment">                //If the helper has been the original item, restore properties in the sortable</span>
<a name="l1604"><span class="linenum">1604</span></a>                  if(inst.options.helper == 'original')
<a name="l1605"><span class="linenum">1605</span></a>                      this.instance.currentItem.css({ top: 'auto', left: 'auto' });
<a name="l1606"><span class="linenum">1606</span></a>  
<a name="l1607"><span class="linenum">1607</span></a>              } else {
<a name="l1608"><span class="linenum">1608</span></a>                  this.instance.cancelHelperRemoval = false; <span class="comment">//Remove the helper in the sortable instance</span>
<a name="l1609"><span class="linenum">1609</span></a>                  this.instance._trigger(&quot;deactivate&quot;, event, uiSortable);
<a name="l1610"><span class="linenum">1610</span></a>              }
<a name="l1611"><span class="linenum">1611</span></a>  
<a name="l1612"><span class="linenum">1612</span></a>          });
<a name="l1613"><span class="linenum">1613</span></a>  
<a name="l1614"><span class="linenum">1614</span></a>      },
<a name="l1615"><span class="linenum">1615</span></a>      drag: function(event, ui) {
<a name="l1616"><span class="linenum">1616</span></a>  
<a name="l1617"><span class="linenum">1617</span></a>          var inst = $(this).data(&quot;draggable&quot;), self = this;
<a name="l1618"><span class="linenum">1618</span></a>  
<a name="l1619"><span class="linenum">1619</span></a>          var checkPos = function(o) {
<a name="l1620"><span class="linenum">1620</span></a>              var dyClick = this.offset.click.top, dxClick = this.offset.click.left;
<a name="l1621"><span class="linenum">1621</span></a>              var helperTop = this.positionAbs.top, helperLeft = this.positionAbs.left;
<a name="l1622"><span class="linenum">1622</span></a>              var itemHeight = o.height, itemWidth = o.width;
<a name="l1623"><span class="linenum">1623</span></a>              var itemTop = o.top, itemLeft = o.left;
<a name="l1624"><span class="linenum">1624</span></a>  
<a name="l1625"><span class="linenum">1625</span></a>              return $.ui.isOver(helperTop + dyClick, helperLeft + dxClick, itemTop, itemLeft, itemHeight, itemWidth);
<a name="l1626"><span class="linenum">1626</span></a>          };
<a name="l1627"><span class="linenum">1627</span></a>  
<a name="l1628"><span class="linenum">1628</span></a>          $.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(inst.sortables, function(i) {
<a name="l1629"><span class="linenum">1629</span></a>              
<a name="l1630"><span class="linenum">1630</span></a>  <span class="comment">            //Copy over some variables to allow calling the sortable's native _intersectsWith</span>
<a name="l1631"><span class="linenum">1631</span></a>              this.instance.positionAbs = inst.positionAbs;
<a name="l1632"><span class="linenum">1632</span></a>              this.instance.helperProportions = inst.helperProportions;
<a name="l1633"><span class="linenum">1633</span></a>              this.instance.offset.click = inst.offset.click;
<a name="l1634"><span class="linenum">1634</span></a>              
<a name="l1635"><span class="linenum">1635</span></a>              if(this.instance._intersectsWith(this.instance.containerCache)) {
<a name="l1636"><span class="linenum">1636</span></a>  
<a name="l1637"><span class="linenum">1637</span></a>  <span class="comment">                //If it intersects, we use a little isOver variable and set it once, so our move-in stuff gets fired only once</span>
<a name="l1638"><span class="linenum">1638</span></a>                  if(!this.instance.isOver) {
<a name="l1639"><span class="linenum">1639</span></a>  
<a name="l1640"><span class="linenum">1640</span></a>                      this.instance.isOver = 1;
<a name="l1641"><span class="linenum">1641</span></a>  <span class="comment">                    //Now we fake the start of dragging for the sortable instance,</span>
<a name="l1642"><span class="linenum">1642</span></a>  <span class="comment">                    //by cloning the list group item, appending it to the sortable and using it as inst.currentItem</span>
<a name="l1643"><span class="linenum">1643</span></a>  <span class="comment">                    //We can then fire the start event of the sortable with our passed browser event, and our own helper (so it doesn't create a new one)</span>
<a name="l1644"><span class="linenum">1644</span></a>                      this.instance.currentItem = $(self).<a class="function" onClick="logFunction('clone')" href="../../../../_functions/clone.html" onMouseOver="funcPopup(event,'clone')">clone</a>().removeAttr('id').appendTo(this.instance.element).data(&quot;sortable-item&quot;, true);
<a name="l1645"><span class="linenum">1645</span></a>                      this.instance.options._helper = this.instance.options.helper; <span class="comment">//Store helper option to later restore it</span>
<a name="l1646"><span class="linenum">1646</span></a>                      this.instance.options.helper = function() { return ui.helper[0]; };
<a name="l1647"><span class="linenum">1647</span></a>  
<a name="l1648"><span class="linenum">1648</span></a>                      event.target = this.instance.currentItem[0];
<a name="l1649"><span class="linenum">1649</span></a>                      this.instance._mouseCapture(event, true);
<a name="l1650"><span class="linenum">1650</span></a>                      this.instance._mouseStart(event, true, true);
<a name="l1651"><span class="linenum">1651</span></a>  
<a name="l1652"><span class="linenum">1652</span></a>  <span class="comment">                    //Because the browser event is way off the new appended portlet, we modify a couple of variables to reflect the changes</span>
<a name="l1653"><span class="linenum">1653</span></a>                      this.instance.offset.click.top = inst.offset.click.top;
<a name="l1654"><span class="linenum">1654</span></a>                      this.instance.offset.click.left = inst.offset.click.left;
<a name="l1655"><span class="linenum">1655</span></a>                      this.instance.offset.parent.left -= inst.offset.parent.left - this.instance.offset.parent.left;
<a name="l1656"><span class="linenum">1656</span></a>                      this.instance.offset.parent.top -= inst.offset.parent.top - this.instance.offset.parent.top;
<a name="l1657"><span class="linenum">1657</span></a>  
<a name="l1658"><span class="linenum">1658</span></a>                      inst._trigger(&quot;toSortable&quot;, event);
<a name="l1659"><span class="linenum">1659</span></a>                      inst.dropped = this.instance.element; <span class="comment">//draggable revert needs that</span>
<a name="l1660"><span class="linenum">1660</span></a>  <span class="comment">                    //hack so receive/update callbacks work (mostly)</span>
<a name="l1661"><span class="linenum">1661</span></a>                      inst.currentItem = inst.element;
<a name="l1662"><span class="linenum">1662</span></a>                      this.instance.fromOutside = inst;
<a name="l1663"><span class="linenum">1663</span></a>  
<a name="l1664"><span class="linenum">1664</span></a>                  }
<a name="l1665"><span class="linenum">1665</span></a>  
<a name="l1666"><span class="linenum">1666</span></a>  <span class="comment">                //Provided we did all the previous steps, we can fire the drag event of the sortable on every draggable drag, when it intersects with the sortable</span>
<a name="l1667"><span class="linenum">1667</span></a>                  if(this.instance.currentItem) this.instance._mouseDrag(event);
<a name="l1668"><span class="linenum">1668</span></a>  
<a name="l1669"><span class="linenum">1669</span></a>              } else {
<a name="l1670"><span class="linenum">1670</span></a>  
<a name="l1671"><span class="linenum">1671</span></a>  <span class="comment">                //If it doesn't intersect with the sortable, and it intersected before,</span>
<a name="l1672"><span class="linenum">1672</span></a>  <span class="comment">                //we fake the drag stop of the sortable, but make sure it doesn't remove the helper by using cancelHelperRemoval</span>
<a name="l1673"><span class="linenum">1673</span></a>                  if(this.instance.isOver) {
<a name="l1674"><span class="linenum">1674</span></a>  
<a name="l1675"><span class="linenum">1675</span></a>                      this.instance.isOver = 0;
<a name="l1676"><span class="linenum">1676</span></a>                      this.instance.cancelHelperRemoval = true;
<a name="l1677"><span class="linenum">1677</span></a>                      
<a name="l1678"><span class="linenum">1678</span></a>  <span class="comment">                    //Prevent reverting on this forced stop</span>
<a name="l1679"><span class="linenum">1679</span></a>                      this.instance.options.revert = false;
<a name="l1680"><span class="linenum">1680</span></a>                      
<a name="l1681"><span class="linenum">1681</span></a>  <span class="comment">                    // The out event needs to be triggered independently</span>
<a name="l1682"><span class="linenum">1682</span></a>                      this.instance._trigger('out', event, this.instance._uiHash(this.instance));
<a name="l1683"><span class="linenum">1683</span></a>                      
<a name="l1684"><span class="linenum">1684</span></a>                      this.instance._mouseStop(event, true);
<a name="l1685"><span class="linenum">1685</span></a>                      this.instance.options.helper = this.instance.options._helper;
<a name="l1686"><span class="linenum">1686</span></a>  
<a name="l1687"><span class="linenum">1687</span></a>  <span class="comment">                    //Now we remove our currentItem, the list group clone again, and the placeholder, and animate the helper back to it's original size</span>
<a name="l1688"><span class="linenum">1688</span></a>                      this.instance.currentItem.<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>();
<a name="l1689"><span class="linenum">1689</span></a>                      if(this.instance.placeholder) this.instance.placeholder.<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>();
<a name="l1690"><span class="linenum">1690</span></a>  
<a name="l1691"><span class="linenum">1691</span></a>                      inst._trigger(&quot;fromSortable&quot;, event);
<a name="l1692"><span class="linenum">1692</span></a>                      inst.dropped = false; <span class="comment">//draggable revert needs that</span>
<a name="l1693"><span class="linenum">1693</span></a>                  }
<a name="l1694"><span class="linenum">1694</span></a>  
<a name="l1695"><span class="linenum">1695</span></a>              };
<a name="l1696"><span class="linenum">1696</span></a>  
<a name="l1697"><span class="linenum">1697</span></a>          });
<a name="l1698"><span class="linenum">1698</span></a>  
<a name="l1699"><span class="linenum">1699</span></a>      }
<a name="l1700"><span class="linenum">1700</span></a>  });
<a name="l1701"><span class="linenum">1701</span></a>  
<a name="l1702"><span class="linenum">1702</span></a>  $.ui.plugin.<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(&quot;draggable&quot;, &quot;cursor&quot;, {
<a name="l1703"><span class="linenum">1703</span></a>      start: function(event, ui) {
<a name="l1704"><span class="linenum">1704</span></a>          var t = $('body'), o = $(this).data('draggable').options;
<a name="l1705"><span class="linenum">1705</span></a>          if (t.css(&quot;cursor&quot;)) o._cursor = t.css(&quot;cursor&quot;);
<a name="l1706"><span class="linenum">1706</span></a>          t.css(&quot;cursor&quot;, o.cursor);
<a name="l1707"><span class="linenum">1707</span></a>      },
<a name="l1708"><span class="linenum">1708</span></a>      stop: function(event, ui) {
<a name="l1709"><span class="linenum">1709</span></a>          var o = $(this).data('draggable').options;
<a name="l1710"><span class="linenum">1710</span></a>          if (o._cursor) $('body').css(&quot;cursor&quot;, o._cursor);
<a name="l1711"><span class="linenum">1711</span></a>      }
<a name="l1712"><span class="linenum">1712</span></a>  });
<a name="l1713"><span class="linenum">1713</span></a>  
<a name="l1714"><span class="linenum">1714</span></a>  $.ui.plugin.<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(&quot;draggable&quot;, &quot;opacity&quot;, {
<a name="l1715"><span class="linenum">1715</span></a>      start: function(event, ui) {
<a name="l1716"><span class="linenum">1716</span></a>          var t = $(ui.helper), o = $(this).data('draggable').options;
<a name="l1717"><span class="linenum">1717</span></a>          if(t.css(&quot;opacity&quot;)) o._opacity = t.css(&quot;opacity&quot;);
<a name="l1718"><span class="linenum">1718</span></a>          t.css('opacity', o.opacity);
<a name="l1719"><span class="linenum">1719</span></a>      },
<a name="l1720"><span class="linenum">1720</span></a>      stop: function(event, ui) {
<a name="l1721"><span class="linenum">1721</span></a>          var o = $(this).data('draggable').options;
<a name="l1722"><span class="linenum">1722</span></a>          if(o._opacity) $(ui.helper).css('opacity', o._opacity);
<a name="l1723"><span class="linenum">1723</span></a>      }
<a name="l1724"><span class="linenum">1724</span></a>  });
<a name="l1725"><span class="linenum">1725</span></a>  
<a name="l1726"><span class="linenum">1726</span></a>  $.ui.plugin.<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(&quot;draggable&quot;, &quot;scroll&quot;, {
<a name="l1727"><span class="linenum">1727</span></a>      start: function(event, ui) {
<a name="l1728"><span class="linenum">1728</span></a>          var i = $(this).data(&quot;draggable&quot;);
<a name="l1729"><span class="linenum">1729</span></a>          if(i.scrollParent[0] != document &amp;&amp; i.scrollParent[0].tagName != 'HTML') i.overflowOffset = i.scrollParent.offset();
<a name="l1730"><span class="linenum">1730</span></a>      },
<a name="l1731"><span class="linenum">1731</span></a>      drag: function(event, ui) {
<a name="l1732"><span class="linenum">1732</span></a>  
<a name="l1733"><span class="linenum">1733</span></a>          var i = $(this).data(&quot;draggable&quot;), o = i.options, scrolled = false;
<a name="l1734"><span class="linenum">1734</span></a>  
<a name="l1735"><span class="linenum">1735</span></a>          if(i.scrollParent[0] != document &amp;&amp; i.scrollParent[0].tagName != 'HTML') {
<a name="l1736"><span class="linenum">1736</span></a>  
<a name="l1737"><span class="linenum">1737</span></a>              if(!o.axis || o.axis != 'x') {
<a name="l1738"><span class="linenum">1738</span></a>                  if((i.overflowOffset.top + i.scrollParent[0].offsetHeight) - event.pageY &lt; o.scrollSensitivity)
<a name="l1739"><span class="linenum">1739</span></a>                      i.scrollParent[0].scrollTop = scrolled = i.scrollParent[0].scrollTop + o.scrollSpeed;
<a name="l1740"><span class="linenum">1740</span></a>                  else if(event.pageY - i.overflowOffset.top &lt; o.scrollSensitivity)
<a name="l1741"><span class="linenum">1741</span></a>                      i.scrollParent[0].scrollTop = scrolled = i.scrollParent[0].scrollTop - o.scrollSpeed;
<a name="l1742"><span class="linenum">1742</span></a>              }
<a name="l1743"><span class="linenum">1743</span></a>  
<a name="l1744"><span class="linenum">1744</span></a>              if(!o.axis || o.axis != 'y') {
<a name="l1745"><span class="linenum">1745</span></a>                  if((i.overflowOffset.left + i.scrollParent[0].offsetWidth) - event.pageX &lt; o.scrollSensitivity)
<a name="l1746"><span class="linenum">1746</span></a>                      i.scrollParent[0].scrollLeft = scrolled = i.scrollParent[0].scrollLeft + o.scrollSpeed;
<a name="l1747"><span class="linenum">1747</span></a>                  else if(event.pageX - i.overflowOffset.left &lt; o.scrollSensitivity)
<a name="l1748"><span class="linenum">1748</span></a>                      i.scrollParent[0].scrollLeft = scrolled = i.scrollParent[0].scrollLeft - o.scrollSpeed;
<a name="l1749"><span class="linenum">1749</span></a>              }
<a name="l1750"><span class="linenum">1750</span></a>  
<a name="l1751"><span class="linenum">1751</span></a>          } else {
<a name="l1752"><span class="linenum">1752</span></a>  
<a name="l1753"><span class="linenum">1753</span></a>              if(!o.axis || o.axis != 'x') {
<a name="l1754"><span class="linenum">1754</span></a>                  if(event.pageY - $(document).scrollTop() &lt; o.scrollSensitivity)
<a name="l1755"><span class="linenum">1755</span></a>                      scrolled = $(document).scrollTop($(document).scrollTop() - o.scrollSpeed);
<a name="l1756"><span class="linenum">1756</span></a>                  else if($(window).height() - (event.pageY - $(document).scrollTop()) &lt; o.scrollSensitivity)
<a name="l1757"><span class="linenum">1757</span></a>                      scrolled = $(document).scrollTop($(document).scrollTop() + o.scrollSpeed);
<a name="l1758"><span class="linenum">1758</span></a>              }
<a name="l1759"><span class="linenum">1759</span></a>  
<a name="l1760"><span class="linenum">1760</span></a>              if(!o.axis || o.axis != 'y') {
<a name="l1761"><span class="linenum">1761</span></a>                  if(event.pageX - $(document).scrollLeft() &lt; o.scrollSensitivity)
<a name="l1762"><span class="linenum">1762</span></a>                      scrolled = $(document).scrollLeft($(document).scrollLeft() - o.scrollSpeed);
<a name="l1763"><span class="linenum">1763</span></a>                  else if($(window).width() - (event.pageX - $(document).scrollLeft()) &lt; o.scrollSensitivity)
<a name="l1764"><span class="linenum">1764</span></a>                      scrolled = $(document).scrollLeft($(document).scrollLeft() + o.scrollSpeed);
<a name="l1765"><span class="linenum">1765</span></a>              }
<a name="l1766"><span class="linenum">1766</span></a>  
<a name="l1767"><span class="linenum">1767</span></a>          }
<a name="l1768"><span class="linenum">1768</span></a>  
<a name="l1769"><span class="linenum">1769</span></a>          if(scrolled !== false &amp;&amp; $.ui.ddmanager &amp;&amp; !o.dropBehaviour)
<a name="l1770"><span class="linenum">1770</span></a>              $.ui.ddmanager.prepareOffsets(i, event);
<a name="l1771"><span class="linenum">1771</span></a>  
<a name="l1772"><span class="linenum">1772</span></a>      }
<a name="l1773"><span class="linenum">1773</span></a>  });
<a name="l1774"><span class="linenum">1774</span></a>  
<a name="l1775"><span class="linenum">1775</span></a>  $.ui.plugin.<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(&quot;draggable&quot;, &quot;snap&quot;, {
<a name="l1776"><span class="linenum">1776</span></a>      start: function(event, ui) {
<a name="l1777"><span class="linenum">1777</span></a>  
<a name="l1778"><span class="linenum">1778</span></a>          var i = $(this).data(&quot;draggable&quot;), o = i.options;
<a name="l1779"><span class="linenum">1779</span></a>          i.snapElements = [];
<a name="l1780"><span class="linenum">1780</span></a>  
<a name="l1781"><span class="linenum">1781</span></a>          $(o.snap.constructor != String ? ( o.snap.items || ':data(draggable)' ) : o.snap).<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l1782"><span class="linenum">1782</span></a>              var <a class="var it420" onMouseOver="hilite(420)" onMouseOut="lolite()" onClick="logVariable('t')" href="../../../../_variables/t.html">$t</a> = $(this); var <a class="var it2715" onMouseOver="hilite(2715)" onMouseOut="lolite()" onClick="logVariable('o')" href="../../../../_variables/o.html">$o</a> = <a class="var it420" onMouseOver="hilite(420)" onMouseOut="lolite()" onClick="logVariable('t')" href="../../../../_variables/t.html">$t</a>.offset();
<a name="l1783"><span class="linenum">1783</span></a>              if(this != i.element[0]) i.snapElements.push({
<a name="l1784"><span class="linenum">1784</span></a>                  item: this,
<a name="l1785"><span class="linenum">1785</span></a>                  width: <a class="var it420" onMouseOver="hilite(420)" onMouseOut="lolite()" onClick="logVariable('t')" href="../../../../_variables/t.html">$t</a>.outerWidth(), height: <a class="var it420" onMouseOver="hilite(420)" onMouseOut="lolite()" onClick="logVariable('t')" href="../../../../_variables/t.html">$t</a>.outerHeight(),
<a name="l1786"><span class="linenum">1786</span></a>                  top: <a class="var it2715" onMouseOver="hilite(2715)" onMouseOut="lolite()" onClick="logVariable('o')" href="../../../../_variables/o.html">$o</a>.top, left: <a class="var it2715" onMouseOver="hilite(2715)" onMouseOut="lolite()" onClick="logVariable('o')" href="../../../../_variables/o.html">$o</a>.left
<a name="l1787"><span class="linenum">1787</span></a>              });
<a name="l1788"><span class="linenum">1788</span></a>          });
<a name="l1789"><span class="linenum">1789</span></a>  
<a name="l1790"><span class="linenum">1790</span></a>      },
<a name="l1791"><span class="linenum">1791</span></a>      drag: function(event, ui) {
<a name="l1792"><span class="linenum">1792</span></a>  
<a name="l1793"><span class="linenum">1793</span></a>          var inst = $(this).data(&quot;draggable&quot;), o = inst.options;
<a name="l1794"><span class="linenum">1794</span></a>          var d = o.snapTolerance;
<a name="l1795"><span class="linenum">1795</span></a>  
<a name="l1796"><span class="linenum">1796</span></a>          var x1 = ui.offset.left, x2 = x1 + inst.helperProportions.width,
<a name="l1797"><span class="linenum">1797</span></a>              y1 = ui.offset.top, y2 = y1 + inst.helperProportions.height;
<a name="l1798"><span class="linenum">1798</span></a>  
<a name="l1799"><span class="linenum">1799</span></a>          for (var i = inst.snapElements.length - 1; i &gt;= 0; i--){
<a name="l1800"><span class="linenum">1800</span></a>  
<a name="l1801"><span class="linenum">1801</span></a>              var l = inst.snapElements[i].left, r = l + inst.snapElements[i].width,
<a name="l1802"><span class="linenum">1802</span></a>                  t = inst.snapElements[i].top, b = t + inst.snapElements[i].height;
<a name="l1803"><span class="linenum">1803</span></a>  
<a name="l1804"><span class="linenum">1804</span></a>  <span class="comment">            //Yes, I know, this is insane ;)</span>
<a name="l1805"><span class="linenum">1805</span></a>              if(!((l-d &lt; x1 &amp;&amp; x1 &lt; r+d &amp;&amp; t-d &lt; y1 &amp;&amp; y1 &lt; b+d) || (l-d &lt; x1 &amp;&amp; x1 &lt; r+d &amp;&amp; t-d &lt; y2 &amp;&amp; y2 &lt; b+d) || (l-d &lt; x2 &amp;&amp; x2 &lt; r+d &amp;&amp; t-d &lt; y1 &amp;&amp; y1 &lt; b+d) || (l-d &lt; x2 &amp;&amp; x2 &lt; r+d &amp;&amp; t-d &lt; y2 &amp;&amp; y2 &lt; b+d))) {
<a name="l1806"><span class="linenum">1806</span></a>                  if(inst.snapElements[i].snapping) (inst.options.snap.release &amp;&amp; inst.options.snap.release.call(inst.element, event, $.extend(inst._uiHash(), { snapItem: inst.snapElements[i].item })));
<a name="l1807"><span class="linenum">1807</span></a>                  inst.snapElements[i].snapping = false;
<a name="l1808"><span class="linenum">1808</span></a>                  continue;
<a name="l1809"><span class="linenum">1809</span></a>              }
<a name="l1810"><span class="linenum">1810</span></a>  
<a name="l1811"><span class="linenum">1811</span></a>              if(o.snapMode != 'inner') {
<a name="l1812"><span class="linenum">1812</span></a>                  var ts = Math.<a class="phpfunction" onClick="logFunction('abs')" href="../../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(t - y2) &lt;= d;
<a name="l1813"><span class="linenum">1813</span></a>                  var bs = Math.<a class="phpfunction" onClick="logFunction('abs')" href="../../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(b - y1) &lt;= d;
<a name="l1814"><span class="linenum">1814</span></a>                  var ls = Math.<a class="phpfunction" onClick="logFunction('abs')" href="../../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(l - x2) &lt;= d;
<a name="l1815"><span class="linenum">1815</span></a>                  var rs = Math.<a class="phpfunction" onClick="logFunction('abs')" href="../../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(r - x1) &lt;= d;
<a name="l1816"><span class="linenum">1816</span></a>                  if(ts) ui.position.top = inst._convertPositionTo(&quot;relative&quot;, { top: t - inst.helperProportions.height, left: 0 }).top - inst.margins.top;
<a name="l1817"><span class="linenum">1817</span></a>                  if(bs) ui.position.top = inst._convertPositionTo(&quot;relative&quot;, { top: b, left: 0 }).top - inst.margins.top;
<a name="l1818"><span class="linenum">1818</span></a>                  if(ls) ui.position.left = inst._convertPositionTo(&quot;relative&quot;, { top: 0, left: l - inst.helperProportions.width }).left - inst.margins.left;
<a name="l1819"><span class="linenum">1819</span></a>                  if(rs) ui.position.left = inst._convertPositionTo(&quot;relative&quot;, { top: 0, left: r }).left - inst.margins.left;
<a name="l1820"><span class="linenum">1820</span></a>              }
<a name="l1821"><span class="linenum">1821</span></a>  
<a name="l1822"><span class="linenum">1822</span></a>              var first = (ts || bs || ls || rs);
<a name="l1823"><span class="linenum">1823</span></a>  
<a name="l1824"><span class="linenum">1824</span></a>              if(o.snapMode != 'outer') {
<a name="l1825"><span class="linenum">1825</span></a>                  var ts = Math.<a class="phpfunction" onClick="logFunction('abs')" href="../../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(t - y1) &lt;= d;
<a name="l1826"><span class="linenum">1826</span></a>                  var bs = Math.<a class="phpfunction" onClick="logFunction('abs')" href="../../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(b - y2) &lt;= d;
<a name="l1827"><span class="linenum">1827</span></a>                  var ls = Math.<a class="phpfunction" onClick="logFunction('abs')" href="../../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(l - x1) &lt;= d;
<a name="l1828"><span class="linenum">1828</span></a>                  var rs = Math.<a class="phpfunction" onClick="logFunction('abs')" href="../../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(r - x2) &lt;= d;
<a name="l1829"><span class="linenum">1829</span></a>                  if(ts) ui.position.top = inst._convertPositionTo(&quot;relative&quot;, { top: t, left: 0 }).top - inst.margins.top;
<a name="l1830"><span class="linenum">1830</span></a>                  if(bs) ui.position.top = inst._convertPositionTo(&quot;relative&quot;, { top: b - inst.helperProportions.height, left: 0 }).top - inst.margins.top;
<a name="l1831"><span class="linenum">1831</span></a>                  if(ls) ui.position.left = inst._convertPositionTo(&quot;relative&quot;, { top: 0, left: l }).left - inst.margins.left;
<a name="l1832"><span class="linenum">1832</span></a>                  if(rs) ui.position.left = inst._convertPositionTo(&quot;relative&quot;, { top: 0, left: r - inst.helperProportions.width }).left - inst.margins.left;
<a name="l1833"><span class="linenum">1833</span></a>              }
<a name="l1834"><span class="linenum">1834</span></a>  
<a name="l1835"><span class="linenum">1835</span></a>              if(!inst.snapElements[i].snapping &amp;&amp; (ts || bs || ls || rs || first))
<a name="l1836"><span class="linenum">1836</span></a>                  (inst.options.snap.snap &amp;&amp; inst.options.snap.snap.call(inst.element, event, $.extend(inst._uiHash(), { snapItem: inst.snapElements[i].item })));
<a name="l1837"><span class="linenum">1837</span></a>              inst.snapElements[i].snapping = (ts || bs || ls || rs || first);
<a name="l1838"><span class="linenum">1838</span></a>  
<a name="l1839"><span class="linenum">1839</span></a>          };
<a name="l1840"><span class="linenum">1840</span></a>  
<a name="l1841"><span class="linenum">1841</span></a>      }
<a name="l1842"><span class="linenum">1842</span></a>  });
<a name="l1843"><span class="linenum">1843</span></a>  
<a name="l1844"><span class="linenum">1844</span></a>  $.ui.plugin.<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(&quot;draggable&quot;, &quot;stack&quot;, {
<a name="l1845"><span class="linenum">1845</span></a>      start: function(event, ui) {
<a name="l1846"><span class="linenum">1846</span></a>  
<a name="l1847"><span class="linenum">1847</span></a>          var o = $(this).data(&quot;draggable&quot;).options;
<a name="l1848"><span class="linenum">1848</span></a>  
<a name="l1849"><span class="linenum">1849</span></a>          var group = $.makeArray($(o.stack)).<a class="phpfunction" onClick="logFunction('sort')" href="../../../../_functions/sort.html" onMouseOver="phpfuncPopup(event,'sort')">sort</a>(function(a,b) {
<a name="l1850"><span class="linenum">1850</span></a>              return (parseInt($(a).css(&quot;zIndex&quot;),10) || 0) - (parseInt($(b).css(&quot;zIndex&quot;),10) || 0);
<a name="l1851"><span class="linenum">1851</span></a>          });
<a name="l1852"><span class="linenum">1852</span></a>          if (!group.length) { return; }
<a name="l1853"><span class="linenum">1853</span></a>          
<a name="l1854"><span class="linenum">1854</span></a>          var min = parseInt(group[0].style.zIndex) || 0;
<a name="l1855"><span class="linenum">1855</span></a>          $(group).<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function(i) {
<a name="l1856"><span class="linenum">1856</span></a>              this.style.zIndex = min + i;
<a name="l1857"><span class="linenum">1857</span></a>          });
<a name="l1858"><span class="linenum">1858</span></a>  
<a name="l1859"><span class="linenum">1859</span></a>          this[0].style.zIndex = min + group.length;
<a name="l1860"><span class="linenum">1860</span></a>  
<a name="l1861"><span class="linenum">1861</span></a>      }
<a name="l1862"><span class="linenum">1862</span></a>  });
<a name="l1863"><span class="linenum">1863</span></a>  
<a name="l1864"><span class="linenum">1864</span></a>  $.ui.plugin.<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(&quot;draggable&quot;, &quot;zIndex&quot;, {
<a name="l1865"><span class="linenum">1865</span></a>      start: function(event, ui) {
<a name="l1866"><span class="linenum">1866</span></a>          var t = $(ui.helper), o = $(this).data(&quot;draggable&quot;).options;
<a name="l1867"><span class="linenum">1867</span></a>          if(t.css(&quot;zIndex&quot;)) o._zIndex = t.css(&quot;zIndex&quot;);
<a name="l1868"><span class="linenum">1868</span></a>          t.css('zIndex', o.zIndex);
<a name="l1869"><span class="linenum">1869</span></a>      },
<a name="l1870"><span class="linenum">1870</span></a>      stop: function(event, ui) {
<a name="l1871"><span class="linenum">1871</span></a>          var o = $(this).data(&quot;draggable&quot;).options;
<a name="l1872"><span class="linenum">1872</span></a>          if(o._zIndex) $(ui.helper).css('zIndex', o._zIndex);
<a name="l1873"><span class="linenum">1873</span></a>      }
<a name="l1874"><span class="linenum">1874</span></a>  });
<a name="l1875"><span class="linenum">1875</span></a>  
<a name="l1876"><span class="linenum">1876</span></a>  })(jQuery);
<a name="l1877"><span class="linenum">1877</span></a>  <span class="comment">/*</span>
<a name="l1878"><span class="linenum">1878</span></a>  <span class="comment"> * jQuery UI Droppable 1.8.18</span>
<a name="l1879"><span class="linenum">1879</span></a>  <span class="comment"> *</span>
<a name="l1880"><span class="linenum">1880</span></a>  <span class="comment"> * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l1881"><span class="linenum">1881</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l1882"><span class="linenum">1882</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l1883"><span class="linenum">1883</span></a>  <span class="comment"> *</span>
<a name="l1884"><span class="linenum">1884</span></a>  <span class="comment"> * http://docs.jquery.com/UI/Droppables</span>
<a name="l1885"><span class="linenum">1885</span></a>  <span class="comment"> *</span>
<a name="l1886"><span class="linenum">1886</span></a>  <span class="comment"> * Depends:</span>
<a name="l1887"><span class="linenum">1887</span></a>  <span class="comment"> *    jquery.ui.core.js</span>
<a name="l1888"><span class="linenum">1888</span></a>  <span class="comment"> *    jquery.ui.widget.js</span>
<a name="l1889"><span class="linenum">1889</span></a>  <span class="comment"> *    jquery.ui.mouse.js</span>
<a name="l1890"><span class="linenum">1890</span></a>  <span class="comment"> *    jquery.ui.draggable.js</span>
<a name="l1891"><span class="linenum">1891</span></a>  <span class="comment"> */</span>
<a name="l1892"><span class="linenum">1892</span></a>  (function( $, undefined ) {
<a name="l1893"><span class="linenum">1893</span></a>  
<a name="l1894"><span class="linenum">1894</span></a>  $.<a class="function" onClick="logFunction('widget')" href="../../../../_functions/widget.html" onMouseOver="funcPopup(event,'widget')">widget</a>(&quot;ui.droppable&quot;, {
<a name="l1895"><span class="linenum">1895</span></a>      widgetEventPrefix: &quot;drop&quot;,
<a name="l1896"><span class="linenum">1896</span></a>      options: {
<a name="l1897"><span class="linenum">1897</span></a>          accept: '*',
<a name="l1898"><span class="linenum">1898</span></a>          activeClass: false,
<a name="l1899"><span class="linenum">1899</span></a>          addClasses: true,
<a name="l1900"><span class="linenum">1900</span></a>          greedy: false,
<a name="l1901"><span class="linenum">1901</span></a>          hoverClass: false,
<a name="l1902"><span class="linenum">1902</span></a>          scope: 'default',
<a name="l1903"><span class="linenum">1903</span></a>          tolerance: 'intersect'
<a name="l1904"><span class="linenum">1904</span></a>      },
<a name="l1905"><span class="linenum">1905</span></a>      _create: function() {
<a name="l1906"><span class="linenum">1906</span></a>  
<a name="l1907"><span class="linenum">1907</span></a>          var o = this.options, accept = o.accept;
<a name="l1908"><span class="linenum">1908</span></a>          this.isover = 0; this.isout = 1;
<a name="l1909"><span class="linenum">1909</span></a>  
<a name="l1910"><span class="linenum">1910</span></a>          this.accept = $.isFunction(accept) ? accept : function(d) {
<a name="l1911"><span class="linenum">1911</span></a>              return d.is(accept);
<a name="l1912"><span class="linenum">1912</span></a>          };
<a name="l1913"><span class="linenum">1913</span></a>  
<a name="l1914"><span class="linenum">1914</span></a>  <span class="comment">        //Store the droppable's proportions</span>
<a name="l1915"><span class="linenum">1915</span></a>          this.proportions = { width: this.element[0].offsetWidth, height: this.element[0].offsetHeight };
<a name="l1916"><span class="linenum">1916</span></a>  
<a name="l1917"><span class="linenum">1917</span></a>  <span class="comment">        // Add the reference and positions to the manager</span>
<a name="l1918"><span class="linenum">1918</span></a>          $.ui.ddmanager.droppables[o.scope] = $.ui.ddmanager.droppables[o.scope] || [];
<a name="l1919"><span class="linenum">1919</span></a>          $.ui.ddmanager.droppables[o.scope].push(this);
<a name="l1920"><span class="linenum">1920</span></a>  
<a name="l1921"><span class="linenum">1921</span></a>          (o.addClasses &amp;&amp; this.element.addClass(&quot;ui-droppable&quot;));
<a name="l1922"><span class="linenum">1922</span></a>  
<a name="l1923"><span class="linenum">1923</span></a>      },
<a name="l1924"><span class="linenum">1924</span></a>  
<a name="l1925"><span class="linenum">1925</span></a>      destroy: function() {
<a name="l1926"><span class="linenum">1926</span></a>          var drop = $.ui.ddmanager.droppables[this.options.scope];
<a name="l1927"><span class="linenum">1927</span></a>          for ( var i = 0; i &lt; drop.length; i++ )
<a name="l1928"><span class="linenum">1928</span></a>              if ( drop[i] == this )
<a name="l1929"><span class="linenum">1929</span></a>                  drop.splice(i, 1);
<a name="l1930"><span class="linenum">1930</span></a>  
<a name="l1931"><span class="linenum">1931</span></a>          this.element
<a name="l1932"><span class="linenum">1932</span></a>              .removeClass(&quot;ui-droppable ui-droppable-disabled&quot;)
<a name="l1933"><span class="linenum">1933</span></a>              .removeData(&quot;droppable&quot;)
<a name="l1934"><span class="linenum">1934</span></a>              .unbind(&quot;.droppable&quot;);
<a name="l1935"><span class="linenum">1935</span></a>  
<a name="l1936"><span class="linenum">1936</span></a>          return this;
<a name="l1937"><span class="linenum">1937</span></a>      },
<a name="l1938"><span class="linenum">1938</span></a>  
<a name="l1939"><span class="linenum">1939</span></a>      _setOption: function(key, value) {
<a name="l1940"><span class="linenum">1940</span></a>  
<a name="l1941"><span class="linenum">1941</span></a>          if(key == 'accept') {
<a name="l1942"><span class="linenum">1942</span></a>              this.accept = $.isFunction(value) ? value : function(d) {
<a name="l1943"><span class="linenum">1943</span></a>                  return d.is(value);
<a name="l1944"><span class="linenum">1944</span></a>              };
<a name="l1945"><span class="linenum">1945</span></a>          }
<a name="l1946"><span class="linenum">1946</span></a>          $.Widget.prototype._setOption.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments);
<a name="l1947"><span class="linenum">1947</span></a>      },
<a name="l1948"><span class="linenum">1948</span></a>  
<a name="l1949"><span class="linenum">1949</span></a>      _activate: function(event) {
<a name="l1950"><span class="linenum">1950</span></a>          var draggable = $.ui.ddmanager.current;
<a name="l1951"><span class="linenum">1951</span></a>          if(this.options.activeClass) this.element.addClass(this.options.activeClass);
<a name="l1952"><span class="linenum">1952</span></a>          (draggable &amp;&amp; this._trigger('activate', event, this.ui(draggable)));
<a name="l1953"><span class="linenum">1953</span></a>      },
<a name="l1954"><span class="linenum">1954</span></a>  
<a name="l1955"><span class="linenum">1955</span></a>      _deactivate: function(event) {
<a name="l1956"><span class="linenum">1956</span></a>          var draggable = $.ui.ddmanager.current;
<a name="l1957"><span class="linenum">1957</span></a>          if(this.options.activeClass) this.element.removeClass(this.options.activeClass);
<a name="l1958"><span class="linenum">1958</span></a>          (draggable &amp;&amp; this._trigger('deactivate', event, this.ui(draggable)));
<a name="l1959"><span class="linenum">1959</span></a>      },
<a name="l1960"><span class="linenum">1960</span></a>  
<a name="l1961"><span class="linenum">1961</span></a>      _over: function(event) {
<a name="l1962"><span class="linenum">1962</span></a>  
<a name="l1963"><span class="linenum">1963</span></a>          var draggable = $.ui.ddmanager.current;
<a name="l1964"><span class="linenum">1964</span></a>          if (!draggable || (draggable.currentItem || draggable.element)[0] == this.element[0]) return; <span class="comment">// Bail if draggable and droppable are same element</span>
<a name="l1965"><span class="linenum">1965</span></a>  
<a name="l1966"><span class="linenum">1966</span></a>          if (this.accept.call(this.element[0],(draggable.currentItem || draggable.element))) {
<a name="l1967"><span class="linenum">1967</span></a>              if(this.options.hoverClass) this.element.addClass(this.options.hoverClass);
<a name="l1968"><span class="linenum">1968</span></a>              this._trigger('over', event, this.ui(draggable));
<a name="l1969"><span class="linenum">1969</span></a>          }
<a name="l1970"><span class="linenum">1970</span></a>  
<a name="l1971"><span class="linenum">1971</span></a>      },
<a name="l1972"><span class="linenum">1972</span></a>  
<a name="l1973"><span class="linenum">1973</span></a>      _out: function(event) {
<a name="l1974"><span class="linenum">1974</span></a>  
<a name="l1975"><span class="linenum">1975</span></a>          var draggable = $.ui.ddmanager.current;
<a name="l1976"><span class="linenum">1976</span></a>          if (!draggable || (draggable.currentItem || draggable.element)[0] == this.element[0]) return; <span class="comment">// Bail if draggable and droppable are same element</span>
<a name="l1977"><span class="linenum">1977</span></a>  
<a name="l1978"><span class="linenum">1978</span></a>          if (this.accept.call(this.element[0],(draggable.currentItem || draggable.element))) {
<a name="l1979"><span class="linenum">1979</span></a>              if(this.options.hoverClass) this.element.removeClass(this.options.hoverClass);
<a name="l1980"><span class="linenum">1980</span></a>              this._trigger('out', event, this.ui(draggable));
<a name="l1981"><span class="linenum">1981</span></a>          }
<a name="l1982"><span class="linenum">1982</span></a>  
<a name="l1983"><span class="linenum">1983</span></a>      },
<a name="l1984"><span class="linenum">1984</span></a>  
<a name="l1985"><span class="linenum">1985</span></a>      _drop: function(event,custom) {
<a name="l1986"><span class="linenum">1986</span></a>  
<a name="l1987"><span class="linenum">1987</span></a>          var draggable = custom || $.ui.ddmanager.current;
<a name="l1988"><span class="linenum">1988</span></a>          if (!draggable || (draggable.currentItem || draggable.element)[0] == this.element[0]) return false; <span class="comment">// Bail if draggable and droppable are same element</span>
<a name="l1989"><span class="linenum">1989</span></a>  
<a name="l1990"><span class="linenum">1990</span></a>          var childrenIntersection = false;
<a name="l1991"><span class="linenum">1991</span></a>          this.element.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>(&quot;:data(droppable)&quot;).not(&quot;.ui-draggable-dragging&quot;).<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l1992"><span class="linenum">1992</span></a>              var inst = $.data(this, 'droppable');
<a name="l1993"><span class="linenum">1993</span></a>              if(
<a name="l1994"><span class="linenum">1994</span></a>                  inst.options.greedy
<a name="l1995"><span class="linenum">1995</span></a>                  &amp;&amp; !inst.options.disabled
<a name="l1996"><span class="linenum">1996</span></a>                  &amp;&amp; inst.options.scope == draggable.options.scope
<a name="l1997"><span class="linenum">1997</span></a>                  &amp;&amp; inst.accept.call(inst.element[0], (draggable.currentItem || draggable.element))
<a name="l1998"><span class="linenum">1998</span></a>                  &amp;&amp; $.ui.intersect(draggable, $.extend(inst, { offset: inst.element.offset() }), inst.options.tolerance)
<a name="l1999"><span class="linenum">1999</span></a>              ) { childrenIntersection = true; return false; }
<a name="l2000"><span class="linenum">2000</span></a>          });
<a name="l2001"><span class="linenum">2001</span></a>          if(childrenIntersection) return false;
<a name="l2002"><span class="linenum">2002</span></a>  
<a name="l2003"><span class="linenum">2003</span></a>          if(this.accept.call(this.element[0],(draggable.currentItem || draggable.element))) {
<a name="l2004"><span class="linenum">2004</span></a>              if(this.options.activeClass) this.element.removeClass(this.options.activeClass);
<a name="l2005"><span class="linenum">2005</span></a>              if(this.options.hoverClass) this.element.removeClass(this.options.hoverClass);
<a name="l2006"><span class="linenum">2006</span></a>              this._trigger('drop', event, this.ui(draggable));
<a name="l2007"><span class="linenum">2007</span></a>              return this.element;
<a name="l2008"><span class="linenum">2008</span></a>          }
<a name="l2009"><span class="linenum">2009</span></a>  
<a name="l2010"><span class="linenum">2010</span></a>          return false;
<a name="l2011"><span class="linenum">2011</span></a>  
<a name="l2012"><span class="linenum">2012</span></a>      },
<a name="l2013"><span class="linenum">2013</span></a>  
<a name="l2014"><span class="linenum">2014</span></a>      ui: function(c) {
<a name="l2015"><span class="linenum">2015</span></a>          return {
<a name="l2016"><span class="linenum">2016</span></a>              draggable: (c.currentItem || c.element),
<a name="l2017"><span class="linenum">2017</span></a>              helper: c.helper,
<a name="l2018"><span class="linenum">2018</span></a>              position: c.position,
<a name="l2019"><span class="linenum">2019</span></a>              offset: c.positionAbs
<a name="l2020"><span class="linenum">2020</span></a>          };
<a name="l2021"><span class="linenum">2021</span></a>      }
<a name="l2022"><span class="linenum">2022</span></a>  
<a name="l2023"><span class="linenum">2023</span></a>  });
<a name="l2024"><span class="linenum">2024</span></a>  
<a name="l2025"><span class="linenum">2025</span></a>  $.extend($.ui.droppable, {
<a name="l2026"><span class="linenum">2026</span></a>      version: &quot;1.8.18&quot;
<a name="l2027"><span class="linenum">2027</span></a>  });
<a name="l2028"><span class="linenum">2028</span></a>  
<a name="l2029"><span class="linenum">2029</span></a>  $.ui.intersect = function(draggable, droppable, toleranceMode) {
<a name="l2030"><span class="linenum">2030</span></a>  
<a name="l2031"><span class="linenum">2031</span></a>      if (!droppable.offset) return false;
<a name="l2032"><span class="linenum">2032</span></a>  
<a name="l2033"><span class="linenum">2033</span></a>      var x1 = (draggable.positionAbs || draggable.position.absolute).left, x2 = x1 + draggable.helperProportions.width,
<a name="l2034"><span class="linenum">2034</span></a>          y1 = (draggable.positionAbs || draggable.position.absolute).top, y2 = y1 + draggable.helperProportions.height;
<a name="l2035"><span class="linenum">2035</span></a>      var l = droppable.offset.left, r = l + droppable.proportions.width,
<a name="l2036"><span class="linenum">2036</span></a>          t = droppable.offset.top, b = t + droppable.proportions.height;
<a name="l2037"><span class="linenum">2037</span></a>  
<a name="l2038"><span class="linenum">2038</span></a>      switch (toleranceMode) {
<a name="l2039"><span class="linenum">2039</span></a>          case 'fit':
<a name="l2040"><span class="linenum">2040</span></a>              return (l &lt;= x1 &amp;&amp; x2 &lt;= r
<a name="l2041"><span class="linenum">2041</span></a>                  &amp;&amp; t &lt;= y1 &amp;&amp; y2 &lt;= b);
<a name="l2042"><span class="linenum">2042</span></a>              break;
<a name="l2043"><span class="linenum">2043</span></a>          case 'intersect':
<a name="l2044"><span class="linenum">2044</span></a>              return (l &lt; x1 + (draggable.helperProportions.width / 2) // Right Half
<a name="l2045"><span class="linenum">2045</span></a>                  &amp;&amp; x2 - (draggable.helperProportions.width / 2) &lt; r // Left Half
<a name="l2046"><span class="linenum">2046</span></a>                  &amp;&amp; t &lt; y1 + (draggable.helperProportions.height / 2) // Bottom Half
<a name="l2047"><span class="linenum">2047</span></a>                  &amp;&amp; y2 - (draggable.helperProportions.height / 2) &lt; b ); <span class="comment">// Top Half</span>
<a name="l2048"><span class="linenum">2048</span></a>              break;
<a name="l2049"><span class="linenum">2049</span></a>          case 'pointer':
<a name="l2050"><span class="linenum">2050</span></a>              var draggableLeft = ((draggable.positionAbs || draggable.position.absolute).left + (draggable.clickOffset || draggable.offset.click).left),
<a name="l2051"><span class="linenum">2051</span></a>                  draggableTop = ((draggable.positionAbs || draggable.position.absolute).top + (draggable.clickOffset || draggable.offset.click).top),
<a name="l2052"><span class="linenum">2052</span></a>                  isOver = $.ui.isOver(draggableTop, draggableLeft, t, l, droppable.proportions.height, droppable.proportions.width);
<a name="l2053"><span class="linenum">2053</span></a>              return isOver;
<a name="l2054"><span class="linenum">2054</span></a>              break;
<a name="l2055"><span class="linenum">2055</span></a>          case 'touch':
<a name="l2056"><span class="linenum">2056</span></a>              return (
<a name="l2057"><span class="linenum">2057</span></a>                      (y1 &gt;= t &amp;&amp; y1 &lt;= b) ||    // Top edge touching
<a name="l2058"><span class="linenum">2058</span></a>                      (y2 &gt;= t &amp;&amp; y2 &lt;= b) ||    // Bottom edge touching
<a name="l2059"><span class="linenum">2059</span></a>                      (y1 &lt; t &amp;&amp; y2 &gt; b)        // Surrounded vertically
<a name="l2060"><span class="linenum">2060</span></a>                  ) &amp;&amp; (
<a name="l2061"><span class="linenum">2061</span></a>                      (x1 &gt;= l &amp;&amp; x1 &lt;= r) ||    // Left edge touching
<a name="l2062"><span class="linenum">2062</span></a>                      (x2 &gt;= l &amp;&amp; x2 &lt;= r) ||    // Right edge touching
<a name="l2063"><span class="linenum">2063</span></a>                      (x1 &lt; l &amp;&amp; x2 &gt; r)        // Surrounded horizontally
<a name="l2064"><span class="linenum">2064</span></a>                  );
<a name="l2065"><span class="linenum">2065</span></a>              break;
<a name="l2066"><span class="linenum">2066</span></a>          default:
<a name="l2067"><span class="linenum">2067</span></a>              return false;
<a name="l2068"><span class="linenum">2068</span></a>              break;
<a name="l2069"><span class="linenum">2069</span></a>          }
<a name="l2070"><span class="linenum">2070</span></a>  
<a name="l2071"><span class="linenum">2071</span></a>  };
<a name="l2072"><span class="linenum">2072</span></a>  
<a name="l2073"><span class="linenum">2073</span></a>  <span class="comment">/*</span>
<a name="l2074"><span class="linenum">2074</span></a>  <span class="comment">    This manager tracks offsets of draggables and droppables</span>
<a name="l2075"><span class="linenum">2075</span></a>  <span class="comment">*/</span>
<a name="l2076"><span class="linenum">2076</span></a>  $.ui.ddmanager = {
<a name="l2077"><span class="linenum">2077</span></a>      current: null,
<a name="l2078"><span class="linenum">2078</span></a>      droppables: { 'default': [] },
<a name="l2079"><span class="linenum">2079</span></a>      prepareOffsets: function(t, event) {
<a name="l2080"><span class="linenum">2080</span></a>  
<a name="l2081"><span class="linenum">2081</span></a>          var m = $.ui.ddmanager.droppables[t.options.scope] || [];
<a name="l2082"><span class="linenum">2082</span></a>          var type = event ? event.type : null; <span class="comment">// workaround for #2317</span>
<a name="l2083"><span class="linenum">2083</span></a>          var list = (t.currentItem || t.element).<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>(&quot;:data(droppable)&quot;).andSelf();
<a name="l2084"><span class="linenum">2084</span></a>  
<a name="l2085"><span class="linenum">2085</span></a>          droppablesLoop: for (var i = 0; i &lt; m.length; i++) {
<a name="l2086"><span class="linenum">2086</span></a>  
<a name="l2087"><span class="linenum">2087</span></a>              if(m[i].options.disabled || (t &amp;&amp; !m[i].accept.call(m[i].element[0],(t.currentItem || t.element)))) continue;    <span class="comment">//No disabled and non-accepted</span>
<a name="l2088"><span class="linenum">2088</span></a>              for (var j=0; j &lt; list.length; j++) { if(list[j] == m[i].element[0]) { m[i].proportions.height = 0; continue droppablesLoop; } }; <span class="comment">//Filter out elements in the current dragged item</span>
<a name="l2089"><span class="linenum">2089</span></a>              m[i].visible = m[i].element.css(&quot;display&quot;) != &quot;none&quot;; if(!m[i].visible) continue;                                     <span class="comment">//If the element is not visible, continue</span>
<a name="l2090"><span class="linenum">2090</span></a>  
<a name="l2091"><span class="linenum">2091</span></a>              if(type == &quot;mousedown&quot;) m[i]._activate.call(m[i], event); <span class="comment">//Activate the droppable if used directly from draggables</span>
<a name="l2092"><span class="linenum">2092</span></a>  
<a name="l2093"><span class="linenum">2093</span></a>              m[i].offset = m[i].element.offset();
<a name="l2094"><span class="linenum">2094</span></a>              m[i].proportions = { width: m[i].element[0].offsetWidth, height: m[i].element[0].offsetHeight };
<a name="l2095"><span class="linenum">2095</span></a>  
<a name="l2096"><span class="linenum">2096</span></a>          }
<a name="l2097"><span class="linenum">2097</span></a>  
<a name="l2098"><span class="linenum">2098</span></a>      },
<a name="l2099"><span class="linenum">2099</span></a>      drop: function(draggable, event) {
<a name="l2100"><span class="linenum">2100</span></a>  
<a name="l2101"><span class="linenum">2101</span></a>          var dropped = false;
<a name="l2102"><span class="linenum">2102</span></a>          $.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>($.ui.ddmanager.droppables[draggable.options.scope] || [], function() {
<a name="l2103"><span class="linenum">2103</span></a>  
<a name="l2104"><span class="linenum">2104</span></a>              if(!this.options) return;
<a name="l2105"><span class="linenum">2105</span></a>              if (!this.options.disabled &amp;&amp; this.visible &amp;&amp; $.ui.intersect(draggable, this, this.options.tolerance))
<a name="l2106"><span class="linenum">2106</span></a>                  dropped = this._drop.call(this, event) || dropped;
<a name="l2107"><span class="linenum">2107</span></a>  
<a name="l2108"><span class="linenum">2108</span></a>              if (!this.options.disabled &amp;&amp; this.visible &amp;&amp; this.accept.call(this.element[0],(draggable.currentItem || draggable.element))) {
<a name="l2109"><span class="linenum">2109</span></a>                  this.isout = 1; this.isover = 0;
<a name="l2110"><span class="linenum">2110</span></a>                  this._deactivate.call(this, event);
<a name="l2111"><span class="linenum">2111</span></a>              }
<a name="l2112"><span class="linenum">2112</span></a>  
<a name="l2113"><span class="linenum">2113</span></a>          });
<a name="l2114"><span class="linenum">2114</span></a>          return dropped;
<a name="l2115"><span class="linenum">2115</span></a>  
<a name="l2116"><span class="linenum">2116</span></a>      },
<a name="l2117"><span class="linenum">2117</span></a>      dragStart: function( draggable, event ) {
<a name="l2118"><span class="linenum">2118</span></a>  <span class="comment">        //Listen for scrolling so that if the dragging causes scrolling the position of the droppables can be recalculated (see #5003)</span>
<a name="l2119"><span class="linenum">2119</span></a>          draggable.element.parents( &quot;:not(body,html)&quot; ).bind( &quot;scroll.droppable&quot;, function() {
<a name="l2120"><span class="linenum">2120</span></a>              if( !draggable.options.refreshPositions ) $.ui.ddmanager.prepareOffsets( draggable, event );
<a name="l2121"><span class="linenum">2121</span></a>          });
<a name="l2122"><span class="linenum">2122</span></a>      },
<a name="l2123"><span class="linenum">2123</span></a>      drag: function(draggable, event) {
<a name="l2124"><span class="linenum">2124</span></a>  
<a name="l2125"><span class="linenum">2125</span></a>  <span class="comment">        //If you have a highly dynamic page, you might try this option. It renders positions every time you move the mouse.</span>
<a name="l2126"><span class="linenum">2126</span></a>          if(draggable.options.refreshPositions) $.ui.ddmanager.prepareOffsets(draggable, event);
<a name="l2127"><span class="linenum">2127</span></a>  
<a name="l2128"><span class="linenum">2128</span></a>  <span class="comment">        //Run through all droppables and check their positions based on specific tolerance options</span>
<a name="l2129"><span class="linenum">2129</span></a>          $.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>($.ui.ddmanager.droppables[draggable.options.scope] || [], function() {
<a name="l2130"><span class="linenum">2130</span></a>  
<a name="l2131"><span class="linenum">2131</span></a>              if(this.options.disabled || this.greedyChild || !this.visible) return;
<a name="l2132"><span class="linenum">2132</span></a>              var intersects = $.ui.intersect(draggable, this, this.options.tolerance);
<a name="l2133"><span class="linenum">2133</span></a>  
<a name="l2134"><span class="linenum">2134</span></a>              var c = !intersects &amp;&amp; this.isover == 1 ? 'isout' : (intersects &amp;&amp; this.isover == 0 ? 'isover' : null);
<a name="l2135"><span class="linenum">2135</span></a>              if(!c) return;
<a name="l2136"><span class="linenum">2136</span></a>  
<a name="l2137"><span class="linenum">2137</span></a>              var parentInstance;
<a name="l2138"><span class="linenum">2138</span></a>              if (this.options.greedy) {
<a name="l2139"><span class="linenum">2139</span></a>                  var parent = this.element.parents(':data(droppable):eq(0)');
<a name="l2140"><span class="linenum">2140</span></a>                  if (parent.length) {
<a name="l2141"><span class="linenum">2141</span></a>                      parentInstance = $.data(parent[0], 'droppable');
<a name="l2142"><span class="linenum">2142</span></a>                      parentInstance.greedyChild = (c == 'isover' ? 1 : 0);
<a name="l2143"><span class="linenum">2143</span></a>                  }
<a name="l2144"><span class="linenum">2144</span></a>              }
<a name="l2145"><span class="linenum">2145</span></a>  
<a name="l2146"><span class="linenum">2146</span></a>  <span class="comment">            // we just moved into a greedy child</span>
<a name="l2147"><span class="linenum">2147</span></a>              if (parentInstance &amp;&amp; c == 'isover') {
<a name="l2148"><span class="linenum">2148</span></a>                  parentInstance['isover'] = 0;
<a name="l2149"><span class="linenum">2149</span></a>                  parentInstance['isout'] = 1;
<a name="l2150"><span class="linenum">2150</span></a>                  parentInstance._out.call(parentInstance, event);
<a name="l2151"><span class="linenum">2151</span></a>              }
<a name="l2152"><span class="linenum">2152</span></a>  
<a name="l2153"><span class="linenum">2153</span></a>              this[c] = 1; this[c == 'isout' ? 'isover' : 'isout'] = 0;
<a name="l2154"><span class="linenum">2154</span></a>              this[c == &quot;isover&quot; ? &quot;_over&quot; : &quot;_out&quot;].call(this, event);
<a name="l2155"><span class="linenum">2155</span></a>  
<a name="l2156"><span class="linenum">2156</span></a>  <span class="comment">            // we just moved out of a greedy child</span>
<a name="l2157"><span class="linenum">2157</span></a>              if (parentInstance &amp;&amp; c == 'isout') {
<a name="l2158"><span class="linenum">2158</span></a>                  parentInstance['isout'] = 0;
<a name="l2159"><span class="linenum">2159</span></a>                  parentInstance['isover'] = 1;
<a name="l2160"><span class="linenum">2160</span></a>                  parentInstance._over.call(parentInstance, event);
<a name="l2161"><span class="linenum">2161</span></a>              }
<a name="l2162"><span class="linenum">2162</span></a>          });
<a name="l2163"><span class="linenum">2163</span></a>  
<a name="l2164"><span class="linenum">2164</span></a>      },
<a name="l2165"><span class="linenum">2165</span></a>      dragStop: function( draggable, event ) {
<a name="l2166"><span class="linenum">2166</span></a>          draggable.element.parents( &quot;:not(body,html)&quot; ).unbind( &quot;scroll.droppable&quot; );
<a name="l2167"><span class="linenum">2167</span></a>  <span class="comment">        //Call prepareOffsets one final time since IE does not fire return scroll events when overflow was caused by drag (see #5003)</span>
<a name="l2168"><span class="linenum">2168</span></a>          if( !draggable.options.refreshPositions ) $.ui.ddmanager.prepareOffsets( draggable, event );
<a name="l2169"><span class="linenum">2169</span></a>      }
<a name="l2170"><span class="linenum">2170</span></a>  };
<a name="l2171"><span class="linenum">2171</span></a>  
<a name="l2172"><span class="linenum">2172</span></a>  })(jQuery);
<a name="l2173"><span class="linenum">2173</span></a>  <span class="comment">/*</span>
<a name="l2174"><span class="linenum">2174</span></a>  <span class="comment"> * jQuery UI Resizable 1.8.18</span>
<a name="l2175"><span class="linenum">2175</span></a>  <span class="comment"> *</span>
<a name="l2176"><span class="linenum">2176</span></a>  <span class="comment"> * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l2177"><span class="linenum">2177</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l2178"><span class="linenum">2178</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l2179"><span class="linenum">2179</span></a>  <span class="comment"> *</span>
<a name="l2180"><span class="linenum">2180</span></a>  <span class="comment"> * http://docs.jquery.com/UI/Resizables</span>
<a name="l2181"><span class="linenum">2181</span></a>  <span class="comment"> *</span>
<a name="l2182"><span class="linenum">2182</span></a>  <span class="comment"> * Depends:</span>
<a name="l2183"><span class="linenum">2183</span></a>  <span class="comment"> *    jquery.ui.core.js</span>
<a name="l2184"><span class="linenum">2184</span></a>  <span class="comment"> *    jquery.ui.mouse.js</span>
<a name="l2185"><span class="linenum">2185</span></a>  <span class="comment"> *    jquery.ui.widget.js</span>
<a name="l2186"><span class="linenum">2186</span></a>  <span class="comment"> */</span>
<a name="l2187"><span class="linenum">2187</span></a>  (function( $, undefined ) {
<a name="l2188"><span class="linenum">2188</span></a>  
<a name="l2189"><span class="linenum">2189</span></a>  $.<a class="function" onClick="logFunction('widget')" href="../../../../_functions/widget.html" onMouseOver="funcPopup(event,'widget')">widget</a>(&quot;ui.resizable&quot;, $.ui.mouse, {
<a name="l2190"><span class="linenum">2190</span></a>      widgetEventPrefix: &quot;resize&quot;,
<a name="l2191"><span class="linenum">2191</span></a>      options: {
<a name="l2192"><span class="linenum">2192</span></a>          alsoResize: false,
<a name="l2193"><span class="linenum">2193</span></a>          animate: false,
<a name="l2194"><span class="linenum">2194</span></a>          animateDuration: &quot;slow&quot;,
<a name="l2195"><span class="linenum">2195</span></a>          animateEasing: &quot;swing&quot;,
<a name="l2196"><span class="linenum">2196</span></a>          aspectRatio: false,
<a name="l2197"><span class="linenum">2197</span></a>          autoHide: false,
<a name="l2198"><span class="linenum">2198</span></a>          containment: false,
<a name="l2199"><span class="linenum">2199</span></a>          ghost: false,
<a name="l2200"><span class="linenum">2200</span></a>          grid: false,
<a name="l2201"><span class="linenum">2201</span></a>          handles: &quot;e,s,se&quot;,
<a name="l2202"><span class="linenum">2202</span></a>          helper: false,
<a name="l2203"><span class="linenum">2203</span></a>          maxHeight: null,
<a name="l2204"><span class="linenum">2204</span></a>          maxWidth: null,
<a name="l2205"><span class="linenum">2205</span></a>          minHeight: 10,
<a name="l2206"><span class="linenum">2206</span></a>          minWidth: 10,
<a name="l2207"><span class="linenum">2207</span></a>          zIndex: 1000
<a name="l2208"><span class="linenum">2208</span></a>      },
<a name="l2209"><span class="linenum">2209</span></a>      _create: function() {
<a name="l2210"><span class="linenum">2210</span></a>  
<a name="l2211"><span class="linenum">2211</span></a>          var self = this, o = this.options;
<a name="l2212"><span class="linenum">2212</span></a>          this.element.addClass(&quot;ui-resizable&quot;);
<a name="l2213"><span class="linenum">2213</span></a>  
<a name="l2214"><span class="linenum">2214</span></a>          $.extend(this, {
<a name="l2215"><span class="linenum">2215</span></a>              _aspectRatio: !!(o.aspectRatio),
<a name="l2216"><span class="linenum">2216</span></a>              aspectRatio: o.aspectRatio,
<a name="l2217"><span class="linenum">2217</span></a>              originalElement: this.element,
<a name="l2218"><span class="linenum">2218</span></a>              _proportionallyResizeElements: [],
<a name="l2219"><span class="linenum">2219</span></a>              _helper: o.helper || o.ghost || o.animate ? o.helper || 'ui-resizable-helper' : null
<a name="l2220"><span class="linenum">2220</span></a>          });
<a name="l2221"><span class="linenum">2221</span></a>  
<a name="l2222"><span class="linenum">2222</span></a>  <span class="comment">        //Wrap the element if it cannot hold child nodes</span>
<a name="l2223"><span class="linenum">2223</span></a>          if(this.element[0].nodeName.<a class="function" onClick="logFunction('match')" href="../../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(/canvas|textarea|input|select|button|img/i)) {
<a name="l2224"><span class="linenum">2224</span></a>  
<a name="l2225"><span class="linenum">2225</span></a>  <span class="comment">            //Create a wrapper element and set the wrapper to the new current internal element</span>
<a name="l2226"><span class="linenum">2226</span></a>              this.element.<a class="function" onClick="logFunction('wrap')" href="../../../../_functions/wrap.html" onMouseOver="funcPopup(event,'wrap')">wrap</a>(
<a name="l2227"><span class="linenum">2227</span></a>                  $('&lt;div class=&quot;ui-wrapper&quot; style=&quot;overflow: hidden;&quot;&gt;&lt;/div&gt;').css({
<a name="l2228"><span class="linenum">2228</span></a>                      position: this.element.css('position'),
<a name="l2229"><span class="linenum">2229</span></a>                      width: this.element.outerWidth(),
<a name="l2230"><span class="linenum">2230</span></a>                      height: this.element.outerHeight(),
<a name="l2231"><span class="linenum">2231</span></a>                      top: this.element.css('top'),
<a name="l2232"><span class="linenum">2232</span></a>                      left: this.element.css('left')
<a name="l2233"><span class="linenum">2233</span></a>                  })
<a name="l2234"><span class="linenum">2234</span></a>              );
<a name="l2235"><span class="linenum">2235</span></a>  
<a name="l2236"><span class="linenum">2236</span></a>  <span class="comment">            //Overwrite the original this.element</span>
<a name="l2237"><span class="linenum">2237</span></a>              this.element = this.element.parent().data(
<a name="l2238"><span class="linenum">2238</span></a>                  &quot;resizable&quot;, this.element.data('resizable')
<a name="l2239"><span class="linenum">2239</span></a>              );
<a name="l2240"><span class="linenum">2240</span></a>  
<a name="l2241"><span class="linenum">2241</span></a>              this.elementIsWrapper = true;
<a name="l2242"><span class="linenum">2242</span></a>  
<a name="l2243"><span class="linenum">2243</span></a>  <span class="comment">            //Move margins to the wrapper</span>
<a name="l2244"><span class="linenum">2244</span></a>              this.element.css({ marginLeft: this.originalElement.css(&quot;marginLeft&quot;), marginTop: this.originalElement.css(&quot;marginTop&quot;), marginRight: this.originalElement.css(&quot;marginRight&quot;), marginBottom: this.originalElement.css(&quot;marginBottom&quot;) });
<a name="l2245"><span class="linenum">2245</span></a>              this.originalElement.css({ marginLeft: 0, marginTop: 0, marginRight: 0, marginBottom: 0});
<a name="l2246"><span class="linenum">2246</span></a>  
<a name="l2247"><span class="linenum">2247</span></a>  <span class="comment">            //Prevent Safari textarea resize</span>
<a name="l2248"><span class="linenum">2248</span></a>              this.originalResizeStyle = this.originalElement.css('resize');
<a name="l2249"><span class="linenum">2249</span></a>              this.originalElement.css('resize', 'none');
<a name="l2250"><span class="linenum">2250</span></a>  
<a name="l2251"><span class="linenum">2251</span></a>  <span class="comment">            //Push the actual element to our proportionallyResize internal array</span>
<a name="l2252"><span class="linenum">2252</span></a>              this._proportionallyResizeElements.push(this.originalElement.css({ position: 'static', zoom: 1, display: 'block' }));
<a name="l2253"><span class="linenum">2253</span></a>  
<a name="l2254"><span class="linenum">2254</span></a>  <span class="comment">            // avoid IE jump (hard set the margin)</span>
<a name="l2255"><span class="linenum">2255</span></a>              this.originalElement.css({ margin: this.originalElement.css('margin') });
<a name="l2256"><span class="linenum">2256</span></a>  
<a name="l2257"><span class="linenum">2257</span></a>  <span class="comment">            // fix handlers offset</span>
<a name="l2258"><span class="linenum">2258</span></a>              this._proportionallyResize();
<a name="l2259"><span class="linenum">2259</span></a>  
<a name="l2260"><span class="linenum">2260</span></a>          }
<a name="l2261"><span class="linenum">2261</span></a>  
<a name="l2262"><span class="linenum">2262</span></a>          this.handles = o.handles || (!$('.ui-resizable-handle', this.element).length ? &quot;e,s,se&quot; : { n: '.ui-resizable-n', e: '.ui-resizable-e', s: '.ui-resizable-s', w: '.ui-resizable-w', se: '.ui-resizable-se', sw: '.ui-resizable-sw', ne: '.ui-resizable-ne', nw: '.ui-resizable-nw' });
<a name="l2263"><span class="linenum">2263</span></a>          if(this.handles.constructor == String) {
<a name="l2264"><span class="linenum">2264</span></a>  
<a name="l2265"><span class="linenum">2265</span></a>              if(this.handles == 'all') this.handles = 'n,e,s,w,se,sw,ne,nw';
<a name="l2266"><span class="linenum">2266</span></a>              var n = this.handles.<a class="phpfunction" onClick="logFunction('split')" href="../../../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>(&quot;,&quot;); this.handles = {};
<a name="l2267"><span class="linenum">2267</span></a>  
<a name="l2268"><span class="linenum">2268</span></a>              for(var i = 0; i &lt; n.length; i++) {
<a name="l2269"><span class="linenum">2269</span></a>  
<a name="l2270"><span class="linenum">2270</span></a>                  var handle = $.<a class="phpfunction" onClick="logFunction('trim')" href="../../../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(n[i]), hname = 'ui-resizable-'+handle;
<a name="l2271"><span class="linenum">2271</span></a>                  var axis = $('&lt;div class=&quot;ui-resizable-handle ' + hname + '&quot;&gt;&lt;/div&gt;');
<a name="l2272"><span class="linenum">2272</span></a>  
<a name="l2273"><span class="linenum">2273</span></a>  <span class="comment">                // increase zIndex of sw, se, ne, nw axis</span>
<a name="l2274"><span class="linenum">2274</span></a>  <span class="comment">                //TODO : this modifies original option</span>
<a name="l2275"><span class="linenum">2275</span></a>                  if(/sw|se|ne|nw/.test(handle)) axis.css({ zIndex: ++o.zIndex });
<a name="l2276"><span class="linenum">2276</span></a>  
<a name="l2277"><span class="linenum">2277</span></a>  <span class="comment">                //TODO : What's going on here?</span>
<a name="l2278"><span class="linenum">2278</span></a>                  if ('se' == handle) {
<a name="l2279"><span class="linenum">2279</span></a>                      axis.addClass('ui-icon ui-icon-gripsmall-diagonal-se');
<a name="l2280"><span class="linenum">2280</span></a>                  };
<a name="l2281"><span class="linenum">2281</span></a>  
<a name="l2282"><span class="linenum">2282</span></a>  <span class="comment">                //Insert into internal handles object and append to element</span>
<a name="l2283"><span class="linenum">2283</span></a>                  this.handles[handle] = '.ui-resizable-'+handle;
<a name="l2284"><span class="linenum">2284</span></a>                  this.element.append(axis);
<a name="l2285"><span class="linenum">2285</span></a>              }
<a name="l2286"><span class="linenum">2286</span></a>  
<a name="l2287"><span class="linenum">2287</span></a>          }
<a name="l2288"><span class="linenum">2288</span></a>  
<a name="l2289"><span class="linenum">2289</span></a>          this._renderAxis = function(target) {
<a name="l2290"><span class="linenum">2290</span></a>  
<a name="l2291"><span class="linenum">2291</span></a>              target = target || this.element;
<a name="l2292"><span class="linenum">2292</span></a>  
<a name="l2293"><span class="linenum">2293</span></a>              for(var i in this.handles) {
<a name="l2294"><span class="linenum">2294</span></a>  
<a name="l2295"><span class="linenum">2295</span></a>                  if(this.handles[i].constructor == String)
<a name="l2296"><span class="linenum">2296</span></a>                      this.handles[i] = $(this.handles[i], this.element).show();
<a name="l2297"><span class="linenum">2297</span></a>  
<a name="l2298"><span class="linenum">2298</span></a>  <span class="comment">                //Apply pad to wrapper element, needed to fix axis position (textarea, inputs, scrolls)</span>
<a name="l2299"><span class="linenum">2299</span></a>                  if (this.elementIsWrapper &amp;&amp; this.originalElement[0].nodeName.<a class="function" onClick="logFunction('match')" href="../../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(/textarea|input|select|button/i)) {
<a name="l2300"><span class="linenum">2300</span></a>  
<a name="l2301"><span class="linenum">2301</span></a>                      var axis = $(this.handles[i], this.element), padWrapper = 0;
<a name="l2302"><span class="linenum">2302</span></a>  
<a name="l2303"><span class="linenum">2303</span></a>  <span class="comment">                    //Checking the correct pad and border</span>
<a name="l2304"><span class="linenum">2304</span></a>                      padWrapper = /sw|ne|nw|se|n|s/.test(i) ? axis.outerHeight() : axis.outerWidth();
<a name="l2305"><span class="linenum">2305</span></a>  
<a name="l2306"><span class="linenum">2306</span></a>  <span class="comment">                    //The padding type i have to apply...</span>
<a name="l2307"><span class="linenum">2307</span></a>                      var padPos = [ 'padding',
<a name="l2308"><span class="linenum">2308</span></a>                          /ne|nw|n/.test(i) ? 'Top' :
<a name="l2309"><span class="linenum">2309</span></a>                          /se|sw|s/.test(i) ? 'Bottom' :
<a name="l2310"><span class="linenum">2310</span></a>                          /^e$/.test(i) ? 'Right' : 'Left' ].join(&quot;&quot;);
<a name="l2311"><span class="linenum">2311</span></a>  
<a name="l2312"><span class="linenum">2312</span></a>                      target.css(padPos, padWrapper);
<a name="l2313"><span class="linenum">2313</span></a>  
<a name="l2314"><span class="linenum">2314</span></a>                      this._proportionallyResize();
<a name="l2315"><span class="linenum">2315</span></a>  
<a name="l2316"><span class="linenum">2316</span></a>                  }
<a name="l2317"><span class="linenum">2317</span></a>  
<a name="l2318"><span class="linenum">2318</span></a>  <span class="comment">                //TODO: What's that good for? There's not anything to be executed left</span>
<a name="l2319"><span class="linenum">2319</span></a>                  if(!$(this.handles[i]).length)
<a name="l2320"><span class="linenum">2320</span></a>                      continue;
<a name="l2321"><span class="linenum">2321</span></a>  
<a name="l2322"><span class="linenum">2322</span></a>              }
<a name="l2323"><span class="linenum">2323</span></a>          };
<a name="l2324"><span class="linenum">2324</span></a>  
<a name="l2325"><span class="linenum">2325</span></a>  <span class="comment">        //TODO: make renderAxis a prototype function</span>
<a name="l2326"><span class="linenum">2326</span></a>          this._renderAxis(this.element);
<a name="l2327"><span class="linenum">2327</span></a>  
<a name="l2328"><span class="linenum">2328</span></a>          this._handles = $('.ui-resizable-handle', this.element)
<a name="l2329"><span class="linenum">2329</span></a>              .disableSelection();
<a name="l2330"><span class="linenum">2330</span></a>  
<a name="l2331"><span class="linenum">2331</span></a>  <span class="comment">        //Matching axis name</span>
<a name="l2332"><span class="linenum">2332</span></a>          this._handles.mouseover(function() {
<a name="l2333"><span class="linenum">2333</span></a>              if (!self.resizing) {
<a name="l2334"><span class="linenum">2334</span></a>                  if (this.className)
<a name="l2335"><span class="linenum">2335</span></a>                      var axis = this.className.<a class="function" onClick="logFunction('match')" href="../../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);
<a name="l2336"><span class="linenum">2336</span></a>  <span class="comment">                //Axis, default = se</span>
<a name="l2337"><span class="linenum">2337</span></a>                  self.axis = axis &amp;&amp; axis[1] ? axis[1] : 'se';
<a name="l2338"><span class="linenum">2338</span></a>              }
<a name="l2339"><span class="linenum">2339</span></a>          });
<a name="l2340"><span class="linenum">2340</span></a>  
<a name="l2341"><span class="linenum">2341</span></a>  <span class="comment">        //If we want to auto hide the elements</span>
<a name="l2342"><span class="linenum">2342</span></a>          if (o.autoHide) {
<a name="l2343"><span class="linenum">2343</span></a>              this._handles.hide();
<a name="l2344"><span class="linenum">2344</span></a>              $(this.element)
<a name="l2345"><span class="linenum">2345</span></a>                  .addClass(&quot;ui-resizable-autohide&quot;)
<a name="l2346"><span class="linenum">2346</span></a>                  .hover(function() {
<a name="l2347"><span class="linenum">2347</span></a>                      if (o.disabled) return;
<a name="l2348"><span class="linenum">2348</span></a>                      $(this).removeClass(&quot;ui-resizable-autohide&quot;);
<a name="l2349"><span class="linenum">2349</span></a>                      self._handles.show();
<a name="l2350"><span class="linenum">2350</span></a>                  },
<a name="l2351"><span class="linenum">2351</span></a>                  function(){
<a name="l2352"><span class="linenum">2352</span></a>                      if (o.disabled) return;
<a name="l2353"><span class="linenum">2353</span></a>                      if (!self.resizing) {
<a name="l2354"><span class="linenum">2354</span></a>                          $(this).addClass(&quot;ui-resizable-autohide&quot;);
<a name="l2355"><span class="linenum">2355</span></a>                          self._handles.hide();
<a name="l2356"><span class="linenum">2356</span></a>                      }
<a name="l2357"><span class="linenum">2357</span></a>                  });
<a name="l2358"><span class="linenum">2358</span></a>          }
<a name="l2359"><span class="linenum">2359</span></a>  
<a name="l2360"><span class="linenum">2360</span></a>  <span class="comment">        //Initialize the mouse interaction</span>
<a name="l2361"><span class="linenum">2361</span></a>          this._mouseInit();
<a name="l2362"><span class="linenum">2362</span></a>  
<a name="l2363"><span class="linenum">2363</span></a>      },
<a name="l2364"><span class="linenum">2364</span></a>  
<a name="l2365"><span class="linenum">2365</span></a>      destroy: function() {
<a name="l2366"><span class="linenum">2366</span></a>  
<a name="l2367"><span class="linenum">2367</span></a>          this._mouseDestroy();
<a name="l2368"><span class="linenum">2368</span></a>  
<a name="l2369"><span class="linenum">2369</span></a>          var _destroy = function(exp) {
<a name="l2370"><span class="linenum">2370</span></a>              $(exp).removeClass(&quot;ui-resizable ui-resizable-disabled ui-resizable-resizing&quot;)
<a name="l2371"><span class="linenum">2371</span></a>                  .removeData(&quot;resizable&quot;).unbind(&quot;.resizable&quot;).<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>('.ui-resizable-handle').<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>();
<a name="l2372"><span class="linenum">2372</span></a>          };
<a name="l2373"><span class="linenum">2373</span></a>  
<a name="l2374"><span class="linenum">2374</span></a>  <span class="comment">        //TODO: Unwrap at same DOM position</span>
<a name="l2375"><span class="linenum">2375</span></a>          if (this.elementIsWrapper) {
<a name="l2376"><span class="linenum">2376</span></a>              _destroy(this.element);
<a name="l2377"><span class="linenum">2377</span></a>              var wrapper = this.element;
<a name="l2378"><span class="linenum">2378</span></a>              wrapper.after(
<a name="l2379"><span class="linenum">2379</span></a>                  this.originalElement.css({
<a name="l2380"><span class="linenum">2380</span></a>                      position: wrapper.css('position'),
<a name="l2381"><span class="linenum">2381</span></a>                      width: wrapper.outerWidth(),
<a name="l2382"><span class="linenum">2382</span></a>                      height: wrapper.outerHeight(),
<a name="l2383"><span class="linenum">2383</span></a>                      top: wrapper.css('top'),
<a name="l2384"><span class="linenum">2384</span></a>                      left: wrapper.css('left')
<a name="l2385"><span class="linenum">2385</span></a>                  })
<a name="l2386"><span class="linenum">2386</span></a>              ).<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>();
<a name="l2387"><span class="linenum">2387</span></a>          }
<a name="l2388"><span class="linenum">2388</span></a>  
<a name="l2389"><span class="linenum">2389</span></a>          this.originalElement.css('resize', this.originalResizeStyle);
<a name="l2390"><span class="linenum">2390</span></a>          _destroy(this.originalElement);
<a name="l2391"><span class="linenum">2391</span></a>  
<a name="l2392"><span class="linenum">2392</span></a>          return this;
<a name="l2393"><span class="linenum">2393</span></a>      },
<a name="l2394"><span class="linenum">2394</span></a>  
<a name="l2395"><span class="linenum">2395</span></a>      _mouseCapture: function(event) {
<a name="l2396"><span class="linenum">2396</span></a>          var handle = false;
<a name="l2397"><span class="linenum">2397</span></a>          for (var i in this.handles) {
<a name="l2398"><span class="linenum">2398</span></a>              if ($(this.handles[i])[0] == event.target) {
<a name="l2399"><span class="linenum">2399</span></a>                  handle = true;
<a name="l2400"><span class="linenum">2400</span></a>              }
<a name="l2401"><span class="linenum">2401</span></a>          }
<a name="l2402"><span class="linenum">2402</span></a>  
<a name="l2403"><span class="linenum">2403</span></a>          return !this.options.disabled &amp;&amp; handle;
<a name="l2404"><span class="linenum">2404</span></a>      },
<a name="l2405"><span class="linenum">2405</span></a>  
<a name="l2406"><span class="linenum">2406</span></a>      _mouseStart: function(event) {
<a name="l2407"><span class="linenum">2407</span></a>  
<a name="l2408"><span class="linenum">2408</span></a>          var o = this.options, iniPos = this.element.position(), el = this.element;
<a name="l2409"><span class="linenum">2409</span></a>  
<a name="l2410"><span class="linenum">2410</span></a>          this.resizing = true;
<a name="l2411"><span class="linenum">2411</span></a>          this.documentScroll = { top: $(document).scrollTop(), left: $(document).scrollLeft() };
<a name="l2412"><span class="linenum">2412</span></a>  
<a name="l2413"><span class="linenum">2413</span></a>  <span class="comment">        // bugfix for http://dev.jquery.com/ticket/1749</span>
<a name="l2414"><span class="linenum">2414</span></a>          if (el.is('.ui-draggable') || (/absolute/).test(el.css('position'))) {
<a name="l2415"><span class="linenum">2415</span></a>              el.css({ position: 'absolute', top: iniPos.top, left: iniPos.left });
<a name="l2416"><span class="linenum">2416</span></a>          }
<a name="l2417"><span class="linenum">2417</span></a>  
<a name="l2418"><span class="linenum">2418</span></a>          this._renderProxy();
<a name="l2419"><span class="linenum">2419</span></a>  
<a name="l2420"><span class="linenum">2420</span></a>          var curleft = num(this.helper.css('left')), curtop = num(this.helper.css('top'));
<a name="l2421"><span class="linenum">2421</span></a>  
<a name="l2422"><span class="linenum">2422</span></a>          if (o.containment) {
<a name="l2423"><span class="linenum">2423</span></a>              curleft += $(o.containment).scrollLeft() || 0;
<a name="l2424"><span class="linenum">2424</span></a>              curtop += $(o.containment).scrollTop() || 0;
<a name="l2425"><span class="linenum">2425</span></a>          }
<a name="l2426"><span class="linenum">2426</span></a>  
<a name="l2427"><span class="linenum">2427</span></a>  <span class="comment">        //Store needed variables</span>
<a name="l2428"><span class="linenum">2428</span></a>          this.offset = this.helper.offset();
<a name="l2429"><span class="linenum">2429</span></a>          this.position = { left: curleft, top: curtop };
<a name="l2430"><span class="linenum">2430</span></a>          this.size = this._helper ? { width: el.outerWidth(), height: el.outerHeight() } : { width: el.width(), height: el.height() };
<a name="l2431"><span class="linenum">2431</span></a>          this.originalSize = this._helper ? { width: el.outerWidth(), height: el.outerHeight() } : { width: el.width(), height: el.height() };
<a name="l2432"><span class="linenum">2432</span></a>          this.originalPosition = { left: curleft, top: curtop };
<a name="l2433"><span class="linenum">2433</span></a>          this.sizeDiff = { width: el.outerWidth() - el.width(), height: el.outerHeight() - el.height() };
<a name="l2434"><span class="linenum">2434</span></a>          this.originalMousePosition = { left: event.pageX, top: event.pageY };
<a name="l2435"><span class="linenum">2435</span></a>  
<a name="l2436"><span class="linenum">2436</span></a>  <span class="comment">        //Aspect Ratio</span>
<a name="l2437"><span class="linenum">2437</span></a>          this.aspectRatio = (typeof o.aspectRatio == 'number') ? o.aspectRatio : ((this.originalSize.width / this.originalSize.height) || 1);
<a name="l2438"><span class="linenum">2438</span></a>  
<a name="l2439"><span class="linenum">2439</span></a>          var cursor = $('.ui-resizable-' + this.axis).css('cursor');
<a name="l2440"><span class="linenum">2440</span></a>          $('body').css('cursor', cursor == 'auto' ? this.axis + '-resize' : cursor);
<a name="l2441"><span class="linenum">2441</span></a>  
<a name="l2442"><span class="linenum">2442</span></a>          el.addClass(&quot;ui-resizable-resizing&quot;);
<a name="l2443"><span class="linenum">2443</span></a>          this._propagate(&quot;start&quot;, event);
<a name="l2444"><span class="linenum">2444</span></a>          return true;
<a name="l2445"><span class="linenum">2445</span></a>      },
<a name="l2446"><span class="linenum">2446</span></a>  
<a name="l2447"><span class="linenum">2447</span></a>      _mouseDrag: function(event) {
<a name="l2448"><span class="linenum">2448</span></a>  
<a name="l2449"><span class="linenum">2449</span></a>  <span class="comment">        //Increase performance, avoid regex</span>
<a name="l2450"><span class="linenum">2450</span></a>          var el = this.helper, o = this.options, props = {},
<a name="l2451"><span class="linenum">2451</span></a>              self = this, smp = this.originalMousePosition, a = this.axis;
<a name="l2452"><span class="linenum">2452</span></a>  
<a name="l2453"><span class="linenum">2453</span></a>          var dx = (event.pageX-smp.left)||0, dy = (event.pageY-smp.top)||0;
<a name="l2454"><span class="linenum">2454</span></a>          var trigger = this._change[a];
<a name="l2455"><span class="linenum">2455</span></a>          if (!trigger) return false;
<a name="l2456"><span class="linenum">2456</span></a>  
<a name="l2457"><span class="linenum">2457</span></a>  <span class="comment">        // Calculate the attrs that will be change</span>
<a name="l2458"><span class="linenum">2458</span></a>          var data = trigger.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, [event, dx, dy]), ie6 = $.browser.msie &amp;&amp; $.browser.version &lt; 7, csdif = this.sizeDiff;
<a name="l2459"><span class="linenum">2459</span></a>  
<a name="l2460"><span class="linenum">2460</span></a>  <span class="comment">        // Put this in the mouseDrag handler since the user can start pressing shift while resizing</span>
<a name="l2461"><span class="linenum">2461</span></a>          this._updateVirtualBoundaries(event.shiftKey);
<a name="l2462"><span class="linenum">2462</span></a>          if (this._aspectRatio || event.shiftKey)
<a name="l2463"><span class="linenum">2463</span></a>              data = this._updateRatio(data, event);
<a name="l2464"><span class="linenum">2464</span></a>  
<a name="l2465"><span class="linenum">2465</span></a>          data = this._respectSize(data, event);
<a name="l2466"><span class="linenum">2466</span></a>  
<a name="l2467"><span class="linenum">2467</span></a>  <span class="comment">        // plugins callbacks need to be called first</span>
<a name="l2468"><span class="linenum">2468</span></a>          this._propagate(&quot;resize&quot;, event);
<a name="l2469"><span class="linenum">2469</span></a>  
<a name="l2470"><span class="linenum">2470</span></a>          el.css({
<a name="l2471"><span class="linenum">2471</span></a>              top: this.position.top + &quot;px&quot;, left: this.position.left + &quot;px&quot;,
<a name="l2472"><span class="linenum">2472</span></a>              width: this.size.width + &quot;px&quot;, height: this.size.height + &quot;px&quot;
<a name="l2473"><span class="linenum">2473</span></a>          });
<a name="l2474"><span class="linenum">2474</span></a>  
<a name="l2475"><span class="linenum">2475</span></a>          if (!this._helper &amp;&amp; this._proportionallyResizeElements.length)
<a name="l2476"><span class="linenum">2476</span></a>              this._proportionallyResize();
<a name="l2477"><span class="linenum">2477</span></a>  
<a name="l2478"><span class="linenum">2478</span></a>          this._updateCache(data);
<a name="l2479"><span class="linenum">2479</span></a>  
<a name="l2480"><span class="linenum">2480</span></a>  <span class="comment">        // calling the user callback at the end</span>
<a name="l2481"><span class="linenum">2481</span></a>          this._trigger('resize', event, this.ui());
<a name="l2482"><span class="linenum">2482</span></a>  
<a name="l2483"><span class="linenum">2483</span></a>          return false;
<a name="l2484"><span class="linenum">2484</span></a>      },
<a name="l2485"><span class="linenum">2485</span></a>  
<a name="l2486"><span class="linenum">2486</span></a>      _mouseStop: function(event) {
<a name="l2487"><span class="linenum">2487</span></a>  
<a name="l2488"><span class="linenum">2488</span></a>          this.resizing = false;
<a name="l2489"><span class="linenum">2489</span></a>          var o = this.options, self = this;
<a name="l2490"><span class="linenum">2490</span></a>  
<a name="l2491"><span class="linenum">2491</span></a>          if(this._helper) {
<a name="l2492"><span class="linenum">2492</span></a>              var pr = this._proportionallyResizeElements, ista = pr.length &amp;&amp; (/textarea/i).test(pr[0].nodeName),
<a name="l2493"><span class="linenum">2493</span></a>                  soffseth = ista &amp;&amp; $.ui.hasScroll(pr[0], 'left') <span class="comment">/* TODO - jump height */</span> ? 0 : self.sizeDiff.height,
<a name="l2494"><span class="linenum">2494</span></a>                  soffsetw = ista ? 0 : self.sizeDiff.width;
<a name="l2495"><span class="linenum">2495</span></a>  
<a name="l2496"><span class="linenum">2496</span></a>              var s = { width: (self.helper.width()  - soffsetw), height: (self.helper.height() - soffseth) },
<a name="l2497"><span class="linenum">2497</span></a>                  left = (parseInt(self.element.css('left'), 10) + (self.position.left - self.originalPosition.left)) || null,
<a name="l2498"><span class="linenum">2498</span></a>                  top = (parseInt(self.element.css('top'), 10) + (self.position.top - self.originalPosition.top)) || null;
<a name="l2499"><span class="linenum">2499</span></a>  
<a name="l2500"><span class="linenum">2500</span></a>              if (!o.animate)
<a name="l2501"><span class="linenum">2501</span></a>                  this.element.css($.extend(s, { top: top, left: left }));
<a name="l2502"><span class="linenum">2502</span></a>  
<a name="l2503"><span class="linenum">2503</span></a>              self.helper.height(self.size.height);
<a name="l2504"><span class="linenum">2504</span></a>              self.helper.width(self.size.width);
<a name="l2505"><span class="linenum">2505</span></a>  
<a name="l2506"><span class="linenum">2506</span></a>              if (this._helper &amp;&amp; !o.animate) this._proportionallyResize();
<a name="l2507"><span class="linenum">2507</span></a>          }
<a name="l2508"><span class="linenum">2508</span></a>  
<a name="l2509"><span class="linenum">2509</span></a>          $('body').css('cursor', 'auto');
<a name="l2510"><span class="linenum">2510</span></a>  
<a name="l2511"><span class="linenum">2511</span></a>          this.element.removeClass(&quot;ui-resizable-resizing&quot;);
<a name="l2512"><span class="linenum">2512</span></a>  
<a name="l2513"><span class="linenum">2513</span></a>          this._propagate(&quot;stop&quot;, event);
<a name="l2514"><span class="linenum">2514</span></a>  
<a name="l2515"><span class="linenum">2515</span></a>          if (this._helper) this.helper.<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>();
<a name="l2516"><span class="linenum">2516</span></a>          return false;
<a name="l2517"><span class="linenum">2517</span></a>  
<a name="l2518"><span class="linenum">2518</span></a>      },
<a name="l2519"><span class="linenum">2519</span></a>  
<a name="l2520"><span class="linenum">2520</span></a>      _updateVirtualBoundaries: function(forceAspectRatio) {
<a name="l2521"><span class="linenum">2521</span></a>          var o = this.options, pMinWidth, pMaxWidth, pMinHeight, pMaxHeight, b;
<a name="l2522"><span class="linenum">2522</span></a>  
<a name="l2523"><span class="linenum">2523</span></a>          b = {
<a name="l2524"><span class="linenum">2524</span></a>              minWidth: isNumber(o.minWidth) ? o.minWidth : 0,
<a name="l2525"><span class="linenum">2525</span></a>              maxWidth: isNumber(o.maxWidth) ? o.maxWidth : Infinity,
<a name="l2526"><span class="linenum">2526</span></a>              minHeight: isNumber(o.minHeight) ? o.minHeight : 0,
<a name="l2527"><span class="linenum">2527</span></a>              maxHeight: isNumber(o.maxHeight) ? o.maxHeight : Infinity
<a name="l2528"><span class="linenum">2528</span></a>          };
<a name="l2529"><span class="linenum">2529</span></a>  
<a name="l2530"><span class="linenum">2530</span></a>          if(this._aspectRatio || forceAspectRatio) {
<a name="l2531"><span class="linenum">2531</span></a>  <span class="comment">            // We want to create an enclosing box whose aspect ration is the requested one</span>
<a name="l2532"><span class="linenum">2532</span></a>  <span class="comment">            // First, compute the &quot;projected&quot; size for each dimension based on the aspect ratio and other dimension</span>
<a name="l2533"><span class="linenum">2533</span></a>              pMinWidth = b.minHeight * this.aspectRatio;
<a name="l2534"><span class="linenum">2534</span></a>              pMinHeight = b.minWidth / this.aspectRatio;
<a name="l2535"><span class="linenum">2535</span></a>              pMaxWidth = b.maxHeight * this.aspectRatio;
<a name="l2536"><span class="linenum">2536</span></a>              pMaxHeight = b.maxWidth / this.aspectRatio;
<a name="l2537"><span class="linenum">2537</span></a>  
<a name="l2538"><span class="linenum">2538</span></a>              if(pMinWidth &gt; b.minWidth) b.minWidth = pMinWidth;
<a name="l2539"><span class="linenum">2539</span></a>              if(pMinHeight &gt; b.minHeight) b.minHeight = pMinHeight;
<a name="l2540"><span class="linenum">2540</span></a>              if(pMaxWidth &lt; b.maxWidth) b.maxWidth = pMaxWidth;
<a name="l2541"><span class="linenum">2541</span></a>              if(pMaxHeight &lt; b.maxHeight) b.maxHeight = pMaxHeight;
<a name="l2542"><span class="linenum">2542</span></a>          }
<a name="l2543"><span class="linenum">2543</span></a>          this._vBoundaries = b;
<a name="l2544"><span class="linenum">2544</span></a>      },
<a name="l2545"><span class="linenum">2545</span></a>  
<a name="l2546"><span class="linenum">2546</span></a>      _updateCache: function(data) {
<a name="l2547"><span class="linenum">2547</span></a>          var o = this.options;
<a name="l2548"><span class="linenum">2548</span></a>          this.offset = this.helper.offset();
<a name="l2549"><span class="linenum">2549</span></a>          if (isNumber(data.left)) this.position.left = data.left;
<a name="l2550"><span class="linenum">2550</span></a>          if (isNumber(data.top)) this.position.top = data.top;
<a name="l2551"><span class="linenum">2551</span></a>          if (isNumber(data.height)) this.size.height = data.height;
<a name="l2552"><span class="linenum">2552</span></a>          if (isNumber(data.width)) this.size.width = data.width;
<a name="l2553"><span class="linenum">2553</span></a>      },
<a name="l2554"><span class="linenum">2554</span></a>  
<a name="l2555"><span class="linenum">2555</span></a>      _updateRatio: function(data, event) {
<a name="l2556"><span class="linenum">2556</span></a>  
<a name="l2557"><span class="linenum">2557</span></a>          var o = this.options, cpos = this.position, csize = this.size, a = this.axis;
<a name="l2558"><span class="linenum">2558</span></a>  
<a name="l2559"><span class="linenum">2559</span></a>          if (isNumber(data.height)) data.width = (data.height * this.aspectRatio);
<a name="l2560"><span class="linenum">2560</span></a>          else if (isNumber(data.width)) data.height = (data.width / this.aspectRatio);
<a name="l2561"><span class="linenum">2561</span></a>  
<a name="l2562"><span class="linenum">2562</span></a>          if (a == 'sw') {
<a name="l2563"><span class="linenum">2563</span></a>              data.left = cpos.left + (csize.width - data.width);
<a name="l2564"><span class="linenum">2564</span></a>              data.top = null;
<a name="l2565"><span class="linenum">2565</span></a>          }
<a name="l2566"><span class="linenum">2566</span></a>          if (a == 'nw') {
<a name="l2567"><span class="linenum">2567</span></a>              data.top = cpos.top + (csize.height - data.height);
<a name="l2568"><span class="linenum">2568</span></a>              data.left = cpos.left + (csize.width - data.width);
<a name="l2569"><span class="linenum">2569</span></a>          }
<a name="l2570"><span class="linenum">2570</span></a>  
<a name="l2571"><span class="linenum">2571</span></a>          return data;
<a name="l2572"><span class="linenum">2572</span></a>      },
<a name="l2573"><span class="linenum">2573</span></a>  
<a name="l2574"><span class="linenum">2574</span></a>      _respectSize: function(data, event) {
<a name="l2575"><span class="linenum">2575</span></a>  
<a name="l2576"><span class="linenum">2576</span></a>          var el = this.helper, o = this._vBoundaries, pRatio = this._aspectRatio || event.shiftKey, a = this.axis,
<a name="l2577"><span class="linenum">2577</span></a>                  ismaxw = isNumber(data.width) &amp;&amp; o.maxWidth &amp;&amp; (o.maxWidth &lt; data.width), ismaxh = isNumber(data.height) &amp;&amp; o.maxHeight &amp;&amp; (o.maxHeight &lt; data.height),
<a name="l2578"><span class="linenum">2578</span></a>                      isminw = isNumber(data.width) &amp;&amp; o.minWidth &amp;&amp; (o.minWidth &gt; data.width), isminh = isNumber(data.height) &amp;&amp; o.minHeight &amp;&amp; (o.minHeight &gt; data.height);
<a name="l2579"><span class="linenum">2579</span></a>  
<a name="l2580"><span class="linenum">2580</span></a>          if (isminw) data.width = o.minWidth;
<a name="l2581"><span class="linenum">2581</span></a>          if (isminh) data.height = o.minHeight;
<a name="l2582"><span class="linenum">2582</span></a>          if (ismaxw) data.width = o.maxWidth;
<a name="l2583"><span class="linenum">2583</span></a>          if (ismaxh) data.height = o.maxHeight;
<a name="l2584"><span class="linenum">2584</span></a>  
<a name="l2585"><span class="linenum">2585</span></a>          var dw = this.originalPosition.left + this.originalSize.width, dh = this.position.top + this.size.height;
<a name="l2586"><span class="linenum">2586</span></a>          var cw = /sw|nw|w/.test(a), ch = /nw|ne|n/.test(a);
<a name="l2587"><span class="linenum">2587</span></a>  
<a name="l2588"><span class="linenum">2588</span></a>          if (isminw &amp;&amp; cw) data.left = dw - o.minWidth;
<a name="l2589"><span class="linenum">2589</span></a>          if (ismaxw &amp;&amp; cw) data.left = dw - o.maxWidth;
<a name="l2590"><span class="linenum">2590</span></a>          if (isminh &amp;&amp; ch)    data.top = dh - o.minHeight;
<a name="l2591"><span class="linenum">2591</span></a>          if (ismaxh &amp;&amp; ch)    data.top = dh - o.maxHeight;
<a name="l2592"><span class="linenum">2592</span></a>  
<a name="l2593"><span class="linenum">2593</span></a>  <span class="comment">        // fixing jump error on top/left - bug #2330</span>
<a name="l2594"><span class="linenum">2594</span></a>          var isNotwh = !data.width &amp;&amp; !data.height;
<a name="l2595"><span class="linenum">2595</span></a>          if (isNotwh &amp;&amp; !data.left &amp;&amp; data.top) data.top = null;
<a name="l2596"><span class="linenum">2596</span></a>          else if (isNotwh &amp;&amp; !data.top &amp;&amp; data.left) data.left = null;
<a name="l2597"><span class="linenum">2597</span></a>  
<a name="l2598"><span class="linenum">2598</span></a>          return data;
<a name="l2599"><span class="linenum">2599</span></a>      },
<a name="l2600"><span class="linenum">2600</span></a>  
<a name="l2601"><span class="linenum">2601</span></a>      _proportionallyResize: function() {
<a name="l2602"><span class="linenum">2602</span></a>  
<a name="l2603"><span class="linenum">2603</span></a>          var o = this.options;
<a name="l2604"><span class="linenum">2604</span></a>          if (!this._proportionallyResizeElements.length) return;
<a name="l2605"><span class="linenum">2605</span></a>          var element = this.helper || this.element;
<a name="l2606"><span class="linenum">2606</span></a>  
<a name="l2607"><span class="linenum">2607</span></a>          for (var i=0; i &lt; this._proportionallyResizeElements.length; i++) {
<a name="l2608"><span class="linenum">2608</span></a>  
<a name="l2609"><span class="linenum">2609</span></a>              var prel = this._proportionallyResizeElements[i];
<a name="l2610"><span class="linenum">2610</span></a>  
<a name="l2611"><span class="linenum">2611</span></a>              if (!this.borderDif) {
<a name="l2612"><span class="linenum">2612</span></a>                  var b = [prel.css('borderTopWidth'), prel.css('borderRightWidth'), prel.css('borderBottomWidth'), prel.css('borderLeftWidth')],
<a name="l2613"><span class="linenum">2613</span></a>                      p = [prel.css('paddingTop'), prel.css('paddingRight'), prel.css('paddingBottom'), prel.css('paddingLeft')];
<a name="l2614"><span class="linenum">2614</span></a>  
<a name="l2615"><span class="linenum">2615</span></a>                  this.borderDif = $.map(b, function(v, i) {
<a name="l2616"><span class="linenum">2616</span></a>                      var border = parseInt(v,10)||0, padding = parseInt(p[i],10)||0;
<a name="l2617"><span class="linenum">2617</span></a>                      return border + padding;
<a name="l2618"><span class="linenum">2618</span></a>                  });
<a name="l2619"><span class="linenum">2619</span></a>              }
<a name="l2620"><span class="linenum">2620</span></a>  
<a name="l2621"><span class="linenum">2621</span></a>              if ($.browser.msie &amp;&amp; !(!($(element).is(':hidden') || $(element).parents(':hidden').length)))
<a name="l2622"><span class="linenum">2622</span></a>                  continue;
<a name="l2623"><span class="linenum">2623</span></a>  
<a name="l2624"><span class="linenum">2624</span></a>              prel.css({
<a name="l2625"><span class="linenum">2625</span></a>                  height: (element.height() - this.borderDif[0] - this.borderDif[2]) || 0,
<a name="l2626"><span class="linenum">2626</span></a>                  width: (element.width() - this.borderDif[1] - this.borderDif[3]) || 0
<a name="l2627"><span class="linenum">2627</span></a>              });
<a name="l2628"><span class="linenum">2628</span></a>  
<a name="l2629"><span class="linenum">2629</span></a>          };
<a name="l2630"><span class="linenum">2630</span></a>  
<a name="l2631"><span class="linenum">2631</span></a>      },
<a name="l2632"><span class="linenum">2632</span></a>  
<a name="l2633"><span class="linenum">2633</span></a>      _renderProxy: function() {
<a name="l2634"><span class="linenum">2634</span></a>  
<a name="l2635"><span class="linenum">2635</span></a>          var el = this.element, o = this.options;
<a name="l2636"><span class="linenum">2636</span></a>          this.elementOffset = el.offset();
<a name="l2637"><span class="linenum">2637</span></a>  
<a name="l2638"><span class="linenum">2638</span></a>          if(this._helper) {
<a name="l2639"><span class="linenum">2639</span></a>  
<a name="l2640"><span class="linenum">2640</span></a>              this.helper = this.helper || $('&lt;div style=&quot;overflow:hidden;&quot;&gt;&lt;/div&gt;');
<a name="l2641"><span class="linenum">2641</span></a>  
<a name="l2642"><span class="linenum">2642</span></a>  <span class="comment">            // fix ie6 offset TODO: This seems broken</span>
<a name="l2643"><span class="linenum">2643</span></a>              var ie6 = $.browser.msie &amp;&amp; $.browser.version &lt; 7, ie6offset = (ie6 ? 1 : 0),
<a name="l2644"><span class="linenum">2644</span></a>              pxyoffset = ( ie6 ? 2 : -1 );
<a name="l2645"><span class="linenum">2645</span></a>  
<a name="l2646"><span class="linenum">2646</span></a>              this.helper.addClass(this._helper).css({
<a name="l2647"><span class="linenum">2647</span></a>                  width: this.element.outerWidth() + pxyoffset,
<a name="l2648"><span class="linenum">2648</span></a>                  height: this.element.outerHeight() + pxyoffset,
<a name="l2649"><span class="linenum">2649</span></a>                  position: 'absolute',
<a name="l2650"><span class="linenum">2650</span></a>                  left: this.elementOffset.left - ie6offset +'px',
<a name="l2651"><span class="linenum">2651</span></a>                  top: this.elementOffset.top - ie6offset +'px',
<a name="l2652"><span class="linenum">2652</span></a>                  zIndex: ++o.zIndex //TODO: Don't modify option
<a name="l2653"><span class="linenum">2653</span></a>              });
<a name="l2654"><span class="linenum">2654</span></a>  
<a name="l2655"><span class="linenum">2655</span></a>              this.helper
<a name="l2656"><span class="linenum">2656</span></a>                  .appendTo(&quot;body&quot;)
<a name="l2657"><span class="linenum">2657</span></a>                  .disableSelection();
<a name="l2658"><span class="linenum">2658</span></a>  
<a name="l2659"><span class="linenum">2659</span></a>          } else {
<a name="l2660"><span class="linenum">2660</span></a>              this.helper = this.element;
<a name="l2661"><span class="linenum">2661</span></a>          }
<a name="l2662"><span class="linenum">2662</span></a>  
<a name="l2663"><span class="linenum">2663</span></a>      },
<a name="l2664"><span class="linenum">2664</span></a>  
<a name="l2665"><span class="linenum">2665</span></a>      _change: {
<a name="l2666"><span class="linenum">2666</span></a>          e: function(event, dx, dy) {
<a name="l2667"><span class="linenum">2667</span></a>              return { width: this.originalSize.width + dx };
<a name="l2668"><span class="linenum">2668</span></a>          },
<a name="l2669"><span class="linenum">2669</span></a>          w: function(event, dx, dy) {
<a name="l2670"><span class="linenum">2670</span></a>              var o = this.options, cs = this.originalSize, sp = this.originalPosition;
<a name="l2671"><span class="linenum">2671</span></a>              return { left: sp.left + dx, width: cs.width - dx };
<a name="l2672"><span class="linenum">2672</span></a>          },
<a name="l2673"><span class="linenum">2673</span></a>          n: function(event, dx, dy) {
<a name="l2674"><span class="linenum">2674</span></a>              var o = this.options, cs = this.originalSize, sp = this.originalPosition;
<a name="l2675"><span class="linenum">2675</span></a>              return { top: sp.top + dy, height: cs.height - dy };
<a name="l2676"><span class="linenum">2676</span></a>          },
<a name="l2677"><span class="linenum">2677</span></a>          s: function(event, dx, dy) {
<a name="l2678"><span class="linenum">2678</span></a>              return { height: this.originalSize.height + dy };
<a name="l2679"><span class="linenum">2679</span></a>          },
<a name="l2680"><span class="linenum">2680</span></a>          se: function(event, dx, dy) {
<a name="l2681"><span class="linenum">2681</span></a>              return $.extend(this._change.s.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments), this._change.e.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, [event, dx, dy]));
<a name="l2682"><span class="linenum">2682</span></a>          },
<a name="l2683"><span class="linenum">2683</span></a>          sw: function(event, dx, dy) {
<a name="l2684"><span class="linenum">2684</span></a>              return $.extend(this._change.s.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments), this._change.w.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, [event, dx, dy]));
<a name="l2685"><span class="linenum">2685</span></a>          },
<a name="l2686"><span class="linenum">2686</span></a>          ne: function(event, dx, dy) {
<a name="l2687"><span class="linenum">2687</span></a>              return $.extend(this._change.n.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments), this._change.e.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, [event, dx, dy]));
<a name="l2688"><span class="linenum">2688</span></a>          },
<a name="l2689"><span class="linenum">2689</span></a>          nw: function(event, dx, dy) {
<a name="l2690"><span class="linenum">2690</span></a>              return $.extend(this._change.n.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments), this._change.w.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, [event, dx, dy]));
<a name="l2691"><span class="linenum">2691</span></a>          }
<a name="l2692"><span class="linenum">2692</span></a>      },
<a name="l2693"><span class="linenum">2693</span></a>  
<a name="l2694"><span class="linenum">2694</span></a>      _propagate: function(n, event) {
<a name="l2695"><span class="linenum">2695</span></a>          $.ui.plugin.call(this, n, [event, this.ui()]);
<a name="l2696"><span class="linenum">2696</span></a>          (n != &quot;resize&quot; &amp;&amp; this._trigger(n, event, this.ui()));
<a name="l2697"><span class="linenum">2697</span></a>      },
<a name="l2698"><span class="linenum">2698</span></a>  
<a name="l2699"><span class="linenum">2699</span></a>      plugins: {},
<a name="l2700"><span class="linenum">2700</span></a>  
<a name="l2701"><span class="linenum">2701</span></a>      ui: function() {
<a name="l2702"><span class="linenum">2702</span></a>          return {
<a name="l2703"><span class="linenum">2703</span></a>              originalElement: this.originalElement,
<a name="l2704"><span class="linenum">2704</span></a>              element: this.element,
<a name="l2705"><span class="linenum">2705</span></a>              helper: this.helper,
<a name="l2706"><span class="linenum">2706</span></a>              position: this.position,
<a name="l2707"><span class="linenum">2707</span></a>              size: this.size,
<a name="l2708"><span class="linenum">2708</span></a>              originalSize: this.originalSize,
<a name="l2709"><span class="linenum">2709</span></a>              originalPosition: this.originalPosition
<a name="l2710"><span class="linenum">2710</span></a>          };
<a name="l2711"><span class="linenum">2711</span></a>      }
<a name="l2712"><span class="linenum">2712</span></a>  
<a name="l2713"><span class="linenum">2713</span></a>  });
<a name="l2714"><span class="linenum">2714</span></a>  
<a name="l2715"><span class="linenum">2715</span></a>  $.extend($.ui.resizable, {
<a name="l2716"><span class="linenum">2716</span></a>      version: &quot;1.8.18&quot;
<a name="l2717"><span class="linenum">2717</span></a>  });
<a name="l2718"><span class="linenum">2718</span></a>  
<a name="l2719"><span class="linenum">2719</span></a>  <span class="comment">/*</span>
<a name="l2720"><span class="linenum">2720</span></a>  <span class="comment"> * Resizable Extensions</span>
<a name="l2721"><span class="linenum">2721</span></a>  <span class="comment"> */</span>
<a name="l2722"><span class="linenum">2722</span></a>  
<a name="l2723"><span class="linenum">2723</span></a>  $.ui.plugin.<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(&quot;resizable&quot;, &quot;alsoResize&quot;, {
<a name="l2724"><span class="linenum">2724</span></a>  
<a name="l2725"><span class="linenum">2725</span></a>      start: function (event, ui) {
<a name="l2726"><span class="linenum">2726</span></a>          var self = $(this).data(&quot;resizable&quot;), o = self.options;
<a name="l2727"><span class="linenum">2727</span></a>  
<a name="l2728"><span class="linenum">2728</span></a>          var _store = function (exp) {
<a name="l2729"><span class="linenum">2729</span></a>              $(exp).<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l2730"><span class="linenum">2730</span></a>                  var el = $(this);
<a name="l2731"><span class="linenum">2731</span></a>                  el.data(&quot;resizable-alsoresize&quot;, {
<a name="l2732"><span class="linenum">2732</span></a>                      width: parseInt(el.width(), 10), height: parseInt(el.height(), 10),
<a name="l2733"><span class="linenum">2733</span></a>                      left: parseInt(el.css('left'), 10), top: parseInt(el.css('top'), 10)
<a name="l2734"><span class="linenum">2734</span></a>                  });
<a name="l2735"><span class="linenum">2735</span></a>              });
<a name="l2736"><span class="linenum">2736</span></a>          };
<a name="l2737"><span class="linenum">2737</span></a>  
<a name="l2738"><span class="linenum">2738</span></a>          if (typeof(o.alsoResize) == 'object' &amp;&amp; !o.alsoResize.parentNode) {
<a name="l2739"><span class="linenum">2739</span></a>              if (o.alsoResize.length) { o.alsoResize = o.alsoResize[0]; _store(o.alsoResize); }
<a name="l2740"><span class="linenum">2740</span></a>              else { $.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(o.alsoResize, function (exp) { _store(exp); }); }
<a name="l2741"><span class="linenum">2741</span></a>          }else{
<a name="l2742"><span class="linenum">2742</span></a>              _store(o.alsoResize);
<a name="l2743"><span class="linenum">2743</span></a>          }
<a name="l2744"><span class="linenum">2744</span></a>      },
<a name="l2745"><span class="linenum">2745</span></a>  
<a name="l2746"><span class="linenum">2746</span></a>      resize: function (event, ui) {
<a name="l2747"><span class="linenum">2747</span></a>          var self = $(this).data(&quot;resizable&quot;), o = self.options, os = self.originalSize, op = self.originalPosition;
<a name="l2748"><span class="linenum">2748</span></a>  
<a name="l2749"><span class="linenum">2749</span></a>          var delta = {
<a name="l2750"><span class="linenum">2750</span></a>              height: (self.size.height - os.height) || 0, width: (self.size.width - os.width) || 0,
<a name="l2751"><span class="linenum">2751</span></a>              top: (self.position.top - op.top) || 0, left: (self.position.left - op.left) || 0
<a name="l2752"><span class="linenum">2752</span></a>          },
<a name="l2753"><span class="linenum">2753</span></a>  
<a name="l2754"><span class="linenum">2754</span></a>          _alsoResize = function (exp, c) {
<a name="l2755"><span class="linenum">2755</span></a>              $(exp).<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l2756"><span class="linenum">2756</span></a>                  var el = $(this), start = $(this).data(&quot;resizable-alsoresize&quot;), style = {}, 
<a name="l2757"><span class="linenum">2757</span></a>                      css = c &amp;&amp; c.length ? c : el.parents(ui.originalElement[0]).length ? ['width', 'height'] : ['width', 'height', 'top', 'left'];
<a name="l2758"><span class="linenum">2758</span></a>  
<a name="l2759"><span class="linenum">2759</span></a>                  $.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(css, function (i, prop) {
<a name="l2760"><span class="linenum">2760</span></a>                      var sum = (start[prop]||0) + (delta[prop]||0);
<a name="l2761"><span class="linenum">2761</span></a>                      if (sum &amp;&amp; sum &gt;= 0)
<a name="l2762"><span class="linenum">2762</span></a>                          style[prop] = sum || null;
<a name="l2763"><span class="linenum">2763</span></a>                  });
<a name="l2764"><span class="linenum">2764</span></a>  
<a name="l2765"><span class="linenum">2765</span></a>                  el.css(style);
<a name="l2766"><span class="linenum">2766</span></a>              });
<a name="l2767"><span class="linenum">2767</span></a>          };
<a name="l2768"><span class="linenum">2768</span></a>  
<a name="l2769"><span class="linenum">2769</span></a>          if (typeof(o.alsoResize) == 'object' &amp;&amp; !o.alsoResize.nodeType) {
<a name="l2770"><span class="linenum">2770</span></a>              $.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(o.alsoResize, function (exp, c) { _alsoResize(exp, c); });
<a name="l2771"><span class="linenum">2771</span></a>          }else{
<a name="l2772"><span class="linenum">2772</span></a>              _alsoResize(o.alsoResize);
<a name="l2773"><span class="linenum">2773</span></a>          }
<a name="l2774"><span class="linenum">2774</span></a>      },
<a name="l2775"><span class="linenum">2775</span></a>  
<a name="l2776"><span class="linenum">2776</span></a>      stop: function (event, ui) {
<a name="l2777"><span class="linenum">2777</span></a>          $(this).removeData(&quot;resizable-alsoresize&quot;);
<a name="l2778"><span class="linenum">2778</span></a>      }
<a name="l2779"><span class="linenum">2779</span></a>  });
<a name="l2780"><span class="linenum">2780</span></a>  
<a name="l2781"><span class="linenum">2781</span></a>  $.ui.plugin.<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(&quot;resizable&quot;, &quot;animate&quot;, {
<a name="l2782"><span class="linenum">2782</span></a>  
<a name="l2783"><span class="linenum">2783</span></a>      stop: function(event, ui) {
<a name="l2784"><span class="linenum">2784</span></a>          var self = $(this).data(&quot;resizable&quot;), o = self.options;
<a name="l2785"><span class="linenum">2785</span></a>  
<a name="l2786"><span class="linenum">2786</span></a>          var pr = self._proportionallyResizeElements, ista = pr.length &amp;&amp; (/textarea/i).test(pr[0].nodeName),
<a name="l2787"><span class="linenum">2787</span></a>                      soffseth = ista &amp;&amp; $.ui.hasScroll(pr[0], 'left') <span class="comment">/* TODO - jump height */</span> ? 0 : self.sizeDiff.height,
<a name="l2788"><span class="linenum">2788</span></a>                          soffsetw = ista ? 0 : self.sizeDiff.width;
<a name="l2789"><span class="linenum">2789</span></a>  
<a name="l2790"><span class="linenum">2790</span></a>          var style = { width: (self.size.width - soffsetw), height: (self.size.height - soffseth) },
<a name="l2791"><span class="linenum">2791</span></a>                      left = (parseInt(self.element.css('left'), 10) + (self.position.left - self.originalPosition.left)) || null,
<a name="l2792"><span class="linenum">2792</span></a>                          top = (parseInt(self.element.css('top'), 10) + (self.position.top - self.originalPosition.top)) || null;
<a name="l2793"><span class="linenum">2793</span></a>  
<a name="l2794"><span class="linenum">2794</span></a>          self.element.animate(
<a name="l2795"><span class="linenum">2795</span></a>              $.extend(style, top &amp;&amp; left ? { top: top, left: left } : {}), {
<a name="l2796"><span class="linenum">2796</span></a>                  duration: o.animateDuration,
<a name="l2797"><span class="linenum">2797</span></a>                  easing: o.animateEasing,
<a name="l2798"><span class="linenum">2798</span></a>                  step: function() {
<a name="l2799"><span class="linenum">2799</span></a>  
<a name="l2800"><span class="linenum">2800</span></a>                      var data = {
<a name="l2801"><span class="linenum">2801</span></a>                          width: parseInt(self.element.css('width'), 10),
<a name="l2802"><span class="linenum">2802</span></a>                          height: parseInt(self.element.css('height'), 10),
<a name="l2803"><span class="linenum">2803</span></a>                          top: parseInt(self.element.css('top'), 10),
<a name="l2804"><span class="linenum">2804</span></a>                          left: parseInt(self.element.css('left'), 10)
<a name="l2805"><span class="linenum">2805</span></a>                      };
<a name="l2806"><span class="linenum">2806</span></a>  
<a name="l2807"><span class="linenum">2807</span></a>                      if (pr &amp;&amp; pr.length) $(pr[0]).css({ width: data.width, height: data.height });
<a name="l2808"><span class="linenum">2808</span></a>  
<a name="l2809"><span class="linenum">2809</span></a>  <span class="comment">                    // propagating resize, and updating values for each animation step</span>
<a name="l2810"><span class="linenum">2810</span></a>                      self._updateCache(data);
<a name="l2811"><span class="linenum">2811</span></a>                      self._propagate(&quot;resize&quot;, event);
<a name="l2812"><span class="linenum">2812</span></a>  
<a name="l2813"><span class="linenum">2813</span></a>                  }
<a name="l2814"><span class="linenum">2814</span></a>              }
<a name="l2815"><span class="linenum">2815</span></a>          );
<a name="l2816"><span class="linenum">2816</span></a>      }
<a name="l2817"><span class="linenum">2817</span></a>  
<a name="l2818"><span class="linenum">2818</span></a>  });
<a name="l2819"><span class="linenum">2819</span></a>  
<a name="l2820"><span class="linenum">2820</span></a>  $.ui.plugin.<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(&quot;resizable&quot;, &quot;containment&quot;, {
<a name="l2821"><span class="linenum">2821</span></a>  
<a name="l2822"><span class="linenum">2822</span></a>      start: function(event, ui) {
<a name="l2823"><span class="linenum">2823</span></a>          var self = $(this).data(&quot;resizable&quot;), o = self.options, el = self.element;
<a name="l2824"><span class="linenum">2824</span></a>          var oc = o.containment,    ce = (oc instanceof $) ? oc.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(0) : (/parent/.test(oc)) ? el.parent().<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(0) : oc;
<a name="l2825"><span class="linenum">2825</span></a>          if (!ce) return;
<a name="l2826"><span class="linenum">2826</span></a>  
<a name="l2827"><span class="linenum">2827</span></a>          self.containerElement = $(ce);
<a name="l2828"><span class="linenum">2828</span></a>  
<a name="l2829"><span class="linenum">2829</span></a>          if (/document/.test(oc) || oc == document) {
<a name="l2830"><span class="linenum">2830</span></a>              self.containerOffset = { left: 0, top: 0 };
<a name="l2831"><span class="linenum">2831</span></a>              self.containerPosition = { left: 0, top: 0 };
<a name="l2832"><span class="linenum">2832</span></a>  
<a name="l2833"><span class="linenum">2833</span></a>              self.parentData = {
<a name="l2834"><span class="linenum">2834</span></a>                  element: $(document), left: 0, top: 0,
<a name="l2835"><span class="linenum">2835</span></a>                  width: $(document).width(), height: $(document).height() || document.body.parentNode.scrollHeight
<a name="l2836"><span class="linenum">2836</span></a>              };
<a name="l2837"><span class="linenum">2837</span></a>          }
<a name="l2838"><span class="linenum">2838</span></a>  
<a name="l2839"><span class="linenum">2839</span></a>  <span class="comment">        // i'm a node, so compute top, left, right, bottom</span>
<a name="l2840"><span class="linenum">2840</span></a>          else {
<a name="l2841"><span class="linenum">2841</span></a>              var element = $(ce), p = [];
<a name="l2842"><span class="linenum">2842</span></a>              $([ &quot;Top&quot;, &quot;Right&quot;, &quot;Left&quot;, &quot;Bottom&quot; ]).<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function(i, name) { p[i] = num(element.css(&quot;padding&quot; + name)); });
<a name="l2843"><span class="linenum">2843</span></a>  
<a name="l2844"><span class="linenum">2844</span></a>              self.containerOffset = element.offset();
<a name="l2845"><span class="linenum">2845</span></a>              self.containerPosition = element.position();
<a name="l2846"><span class="linenum">2846</span></a>              self.containerSize = { height: (element.innerHeight() - p[3]), width: (element.innerWidth() - p[1]) };
<a name="l2847"><span class="linenum">2847</span></a>  
<a name="l2848"><span class="linenum">2848</span></a>              var co = self.containerOffset, ch = self.containerSize.height,    cw = self.containerSize.width,
<a name="l2849"><span class="linenum">2849</span></a>                          width = ($.ui.hasScroll(ce, &quot;left&quot;) ? ce.scrollWidth : cw ), height = ($.ui.hasScroll(ce) ? ce.scrollHeight : ch);
<a name="l2850"><span class="linenum">2850</span></a>  
<a name="l2851"><span class="linenum">2851</span></a>              self.parentData = {
<a name="l2852"><span class="linenum">2852</span></a>                  element: ce, left: co.left, top: co.top, width: width, height: height
<a name="l2853"><span class="linenum">2853</span></a>              };
<a name="l2854"><span class="linenum">2854</span></a>          }
<a name="l2855"><span class="linenum">2855</span></a>      },
<a name="l2856"><span class="linenum">2856</span></a>  
<a name="l2857"><span class="linenum">2857</span></a>      resize: function(event, ui) {
<a name="l2858"><span class="linenum">2858</span></a>          var self = $(this).data(&quot;resizable&quot;), o = self.options,
<a name="l2859"><span class="linenum">2859</span></a>                  ps = self.containerSize, co = self.containerOffset, cs = self.size, cp = self.position,
<a name="l2860"><span class="linenum">2860</span></a>                  pRatio = self._aspectRatio || event.shiftKey, cop = { top:0, left:0 }, ce = self.containerElement;
<a name="l2861"><span class="linenum">2861</span></a>  
<a name="l2862"><span class="linenum">2862</span></a>          if (ce[0] != document &amp;&amp; (/static/).test(ce.css('position'))) cop = co;
<a name="l2863"><span class="linenum">2863</span></a>  
<a name="l2864"><span class="linenum">2864</span></a>          if (cp.left &lt; (self._helper ? co.left : 0)) {
<a name="l2865"><span class="linenum">2865</span></a>              self.size.width = self.size.width + (self._helper ? (self.position.left - co.left) : (self.position.left - cop.left));
<a name="l2866"><span class="linenum">2866</span></a>              if (pRatio) self.size.height = self.size.width / o.aspectRatio;
<a name="l2867"><span class="linenum">2867</span></a>              self.position.left = o.helper ? co.left : 0;
<a name="l2868"><span class="linenum">2868</span></a>          }
<a name="l2869"><span class="linenum">2869</span></a>  
<a name="l2870"><span class="linenum">2870</span></a>          if (cp.top &lt; (self._helper ? co.top : 0)) {
<a name="l2871"><span class="linenum">2871</span></a>              self.size.height = self.size.height + (self._helper ? (self.position.top - co.top) : self.position.top);
<a name="l2872"><span class="linenum">2872</span></a>              if (pRatio) self.size.width = self.size.height * o.aspectRatio;
<a name="l2873"><span class="linenum">2873</span></a>              self.position.top = self._helper ? co.top : 0;
<a name="l2874"><span class="linenum">2874</span></a>          }
<a name="l2875"><span class="linenum">2875</span></a>  
<a name="l2876"><span class="linenum">2876</span></a>          self.offset.left = self.parentData.left+self.position.left;
<a name="l2877"><span class="linenum">2877</span></a>          self.offset.top = self.parentData.top+self.position.top;
<a name="l2878"><span class="linenum">2878</span></a>  
<a name="l2879"><span class="linenum">2879</span></a>          var woset = Math.<a class="phpfunction" onClick="logFunction('abs')" href="../../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>( (self._helper ? self.offset.left - cop.left : (self.offset.left - cop.left)) + self.sizeDiff.width ),
<a name="l2880"><span class="linenum">2880</span></a>                      hoset = Math.<a class="phpfunction" onClick="logFunction('abs')" href="../../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>( (self._helper ? self.offset.top - cop.top : (self.offset.top - co.top)) + self.sizeDiff.height );
<a name="l2881"><span class="linenum">2881</span></a>  
<a name="l2882"><span class="linenum">2882</span></a>          var isParent = self.containerElement.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(0) == self.element.parent().<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(0),
<a name="l2883"><span class="linenum">2883</span></a>              isOffsetRelative = /relative|absolute/.test(self.containerElement.css('position'));
<a name="l2884"><span class="linenum">2884</span></a>  
<a name="l2885"><span class="linenum">2885</span></a>          if(isParent &amp;&amp; isOffsetRelative) woset -= self.parentData.left;
<a name="l2886"><span class="linenum">2886</span></a>  
<a name="l2887"><span class="linenum">2887</span></a>          if (woset + self.size.width &gt;= self.parentData.width) {
<a name="l2888"><span class="linenum">2888</span></a>              self.size.width = self.parentData.width - woset;
<a name="l2889"><span class="linenum">2889</span></a>              if (pRatio) self.size.height = self.size.width / self.aspectRatio;
<a name="l2890"><span class="linenum">2890</span></a>          }
<a name="l2891"><span class="linenum">2891</span></a>  
<a name="l2892"><span class="linenum">2892</span></a>          if (hoset + self.size.height &gt;= self.parentData.height) {
<a name="l2893"><span class="linenum">2893</span></a>              self.size.height = self.parentData.height - hoset;
<a name="l2894"><span class="linenum">2894</span></a>              if (pRatio) self.size.width = self.size.height * self.aspectRatio;
<a name="l2895"><span class="linenum">2895</span></a>          }
<a name="l2896"><span class="linenum">2896</span></a>      },
<a name="l2897"><span class="linenum">2897</span></a>  
<a name="l2898"><span class="linenum">2898</span></a>      stop: function(event, ui){
<a name="l2899"><span class="linenum">2899</span></a>          var self = $(this).data(&quot;resizable&quot;), o = self.options, cp = self.position,
<a name="l2900"><span class="linenum">2900</span></a>                  co = self.containerOffset, cop = self.containerPosition, ce = self.containerElement;
<a name="l2901"><span class="linenum">2901</span></a>  
<a name="l2902"><span class="linenum">2902</span></a>          var helper = $(self.helper), ho = helper.offset(), w = helper.outerWidth() - self.sizeDiff.width, h = helper.outerHeight() - self.sizeDiff.height;
<a name="l2903"><span class="linenum">2903</span></a>  
<a name="l2904"><span class="linenum">2904</span></a>          if (self._helper &amp;&amp; !o.animate &amp;&amp; (/relative/).test(ce.css('position')))
<a name="l2905"><span class="linenum">2905</span></a>              $(this).css({ left: ho.left - cop.left - co.left, width: w, height: h });
<a name="l2906"><span class="linenum">2906</span></a>  
<a name="l2907"><span class="linenum">2907</span></a>          if (self._helper &amp;&amp; !o.animate &amp;&amp; (/static/).test(ce.css('position')))
<a name="l2908"><span class="linenum">2908</span></a>              $(this).css({ left: ho.left - cop.left - co.left, width: w, height: h });
<a name="l2909"><span class="linenum">2909</span></a>  
<a name="l2910"><span class="linenum">2910</span></a>      }
<a name="l2911"><span class="linenum">2911</span></a>  });
<a name="l2912"><span class="linenum">2912</span></a>  
<a name="l2913"><span class="linenum">2913</span></a>  $.ui.plugin.<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(&quot;resizable&quot;, &quot;ghost&quot;, {
<a name="l2914"><span class="linenum">2914</span></a>  
<a name="l2915"><span class="linenum">2915</span></a>      start: function(event, ui) {
<a name="l2916"><span class="linenum">2916</span></a>  
<a name="l2917"><span class="linenum">2917</span></a>          var self = $(this).data(&quot;resizable&quot;), o = self.options, cs = self.size;
<a name="l2918"><span class="linenum">2918</span></a>  
<a name="l2919"><span class="linenum">2919</span></a>          self.ghost = self.originalElement.<a class="function" onClick="logFunction('clone')" href="../../../../_functions/clone.html" onMouseOver="funcPopup(event,'clone')">clone</a>();
<a name="l2920"><span class="linenum">2920</span></a>          self.ghost
<a name="l2921"><span class="linenum">2921</span></a>              .css({ opacity: .25, display: 'block', position: 'relative', height: cs.height, width: cs.width, margin: 0, left: 0, top: 0 })
<a name="l2922"><span class="linenum">2922</span></a>              .addClass('ui-resizable-ghost')
<a name="l2923"><span class="linenum">2923</span></a>              .addClass(typeof o.ghost == 'string' ? o.ghost : '');
<a name="l2924"><span class="linenum">2924</span></a>  
<a name="l2925"><span class="linenum">2925</span></a>          self.ghost.appendTo(self.helper);
<a name="l2926"><span class="linenum">2926</span></a>  
<a name="l2927"><span class="linenum">2927</span></a>      },
<a name="l2928"><span class="linenum">2928</span></a>  
<a name="l2929"><span class="linenum">2929</span></a>      resize: function(event, ui){
<a name="l2930"><span class="linenum">2930</span></a>          var self = $(this).data(&quot;resizable&quot;), o = self.options;
<a name="l2931"><span class="linenum">2931</span></a>          if (self.ghost) self.ghost.css({ position: 'relative', height: self.size.height, width: self.size.width });
<a name="l2932"><span class="linenum">2932</span></a>      },
<a name="l2933"><span class="linenum">2933</span></a>  
<a name="l2934"><span class="linenum">2934</span></a>      stop: function(event, ui){
<a name="l2935"><span class="linenum">2935</span></a>          var self = $(this).data(&quot;resizable&quot;), o = self.options;
<a name="l2936"><span class="linenum">2936</span></a>          if (self.ghost &amp;&amp; self.helper) self.helper.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(0).removeChild(self.ghost.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(0));
<a name="l2937"><span class="linenum">2937</span></a>      }
<a name="l2938"><span class="linenum">2938</span></a>  
<a name="l2939"><span class="linenum">2939</span></a>  });
<a name="l2940"><span class="linenum">2940</span></a>  
<a name="l2941"><span class="linenum">2941</span></a>  $.ui.plugin.<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(&quot;resizable&quot;, &quot;grid&quot;, {
<a name="l2942"><span class="linenum">2942</span></a>  
<a name="l2943"><span class="linenum">2943</span></a>      resize: function(event, ui) {
<a name="l2944"><span class="linenum">2944</span></a>          var self = $(this).data(&quot;resizable&quot;), o = self.options, cs = self.size, os = self.originalSize, op = self.originalPosition, a = self.axis, ratio = o._aspectRatio || event.shiftKey;
<a name="l2945"><span class="linenum">2945</span></a>          o.grid = typeof o.grid == &quot;number&quot; ? [o.grid, o.grid] : o.grid;
<a name="l2946"><span class="linenum">2946</span></a>          var ox = Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>((cs.width - os.width) / (o.grid[0]||1)) * (o.grid[0]||1), oy = Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>((cs.height - os.height) / (o.grid[1]||1)) * (o.grid[1]||1);
<a name="l2947"><span class="linenum">2947</span></a>  
<a name="l2948"><span class="linenum">2948</span></a>          if (/^(se|s|e)$/.test(a)) {
<a name="l2949"><span class="linenum">2949</span></a>              self.size.width = os.width + ox;
<a name="l2950"><span class="linenum">2950</span></a>              self.size.height = os.height + oy;
<a name="l2951"><span class="linenum">2951</span></a>          }
<a name="l2952"><span class="linenum">2952</span></a>          else if (/^(ne)$/.test(a)) {
<a name="l2953"><span class="linenum">2953</span></a>              self.size.width = os.width + ox;
<a name="l2954"><span class="linenum">2954</span></a>              self.size.height = os.height + oy;
<a name="l2955"><span class="linenum">2955</span></a>              self.position.top = op.top - oy;
<a name="l2956"><span class="linenum">2956</span></a>          }
<a name="l2957"><span class="linenum">2957</span></a>          else if (/^(sw)$/.test(a)) {
<a name="l2958"><span class="linenum">2958</span></a>              self.size.width = os.width + ox;
<a name="l2959"><span class="linenum">2959</span></a>              self.size.height = os.height + oy;
<a name="l2960"><span class="linenum">2960</span></a>              self.position.left = op.left - ox;
<a name="l2961"><span class="linenum">2961</span></a>          }
<a name="l2962"><span class="linenum">2962</span></a>          else {
<a name="l2963"><span class="linenum">2963</span></a>              self.size.width = os.width + ox;
<a name="l2964"><span class="linenum">2964</span></a>              self.size.height = os.height + oy;
<a name="l2965"><span class="linenum">2965</span></a>              self.position.top = op.top - oy;
<a name="l2966"><span class="linenum">2966</span></a>              self.position.left = op.left - ox;
<a name="l2967"><span class="linenum">2967</span></a>          }
<a name="l2968"><span class="linenum">2968</span></a>      }
<a name="l2969"><span class="linenum">2969</span></a>  
<a name="l2970"><span class="linenum">2970</span></a>  });
<a name="l2971"><span class="linenum">2971</span></a>  
<a name="l2972"><span class="linenum">2972</span></a>  var num = function(v) {
<a name="l2973"><span class="linenum">2973</span></a>      return parseInt(v, 10) || 0;
<a name="l2974"><span class="linenum">2974</span></a>  };
<a name="l2975"><span class="linenum">2975</span></a>  
<a name="l2976"><span class="linenum">2976</span></a>  var isNumber = function(value) {
<a name="l2977"><span class="linenum">2977</span></a>      return !isNaN(parseInt(value, 10));
<a name="l2978"><span class="linenum">2978</span></a>  };
<a name="l2979"><span class="linenum">2979</span></a>  
<a name="l2980"><span class="linenum">2980</span></a>  })(jQuery);
<a name="l2981"><span class="linenum">2981</span></a>  <span class="comment">/*</span>
<a name="l2982"><span class="linenum">2982</span></a>  <span class="comment"> * jQuery UI Selectable 1.8.18</span>
<a name="l2983"><span class="linenum">2983</span></a>  <span class="comment"> *</span>
<a name="l2984"><span class="linenum">2984</span></a>  <span class="comment"> * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l2985"><span class="linenum">2985</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l2986"><span class="linenum">2986</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l2987"><span class="linenum">2987</span></a>  <span class="comment"> *</span>
<a name="l2988"><span class="linenum">2988</span></a>  <span class="comment"> * http://docs.jquery.com/UI/Selectables</span>
<a name="l2989"><span class="linenum">2989</span></a>  <span class="comment"> *</span>
<a name="l2990"><span class="linenum">2990</span></a>  <span class="comment"> * Depends:</span>
<a name="l2991"><span class="linenum">2991</span></a>  <span class="comment"> *    jquery.ui.core.js</span>
<a name="l2992"><span class="linenum">2992</span></a>  <span class="comment"> *    jquery.ui.mouse.js</span>
<a name="l2993"><span class="linenum">2993</span></a>  <span class="comment"> *    jquery.ui.widget.js</span>
<a name="l2994"><span class="linenum">2994</span></a>  <span class="comment"> */</span>
<a name="l2995"><span class="linenum">2995</span></a>  (function( $, undefined ) {
<a name="l2996"><span class="linenum">2996</span></a>  
<a name="l2997"><span class="linenum">2997</span></a>  $.<a class="function" onClick="logFunction('widget')" href="../../../../_functions/widget.html" onMouseOver="funcPopup(event,'widget')">widget</a>(&quot;ui.selectable&quot;, $.ui.mouse, {
<a name="l2998"><span class="linenum">2998</span></a>      options: {
<a name="l2999"><span class="linenum">2999</span></a>          appendTo: 'body',
<a name="l3000"><span class="linenum">3000</span></a>          autoRefresh: true,
<a name="l3001"><span class="linenum">3001</span></a>          distance: 0,
<a name="l3002"><span class="linenum">3002</span></a>          filter: '*',
<a name="l3003"><span class="linenum">3003</span></a>          tolerance: 'touch'
<a name="l3004"><span class="linenum">3004</span></a>      },
<a name="l3005"><span class="linenum">3005</span></a>      _create: function() {
<a name="l3006"><span class="linenum">3006</span></a>          var self = this;
<a name="l3007"><span class="linenum">3007</span></a>  
<a name="l3008"><span class="linenum">3008</span></a>          this.element.addClass(&quot;ui-selectable&quot;);
<a name="l3009"><span class="linenum">3009</span></a>  
<a name="l3010"><span class="linenum">3010</span></a>          this.dragged = false;
<a name="l3011"><span class="linenum">3011</span></a>  
<a name="l3012"><span class="linenum">3012</span></a>  <span class="comment">        // cache selectee children based on filter</span>
<a name="l3013"><span class="linenum">3013</span></a>          var selectees;
<a name="l3014"><span class="linenum">3014</span></a>          this.refresh = function() {
<a name="l3015"><span class="linenum">3015</span></a>              selectees = $(self.options.filter, self.element[0]);
<a name="l3016"><span class="linenum">3016</span></a>              selectees.addClass(&quot;ui-selectee&quot;);
<a name="l3017"><span class="linenum">3017</span></a>              selectees.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l3018"><span class="linenum">3018</span></a>                  var <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a> = $(this);
<a name="l3019"><span class="linenum">3019</span></a>                  var pos = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>.offset();
<a name="l3020"><span class="linenum">3020</span></a>                  $.data(this, &quot;selectable-item&quot;, {
<a name="l3021"><span class="linenum">3021</span></a>                      element: this,
<a name="l3022"><span class="linenum">3022</span></a>                      <a class="var it2306" onMouseOver="hilite(2306)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../../../_variables/element.html">$element</a>: <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>,
<a name="l3023"><span class="linenum">3023</span></a>                      left: pos.left,
<a name="l3024"><span class="linenum">3024</span></a>                      top: pos.top,
<a name="l3025"><span class="linenum">3025</span></a>                      right: pos.left + <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>.outerWidth(),
<a name="l3026"><span class="linenum">3026</span></a>                      bottom: pos.top + <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>.outerHeight(),
<a name="l3027"><span class="linenum">3027</span></a>                      startselected: false,
<a name="l3028"><span class="linenum">3028</span></a>                      selected: <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>.<a class="function" onClick="logFunction('hasClass')" href="../../../../_functions/hasclass.html" onMouseOver="funcPopup(event,'hasclass')">hasClass</a>('ui-selected'),
<a name="l3029"><span class="linenum">3029</span></a>                      selecting: <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>.<a class="function" onClick="logFunction('hasClass')" href="../../../../_functions/hasclass.html" onMouseOver="funcPopup(event,'hasclass')">hasClass</a>('ui-selecting'),
<a name="l3030"><span class="linenum">3030</span></a>                      unselecting: <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>.<a class="function" onClick="logFunction('hasClass')" href="../../../../_functions/hasclass.html" onMouseOver="funcPopup(event,'hasclass')">hasClass</a>('ui-unselecting')
<a name="l3031"><span class="linenum">3031</span></a>                  });
<a name="l3032"><span class="linenum">3032</span></a>              });
<a name="l3033"><span class="linenum">3033</span></a>          };
<a name="l3034"><span class="linenum">3034</span></a>          this.refresh();
<a name="l3035"><span class="linenum">3035</span></a>  
<a name="l3036"><span class="linenum">3036</span></a>          this.selectees = selectees.addClass(&quot;ui-selectee&quot;);
<a name="l3037"><span class="linenum">3037</span></a>  
<a name="l3038"><span class="linenum">3038</span></a>          this._mouseInit();
<a name="l3039"><span class="linenum">3039</span></a>  
<a name="l3040"><span class="linenum">3040</span></a>          this.helper = $(&quot;&lt;div class='ui-selectable-helper'&gt;&lt;/div&gt;&quot;);
<a name="l3041"><span class="linenum">3041</span></a>      },
<a name="l3042"><span class="linenum">3042</span></a>  
<a name="l3043"><span class="linenum">3043</span></a>      destroy: function() {
<a name="l3044"><span class="linenum">3044</span></a>          this.selectees
<a name="l3045"><span class="linenum">3045</span></a>              .removeClass(&quot;ui-selectee&quot;)
<a name="l3046"><span class="linenum">3046</span></a>              .removeData(&quot;selectable-item&quot;);
<a name="l3047"><span class="linenum">3047</span></a>          this.element
<a name="l3048"><span class="linenum">3048</span></a>              .removeClass(&quot;ui-selectable ui-selectable-disabled&quot;)
<a name="l3049"><span class="linenum">3049</span></a>              .removeData(&quot;selectable&quot;)
<a name="l3050"><span class="linenum">3050</span></a>              .unbind(&quot;.selectable&quot;);
<a name="l3051"><span class="linenum">3051</span></a>          this._mouseDestroy();
<a name="l3052"><span class="linenum">3052</span></a>  
<a name="l3053"><span class="linenum">3053</span></a>          return this;
<a name="l3054"><span class="linenum">3054</span></a>      },
<a name="l3055"><span class="linenum">3055</span></a>  
<a name="l3056"><span class="linenum">3056</span></a>      _mouseStart: function(event) {
<a name="l3057"><span class="linenum">3057</span></a>          var self = this;
<a name="l3058"><span class="linenum">3058</span></a>  
<a name="l3059"><span class="linenum">3059</span></a>          this.opos = [event.pageX, event.pageY];
<a name="l3060"><span class="linenum">3060</span></a>  
<a name="l3061"><span class="linenum">3061</span></a>          if (this.options.disabled)
<a name="l3062"><span class="linenum">3062</span></a>              return;
<a name="l3063"><span class="linenum">3063</span></a>  
<a name="l3064"><span class="linenum">3064</span></a>          var options = this.options;
<a name="l3065"><span class="linenum">3065</span></a>  
<a name="l3066"><span class="linenum">3066</span></a>          this.selectees = $(options.filter, this.element[0]);
<a name="l3067"><span class="linenum">3067</span></a>  
<a name="l3068"><span class="linenum">3068</span></a>          this._trigger(&quot;start&quot;, event);
<a name="l3069"><span class="linenum">3069</span></a>  
<a name="l3070"><span class="linenum">3070</span></a>          $(options.appendTo).append(this.helper);
<a name="l3071"><span class="linenum">3071</span></a>  <span class="comment">        // position helper (lasso)</span>
<a name="l3072"><span class="linenum">3072</span></a>          this.helper.css({
<a name="l3073"><span class="linenum">3073</span></a>              &quot;left&quot;: event.clientX,
<a name="l3074"><span class="linenum">3074</span></a>              &quot;top&quot;: event.clientY,
<a name="l3075"><span class="linenum">3075</span></a>              &quot;width&quot;: 0,
<a name="l3076"><span class="linenum">3076</span></a>              &quot;height&quot;: 0
<a name="l3077"><span class="linenum">3077</span></a>          });
<a name="l3078"><span class="linenum">3078</span></a>  
<a name="l3079"><span class="linenum">3079</span></a>          if (options.autoRefresh) {
<a name="l3080"><span class="linenum">3080</span></a>              this.refresh();
<a name="l3081"><span class="linenum">3081</span></a>          }
<a name="l3082"><span class="linenum">3082</span></a>  
<a name="l3083"><span class="linenum">3083</span></a>          this.selectees.filter('.ui-selected').<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l3084"><span class="linenum">3084</span></a>              var selectee = $.data(this, &quot;selectable-item&quot;);
<a name="l3085"><span class="linenum">3085</span></a>              selectee.startselected = true;
<a name="l3086"><span class="linenum">3086</span></a>              if (!event.metaKey &amp;&amp; !event.ctrlKey) {
<a name="l3087"><span class="linenum">3087</span></a>                  selectee.<a class="var it2306" onMouseOver="hilite(2306)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../../../_variables/element.html">$element</a>.removeClass('ui-selected');
<a name="l3088"><span class="linenum">3088</span></a>                  selectee.selected = false;
<a name="l3089"><span class="linenum">3089</span></a>                  selectee.<a class="var it2306" onMouseOver="hilite(2306)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../../../_variables/element.html">$element</a>.addClass('ui-unselecting');
<a name="l3090"><span class="linenum">3090</span></a>                  selectee.unselecting = true;
<a name="l3091"><span class="linenum">3091</span></a>  <span class="comment">                // selectable UNSELECTING callback</span>
<a name="l3092"><span class="linenum">3092</span></a>                  self._trigger(&quot;unselecting&quot;, event, {
<a name="l3093"><span class="linenum">3093</span></a>                      unselecting: selectee.element
<a name="l3094"><span class="linenum">3094</span></a>                  });
<a name="l3095"><span class="linenum">3095</span></a>              }
<a name="l3096"><span class="linenum">3096</span></a>          });
<a name="l3097"><span class="linenum">3097</span></a>  
<a name="l3098"><span class="linenum">3098</span></a>          $(event.target).parents().andSelf().<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l3099"><span class="linenum">3099</span></a>              var selectee = $.data(this, &quot;selectable-item&quot;);
<a name="l3100"><span class="linenum">3100</span></a>              if (selectee) {
<a name="l3101"><span class="linenum">3101</span></a>                  var doSelect = (!event.metaKey &amp;&amp; !event.ctrlKey) || !selectee.<a class="var it2306" onMouseOver="hilite(2306)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../../../_variables/element.html">$element</a>.<a class="function" onClick="logFunction('hasClass')" href="../../../../_functions/hasclass.html" onMouseOver="funcPopup(event,'hasclass')">hasClass</a>('ui-selected');
<a name="l3102"><span class="linenum">3102</span></a>                  selectee.<a class="var it2306" onMouseOver="hilite(2306)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../../../_variables/element.html">$element</a>
<a name="l3103"><span class="linenum">3103</span></a>                      .removeClass(doSelect ? &quot;ui-unselecting&quot; : &quot;ui-selected&quot;)
<a name="l3104"><span class="linenum">3104</span></a>                      .addClass(doSelect ? &quot;ui-selecting&quot; : &quot;ui-unselecting&quot;);
<a name="l3105"><span class="linenum">3105</span></a>                  selectee.unselecting = !doSelect;
<a name="l3106"><span class="linenum">3106</span></a>                  selectee.selecting = doSelect;
<a name="l3107"><span class="linenum">3107</span></a>                  selectee.selected = doSelect;
<a name="l3108"><span class="linenum">3108</span></a>  <span class="comment">                // selectable (UN)SELECTING callback</span>
<a name="l3109"><span class="linenum">3109</span></a>                  if (doSelect) {
<a name="l3110"><span class="linenum">3110</span></a>                      self._trigger(&quot;selecting&quot;, event, {
<a name="l3111"><span class="linenum">3111</span></a>                          selecting: selectee.element
<a name="l3112"><span class="linenum">3112</span></a>                      });
<a name="l3113"><span class="linenum">3113</span></a>                  } else {
<a name="l3114"><span class="linenum">3114</span></a>                      self._trigger(&quot;unselecting&quot;, event, {
<a name="l3115"><span class="linenum">3115</span></a>                          unselecting: selectee.element
<a name="l3116"><span class="linenum">3116</span></a>                      });
<a name="l3117"><span class="linenum">3117</span></a>                  }
<a name="l3118"><span class="linenum">3118</span></a>                  return false;
<a name="l3119"><span class="linenum">3119</span></a>              }
<a name="l3120"><span class="linenum">3120</span></a>          });
<a name="l3121"><span class="linenum">3121</span></a>  
<a name="l3122"><span class="linenum">3122</span></a>      },
<a name="l3123"><span class="linenum">3123</span></a>  
<a name="l3124"><span class="linenum">3124</span></a>      _mouseDrag: function(event) {
<a name="l3125"><span class="linenum">3125</span></a>          var self = this;
<a name="l3126"><span class="linenum">3126</span></a>          this.dragged = true;
<a name="l3127"><span class="linenum">3127</span></a>  
<a name="l3128"><span class="linenum">3128</span></a>          if (this.options.disabled)
<a name="l3129"><span class="linenum">3129</span></a>              return;
<a name="l3130"><span class="linenum">3130</span></a>  
<a name="l3131"><span class="linenum">3131</span></a>          var options = this.options;
<a name="l3132"><span class="linenum">3132</span></a>  
<a name="l3133"><span class="linenum">3133</span></a>          var x1 = this.opos[0], y1 = this.opos[1], x2 = event.pageX, y2 = event.pageY;
<a name="l3134"><span class="linenum">3134</span></a>          if (x1 &gt; x2) { var tmp = x2; x2 = x1; x1 = tmp; }
<a name="l3135"><span class="linenum">3135</span></a>          if (y1 &gt; y2) { var tmp = y2; y2 = y1; y1 = tmp; }
<a name="l3136"><span class="linenum">3136</span></a>          this.helper.css({left: x1, top: y1, width: x2-x1, height: y2-y1});
<a name="l3137"><span class="linenum">3137</span></a>  
<a name="l3138"><span class="linenum">3138</span></a>          this.selectees.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l3139"><span class="linenum">3139</span></a>              var selectee = $.data(this, &quot;selectable-item&quot;);
<a name="l3140"><span class="linenum">3140</span></a>  <span class="comment">            //prevent helper from being selected if appendTo: selectable</span>
<a name="l3141"><span class="linenum">3141</span></a>              if (!selectee || selectee.element == self.element[0])
<a name="l3142"><span class="linenum">3142</span></a>                  return;
<a name="l3143"><span class="linenum">3143</span></a>              var hit = false;
<a name="l3144"><span class="linenum">3144</span></a>              if (options.tolerance == 'touch') {
<a name="l3145"><span class="linenum">3145</span></a>                  hit = ( !(selectee.left &gt; x2 || selectee.right &lt; x1 || selectee.top &gt; y2 || selectee.bottom &lt; y1) );
<a name="l3146"><span class="linenum">3146</span></a>              } else if (options.tolerance == 'fit') {
<a name="l3147"><span class="linenum">3147</span></a>                  hit = (selectee.left &gt; x1 &amp;&amp; selectee.right &lt; x2 &amp;&amp; selectee.top &gt; y1 &amp;&amp; selectee.bottom &lt; y2);
<a name="l3148"><span class="linenum">3148</span></a>              }
<a name="l3149"><span class="linenum">3149</span></a>  
<a name="l3150"><span class="linenum">3150</span></a>              if (hit) {
<a name="l3151"><span class="linenum">3151</span></a>  <span class="comment">                // SELECT</span>
<a name="l3152"><span class="linenum">3152</span></a>                  if (selectee.selected) {
<a name="l3153"><span class="linenum">3153</span></a>                      selectee.<a class="var it2306" onMouseOver="hilite(2306)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../../../_variables/element.html">$element</a>.removeClass('ui-selected');
<a name="l3154"><span class="linenum">3154</span></a>                      selectee.selected = false;
<a name="l3155"><span class="linenum">3155</span></a>                  }
<a name="l3156"><span class="linenum">3156</span></a>                  if (selectee.unselecting) {
<a name="l3157"><span class="linenum">3157</span></a>                      selectee.<a class="var it2306" onMouseOver="hilite(2306)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../../../_variables/element.html">$element</a>.removeClass('ui-unselecting');
<a name="l3158"><span class="linenum">3158</span></a>                      selectee.unselecting = false;
<a name="l3159"><span class="linenum">3159</span></a>                  }
<a name="l3160"><span class="linenum">3160</span></a>                  if (!selectee.selecting) {
<a name="l3161"><span class="linenum">3161</span></a>                      selectee.<a class="var it2306" onMouseOver="hilite(2306)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../../../_variables/element.html">$element</a>.addClass('ui-selecting');
<a name="l3162"><span class="linenum">3162</span></a>                      selectee.selecting = true;
<a name="l3163"><span class="linenum">3163</span></a>  <span class="comment">                    // selectable SELECTING callback</span>
<a name="l3164"><span class="linenum">3164</span></a>                      self._trigger(&quot;selecting&quot;, event, {
<a name="l3165"><span class="linenum">3165</span></a>                          selecting: selectee.element
<a name="l3166"><span class="linenum">3166</span></a>                      });
<a name="l3167"><span class="linenum">3167</span></a>                  }
<a name="l3168"><span class="linenum">3168</span></a>              } else {
<a name="l3169"><span class="linenum">3169</span></a>  <span class="comment">                // UNSELECT</span>
<a name="l3170"><span class="linenum">3170</span></a>                  if (selectee.selecting) {
<a name="l3171"><span class="linenum">3171</span></a>                      if ((event.metaKey || event.ctrlKey) &amp;&amp; selectee.startselected) {
<a name="l3172"><span class="linenum">3172</span></a>                          selectee.<a class="var it2306" onMouseOver="hilite(2306)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../../../_variables/element.html">$element</a>.removeClass('ui-selecting');
<a name="l3173"><span class="linenum">3173</span></a>                          selectee.selecting = false;
<a name="l3174"><span class="linenum">3174</span></a>                          selectee.<a class="var it2306" onMouseOver="hilite(2306)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../../../_variables/element.html">$element</a>.addClass('ui-selected');
<a name="l3175"><span class="linenum">3175</span></a>                          selectee.selected = true;
<a name="l3176"><span class="linenum">3176</span></a>                      } else {
<a name="l3177"><span class="linenum">3177</span></a>                          selectee.<a class="var it2306" onMouseOver="hilite(2306)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../../../_variables/element.html">$element</a>.removeClass('ui-selecting');
<a name="l3178"><span class="linenum">3178</span></a>                          selectee.selecting = false;
<a name="l3179"><span class="linenum">3179</span></a>                          if (selectee.startselected) {
<a name="l3180"><span class="linenum">3180</span></a>                              selectee.<a class="var it2306" onMouseOver="hilite(2306)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../../../_variables/element.html">$element</a>.addClass('ui-unselecting');
<a name="l3181"><span class="linenum">3181</span></a>                              selectee.unselecting = true;
<a name="l3182"><span class="linenum">3182</span></a>                          }
<a name="l3183"><span class="linenum">3183</span></a>  <span class="comment">                        // selectable UNSELECTING callback</span>
<a name="l3184"><span class="linenum">3184</span></a>                          self._trigger(&quot;unselecting&quot;, event, {
<a name="l3185"><span class="linenum">3185</span></a>                              unselecting: selectee.element
<a name="l3186"><span class="linenum">3186</span></a>                          });
<a name="l3187"><span class="linenum">3187</span></a>                      }
<a name="l3188"><span class="linenum">3188</span></a>                  }
<a name="l3189"><span class="linenum">3189</span></a>                  if (selectee.selected) {
<a name="l3190"><span class="linenum">3190</span></a>                      if (!event.metaKey &amp;&amp; !event.ctrlKey &amp;&amp; !selectee.startselected) {
<a name="l3191"><span class="linenum">3191</span></a>                          selectee.<a class="var it2306" onMouseOver="hilite(2306)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../../../_variables/element.html">$element</a>.removeClass('ui-selected');
<a name="l3192"><span class="linenum">3192</span></a>                          selectee.selected = false;
<a name="l3193"><span class="linenum">3193</span></a>  
<a name="l3194"><span class="linenum">3194</span></a>                          selectee.<a class="var it2306" onMouseOver="hilite(2306)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../../../_variables/element.html">$element</a>.addClass('ui-unselecting');
<a name="l3195"><span class="linenum">3195</span></a>                          selectee.unselecting = true;
<a name="l3196"><span class="linenum">3196</span></a>  <span class="comment">                        // selectable UNSELECTING callback</span>
<a name="l3197"><span class="linenum">3197</span></a>                          self._trigger(&quot;unselecting&quot;, event, {
<a name="l3198"><span class="linenum">3198</span></a>                              unselecting: selectee.element
<a name="l3199"><span class="linenum">3199</span></a>                          });
<a name="l3200"><span class="linenum">3200</span></a>                      }
<a name="l3201"><span class="linenum">3201</span></a>                  }
<a name="l3202"><span class="linenum">3202</span></a>              }
<a name="l3203"><span class="linenum">3203</span></a>          });
<a name="l3204"><span class="linenum">3204</span></a>  
<a name="l3205"><span class="linenum">3205</span></a>          return false;
<a name="l3206"><span class="linenum">3206</span></a>      },
<a name="l3207"><span class="linenum">3207</span></a>  
<a name="l3208"><span class="linenum">3208</span></a>      _mouseStop: function(event) {
<a name="l3209"><span class="linenum">3209</span></a>          var self = this;
<a name="l3210"><span class="linenum">3210</span></a>  
<a name="l3211"><span class="linenum">3211</span></a>          this.dragged = false;
<a name="l3212"><span class="linenum">3212</span></a>  
<a name="l3213"><span class="linenum">3213</span></a>          var options = this.options;
<a name="l3214"><span class="linenum">3214</span></a>  
<a name="l3215"><span class="linenum">3215</span></a>          $('.ui-unselecting', this.element[0]).<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l3216"><span class="linenum">3216</span></a>              var selectee = $.data(this, &quot;selectable-item&quot;);
<a name="l3217"><span class="linenum">3217</span></a>              selectee.<a class="var it2306" onMouseOver="hilite(2306)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../../../_variables/element.html">$element</a>.removeClass('ui-unselecting');
<a name="l3218"><span class="linenum">3218</span></a>              selectee.unselecting = false;
<a name="l3219"><span class="linenum">3219</span></a>              selectee.startselected = false;
<a name="l3220"><span class="linenum">3220</span></a>              self._trigger(&quot;unselected&quot;, event, {
<a name="l3221"><span class="linenum">3221</span></a>                  unselected: selectee.element
<a name="l3222"><span class="linenum">3222</span></a>              });
<a name="l3223"><span class="linenum">3223</span></a>          });
<a name="l3224"><span class="linenum">3224</span></a>          $('.ui-selecting', this.element[0]).<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l3225"><span class="linenum">3225</span></a>              var selectee = $.data(this, &quot;selectable-item&quot;);
<a name="l3226"><span class="linenum">3226</span></a>              selectee.<a class="var it2306" onMouseOver="hilite(2306)" onMouseOut="lolite()" onClick="logVariable('element')" href="../../../../_variables/element.html">$element</a>.removeClass('ui-selecting').addClass('ui-selected');
<a name="l3227"><span class="linenum">3227</span></a>              selectee.selecting = false;
<a name="l3228"><span class="linenum">3228</span></a>              selectee.selected = true;
<a name="l3229"><span class="linenum">3229</span></a>              selectee.startselected = true;
<a name="l3230"><span class="linenum">3230</span></a>              self._trigger(&quot;selected&quot;, event, {
<a name="l3231"><span class="linenum">3231</span></a>                  selected: selectee.element
<a name="l3232"><span class="linenum">3232</span></a>              });
<a name="l3233"><span class="linenum">3233</span></a>          });
<a name="l3234"><span class="linenum">3234</span></a>          this._trigger(&quot;stop&quot;, event);
<a name="l3235"><span class="linenum">3235</span></a>  
<a name="l3236"><span class="linenum">3236</span></a>          this.helper.<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>();
<a name="l3237"><span class="linenum">3237</span></a>  
<a name="l3238"><span class="linenum">3238</span></a>          return false;
<a name="l3239"><span class="linenum">3239</span></a>      }
<a name="l3240"><span class="linenum">3240</span></a>  
<a name="l3241"><span class="linenum">3241</span></a>  });
<a name="l3242"><span class="linenum">3242</span></a>  
<a name="l3243"><span class="linenum">3243</span></a>  $.extend($.ui.selectable, {
<a name="l3244"><span class="linenum">3244</span></a>      version: &quot;1.8.18&quot;
<a name="l3245"><span class="linenum">3245</span></a>  });
<a name="l3246"><span class="linenum">3246</span></a>  
<a name="l3247"><span class="linenum">3247</span></a>  })(jQuery);
<a name="l3248"><span class="linenum">3248</span></a>  <span class="comment">/*</span>
<a name="l3249"><span class="linenum">3249</span></a>  <span class="comment"> * jQuery UI Sortable 1.8.18</span>
<a name="l3250"><span class="linenum">3250</span></a>  <span class="comment"> *</span>
<a name="l3251"><span class="linenum">3251</span></a>  <span class="comment"> * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l3252"><span class="linenum">3252</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l3253"><span class="linenum">3253</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l3254"><span class="linenum">3254</span></a>  <span class="comment"> *</span>
<a name="l3255"><span class="linenum">3255</span></a>  <span class="comment"> * http://docs.jquery.com/UI/Sortables</span>
<a name="l3256"><span class="linenum">3256</span></a>  <span class="comment"> *</span>
<a name="l3257"><span class="linenum">3257</span></a>  <span class="comment"> * Depends:</span>
<a name="l3258"><span class="linenum">3258</span></a>  <span class="comment"> *    jquery.ui.core.js</span>
<a name="l3259"><span class="linenum">3259</span></a>  <span class="comment"> *    jquery.ui.mouse.js</span>
<a name="l3260"><span class="linenum">3260</span></a>  <span class="comment"> *    jquery.ui.widget.js</span>
<a name="l3261"><span class="linenum">3261</span></a>  <span class="comment"> */</span>
<a name="l3262"><span class="linenum">3262</span></a>  (function( $, undefined ) {
<a name="l3263"><span class="linenum">3263</span></a>  
<a name="l3264"><span class="linenum">3264</span></a>  $.<a class="function" onClick="logFunction('widget')" href="../../../../_functions/widget.html" onMouseOver="funcPopup(event,'widget')">widget</a>(&quot;ui.sortable&quot;, $.ui.mouse, {
<a name="l3265"><span class="linenum">3265</span></a>      widgetEventPrefix: &quot;sort&quot;,
<a name="l3266"><span class="linenum">3266</span></a>      ready: false,
<a name="l3267"><span class="linenum">3267</span></a>      options: {
<a name="l3268"><span class="linenum">3268</span></a>          appendTo: &quot;parent&quot;,
<a name="l3269"><span class="linenum">3269</span></a>          axis: false,
<a name="l3270"><span class="linenum">3270</span></a>          connectWith: false,
<a name="l3271"><span class="linenum">3271</span></a>          containment: false,
<a name="l3272"><span class="linenum">3272</span></a>          cursor: 'auto',
<a name="l3273"><span class="linenum">3273</span></a>          cursorAt: false,
<a name="l3274"><span class="linenum">3274</span></a>          dropOnEmpty: true,
<a name="l3275"><span class="linenum">3275</span></a>          forcePlaceholderSize: false,
<a name="l3276"><span class="linenum">3276</span></a>          forceHelperSize: false,
<a name="l3277"><span class="linenum">3277</span></a>          grid: false,
<a name="l3278"><span class="linenum">3278</span></a>          handle: false,
<a name="l3279"><span class="linenum">3279</span></a>          helper: &quot;original&quot;,
<a name="l3280"><span class="linenum">3280</span></a>          items: '&gt; *',
<a name="l3281"><span class="linenum">3281</span></a>          opacity: false,
<a name="l3282"><span class="linenum">3282</span></a>          placeholder: false,
<a name="l3283"><span class="linenum">3283</span></a>          revert: false,
<a name="l3284"><span class="linenum">3284</span></a>          scroll: true,
<a name="l3285"><span class="linenum">3285</span></a>          scrollSensitivity: 20,
<a name="l3286"><span class="linenum">3286</span></a>          scrollSpeed: 20,
<a name="l3287"><span class="linenum">3287</span></a>          scope: &quot;default&quot;,
<a name="l3288"><span class="linenum">3288</span></a>          tolerance: &quot;intersect&quot;,
<a name="l3289"><span class="linenum">3289</span></a>          zIndex: 1000
<a name="l3290"><span class="linenum">3290</span></a>      },
<a name="l3291"><span class="linenum">3291</span></a>      _create: function() {
<a name="l3292"><span class="linenum">3292</span></a>  
<a name="l3293"><span class="linenum">3293</span></a>          var o = this.options;
<a name="l3294"><span class="linenum">3294</span></a>          this.containerCache = {};
<a name="l3295"><span class="linenum">3295</span></a>          this.element.addClass(&quot;ui-sortable&quot;);
<a name="l3296"><span class="linenum">3296</span></a>  
<a name="l3297"><span class="linenum">3297</span></a>  <span class="comment">        //Get the items</span>
<a name="l3298"><span class="linenum">3298</span></a>          this.refresh();
<a name="l3299"><span class="linenum">3299</span></a>  
<a name="l3300"><span class="linenum">3300</span></a>  <span class="comment">        //Let's determine if the items are being displayed horizontally</span>
<a name="l3301"><span class="linenum">3301</span></a>          this.floating = this.items.length ? o.axis === 'x' || (/left|right/).test(this.items[0].item.css('float')) || (/inline|table-cell/).test(this.items[0].item.css('display')) : false;
<a name="l3302"><span class="linenum">3302</span></a>  
<a name="l3303"><span class="linenum">3303</span></a>  <span class="comment">        //Let's determine the parent's offset</span>
<a name="l3304"><span class="linenum">3304</span></a>          this.offset = this.element.offset();
<a name="l3305"><span class="linenum">3305</span></a>  
<a name="l3306"><span class="linenum">3306</span></a>  <span class="comment">        //Initialize mouse events for interaction</span>
<a name="l3307"><span class="linenum">3307</span></a>          this._mouseInit();
<a name="l3308"><span class="linenum">3308</span></a>          
<a name="l3309"><span class="linenum">3309</span></a>  <span class="comment">        //We're ready to go</span>
<a name="l3310"><span class="linenum">3310</span></a>          this.ready = true
<a name="l3311"><span class="linenum">3311</span></a>  
<a name="l3312"><span class="linenum">3312</span></a>      },
<a name="l3313"><span class="linenum">3313</span></a>  
<a name="l3314"><span class="linenum">3314</span></a>      destroy: function() {
<a name="l3315"><span class="linenum">3315</span></a>          $.Widget.prototype.destroy.call( this );
<a name="l3316"><span class="linenum">3316</span></a>          this.element
<a name="l3317"><span class="linenum">3317</span></a>              .removeClass(&quot;ui-sortable ui-sortable-disabled&quot;);
<a name="l3318"><span class="linenum">3318</span></a>          this._mouseDestroy();
<a name="l3319"><span class="linenum">3319</span></a>  
<a name="l3320"><span class="linenum">3320</span></a>          for ( var i = this.items.length - 1; i &gt;= 0; i-- )
<a name="l3321"><span class="linenum">3321</span></a>              this.items[i].item.removeData(this.widgetName + &quot;-item&quot;);
<a name="l3322"><span class="linenum">3322</span></a>  
<a name="l3323"><span class="linenum">3323</span></a>          return this;
<a name="l3324"><span class="linenum">3324</span></a>      },
<a name="l3325"><span class="linenum">3325</span></a>  
<a name="l3326"><span class="linenum">3326</span></a>      _setOption: function(key, value){
<a name="l3327"><span class="linenum">3327</span></a>          if ( key === &quot;disabled&quot; ) {
<a name="l3328"><span class="linenum">3328</span></a>              this.options[ key ] = value;
<a name="l3329"><span class="linenum">3329</span></a>      
<a name="l3330"><span class="linenum">3330</span></a>              this.<a class="function" onClick="logFunction('widget')" href="../../../../_functions/widget.html" onMouseOver="funcPopup(event,'widget')">widget</a>()
<a name="l3331"><span class="linenum">3331</span></a>                  [ value ? &quot;addClass&quot; : &quot;removeClass&quot;]( &quot;ui-sortable-disabled&quot; );
<a name="l3332"><span class="linenum">3332</span></a>          } else {
<a name="l3333"><span class="linenum">3333</span></a>  <span class="comment">            // Don't call widget base _setOption for disable as it adds ui-state-disabled class</span>
<a name="l3334"><span class="linenum">3334</span></a>              $.Widget.prototype._setOption.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments);
<a name="l3335"><span class="linenum">3335</span></a>          }
<a name="l3336"><span class="linenum">3336</span></a>      },
<a name="l3337"><span class="linenum">3337</span></a>  
<a name="l3338"><span class="linenum">3338</span></a>      _mouseCapture: function(event, overrideHandle) {
<a name="l3339"><span class="linenum">3339</span></a>          var that = this;
<a name="l3340"><span class="linenum">3340</span></a>  
<a name="l3341"><span class="linenum">3341</span></a>          if (this.reverting) {
<a name="l3342"><span class="linenum">3342</span></a>              return false;
<a name="l3343"><span class="linenum">3343</span></a>          }
<a name="l3344"><span class="linenum">3344</span></a>  
<a name="l3345"><span class="linenum">3345</span></a>          if(this.options.disabled || this.options.type == 'static') return false;
<a name="l3346"><span class="linenum">3346</span></a>  
<a name="l3347"><span class="linenum">3347</span></a>  <span class="comment">        //We have to refresh the items data once first</span>
<a name="l3348"><span class="linenum">3348</span></a>          this._refreshItems(event);
<a name="l3349"><span class="linenum">3349</span></a>  
<a name="l3350"><span class="linenum">3350</span></a>  <span class="comment">        //Find out if the clicked node (or one of its parents) is a actual item in this.items</span>
<a name="l3351"><span class="linenum">3351</span></a>          var currentItem = null, self = this, nodes = $(event.target).parents().<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l3352"><span class="linenum">3352</span></a>              if($.data(this, that.widgetName + '-item') == self) {
<a name="l3353"><span class="linenum">3353</span></a>                  currentItem = $(this);
<a name="l3354"><span class="linenum">3354</span></a>                  return false;
<a name="l3355"><span class="linenum">3355</span></a>              }
<a name="l3356"><span class="linenum">3356</span></a>          });
<a name="l3357"><span class="linenum">3357</span></a>          if($.data(event.target, that.widgetName + '-item') == self) currentItem = $(event.target);
<a name="l3358"><span class="linenum">3358</span></a>  
<a name="l3359"><span class="linenum">3359</span></a>          if(!currentItem) return false;
<a name="l3360"><span class="linenum">3360</span></a>          if(this.options.handle &amp;&amp; !overrideHandle) {
<a name="l3361"><span class="linenum">3361</span></a>              var validHandle = false;
<a name="l3362"><span class="linenum">3362</span></a>  
<a name="l3363"><span class="linenum">3363</span></a>              $(this.options.handle, currentItem).<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>(&quot;*&quot;).andSelf().<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() { if(this == event.target) validHandle = true; });
<a name="l3364"><span class="linenum">3364</span></a>              if(!validHandle) return false;
<a name="l3365"><span class="linenum">3365</span></a>          }
<a name="l3366"><span class="linenum">3366</span></a>  
<a name="l3367"><span class="linenum">3367</span></a>          this.currentItem = currentItem;
<a name="l3368"><span class="linenum">3368</span></a>          this._removeCurrentsFromItems();
<a name="l3369"><span class="linenum">3369</span></a>          return true;
<a name="l3370"><span class="linenum">3370</span></a>  
<a name="l3371"><span class="linenum">3371</span></a>      },
<a name="l3372"><span class="linenum">3372</span></a>  
<a name="l3373"><span class="linenum">3373</span></a>      _mouseStart: function(event, overrideHandle, noActivation) {
<a name="l3374"><span class="linenum">3374</span></a>  
<a name="l3375"><span class="linenum">3375</span></a>          var o = this.options, self = this;
<a name="l3376"><span class="linenum">3376</span></a>          this.currentContainer = this;
<a name="l3377"><span class="linenum">3377</span></a>  
<a name="l3378"><span class="linenum">3378</span></a>  <span class="comment">        //We only need to call refreshPositions, because the refreshItems call has been moved to mouseCapture</span>
<a name="l3379"><span class="linenum">3379</span></a>          this.refreshPositions();
<a name="l3380"><span class="linenum">3380</span></a>  
<a name="l3381"><span class="linenum">3381</span></a>  <span class="comment">        //Create and append the visible helper</span>
<a name="l3382"><span class="linenum">3382</span></a>          this.helper = this._createHelper(event);
<a name="l3383"><span class="linenum">3383</span></a>  
<a name="l3384"><span class="linenum">3384</span></a>  <span class="comment">        //Cache the helper size</span>
<a name="l3385"><span class="linenum">3385</span></a>          this._cacheHelperProportions();
<a name="l3386"><span class="linenum">3386</span></a>  
<a name="l3387"><span class="linenum">3387</span></a>          <span class="comment">/*</span>
<a name="l3388"><span class="linenum">3388</span></a>  <span class="comment">         * - Position generation -</span>
<a name="l3389"><span class="linenum">3389</span></a>  <span class="comment">         * This block generates everything position related - it's the core of draggables.</span>
<a name="l3390"><span class="linenum">3390</span></a>  <span class="comment">         */</span>
<a name="l3391"><span class="linenum">3391</span></a>  
<a name="l3392"><span class="linenum">3392</span></a>  <span class="comment">        //Cache the margins of the original element</span>
<a name="l3393"><span class="linenum">3393</span></a>          this._cacheMargins();
<a name="l3394"><span class="linenum">3394</span></a>  
<a name="l3395"><span class="linenum">3395</span></a>  <span class="comment">        //Get the next scrolling parent</span>
<a name="l3396"><span class="linenum">3396</span></a>          this.scrollParent = this.helper.scrollParent();
<a name="l3397"><span class="linenum">3397</span></a>  
<a name="l3398"><span class="linenum">3398</span></a>  <span class="comment">        //The element's absolute position on the page minus margins</span>
<a name="l3399"><span class="linenum">3399</span></a>          this.offset = this.currentItem.offset();
<a name="l3400"><span class="linenum">3400</span></a>          this.offset = {
<a name="l3401"><span class="linenum">3401</span></a>              top: this.offset.top - this.margins.top,
<a name="l3402"><span class="linenum">3402</span></a>              left: this.offset.left - this.margins.left
<a name="l3403"><span class="linenum">3403</span></a>          };
<a name="l3404"><span class="linenum">3404</span></a>  
<a name="l3405"><span class="linenum">3405</span></a>  <span class="comment">        // Only after we got the offset, we can change the helper's position to absolute</span>
<a name="l3406"><span class="linenum">3406</span></a>  <span class="comment">        // TODO: Still need to figure out a way to make relative sorting possible</span>
<a name="l3407"><span class="linenum">3407</span></a>          this.helper.css(&quot;position&quot;, &quot;absolute&quot;);
<a name="l3408"><span class="linenum">3408</span></a>          this.cssPosition = this.helper.css(&quot;position&quot;);
<a name="l3409"><span class="linenum">3409</span></a>  
<a name="l3410"><span class="linenum">3410</span></a>          $.extend(this.offset, {
<a name="l3411"><span class="linenum">3411</span></a>              click: { //Where the click happened, relative to the element
<a name="l3412"><span class="linenum">3412</span></a>                  left: event.pageX - this.offset.left,
<a name="l3413"><span class="linenum">3413</span></a>                  top: event.pageY - this.offset.top
<a name="l3414"><span class="linenum">3414</span></a>              },
<a name="l3415"><span class="linenum">3415</span></a>              parent: this._getParentOffset(),
<a name="l3416"><span class="linenum">3416</span></a>              relative: this._getRelativeOffset() //This is a relative to absolute position minus the actual position calculation - only used for relative positioned helper
<a name="l3417"><span class="linenum">3417</span></a>          });
<a name="l3418"><span class="linenum">3418</span></a>  
<a name="l3419"><span class="linenum">3419</span></a>  <span class="comment">        //Generate the original position</span>
<a name="l3420"><span class="linenum">3420</span></a>          this.originalPosition = this._generatePosition(event);
<a name="l3421"><span class="linenum">3421</span></a>          this.originalPageX = event.pageX;
<a name="l3422"><span class="linenum">3422</span></a>          this.originalPageY = event.pageY;
<a name="l3423"><span class="linenum">3423</span></a>  
<a name="l3424"><span class="linenum">3424</span></a>  <span class="comment">        //Adjust the mouse offset relative to the helper if 'cursorAt' is supplied</span>
<a name="l3425"><span class="linenum">3425</span></a>          (o.cursorAt &amp;&amp; this._adjustOffsetFromHelper(o.cursorAt));
<a name="l3426"><span class="linenum">3426</span></a>  
<a name="l3427"><span class="linenum">3427</span></a>  <span class="comment">        //Cache the former DOM position</span>
<a name="l3428"><span class="linenum">3428</span></a>          this.domPosition = { prev: this.currentItem.<a class="phpfunction" onClick="logFunction('prev')" href="../../../../_functions/prev.html" onMouseOver="phpfuncPopup(event,'prev')">prev</a>()[0], parent: this.currentItem.parent()[0] };
<a name="l3429"><span class="linenum">3429</span></a>  
<a name="l3430"><span class="linenum">3430</span></a>  <span class="comment">        //If the helper is not the original, hide the original so it's not playing any role during the drag, won't cause anything bad this way</span>
<a name="l3431"><span class="linenum">3431</span></a>          if(this.helper[0] != this.currentItem[0]) {
<a name="l3432"><span class="linenum">3432</span></a>              this.currentItem.hide();
<a name="l3433"><span class="linenum">3433</span></a>          }
<a name="l3434"><span class="linenum">3434</span></a>  
<a name="l3435"><span class="linenum">3435</span></a>  <span class="comment">        //Create the placeholder</span>
<a name="l3436"><span class="linenum">3436</span></a>          this._createPlaceholder();
<a name="l3437"><span class="linenum">3437</span></a>  
<a name="l3438"><span class="linenum">3438</span></a>  <span class="comment">        //Set a containment if given in the options</span>
<a name="l3439"><span class="linenum">3439</span></a>          if(o.containment)
<a name="l3440"><span class="linenum">3440</span></a>              this._setContainment();
<a name="l3441"><span class="linenum">3441</span></a>  
<a name="l3442"><span class="linenum">3442</span></a>          if(o.cursor) { // cursor option
<a name="l3443"><span class="linenum">3443</span></a>              if ($('body').css(&quot;cursor&quot;)) this._storedCursor = $('body').css(&quot;cursor&quot;);
<a name="l3444"><span class="linenum">3444</span></a>              $('body').css(&quot;cursor&quot;, o.cursor);
<a name="l3445"><span class="linenum">3445</span></a>          }
<a name="l3446"><span class="linenum">3446</span></a>  
<a name="l3447"><span class="linenum">3447</span></a>          if(o.opacity) { // opacity option
<a name="l3448"><span class="linenum">3448</span></a>              if (this.helper.css(&quot;opacity&quot;)) this._storedOpacity = this.helper.css(&quot;opacity&quot;);
<a name="l3449"><span class="linenum">3449</span></a>              this.helper.css(&quot;opacity&quot;, o.opacity);
<a name="l3450"><span class="linenum">3450</span></a>          }
<a name="l3451"><span class="linenum">3451</span></a>  
<a name="l3452"><span class="linenum">3452</span></a>          if(o.zIndex) { // zIndex option
<a name="l3453"><span class="linenum">3453</span></a>              if (this.helper.css(&quot;zIndex&quot;)) this._storedZIndex = this.helper.css(&quot;zIndex&quot;);
<a name="l3454"><span class="linenum">3454</span></a>              this.helper.css(&quot;zIndex&quot;, o.zIndex);
<a name="l3455"><span class="linenum">3455</span></a>          }
<a name="l3456"><span class="linenum">3456</span></a>  
<a name="l3457"><span class="linenum">3457</span></a>  <span class="comment">        //Prepare scrolling</span>
<a name="l3458"><span class="linenum">3458</span></a>          if(this.scrollParent[0] != document &amp;&amp; this.scrollParent[0].tagName != 'HTML')
<a name="l3459"><span class="linenum">3459</span></a>              this.overflowOffset = this.scrollParent.offset();
<a name="l3460"><span class="linenum">3460</span></a>  
<a name="l3461"><span class="linenum">3461</span></a>  <span class="comment">        //Call callbacks</span>
<a name="l3462"><span class="linenum">3462</span></a>          this._trigger(&quot;start&quot;, event, this._uiHash());
<a name="l3463"><span class="linenum">3463</span></a>  
<a name="l3464"><span class="linenum">3464</span></a>  <span class="comment">        //Recache the helper size</span>
<a name="l3465"><span class="linenum">3465</span></a>          if(!this._preserveHelperProportions)
<a name="l3466"><span class="linenum">3466</span></a>              this._cacheHelperProportions();
<a name="l3467"><span class="linenum">3467</span></a>  
<a name="l3468"><span class="linenum">3468</span></a>  
<a name="l3469"><span class="linenum">3469</span></a>  <span class="comment">        //Post 'activate' events to possible containers</span>
<a name="l3470"><span class="linenum">3470</span></a>          if(!noActivation) {
<a name="l3471"><span class="linenum">3471</span></a>               for (var i = this.containers.length - 1; i &gt;= 0; i--) { this.containers[i]._trigger(&quot;activate&quot;, event, self._uiHash(this)); }
<a name="l3472"><span class="linenum">3472</span></a>          }
<a name="l3473"><span class="linenum">3473</span></a>  
<a name="l3474"><span class="linenum">3474</span></a>  <span class="comment">        //Prepare possible droppables</span>
<a name="l3475"><span class="linenum">3475</span></a>          if($.ui.ddmanager)
<a name="l3476"><span class="linenum">3476</span></a>              $.ui.ddmanager.current = this;
<a name="l3477"><span class="linenum">3477</span></a>  
<a name="l3478"><span class="linenum">3478</span></a>          if ($.ui.ddmanager &amp;&amp; !o.dropBehaviour)
<a name="l3479"><span class="linenum">3479</span></a>              $.ui.ddmanager.prepareOffsets(this, event);
<a name="l3480"><span class="linenum">3480</span></a>  
<a name="l3481"><span class="linenum">3481</span></a>          this.dragging = true;
<a name="l3482"><span class="linenum">3482</span></a>  
<a name="l3483"><span class="linenum">3483</span></a>          this.helper.addClass(&quot;ui-sortable-helper&quot;);
<a name="l3484"><span class="linenum">3484</span></a>          this._mouseDrag(event); <span class="comment">//Execute the drag once - this causes the helper not to be visible before getting its correct position</span>
<a name="l3485"><span class="linenum">3485</span></a>          return true;
<a name="l3486"><span class="linenum">3486</span></a>  
<a name="l3487"><span class="linenum">3487</span></a>      },
<a name="l3488"><span class="linenum">3488</span></a>  
<a name="l3489"><span class="linenum">3489</span></a>      _mouseDrag: function(event) {
<a name="l3490"><span class="linenum">3490</span></a>  
<a name="l3491"><span class="linenum">3491</span></a>  <span class="comment">        //Compute the helpers position</span>
<a name="l3492"><span class="linenum">3492</span></a>          this.position = this._generatePosition(event);
<a name="l3493"><span class="linenum">3493</span></a>          this.positionAbs = this._convertPositionTo(&quot;absolute&quot;);
<a name="l3494"><span class="linenum">3494</span></a>  
<a name="l3495"><span class="linenum">3495</span></a>          if (!this.lastPositionAbs) {
<a name="l3496"><span class="linenum">3496</span></a>              this.lastPositionAbs = this.positionAbs;
<a name="l3497"><span class="linenum">3497</span></a>          }
<a name="l3498"><span class="linenum">3498</span></a>  
<a name="l3499"><span class="linenum">3499</span></a>  <span class="comment">        //Do scrolling</span>
<a name="l3500"><span class="linenum">3500</span></a>          if(this.options.scroll) {
<a name="l3501"><span class="linenum">3501</span></a>              var o = this.options, scrolled = false;
<a name="l3502"><span class="linenum">3502</span></a>              if(this.scrollParent[0] != document &amp;&amp; this.scrollParent[0].tagName != 'HTML') {
<a name="l3503"><span class="linenum">3503</span></a>  
<a name="l3504"><span class="linenum">3504</span></a>                  if((this.overflowOffset.top + this.scrollParent[0].offsetHeight) - event.pageY &lt; o.scrollSensitivity)
<a name="l3505"><span class="linenum">3505</span></a>                      this.scrollParent[0].scrollTop = scrolled = this.scrollParent[0].scrollTop + o.scrollSpeed;
<a name="l3506"><span class="linenum">3506</span></a>                  else if(event.pageY - this.overflowOffset.top &lt; o.scrollSensitivity)
<a name="l3507"><span class="linenum">3507</span></a>                      this.scrollParent[0].scrollTop = scrolled = this.scrollParent[0].scrollTop - o.scrollSpeed;
<a name="l3508"><span class="linenum">3508</span></a>  
<a name="l3509"><span class="linenum">3509</span></a>                  if((this.overflowOffset.left + this.scrollParent[0].offsetWidth) - event.pageX &lt; o.scrollSensitivity)
<a name="l3510"><span class="linenum">3510</span></a>                      this.scrollParent[0].scrollLeft = scrolled = this.scrollParent[0].scrollLeft + o.scrollSpeed;
<a name="l3511"><span class="linenum">3511</span></a>                  else if(event.pageX - this.overflowOffset.left &lt; o.scrollSensitivity)
<a name="l3512"><span class="linenum">3512</span></a>                      this.scrollParent[0].scrollLeft = scrolled = this.scrollParent[0].scrollLeft - o.scrollSpeed;
<a name="l3513"><span class="linenum">3513</span></a>  
<a name="l3514"><span class="linenum">3514</span></a>              } else {
<a name="l3515"><span class="linenum">3515</span></a>  
<a name="l3516"><span class="linenum">3516</span></a>                  if(event.pageY - $(document).scrollTop() &lt; o.scrollSensitivity)
<a name="l3517"><span class="linenum">3517</span></a>                      scrolled = $(document).scrollTop($(document).scrollTop() - o.scrollSpeed);
<a name="l3518"><span class="linenum">3518</span></a>                  else if($(window).height() - (event.pageY - $(document).scrollTop()) &lt; o.scrollSensitivity)
<a name="l3519"><span class="linenum">3519</span></a>                      scrolled = $(document).scrollTop($(document).scrollTop() + o.scrollSpeed);
<a name="l3520"><span class="linenum">3520</span></a>  
<a name="l3521"><span class="linenum">3521</span></a>                  if(event.pageX - $(document).scrollLeft() &lt; o.scrollSensitivity)
<a name="l3522"><span class="linenum">3522</span></a>                      scrolled = $(document).scrollLeft($(document).scrollLeft() - o.scrollSpeed);
<a name="l3523"><span class="linenum">3523</span></a>                  else if($(window).width() - (event.pageX - $(document).scrollLeft()) &lt; o.scrollSensitivity)
<a name="l3524"><span class="linenum">3524</span></a>                      scrolled = $(document).scrollLeft($(document).scrollLeft() + o.scrollSpeed);
<a name="l3525"><span class="linenum">3525</span></a>  
<a name="l3526"><span class="linenum">3526</span></a>              }
<a name="l3527"><span class="linenum">3527</span></a>  
<a name="l3528"><span class="linenum">3528</span></a>              if(scrolled !== false &amp;&amp; $.ui.ddmanager &amp;&amp; !o.dropBehaviour)
<a name="l3529"><span class="linenum">3529</span></a>                  $.ui.ddmanager.prepareOffsets(this, event);
<a name="l3530"><span class="linenum">3530</span></a>          }
<a name="l3531"><span class="linenum">3531</span></a>  
<a name="l3532"><span class="linenum">3532</span></a>  <span class="comment">        //Regenerate the absolute position used for position checks</span>
<a name="l3533"><span class="linenum">3533</span></a>          this.positionAbs = this._convertPositionTo(&quot;absolute&quot;);
<a name="l3534"><span class="linenum">3534</span></a>  
<a name="l3535"><span class="linenum">3535</span></a>  <span class="comment">        //Set the helper position</span>
<a name="l3536"><span class="linenum">3536</span></a>          if(!this.options.axis || this.options.axis != &quot;y&quot;) this.helper[0].style.left = this.position.left+'px';
<a name="l3537"><span class="linenum">3537</span></a>          if(!this.options.axis || this.options.axis != &quot;x&quot;) this.helper[0].style.top = this.position.top+'px';
<a name="l3538"><span class="linenum">3538</span></a>  
<a name="l3539"><span class="linenum">3539</span></a>  <span class="comment">        //Rearrange</span>
<a name="l3540"><span class="linenum">3540</span></a>          for (var i = this.items.length - 1; i &gt;= 0; i--) {
<a name="l3541"><span class="linenum">3541</span></a>  
<a name="l3542"><span class="linenum">3542</span></a>  <span class="comment">            //Cache variables and intersection, continue if no intersection</span>
<a name="l3543"><span class="linenum">3543</span></a>              var item = this.items[i], itemElement = item.item[0], intersection = this._intersectsWithPointer(item);
<a name="l3544"><span class="linenum">3544</span></a>              if (!intersection) continue;
<a name="l3545"><span class="linenum">3545</span></a>  
<a name="l3546"><span class="linenum">3546</span></a>              if(itemElement != this.currentItem[0] //cannot intersect with itself
<a name="l3547"><span class="linenum">3547</span></a>                  &amp;&amp;    this.placeholder[intersection == 1 ? &quot;next&quot; : &quot;prev&quot;]()[0] != itemElement //no useless actions that have been done before
<a name="l3548"><span class="linenum">3548</span></a>                  &amp;&amp;    !$.ui.<a class="function" onClick="logFunction('contains')" href="../../../../_functions/contains.html" onMouseOver="funcPopup(event,'contains')">contains</a>(this.placeholder[0], itemElement) //no action if the item moved is the parent of the item checked
<a name="l3549"><span class="linenum">3549</span></a>                  &amp;&amp; (this.options.type == 'semi-dynamic' ? !$.ui.<a class="function" onClick="logFunction('contains')" href="../../../../_functions/contains.html" onMouseOver="funcPopup(event,'contains')">contains</a>(this.element[0], itemElement) : true)
<a name="l3550"><span class="linenum">3550</span></a>  <span class="comment">                //&amp;&amp; itemElement.parentNode == this.placeholder[0].parentNode // only rearrange items within the same container</span>
<a name="l3551"><span class="linenum">3551</span></a>              ) {
<a name="l3552"><span class="linenum">3552</span></a>  
<a name="l3553"><span class="linenum">3553</span></a>                  this.direction = intersection == 1 ? &quot;down&quot; : &quot;up&quot;;
<a name="l3554"><span class="linenum">3554</span></a>  
<a name="l3555"><span class="linenum">3555</span></a>                  if (this.options.tolerance == &quot;pointer&quot; || this._intersectsWithSides(item)) {
<a name="l3556"><span class="linenum">3556</span></a>                      this._rearrange(event, item);
<a name="l3557"><span class="linenum">3557</span></a>                  } else {
<a name="l3558"><span class="linenum">3558</span></a>                      break;
<a name="l3559"><span class="linenum">3559</span></a>                  }
<a name="l3560"><span class="linenum">3560</span></a>  
<a name="l3561"><span class="linenum">3561</span></a>                  this._trigger(&quot;change&quot;, event, this._uiHash());
<a name="l3562"><span class="linenum">3562</span></a>                  break;
<a name="l3563"><span class="linenum">3563</span></a>              }
<a name="l3564"><span class="linenum">3564</span></a>          }
<a name="l3565"><span class="linenum">3565</span></a>  
<a name="l3566"><span class="linenum">3566</span></a>  <span class="comment">        //Post events to containers</span>
<a name="l3567"><span class="linenum">3567</span></a>          this._contactContainers(event);
<a name="l3568"><span class="linenum">3568</span></a>  
<a name="l3569"><span class="linenum">3569</span></a>  <span class="comment">        //Interconnect with droppables</span>
<a name="l3570"><span class="linenum">3570</span></a>          if($.ui.ddmanager) $.ui.ddmanager.drag(this, event);
<a name="l3571"><span class="linenum">3571</span></a>  
<a name="l3572"><span class="linenum">3572</span></a>  <span class="comment">        //Call callbacks</span>
<a name="l3573"><span class="linenum">3573</span></a>          this._trigger('sort', event, this._uiHash());
<a name="l3574"><span class="linenum">3574</span></a>  
<a name="l3575"><span class="linenum">3575</span></a>          this.lastPositionAbs = this.positionAbs;
<a name="l3576"><span class="linenum">3576</span></a>          return false;
<a name="l3577"><span class="linenum">3577</span></a>  
<a name="l3578"><span class="linenum">3578</span></a>      },
<a name="l3579"><span class="linenum">3579</span></a>  
<a name="l3580"><span class="linenum">3580</span></a>      _mouseStop: function(event, noPropagation) {
<a name="l3581"><span class="linenum">3581</span></a>  
<a name="l3582"><span class="linenum">3582</span></a>          if(!event) return;
<a name="l3583"><span class="linenum">3583</span></a>  
<a name="l3584"><span class="linenum">3584</span></a>  <span class="comment">        //If we are using droppables, inform the manager about the drop</span>
<a name="l3585"><span class="linenum">3585</span></a>          if ($.ui.ddmanager &amp;&amp; !this.options.dropBehaviour)
<a name="l3586"><span class="linenum">3586</span></a>              $.ui.ddmanager.drop(this, event);
<a name="l3587"><span class="linenum">3587</span></a>  
<a name="l3588"><span class="linenum">3588</span></a>          if(this.options.revert) {
<a name="l3589"><span class="linenum">3589</span></a>              var self = this;
<a name="l3590"><span class="linenum">3590</span></a>              var cur = self.placeholder.offset();
<a name="l3591"><span class="linenum">3591</span></a>  
<a name="l3592"><span class="linenum">3592</span></a>              self.reverting = true;
<a name="l3593"><span class="linenum">3593</span></a>  
<a name="l3594"><span class="linenum">3594</span></a>              $(this.helper).animate({
<a name="l3595"><span class="linenum">3595</span></a>                  left: cur.left - this.offset.parent.left - self.margins.left + (this.offsetParent[0] == document.body ? 0 : this.offsetParent[0].scrollLeft),
<a name="l3596"><span class="linenum">3596</span></a>                  top: cur.top - this.offset.parent.top - self.margins.top + (this.offsetParent[0] == document.body ? 0 : this.offsetParent[0].scrollTop)
<a name="l3597"><span class="linenum">3597</span></a>              }, parseInt(this.options.revert, 10) || 500, function() {
<a name="l3598"><span class="linenum">3598</span></a>                  self._clear(event);
<a name="l3599"><span class="linenum">3599</span></a>              });
<a name="l3600"><span class="linenum">3600</span></a>          } else {
<a name="l3601"><span class="linenum">3601</span></a>              this._clear(event, noPropagation);
<a name="l3602"><span class="linenum">3602</span></a>          }
<a name="l3603"><span class="linenum">3603</span></a>  
<a name="l3604"><span class="linenum">3604</span></a>          return false;
<a name="l3605"><span class="linenum">3605</span></a>  
<a name="l3606"><span class="linenum">3606</span></a>      },
<a name="l3607"><span class="linenum">3607</span></a>  
<a name="l3608"><span class="linenum">3608</span></a>      cancel: function() {
<a name="l3609"><span class="linenum">3609</span></a>  
<a name="l3610"><span class="linenum">3610</span></a>          var self = this;
<a name="l3611"><span class="linenum">3611</span></a>  
<a name="l3612"><span class="linenum">3612</span></a>          if(this.dragging) {
<a name="l3613"><span class="linenum">3613</span></a>  
<a name="l3614"><span class="linenum">3614</span></a>              this._mouseUp({ target: null });
<a name="l3615"><span class="linenum">3615</span></a>  
<a name="l3616"><span class="linenum">3616</span></a>              if(this.options.helper == &quot;original&quot;)
<a name="l3617"><span class="linenum">3617</span></a>                  this.currentItem.css(this._storedCSS).removeClass(&quot;ui-sortable-helper&quot;);
<a name="l3618"><span class="linenum">3618</span></a>              else
<a name="l3619"><span class="linenum">3619</span></a>                  this.currentItem.show();
<a name="l3620"><span class="linenum">3620</span></a>  
<a name="l3621"><span class="linenum">3621</span></a>  <span class="comment">            //Post deactivating events to containers</span>
<a name="l3622"><span class="linenum">3622</span></a>              for (var i = this.containers.length - 1; i &gt;= 0; i--){
<a name="l3623"><span class="linenum">3623</span></a>                  this.containers[i]._trigger(&quot;deactivate&quot;, null, self._uiHash(this));
<a name="l3624"><span class="linenum">3624</span></a>                  if(this.containers[i].containerCache.over) {
<a name="l3625"><span class="linenum">3625</span></a>                      this.containers[i]._trigger(&quot;out&quot;, null, self._uiHash(this));
<a name="l3626"><span class="linenum">3626</span></a>                      this.containers[i].containerCache.over = 0;
<a name="l3627"><span class="linenum">3627</span></a>                  }
<a name="l3628"><span class="linenum">3628</span></a>              }
<a name="l3629"><span class="linenum">3629</span></a>  
<a name="l3630"><span class="linenum">3630</span></a>          }
<a name="l3631"><span class="linenum">3631</span></a>  
<a name="l3632"><span class="linenum">3632</span></a>          if (this.placeholder) {
<a name="l3633"><span class="linenum">3633</span></a>  <span class="comment">            //$(this.placeholder[0]).remove(); would have been the jQuery way - unfortunately, it unbinds ALL events from the original node!</span>
<a name="l3634"><span class="linenum">3634</span></a>              if(this.placeholder[0].parentNode) this.placeholder[0].parentNode.removeChild(this.placeholder[0]);
<a name="l3635"><span class="linenum">3635</span></a>              if(this.options.helper != &quot;original&quot; &amp;&amp; this.helper &amp;&amp; this.helper[0].parentNode) this.helper.<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>();
<a name="l3636"><span class="linenum">3636</span></a>  
<a name="l3637"><span class="linenum">3637</span></a>              $.extend(this, {
<a name="l3638"><span class="linenum">3638</span></a>                  helper: null,
<a name="l3639"><span class="linenum">3639</span></a>                  dragging: false,
<a name="l3640"><span class="linenum">3640</span></a>                  reverting: false,
<a name="l3641"><span class="linenum">3641</span></a>                  _noFinalSort: null
<a name="l3642"><span class="linenum">3642</span></a>              });
<a name="l3643"><span class="linenum">3643</span></a>  
<a name="l3644"><span class="linenum">3644</span></a>              if(this.domPosition.prev) {
<a name="l3645"><span class="linenum">3645</span></a>                  $(this.domPosition.prev).after(this.currentItem);
<a name="l3646"><span class="linenum">3646</span></a>              } else {
<a name="l3647"><span class="linenum">3647</span></a>                  $(this.domPosition.parent).prepend(this.currentItem);
<a name="l3648"><span class="linenum">3648</span></a>              }
<a name="l3649"><span class="linenum">3649</span></a>          }
<a name="l3650"><span class="linenum">3650</span></a>  
<a name="l3651"><span class="linenum">3651</span></a>          return this;
<a name="l3652"><span class="linenum">3652</span></a>  
<a name="l3653"><span class="linenum">3653</span></a>      },
<a name="l3654"><span class="linenum">3654</span></a>  
<a name="l3655"><span class="linenum">3655</span></a>      serialize: function(o) {
<a name="l3656"><span class="linenum">3656</span></a>  
<a name="l3657"><span class="linenum">3657</span></a>          var items = this._getItemsAsjQuery(o &amp;&amp; o.connected);
<a name="l3658"><span class="linenum">3658</span></a>          var str = []; o = o || {};
<a name="l3659"><span class="linenum">3659</span></a>  
<a name="l3660"><span class="linenum">3660</span></a>          $(items).<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l3661"><span class="linenum">3661</span></a>              var res = ($(o.item || this).attr(o.attribute || 'id') || '').<a class="function" onClick="logFunction('match')" href="../../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(o.expression || (/(.+)[-=_](.+)/));
<a name="l3662"><span class="linenum">3662</span></a>              if(res) str.push((o.key || res[1]+'[]')+'='+(o.key &amp;&amp; o.expression ? res[1] : res[2]));
<a name="l3663"><span class="linenum">3663</span></a>          });
<a name="l3664"><span class="linenum">3664</span></a>  
<a name="l3665"><span class="linenum">3665</span></a>          if(!str.length &amp;&amp; o.key) {
<a name="l3666"><span class="linenum">3666</span></a>              str.push(o.key + '=');
<a name="l3667"><span class="linenum">3667</span></a>          }
<a name="l3668"><span class="linenum">3668</span></a>  
<a name="l3669"><span class="linenum">3669</span></a>          return str.join('&amp;');
<a name="l3670"><span class="linenum">3670</span></a>  
<a name="l3671"><span class="linenum">3671</span></a>      },
<a name="l3672"><span class="linenum">3672</span></a>  
<a name="l3673"><span class="linenum">3673</span></a>      toArray: function(o) {
<a name="l3674"><span class="linenum">3674</span></a>  
<a name="l3675"><span class="linenum">3675</span></a>          var items = this._getItemsAsjQuery(o &amp;&amp; o.connected);
<a name="l3676"><span class="linenum">3676</span></a>          var ret = []; o = o || {};
<a name="l3677"><span class="linenum">3677</span></a>  
<a name="l3678"><span class="linenum">3678</span></a>          items.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() { ret.push($(o.item || this).attr(o.attribute || 'id') || ''); });
<a name="l3679"><span class="linenum">3679</span></a>          return ret;
<a name="l3680"><span class="linenum">3680</span></a>  
<a name="l3681"><span class="linenum">3681</span></a>      },
<a name="l3682"><span class="linenum">3682</span></a>  
<a name="l3683"><span class="linenum">3683</span></a>  <span class="comment">    /* Be careful with the following core functions */</span>
<a name="l3684"><span class="linenum">3684</span></a>      _intersectsWith: function(item) {
<a name="l3685"><span class="linenum">3685</span></a>  
<a name="l3686"><span class="linenum">3686</span></a>          var x1 = this.positionAbs.left,
<a name="l3687"><span class="linenum">3687</span></a>              x2 = x1 + this.helperProportions.width,
<a name="l3688"><span class="linenum">3688</span></a>              y1 = this.positionAbs.top,
<a name="l3689"><span class="linenum">3689</span></a>              y2 = y1 + this.helperProportions.height;
<a name="l3690"><span class="linenum">3690</span></a>  
<a name="l3691"><span class="linenum">3691</span></a>          var l = item.left,
<a name="l3692"><span class="linenum">3692</span></a>              r = l + item.width,
<a name="l3693"><span class="linenum">3693</span></a>              t = item.top,
<a name="l3694"><span class="linenum">3694</span></a>              b = t + item.height;
<a name="l3695"><span class="linenum">3695</span></a>  
<a name="l3696"><span class="linenum">3696</span></a>          var dyClick = this.offset.click.top,
<a name="l3697"><span class="linenum">3697</span></a>              dxClick = this.offset.click.left;
<a name="l3698"><span class="linenum">3698</span></a>  
<a name="l3699"><span class="linenum">3699</span></a>          var isOverElement = (y1 + dyClick) &gt; t &amp;&amp; (y1 + dyClick) &lt; b &amp;&amp; (x1 + dxClick) &gt; l &amp;&amp; (x1 + dxClick) &lt; r;
<a name="l3700"><span class="linenum">3700</span></a>  
<a name="l3701"><span class="linenum">3701</span></a>          if(       this.options.tolerance == &quot;pointer&quot;
<a name="l3702"><span class="linenum">3702</span></a>              || this.options.forcePointerForContainers
<a name="l3703"><span class="linenum">3703</span></a>              || (this.options.tolerance != &quot;pointer&quot; &amp;&amp; this.helperProportions[this.floating ? 'width' : 'height'] &gt; item[this.floating ? 'width' : 'height'])
<a name="l3704"><span class="linenum">3704</span></a>          ) {
<a name="l3705"><span class="linenum">3705</span></a>              return isOverElement;
<a name="l3706"><span class="linenum">3706</span></a>          } else {
<a name="l3707"><span class="linenum">3707</span></a>  
<a name="l3708"><span class="linenum">3708</span></a>              return (l &lt; x1 + (this.helperProportions.width / 2) // Right Half
<a name="l3709"><span class="linenum">3709</span></a>                  &amp;&amp; x2 - (this.helperProportions.width / 2) &lt; r // Left Half
<a name="l3710"><span class="linenum">3710</span></a>                  &amp;&amp; t &lt; y1 + (this.helperProportions.height / 2) // Bottom Half
<a name="l3711"><span class="linenum">3711</span></a>                  &amp;&amp; y2 - (this.helperProportions.height / 2) &lt; b ); <span class="comment">// Top Half</span>
<a name="l3712"><span class="linenum">3712</span></a>  
<a name="l3713"><span class="linenum">3713</span></a>          }
<a name="l3714"><span class="linenum">3714</span></a>      },
<a name="l3715"><span class="linenum">3715</span></a>  
<a name="l3716"><span class="linenum">3716</span></a>      _intersectsWithPointer: function(item) {
<a name="l3717"><span class="linenum">3717</span></a>  
<a name="l3718"><span class="linenum">3718</span></a>          var isOverElementHeight = $.ui.isOverAxis(this.positionAbs.top + this.offset.click.top, item.top, item.height),
<a name="l3719"><span class="linenum">3719</span></a>              isOverElementWidth = $.ui.isOverAxis(this.positionAbs.left + this.offset.click.left, item.left, item.width),
<a name="l3720"><span class="linenum">3720</span></a>              isOverElement = isOverElementHeight &amp;&amp; isOverElementWidth,
<a name="l3721"><span class="linenum">3721</span></a>              verticalDirection = this._getDragVerticalDirection(),
<a name="l3722"><span class="linenum">3722</span></a>              horizontalDirection = this._getDragHorizontalDirection();
<a name="l3723"><span class="linenum">3723</span></a>  
<a name="l3724"><span class="linenum">3724</span></a>          if (!isOverElement)
<a name="l3725"><span class="linenum">3725</span></a>              return false;
<a name="l3726"><span class="linenum">3726</span></a>  
<a name="l3727"><span class="linenum">3727</span></a>          return this.floating ?
<a name="l3728"><span class="linenum">3728</span></a>              ( ((horizontalDirection &amp;&amp; horizontalDirection == &quot;right&quot;) || verticalDirection == &quot;down&quot;) ? 2 : 1 )
<a name="l3729"><span class="linenum">3729</span></a>              : ( verticalDirection &amp;&amp; (verticalDirection == &quot;down&quot; ? 2 : 1) );
<a name="l3730"><span class="linenum">3730</span></a>  
<a name="l3731"><span class="linenum">3731</span></a>      },
<a name="l3732"><span class="linenum">3732</span></a>  
<a name="l3733"><span class="linenum">3733</span></a>      _intersectsWithSides: function(item) {
<a name="l3734"><span class="linenum">3734</span></a>  
<a name="l3735"><span class="linenum">3735</span></a>          var isOverBottomHalf = $.ui.isOverAxis(this.positionAbs.top + this.offset.click.top, item.top + (item.height/2), item.height),
<a name="l3736"><span class="linenum">3736</span></a>              isOverRightHalf = $.ui.isOverAxis(this.positionAbs.left + this.offset.click.left, item.left + (item.width/2), item.width),
<a name="l3737"><span class="linenum">3737</span></a>              verticalDirection = this._getDragVerticalDirection(),
<a name="l3738"><span class="linenum">3738</span></a>              horizontalDirection = this._getDragHorizontalDirection();
<a name="l3739"><span class="linenum">3739</span></a>  
<a name="l3740"><span class="linenum">3740</span></a>          if (this.floating &amp;&amp; horizontalDirection) {
<a name="l3741"><span class="linenum">3741</span></a>              return ((horizontalDirection == &quot;right&quot; &amp;&amp; isOverRightHalf) || (horizontalDirection == &quot;left&quot; &amp;&amp; !isOverRightHalf));
<a name="l3742"><span class="linenum">3742</span></a>          } else {
<a name="l3743"><span class="linenum">3743</span></a>              return verticalDirection &amp;&amp; ((verticalDirection == &quot;down&quot; &amp;&amp; isOverBottomHalf) || (verticalDirection == &quot;up&quot; &amp;&amp; !isOverBottomHalf));
<a name="l3744"><span class="linenum">3744</span></a>          }
<a name="l3745"><span class="linenum">3745</span></a>  
<a name="l3746"><span class="linenum">3746</span></a>      },
<a name="l3747"><span class="linenum">3747</span></a>  
<a name="l3748"><span class="linenum">3748</span></a>      _getDragVerticalDirection: function() {
<a name="l3749"><span class="linenum">3749</span></a>          var delta = this.positionAbs.top - this.lastPositionAbs.top;
<a name="l3750"><span class="linenum">3750</span></a>          return delta != 0 &amp;&amp; (delta &gt; 0 ? &quot;down&quot; : &quot;up&quot;);
<a name="l3751"><span class="linenum">3751</span></a>      },
<a name="l3752"><span class="linenum">3752</span></a>  
<a name="l3753"><span class="linenum">3753</span></a>      _getDragHorizontalDirection: function() {
<a name="l3754"><span class="linenum">3754</span></a>          var delta = this.positionAbs.left - this.lastPositionAbs.left;
<a name="l3755"><span class="linenum">3755</span></a>          return delta != 0 &amp;&amp; (delta &gt; 0 ? &quot;right&quot; : &quot;left&quot;);
<a name="l3756"><span class="linenum">3756</span></a>      },
<a name="l3757"><span class="linenum">3757</span></a>  
<a name="l3758"><span class="linenum">3758</span></a>      refresh: function(event) {
<a name="l3759"><span class="linenum">3759</span></a>          this._refreshItems(event);
<a name="l3760"><span class="linenum">3760</span></a>          this.refreshPositions();
<a name="l3761"><span class="linenum">3761</span></a>          return this;
<a name="l3762"><span class="linenum">3762</span></a>      },
<a name="l3763"><span class="linenum">3763</span></a>  
<a name="l3764"><span class="linenum">3764</span></a>      _connectWith: function() {
<a name="l3765"><span class="linenum">3765</span></a>          var options = this.options;
<a name="l3766"><span class="linenum">3766</span></a>          return options.connectWith.constructor == String
<a name="l3767"><span class="linenum">3767</span></a>              ? [options.connectWith]
<a name="l3768"><span class="linenum">3768</span></a>              : options.connectWith;
<a name="l3769"><span class="linenum">3769</span></a>      },
<a name="l3770"><span class="linenum">3770</span></a>      
<a name="l3771"><span class="linenum">3771</span></a>      _getItemsAsjQuery: function(connected) {
<a name="l3772"><span class="linenum">3772</span></a>  
<a name="l3773"><span class="linenum">3773</span></a>          var self = this;
<a name="l3774"><span class="linenum">3774</span></a>          var items = [];
<a name="l3775"><span class="linenum">3775</span></a>          var queries = [];
<a name="l3776"><span class="linenum">3776</span></a>          var connectWith = this._connectWith();
<a name="l3777"><span class="linenum">3777</span></a>  
<a name="l3778"><span class="linenum">3778</span></a>          if(connectWith &amp;&amp; connected) {
<a name="l3779"><span class="linenum">3779</span></a>              for (var i = connectWith.length - 1; i &gt;= 0; i--){
<a name="l3780"><span class="linenum">3780</span></a>                  var cur = $(connectWith[i]);
<a name="l3781"><span class="linenum">3781</span></a>                  for (var j = cur.length - 1; j &gt;= 0; j--){
<a name="l3782"><span class="linenum">3782</span></a>                      var inst = $.data(cur[j], this.widgetName);
<a name="l3783"><span class="linenum">3783</span></a>                      if(inst &amp;&amp; inst != this &amp;&amp; !inst.options.disabled) {
<a name="l3784"><span class="linenum">3784</span></a>                          queries.push([$.isFunction(inst.options.items) ? inst.options.items.call(inst.element) : $(inst.options.items, inst.element).not(&quot;.ui-sortable-helper&quot;).not('.ui-sortable-placeholder'), inst]);
<a name="l3785"><span class="linenum">3785</span></a>                      }
<a name="l3786"><span class="linenum">3786</span></a>                  };
<a name="l3787"><span class="linenum">3787</span></a>              };
<a name="l3788"><span class="linenum">3788</span></a>          }
<a name="l3789"><span class="linenum">3789</span></a>  
<a name="l3790"><span class="linenum">3790</span></a>          queries.push([$.isFunction(this.options.items) ? this.options.items.call(this.element, null, { options: this.options, item: this.currentItem }) : $(this.options.items, this.element).not(&quot;.ui-sortable-helper&quot;).not('.ui-sortable-placeholder'), this]);
<a name="l3791"><span class="linenum">3791</span></a>  
<a name="l3792"><span class="linenum">3792</span></a>          for (var i = queries.length - 1; i &gt;= 0; i--){
<a name="l3793"><span class="linenum">3793</span></a>              queries[i][0].<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l3794"><span class="linenum">3794</span></a>                  items.push(this);
<a name="l3795"><span class="linenum">3795</span></a>              });
<a name="l3796"><span class="linenum">3796</span></a>          };
<a name="l3797"><span class="linenum">3797</span></a>  
<a name="l3798"><span class="linenum">3798</span></a>          return $(items);
<a name="l3799"><span class="linenum">3799</span></a>  
<a name="l3800"><span class="linenum">3800</span></a>      },
<a name="l3801"><span class="linenum">3801</span></a>  
<a name="l3802"><span class="linenum">3802</span></a>      _removeCurrentsFromItems: function() {
<a name="l3803"><span class="linenum">3803</span></a>  
<a name="l3804"><span class="linenum">3804</span></a>          var list = this.currentItem.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>(&quot;:data(&quot; + this.widgetName + &quot;-item)&quot;);
<a name="l3805"><span class="linenum">3805</span></a>  
<a name="l3806"><span class="linenum">3806</span></a>          for (var i=0; i &lt; this.items.length; i++) {
<a name="l3807"><span class="linenum">3807</span></a>  
<a name="l3808"><span class="linenum">3808</span></a>              for (var j=0; j &lt; list.length; j++) {
<a name="l3809"><span class="linenum">3809</span></a>                  if(list[j] == this.items[i].item[0])
<a name="l3810"><span class="linenum">3810</span></a>                      this.items.splice(i,1);
<a name="l3811"><span class="linenum">3811</span></a>              };
<a name="l3812"><span class="linenum">3812</span></a>  
<a name="l3813"><span class="linenum">3813</span></a>          };
<a name="l3814"><span class="linenum">3814</span></a>  
<a name="l3815"><span class="linenum">3815</span></a>      },
<a name="l3816"><span class="linenum">3816</span></a>  
<a name="l3817"><span class="linenum">3817</span></a>      _refreshItems: function(event) {
<a name="l3818"><span class="linenum">3818</span></a>  
<a name="l3819"><span class="linenum">3819</span></a>          this.items = [];
<a name="l3820"><span class="linenum">3820</span></a>          this.containers = [this];
<a name="l3821"><span class="linenum">3821</span></a>          var items = this.items;
<a name="l3822"><span class="linenum">3822</span></a>          var self = this;
<a name="l3823"><span class="linenum">3823</span></a>          var queries = [[$.isFunction(this.options.items) ? this.options.items.call(this.element[0], event, { item: this.currentItem }) : $(this.options.items, this.element), this]];
<a name="l3824"><span class="linenum">3824</span></a>          var connectWith = this._connectWith();
<a name="l3825"><span class="linenum">3825</span></a>  
<a name="l3826"><span class="linenum">3826</span></a>          if(connectWith &amp;&amp; this.ready) { //Shouldn't be run the first time through due to massive slow-down
<a name="l3827"><span class="linenum">3827</span></a>              for (var i = connectWith.length - 1; i &gt;= 0; i--){
<a name="l3828"><span class="linenum">3828</span></a>                  var cur = $(connectWith[i]);
<a name="l3829"><span class="linenum">3829</span></a>                  for (var j = cur.length - 1; j &gt;= 0; j--){
<a name="l3830"><span class="linenum">3830</span></a>                      var inst = $.data(cur[j], this.widgetName);
<a name="l3831"><span class="linenum">3831</span></a>                      if(inst &amp;&amp; inst != this &amp;&amp; !inst.options.disabled) {
<a name="l3832"><span class="linenum">3832</span></a>                          queries.push([$.isFunction(inst.options.items) ? inst.options.items.call(inst.element[0], event, { item: this.currentItem }) : $(inst.options.items, inst.element), inst]);
<a name="l3833"><span class="linenum">3833</span></a>                          this.containers.push(inst);
<a name="l3834"><span class="linenum">3834</span></a>                      }
<a name="l3835"><span class="linenum">3835</span></a>                  };
<a name="l3836"><span class="linenum">3836</span></a>              };
<a name="l3837"><span class="linenum">3837</span></a>          }
<a name="l3838"><span class="linenum">3838</span></a>  
<a name="l3839"><span class="linenum">3839</span></a>          for (var i = queries.length - 1; i &gt;= 0; i--) {
<a name="l3840"><span class="linenum">3840</span></a>              var targetData = queries[i][1];
<a name="l3841"><span class="linenum">3841</span></a>              var _queries = queries[i][0];
<a name="l3842"><span class="linenum">3842</span></a>  
<a name="l3843"><span class="linenum">3843</span></a>              for (var j=0, queriesLength = _queries.length; j &lt; queriesLength; j++) {
<a name="l3844"><span class="linenum">3844</span></a>                  var item = $(_queries[j]);
<a name="l3845"><span class="linenum">3845</span></a>  
<a name="l3846"><span class="linenum">3846</span></a>                  item.data(this.widgetName + '-item', targetData); <span class="comment">// Data for target checking (mouse manager)</span>
<a name="l3847"><span class="linenum">3847</span></a>  
<a name="l3848"><span class="linenum">3848</span></a>                  items.push({
<a name="l3849"><span class="linenum">3849</span></a>                      item: item,
<a name="l3850"><span class="linenum">3850</span></a>                      instance: targetData,
<a name="l3851"><span class="linenum">3851</span></a>                      width: 0, height: 0,
<a name="l3852"><span class="linenum">3852</span></a>                      left: 0, top: 0
<a name="l3853"><span class="linenum">3853</span></a>                  });
<a name="l3854"><span class="linenum">3854</span></a>              };
<a name="l3855"><span class="linenum">3855</span></a>          };
<a name="l3856"><span class="linenum">3856</span></a>  
<a name="l3857"><span class="linenum">3857</span></a>      },
<a name="l3858"><span class="linenum">3858</span></a>  
<a name="l3859"><span class="linenum">3859</span></a>      refreshPositions: function(fast) {
<a name="l3860"><span class="linenum">3860</span></a>  
<a name="l3861"><span class="linenum">3861</span></a>  <span class="comment">        //This has to be redone because due to the item being moved out/into the offsetParent, the offsetParent's position will change</span>
<a name="l3862"><span class="linenum">3862</span></a>          if(this.offsetParent &amp;&amp; this.helper) {
<a name="l3863"><span class="linenum">3863</span></a>              this.offset.parent = this._getParentOffset();
<a name="l3864"><span class="linenum">3864</span></a>          }
<a name="l3865"><span class="linenum">3865</span></a>  
<a name="l3866"><span class="linenum">3866</span></a>          for (var i = this.items.length - 1; i &gt;= 0; i--){
<a name="l3867"><span class="linenum">3867</span></a>              var item = this.items[i];
<a name="l3868"><span class="linenum">3868</span></a>  
<a name="l3869"><span class="linenum">3869</span></a>  <span class="comment">            //We ignore calculating positions of all connected containers when we're not over them</span>
<a name="l3870"><span class="linenum">3870</span></a>              if(item.instance != this.currentContainer &amp;&amp; this.currentContainer &amp;&amp; item.item[0] != this.currentItem[0])
<a name="l3871"><span class="linenum">3871</span></a>                  continue;
<a name="l3872"><span class="linenum">3872</span></a>  
<a name="l3873"><span class="linenum">3873</span></a>              var t = this.options.toleranceElement ? $(this.options.toleranceElement, item.item) : item.item;
<a name="l3874"><span class="linenum">3874</span></a>  
<a name="l3875"><span class="linenum">3875</span></a>              if (!fast) {
<a name="l3876"><span class="linenum">3876</span></a>                  item.width = t.outerWidth();
<a name="l3877"><span class="linenum">3877</span></a>                  item.height = t.outerHeight();
<a name="l3878"><span class="linenum">3878</span></a>              }
<a name="l3879"><span class="linenum">3879</span></a>  
<a name="l3880"><span class="linenum">3880</span></a>              var p = t.offset();
<a name="l3881"><span class="linenum">3881</span></a>              item.left = p.left;
<a name="l3882"><span class="linenum">3882</span></a>              item.top = p.top;
<a name="l3883"><span class="linenum">3883</span></a>          };
<a name="l3884"><span class="linenum">3884</span></a>  
<a name="l3885"><span class="linenum">3885</span></a>          if(this.options.custom &amp;&amp; this.options.custom.refreshContainers) {
<a name="l3886"><span class="linenum">3886</span></a>              this.options.custom.refreshContainers.call(this);
<a name="l3887"><span class="linenum">3887</span></a>          } else {
<a name="l3888"><span class="linenum">3888</span></a>              for (var i = this.containers.length - 1; i &gt;= 0; i--){
<a name="l3889"><span class="linenum">3889</span></a>                  var p = this.containers[i].element.offset();
<a name="l3890"><span class="linenum">3890</span></a>                  this.containers[i].containerCache.left = p.left;
<a name="l3891"><span class="linenum">3891</span></a>                  this.containers[i].containerCache.top = p.top;
<a name="l3892"><span class="linenum">3892</span></a>                  this.containers[i].containerCache.width    = this.containers[i].element.outerWidth();
<a name="l3893"><span class="linenum">3893</span></a>                  this.containers[i].containerCache.height = this.containers[i].element.outerHeight();
<a name="l3894"><span class="linenum">3894</span></a>              };
<a name="l3895"><span class="linenum">3895</span></a>          }
<a name="l3896"><span class="linenum">3896</span></a>  
<a name="l3897"><span class="linenum">3897</span></a>          return this;
<a name="l3898"><span class="linenum">3898</span></a>      },
<a name="l3899"><span class="linenum">3899</span></a>  
<a name="l3900"><span class="linenum">3900</span></a>      _createPlaceholder: function(that) {
<a name="l3901"><span class="linenum">3901</span></a>  
<a name="l3902"><span class="linenum">3902</span></a>          var self = that || this, o = self.options;
<a name="l3903"><span class="linenum">3903</span></a>  
<a name="l3904"><span class="linenum">3904</span></a>          if(!o.placeholder || o.placeholder.constructor == String) {
<a name="l3905"><span class="linenum">3905</span></a>              var className = o.placeholder;
<a name="l3906"><span class="linenum">3906</span></a>              o.placeholder = {
<a name="l3907"><span class="linenum">3907</span></a>                  element: function() {
<a name="l3908"><span class="linenum">3908</span></a>  
<a name="l3909"><span class="linenum">3909</span></a>                      var el = $(document.createElement(self.currentItem[0].nodeName))
<a name="l3910"><span class="linenum">3910</span></a>                          .addClass(className || self.currentItem[0].className+&quot; ui-sortable-placeholder&quot;)
<a name="l3911"><span class="linenum">3911</span></a>                          .removeClass(&quot;ui-sortable-helper&quot;)[0];
<a name="l3912"><span class="linenum">3912</span></a>  
<a name="l3913"><span class="linenum">3913</span></a>                      if(!className)
<a name="l3914"><span class="linenum">3914</span></a>                          el.style.visibility = &quot;hidden&quot;;
<a name="l3915"><span class="linenum">3915</span></a>  
<a name="l3916"><span class="linenum">3916</span></a>                      return el;
<a name="l3917"><span class="linenum">3917</span></a>                  },
<a name="l3918"><span class="linenum">3918</span></a>                  update: function(container, p) {
<a name="l3919"><span class="linenum">3919</span></a>  
<a name="l3920"><span class="linenum">3920</span></a>  <span class="comment">                    // 1. If a className is set as 'placeholder option, we don't force sizes - the class is responsible for that</span>
<a name="l3921"><span class="linenum">3921</span></a>  <span class="comment">                    // 2. The option 'forcePlaceholderSize can be enabled to force it even if a class name is specified</span>
<a name="l3922"><span class="linenum">3922</span></a>                      if(className &amp;&amp; !o.forcePlaceholderSize) return;
<a name="l3923"><span class="linenum">3923</span></a>  
<a name="l3924"><span class="linenum">3924</span></a>  <span class="comment">                    //If the element doesn't have a actual height by itself (without styles coming from a stylesheet), it receives the inline height from the dragged item</span>
<a name="l3925"><span class="linenum">3925</span></a>                      if(!p.height()) { p.height(self.currentItem.innerHeight() - parseInt(self.currentItem.css('paddingTop')||0, 10) - parseInt(self.currentItem.css('paddingBottom')||0, 10)); };
<a name="l3926"><span class="linenum">3926</span></a>                      if(!p.width()) { p.width(self.currentItem.innerWidth() - parseInt(self.currentItem.css('paddingLeft')||0, 10) - parseInt(self.currentItem.css('paddingRight')||0, 10)); };
<a name="l3927"><span class="linenum">3927</span></a>                  }
<a name="l3928"><span class="linenum">3928</span></a>              };
<a name="l3929"><span class="linenum">3929</span></a>          }
<a name="l3930"><span class="linenum">3930</span></a>  
<a name="l3931"><span class="linenum">3931</span></a>  <span class="comment">        //Create the placeholder</span>
<a name="l3932"><span class="linenum">3932</span></a>          self.placeholder = $(o.placeholder.element.call(self.element, self.currentItem));
<a name="l3933"><span class="linenum">3933</span></a>  
<a name="l3934"><span class="linenum">3934</span></a>  <span class="comment">        //Append it after the actual current item</span>
<a name="l3935"><span class="linenum">3935</span></a>          self.currentItem.after(self.placeholder);
<a name="l3936"><span class="linenum">3936</span></a>  
<a name="l3937"><span class="linenum">3937</span></a>  <span class="comment">        //Update the size of the placeholder (TODO: Logic to fuzzy, see line 316/317)</span>
<a name="l3938"><span class="linenum">3938</span></a>          o.placeholder.update(self, self.placeholder);
<a name="l3939"><span class="linenum">3939</span></a>  
<a name="l3940"><span class="linenum">3940</span></a>      },
<a name="l3941"><span class="linenum">3941</span></a>  
<a name="l3942"><span class="linenum">3942</span></a>      _contactContainers: function(event) {
<a name="l3943"><span class="linenum">3943</span></a>          
<a name="l3944"><span class="linenum">3944</span></a>  <span class="comment">        // get innermost container that intersects with item </span>
<a name="l3945"><span class="linenum">3945</span></a>          var innermostContainer = null, innermostIndex = null;        
<a name="l3946"><span class="linenum">3946</span></a>          
<a name="l3947"><span class="linenum">3947</span></a>          
<a name="l3948"><span class="linenum">3948</span></a>          for (var i = this.containers.length - 1; i &gt;= 0; i--){
<a name="l3949"><span class="linenum">3949</span></a>  
<a name="l3950"><span class="linenum">3950</span></a>  <span class="comment">            // never consider a container that's located within the item itself </span>
<a name="l3951"><span class="linenum">3951</span></a>              if($.ui.<a class="function" onClick="logFunction('contains')" href="../../../../_functions/contains.html" onMouseOver="funcPopup(event,'contains')">contains</a>(this.currentItem[0], this.containers[i].element[0]))
<a name="l3952"><span class="linenum">3952</span></a>                  continue;
<a name="l3953"><span class="linenum">3953</span></a>  
<a name="l3954"><span class="linenum">3954</span></a>              if(this._intersectsWith(this.containers[i].containerCache)) {
<a name="l3955"><span class="linenum">3955</span></a>  
<a name="l3956"><span class="linenum">3956</span></a>  <span class="comment">                // if we've already found a container and it's more &quot;inner&quot; than this, then continue </span>
<a name="l3957"><span class="linenum">3957</span></a>                  if(innermostContainer &amp;&amp; $.ui.<a class="function" onClick="logFunction('contains')" href="../../../../_functions/contains.html" onMouseOver="funcPopup(event,'contains')">contains</a>(this.containers[i].element[0], innermostContainer.element[0]))
<a name="l3958"><span class="linenum">3958</span></a>                      continue;
<a name="l3959"><span class="linenum">3959</span></a>  
<a name="l3960"><span class="linenum">3960</span></a>                  innermostContainer = this.containers[i]; 
<a name="l3961"><span class="linenum">3961</span></a>                  innermostIndex = i;
<a name="l3962"><span class="linenum">3962</span></a>                      
<a name="l3963"><span class="linenum">3963</span></a>              } else {
<a name="l3964"><span class="linenum">3964</span></a>  <span class="comment">                // container doesn't intersect. trigger &quot;out&quot; event if necessary </span>
<a name="l3965"><span class="linenum">3965</span></a>                  if(this.containers[i].containerCache.over) {
<a name="l3966"><span class="linenum">3966</span></a>                      this.containers[i]._trigger(&quot;out&quot;, event, this._uiHash(this));
<a name="l3967"><span class="linenum">3967</span></a>                      this.containers[i].containerCache.over = 0;
<a name="l3968"><span class="linenum">3968</span></a>                  }
<a name="l3969"><span class="linenum">3969</span></a>              }
<a name="l3970"><span class="linenum">3970</span></a>  
<a name="l3971"><span class="linenum">3971</span></a>          }
<a name="l3972"><span class="linenum">3972</span></a>          
<a name="l3973"><span class="linenum">3973</span></a>  <span class="comment">        // if no intersecting containers found, return </span>
<a name="l3974"><span class="linenum">3974</span></a>          if(!innermostContainer) return; 
<a name="l3975"><span class="linenum">3975</span></a>  
<a name="l3976"><span class="linenum">3976</span></a>  <span class="comment">        // move the item into the container if it's not there already</span>
<a name="l3977"><span class="linenum">3977</span></a>          if(this.containers.length === 1) {
<a name="l3978"><span class="linenum">3978</span></a>              this.containers[innermostIndex]._trigger(&quot;over&quot;, event, this._uiHash(this));
<a name="l3979"><span class="linenum">3979</span></a>              this.containers[innermostIndex].containerCache.over = 1;
<a name="l3980"><span class="linenum">3980</span></a>          } else if(this.currentContainer != this.containers[innermostIndex]) { 
<a name="l3981"><span class="linenum">3981</span></a>  
<a name="l3982"><span class="linenum">3982</span></a>  <span class="comment">            //When entering a new container, we will find the item with the least distance and append our item near it </span>
<a name="l3983"><span class="linenum">3983</span></a>              var dist = 10000; var itemWithLeastDistance = null; var base = this.positionAbs[this.containers[innermostIndex].floating ? 'left' : 'top']; 
<a name="l3984"><span class="linenum">3984</span></a>              for (var j = this.items.length - 1; j &gt;= 0; j--) { 
<a name="l3985"><span class="linenum">3985</span></a>                  if(!$.ui.<a class="function" onClick="logFunction('contains')" href="../../../../_functions/contains.html" onMouseOver="funcPopup(event,'contains')">contains</a>(this.containers[innermostIndex].element[0], this.items[j].item[0])) continue; 
<a name="l3986"><span class="linenum">3986</span></a>                  var cur = this.items[j][this.containers[innermostIndex].floating ? 'left' : 'top']; 
<a name="l3987"><span class="linenum">3987</span></a>                  if(Math.<a class="phpfunction" onClick="logFunction('abs')" href="../../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(cur - base) &lt; dist) { 
<a name="l3988"><span class="linenum">3988</span></a>                      dist = Math.<a class="phpfunction" onClick="logFunction('abs')" href="../../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(cur - base); itemWithLeastDistance = this.items[j]; 
<a name="l3989"><span class="linenum">3989</span></a>                  } 
<a name="l3990"><span class="linenum">3990</span></a>              } 
<a name="l3991"><span class="linenum">3991</span></a>  
<a name="l3992"><span class="linenum">3992</span></a>              if(!itemWithLeastDistance &amp;&amp; !this.options.dropOnEmpty) //Check if dropOnEmpty is enabled 
<a name="l3993"><span class="linenum">3993</span></a>                  return; 
<a name="l3994"><span class="linenum">3994</span></a>  
<a name="l3995"><span class="linenum">3995</span></a>              this.currentContainer = this.containers[innermostIndex]; 
<a name="l3996"><span class="linenum">3996</span></a>              itemWithLeastDistance ? this._rearrange(event, itemWithLeastDistance, null, true) : this._rearrange(event, null, this.containers[innermostIndex].element, true); 
<a name="l3997"><span class="linenum">3997</span></a>              this._trigger(&quot;change&quot;, event, this._uiHash()); 
<a name="l3998"><span class="linenum">3998</span></a>              this.containers[innermostIndex]._trigger(&quot;change&quot;, event, this._uiHash(this)); 
<a name="l3999"><span class="linenum">3999</span></a>  
<a name="l4000"><span class="linenum">4000</span></a>  <span class="comment">            //Update the placeholder </span>
<a name="l4001"><span class="linenum">4001</span></a>              this.options.placeholder.update(this.currentContainer, this.placeholder); 
<a name="l4002"><span class="linenum">4002</span></a>          
<a name="l4003"><span class="linenum">4003</span></a>              this.containers[innermostIndex]._trigger(&quot;over&quot;, event, this._uiHash(this)); 
<a name="l4004"><span class="linenum">4004</span></a>              this.containers[innermostIndex].containerCache.over = 1;
<a name="l4005"><span class="linenum">4005</span></a>          } 
<a name="l4006"><span class="linenum">4006</span></a>      
<a name="l4007"><span class="linenum">4007</span></a>          
<a name="l4008"><span class="linenum">4008</span></a>      },
<a name="l4009"><span class="linenum">4009</span></a>  
<a name="l4010"><span class="linenum">4010</span></a>      _createHelper: function(event) {
<a name="l4011"><span class="linenum">4011</span></a>  
<a name="l4012"><span class="linenum">4012</span></a>          var o = this.options;
<a name="l4013"><span class="linenum">4013</span></a>          var helper = $.isFunction(o.helper) ? $(o.helper.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this.element[0], [event, this.currentItem])) : (o.helper == 'clone' ? this.currentItem.<a class="function" onClick="logFunction('clone')" href="../../../../_functions/clone.html" onMouseOver="funcPopup(event,'clone')">clone</a>() : this.currentItem);
<a name="l4014"><span class="linenum">4014</span></a>  
<a name="l4015"><span class="linenum">4015</span></a>          if(!helper.parents('body').length) //Add the helper to the DOM if that didn't happen already
<a name="l4016"><span class="linenum">4016</span></a>              $(o.appendTo != 'parent' ? o.appendTo : this.currentItem[0].parentNode)[0].appendChild(helper[0]);
<a name="l4017"><span class="linenum">4017</span></a>  
<a name="l4018"><span class="linenum">4018</span></a>          if(helper[0] == this.currentItem[0])
<a name="l4019"><span class="linenum">4019</span></a>              this._storedCSS = { width: this.currentItem[0].style.width, height: this.currentItem[0].style.height, position: this.currentItem.css(&quot;position&quot;), top: this.currentItem.css(&quot;top&quot;), left: this.currentItem.css(&quot;left&quot;) };
<a name="l4020"><span class="linenum">4020</span></a>  
<a name="l4021"><span class="linenum">4021</span></a>          if(helper[0].style.width == '' || o.forceHelperSize) helper.width(this.currentItem.width());
<a name="l4022"><span class="linenum">4022</span></a>          if(helper[0].style.height == '' || o.forceHelperSize) helper.height(this.currentItem.height());
<a name="l4023"><span class="linenum">4023</span></a>  
<a name="l4024"><span class="linenum">4024</span></a>          return helper;
<a name="l4025"><span class="linenum">4025</span></a>  
<a name="l4026"><span class="linenum">4026</span></a>      },
<a name="l4027"><span class="linenum">4027</span></a>  
<a name="l4028"><span class="linenum">4028</span></a>      _adjustOffsetFromHelper: function(obj) {
<a name="l4029"><span class="linenum">4029</span></a>          if (typeof obj == 'string') {
<a name="l4030"><span class="linenum">4030</span></a>              obj = obj.<a class="phpfunction" onClick="logFunction('split')" href="../../../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>(' ');
<a name="l4031"><span class="linenum">4031</span></a>          }
<a name="l4032"><span class="linenum">4032</span></a>          if ($.<a class="function" onClick="logFunction('isArray')" href="../../../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(obj)) {
<a name="l4033"><span class="linenum">4033</span></a>              obj = {left: +obj[0], top: +obj[1] || 0};
<a name="l4034"><span class="linenum">4034</span></a>          }
<a name="l4035"><span class="linenum">4035</span></a>          if ('left' in obj) {
<a name="l4036"><span class="linenum">4036</span></a>              this.offset.click.left = obj.left + this.margins.left;
<a name="l4037"><span class="linenum">4037</span></a>          }
<a name="l4038"><span class="linenum">4038</span></a>          if ('right' in obj) {
<a name="l4039"><span class="linenum">4039</span></a>              this.offset.click.left = this.helperProportions.width - obj.right + this.margins.left;
<a name="l4040"><span class="linenum">4040</span></a>          }
<a name="l4041"><span class="linenum">4041</span></a>          if ('top' in obj) {
<a name="l4042"><span class="linenum">4042</span></a>              this.offset.click.top = obj.top + this.margins.top;
<a name="l4043"><span class="linenum">4043</span></a>          }
<a name="l4044"><span class="linenum">4044</span></a>          if ('bottom' in obj) {
<a name="l4045"><span class="linenum">4045</span></a>              this.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top;
<a name="l4046"><span class="linenum">4046</span></a>          }
<a name="l4047"><span class="linenum">4047</span></a>      },
<a name="l4048"><span class="linenum">4048</span></a>  
<a name="l4049"><span class="linenum">4049</span></a>      _getParentOffset: function() {
<a name="l4050"><span class="linenum">4050</span></a>  
<a name="l4051"><span class="linenum">4051</span></a>  
<a name="l4052"><span class="linenum">4052</span></a>  <span class="comment">        //Get the offsetParent and cache its position</span>
<a name="l4053"><span class="linenum">4053</span></a>          this.offsetParent = this.helper.offsetParent();
<a name="l4054"><span class="linenum">4054</span></a>          var po = this.offsetParent.offset();
<a name="l4055"><span class="linenum">4055</span></a>  
<a name="l4056"><span class="linenum">4056</span></a>  <span class="comment">        // This is a special case where we need to modify a offset calculated on start, since the following happened:</span>
<a name="l4057"><span class="linenum">4057</span></a>  <span class="comment">        // 1. The position of the helper is absolute, so it's position is calculated based on the next positioned parent</span>
<a name="l4058"><span class="linenum">4058</span></a>  <span class="comment">        // 2. The actual offset parent is a child of the scroll parent, and the scroll parent isn't the document, which means that</span>
<a name="l4059"><span class="linenum">4059</span></a>  <span class="comment">        //    the scroll is included in the initial calculation of the offset of the parent, and never recalculated upon drag</span>
<a name="l4060"><span class="linenum">4060</span></a>          if(this.cssPosition == 'absolute' &amp;&amp; this.scrollParent[0] != document &amp;&amp; $.ui.<a class="function" onClick="logFunction('contains')" href="../../../../_functions/contains.html" onMouseOver="funcPopup(event,'contains')">contains</a>(this.scrollParent[0], this.offsetParent[0])) {
<a name="l4061"><span class="linenum">4061</span></a>              po.left += this.scrollParent.scrollLeft();
<a name="l4062"><span class="linenum">4062</span></a>              po.top += this.scrollParent.scrollTop();
<a name="l4063"><span class="linenum">4063</span></a>          }
<a name="l4064"><span class="linenum">4064</span></a>  
<a name="l4065"><span class="linenum">4065</span></a>          if((this.offsetParent[0] == document.body) //This needs to be actually done for all browsers, since pageX/pageY includes this information
<a name="l4066"><span class="linenum">4066</span></a>          || (this.offsetParent[0].tagName &amp;&amp; this.offsetParent[0].tagName.toLowerCase() == 'html' &amp;&amp; $.browser.msie)) //Ugly IE fix
<a name="l4067"><span class="linenum">4067</span></a>              po = { top: 0, left: 0 };
<a name="l4068"><span class="linenum">4068</span></a>  
<a name="l4069"><span class="linenum">4069</span></a>          return {
<a name="l4070"><span class="linenum">4070</span></a>              top: po.top + (parseInt(this.offsetParent.css(&quot;borderTopWidth&quot;),10) || 0),
<a name="l4071"><span class="linenum">4071</span></a>              left: po.left + (parseInt(this.offsetParent.css(&quot;borderLeftWidth&quot;),10) || 0)
<a name="l4072"><span class="linenum">4072</span></a>          };
<a name="l4073"><span class="linenum">4073</span></a>  
<a name="l4074"><span class="linenum">4074</span></a>      },
<a name="l4075"><span class="linenum">4075</span></a>  
<a name="l4076"><span class="linenum">4076</span></a>      _getRelativeOffset: function() {
<a name="l4077"><span class="linenum">4077</span></a>  
<a name="l4078"><span class="linenum">4078</span></a>          if(this.cssPosition == &quot;relative&quot;) {
<a name="l4079"><span class="linenum">4079</span></a>              var p = this.currentItem.position();
<a name="l4080"><span class="linenum">4080</span></a>              return {
<a name="l4081"><span class="linenum">4081</span></a>                  top: p.top - (parseInt(this.helper.css(&quot;top&quot;),10) || 0) + this.scrollParent.scrollTop(),
<a name="l4082"><span class="linenum">4082</span></a>                  left: p.left - (parseInt(this.helper.css(&quot;left&quot;),10) || 0) + this.scrollParent.scrollLeft()
<a name="l4083"><span class="linenum">4083</span></a>              };
<a name="l4084"><span class="linenum">4084</span></a>          } else {
<a name="l4085"><span class="linenum">4085</span></a>              return { top: 0, left: 0 };
<a name="l4086"><span class="linenum">4086</span></a>          }
<a name="l4087"><span class="linenum">4087</span></a>  
<a name="l4088"><span class="linenum">4088</span></a>      },
<a name="l4089"><span class="linenum">4089</span></a>  
<a name="l4090"><span class="linenum">4090</span></a>      _cacheMargins: function() {
<a name="l4091"><span class="linenum">4091</span></a>          this.margins = {
<a name="l4092"><span class="linenum">4092</span></a>              left: (parseInt(this.currentItem.css(&quot;marginLeft&quot;),10) || 0),
<a name="l4093"><span class="linenum">4093</span></a>              top: (parseInt(this.currentItem.css(&quot;marginTop&quot;),10) || 0)
<a name="l4094"><span class="linenum">4094</span></a>          };
<a name="l4095"><span class="linenum">4095</span></a>      },
<a name="l4096"><span class="linenum">4096</span></a>  
<a name="l4097"><span class="linenum">4097</span></a>      _cacheHelperProportions: function() {
<a name="l4098"><span class="linenum">4098</span></a>          this.helperProportions = {
<a name="l4099"><span class="linenum">4099</span></a>              width: this.helper.outerWidth(),
<a name="l4100"><span class="linenum">4100</span></a>              height: this.helper.outerHeight()
<a name="l4101"><span class="linenum">4101</span></a>          };
<a name="l4102"><span class="linenum">4102</span></a>      },
<a name="l4103"><span class="linenum">4103</span></a>  
<a name="l4104"><span class="linenum">4104</span></a>      _setContainment: function() {
<a name="l4105"><span class="linenum">4105</span></a>  
<a name="l4106"><span class="linenum">4106</span></a>          var o = this.options;
<a name="l4107"><span class="linenum">4107</span></a>          if(o.containment == 'parent') o.containment = this.helper[0].parentNode;
<a name="l4108"><span class="linenum">4108</span></a>          if(o.containment == 'document' || o.containment == 'window') this.containment = [
<a name="l4109"><span class="linenum">4109</span></a>              0 - this.offset.relative.left - this.offset.parent.left,
<a name="l4110"><span class="linenum">4110</span></a>              0 - this.offset.relative.top - this.offset.parent.top,
<a name="l4111"><span class="linenum">4111</span></a>              $(o.containment == 'document' ? document : window).width() - this.helperProportions.width - this.margins.left,
<a name="l4112"><span class="linenum">4112</span></a>              ($(o.containment == 'document' ? document : window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top
<a name="l4113"><span class="linenum">4113</span></a>          ];
<a name="l4114"><span class="linenum">4114</span></a>  
<a name="l4115"><span class="linenum">4115</span></a>          if(!(/^(document|window|parent)$/).test(o.containment)) {
<a name="l4116"><span class="linenum">4116</span></a>              var ce = $(o.containment)[0];
<a name="l4117"><span class="linenum">4117</span></a>              var co = $(o.containment).offset();
<a name="l4118"><span class="linenum">4118</span></a>              var over = ($(ce).css(&quot;overflow&quot;) != 'hidden');
<a name="l4119"><span class="linenum">4119</span></a>  
<a name="l4120"><span class="linenum">4120</span></a>              this.containment = [
<a name="l4121"><span class="linenum">4121</span></a>                  co.left + (parseInt($(ce).css(&quot;borderLeftWidth&quot;),10) || 0) + (parseInt($(ce).css(&quot;paddingLeft&quot;),10) || 0) - this.margins.left,
<a name="l4122"><span class="linenum">4122</span></a>                  co.top + (parseInt($(ce).css(&quot;borderTopWidth&quot;),10) || 0) + (parseInt($(ce).css(&quot;paddingTop&quot;),10) || 0) - this.margins.top,
<a name="l4123"><span class="linenum">4123</span></a>                  co.left+(over ? Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(ce.scrollWidth,ce.offsetWidth) : ce.offsetWidth) - (parseInt($(ce).css(&quot;borderLeftWidth&quot;),10) || 0) - (parseInt($(ce).css(&quot;paddingRight&quot;),10) || 0) - this.helperProportions.width - this.margins.left,
<a name="l4124"><span class="linenum">4124</span></a>                  co.top+(over ? Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(ce.scrollHeight,ce.offsetHeight) : ce.offsetHeight) - (parseInt($(ce).css(&quot;borderTopWidth&quot;),10) || 0) - (parseInt($(ce).css(&quot;paddingBottom&quot;),10) || 0) - this.helperProportions.height - this.margins.top
<a name="l4125"><span class="linenum">4125</span></a>              ];
<a name="l4126"><span class="linenum">4126</span></a>          }
<a name="l4127"><span class="linenum">4127</span></a>  
<a name="l4128"><span class="linenum">4128</span></a>      },
<a name="l4129"><span class="linenum">4129</span></a>  
<a name="l4130"><span class="linenum">4130</span></a>      _convertPositionTo: function(d, pos) {
<a name="l4131"><span class="linenum">4131</span></a>  
<a name="l4132"><span class="linenum">4132</span></a>          if(!pos) pos = this.position;
<a name="l4133"><span class="linenum">4133</span></a>          var mod = d == &quot;absolute&quot; ? 1 : -1;
<a name="l4134"><span class="linenum">4134</span></a>          var o = this.options, scroll = this.cssPosition == 'absolute' &amp;&amp; !(this.scrollParent[0] != document &amp;&amp; $.ui.<a class="function" onClick="logFunction('contains')" href="../../../../_functions/contains.html" onMouseOver="funcPopup(event,'contains')">contains</a>(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent, scrollIsRootNode = (/(html|body)/i).test(scroll[0].tagName);
<a name="l4135"><span class="linenum">4135</span></a>  
<a name="l4136"><span class="linenum">4136</span></a>          return {
<a name="l4137"><span class="linenum">4137</span></a>              top: (
<a name="l4138"><span class="linenum">4138</span></a>                  pos.top                                                                    // The absolute mouse position
<a name="l4139"><span class="linenum">4139</span></a>                  + this.offset.relative.top * mod                                        // Only for relative positioned nodes: Relative offset from element to offset parent
<a name="l4140"><span class="linenum">4140</span></a>                  + this.offset.parent.top * mod                                            // The offsetParent's offset without borders (offset + border)
<a name="l4141"><span class="linenum">4141</span></a>                  - ($.browser.safari &amp;&amp; this.cssPosition == 'fixed' ? 0 : ( this.cssPosition == 'fixed' ? -this.scrollParent.scrollTop() : ( scrollIsRootNode ? 0 : scroll.scrollTop() ) ) * mod)
<a name="l4142"><span class="linenum">4142</span></a>              ),
<a name="l4143"><span class="linenum">4143</span></a>              left: (
<a name="l4144"><span class="linenum">4144</span></a>                  pos.left                                                                // The absolute mouse position
<a name="l4145"><span class="linenum">4145</span></a>                  + this.offset.relative.left * mod                                        // Only for relative positioned nodes: Relative offset from element to offset parent
<a name="l4146"><span class="linenum">4146</span></a>                  + this.offset.parent.left * mod                                            // The offsetParent's offset without borders (offset + border)
<a name="l4147"><span class="linenum">4147</span></a>                  - ($.browser.safari &amp;&amp; this.cssPosition == 'fixed' ? 0 : ( this.cssPosition == 'fixed' ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft() ) * mod)
<a name="l4148"><span class="linenum">4148</span></a>              )
<a name="l4149"><span class="linenum">4149</span></a>          };
<a name="l4150"><span class="linenum">4150</span></a>  
<a name="l4151"><span class="linenum">4151</span></a>      },
<a name="l4152"><span class="linenum">4152</span></a>  
<a name="l4153"><span class="linenum">4153</span></a>      _generatePosition: function(event) {
<a name="l4154"><span class="linenum">4154</span></a>  
<a name="l4155"><span class="linenum">4155</span></a>          var o = this.options, scroll = this.cssPosition == 'absolute' &amp;&amp; !(this.scrollParent[0] != document &amp;&amp; $.ui.<a class="function" onClick="logFunction('contains')" href="../../../../_functions/contains.html" onMouseOver="funcPopup(event,'contains')">contains</a>(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent, scrollIsRootNode = (/(html|body)/i).test(scroll[0].tagName);
<a name="l4156"><span class="linenum">4156</span></a>  
<a name="l4157"><span class="linenum">4157</span></a>  <span class="comment">        // This is another very weird special case that only happens for relative elements:</span>
<a name="l4158"><span class="linenum">4158</span></a>  <span class="comment">        // 1. If the css position is relative</span>
<a name="l4159"><span class="linenum">4159</span></a>  <span class="comment">        // 2. and the scroll parent is the document or similar to the offset parent</span>
<a name="l4160"><span class="linenum">4160</span></a>  <span class="comment">        // we have to refresh the relative offset during the scroll so there are no jumps</span>
<a name="l4161"><span class="linenum">4161</span></a>          if(this.cssPosition == 'relative' &amp;&amp; !(this.scrollParent[0] != document &amp;&amp; this.scrollParent[0] != this.offsetParent[0])) {
<a name="l4162"><span class="linenum">4162</span></a>              this.offset.relative = this._getRelativeOffset();
<a name="l4163"><span class="linenum">4163</span></a>          }
<a name="l4164"><span class="linenum">4164</span></a>  
<a name="l4165"><span class="linenum">4165</span></a>          var pageX = event.pageX;
<a name="l4166"><span class="linenum">4166</span></a>          var pageY = event.pageY;
<a name="l4167"><span class="linenum">4167</span></a>  
<a name="l4168"><span class="linenum">4168</span></a>          <span class="comment">/*</span>
<a name="l4169"><span class="linenum">4169</span></a>  <span class="comment">         * - Position constraining -</span>
<a name="l4170"><span class="linenum">4170</span></a>  <span class="comment">         * Constrain the position to a mix of grid, containment.</span>
<a name="l4171"><span class="linenum">4171</span></a>  <span class="comment">         */</span>
<a name="l4172"><span class="linenum">4172</span></a>  
<a name="l4173"><span class="linenum">4173</span></a>          if(this.originalPosition) { //If we are not dragging yet, we won't check for options
<a name="l4174"><span class="linenum">4174</span></a>  
<a name="l4175"><span class="linenum">4175</span></a>              if(this.containment) {
<a name="l4176"><span class="linenum">4176</span></a>                  if(event.pageX - this.offset.click.left &lt; this.containment[0]) pageX = this.containment[0] + this.offset.click.left;
<a name="l4177"><span class="linenum">4177</span></a>                  if(event.pageY - this.offset.click.top &lt; this.containment[1]) pageY = this.containment[1] + this.offset.click.top;
<a name="l4178"><span class="linenum">4178</span></a>                  if(event.pageX - this.offset.click.left &gt; this.containment[2]) pageX = this.containment[2] + this.offset.click.left;
<a name="l4179"><span class="linenum">4179</span></a>                  if(event.pageY - this.offset.click.top &gt; this.containment[3]) pageY = this.containment[3] + this.offset.click.top;
<a name="l4180"><span class="linenum">4180</span></a>              }
<a name="l4181"><span class="linenum">4181</span></a>  
<a name="l4182"><span class="linenum">4182</span></a>              if(o.grid) {
<a name="l4183"><span class="linenum">4183</span></a>                  var top = this.originalPageY + Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>((pageY - this.originalPageY) / o.grid[1]) * o.grid[1];
<a name="l4184"><span class="linenum">4184</span></a>                  pageY = this.containment ? (!(top - this.offset.click.top &lt; this.containment[1] || top - this.offset.click.top &gt; this.containment[3]) ? top : (!(top - this.offset.click.top &lt; this.containment[1]) ? top - o.grid[1] : top + o.grid[1])) : top;
<a name="l4185"><span class="linenum">4185</span></a>  
<a name="l4186"><span class="linenum">4186</span></a>                  var left = this.originalPageX + Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>((pageX - this.originalPageX) / o.grid[0]) * o.grid[0];
<a name="l4187"><span class="linenum">4187</span></a>                  pageX = this.containment ? (!(left - this.offset.click.left &lt; this.containment[0] || left - this.offset.click.left &gt; this.containment[2]) ? left : (!(left - this.offset.click.left &lt; this.containment[0]) ? left - o.grid[0] : left + o.grid[0])) : left;
<a name="l4188"><span class="linenum">4188</span></a>              }
<a name="l4189"><span class="linenum">4189</span></a>  
<a name="l4190"><span class="linenum">4190</span></a>          }
<a name="l4191"><span class="linenum">4191</span></a>  
<a name="l4192"><span class="linenum">4192</span></a>          return {
<a name="l4193"><span class="linenum">4193</span></a>              top: (
<a name="l4194"><span class="linenum">4194</span></a>                  pageY                                                                // The absolute mouse position
<a name="l4195"><span class="linenum">4195</span></a>                  - this.offset.click.top                                                    // Click offset (relative to the element)
<a name="l4196"><span class="linenum">4196</span></a>                  - this.offset.relative.top                                                // Only for relative positioned nodes: Relative offset from element to offset parent
<a name="l4197"><span class="linenum">4197</span></a>                  - this.offset.parent.top                                                // The offsetParent's offset without borders (offset + border)
<a name="l4198"><span class="linenum">4198</span></a>                  + ($.browser.safari &amp;&amp; this.cssPosition == 'fixed' ? 0 : ( this.cssPosition == 'fixed' ? -this.scrollParent.scrollTop() : ( scrollIsRootNode ? 0 : scroll.scrollTop() ) ))
<a name="l4199"><span class="linenum">4199</span></a>              ),
<a name="l4200"><span class="linenum">4200</span></a>              left: (
<a name="l4201"><span class="linenum">4201</span></a>                  pageX                                                                // The absolute mouse position
<a name="l4202"><span class="linenum">4202</span></a>                  - this.offset.click.left                                                // Click offset (relative to the element)
<a name="l4203"><span class="linenum">4203</span></a>                  - this.offset.relative.left                                                // Only for relative positioned nodes: Relative offset from element to offset parent
<a name="l4204"><span class="linenum">4204</span></a>                  - this.offset.parent.left                                                // The offsetParent's offset without borders (offset + border)
<a name="l4205"><span class="linenum">4205</span></a>                  + ($.browser.safari &amp;&amp; this.cssPosition == 'fixed' ? 0 : ( this.cssPosition == 'fixed' ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft() ))
<a name="l4206"><span class="linenum">4206</span></a>              )
<a name="l4207"><span class="linenum">4207</span></a>          };
<a name="l4208"><span class="linenum">4208</span></a>  
<a name="l4209"><span class="linenum">4209</span></a>      },
<a name="l4210"><span class="linenum">4210</span></a>  
<a name="l4211"><span class="linenum">4211</span></a>      _rearrange: function(event, i, a, hardRefresh) {
<a name="l4212"><span class="linenum">4212</span></a>  
<a name="l4213"><span class="linenum">4213</span></a>          a ? a[0].appendChild(this.placeholder[0]) : i.item[0].parentNode.insertBefore(this.placeholder[0], (this.direction == 'down' ? i.item[0] : i.item[0].nextSibling));
<a name="l4214"><span class="linenum">4214</span></a>  
<a name="l4215"><span class="linenum">4215</span></a>  <span class="comment">        //Various things done here to improve the performance:</span>
<a name="l4216"><span class="linenum">4216</span></a>  <span class="comment">        // 1. we create a setTimeout, that calls refreshPositions</span>
<a name="l4217"><span class="linenum">4217</span></a>  <span class="comment">        // 2. on the instance, we have a counter variable, that get's higher after every append</span>
<a name="l4218"><span class="linenum">4218</span></a>  <span class="comment">        // 3. on the local scope, we copy the counter variable, and check in the timeout, if it's still the same</span>
<a name="l4219"><span class="linenum">4219</span></a>  <span class="comment">        // 4. this lets only the last addition to the timeout stack through</span>
<a name="l4220"><span class="linenum">4220</span></a>          this.counter = this.counter ? ++this.counter : 1;
<a name="l4221"><span class="linenum">4221</span></a>          var self = this, counter = this.counter;
<a name="l4222"><span class="linenum">4222</span></a>  
<a name="l4223"><span class="linenum">4223</span></a>          window.setTimeout(function() {
<a name="l4224"><span class="linenum">4224</span></a>              if(counter == self.counter) self.refreshPositions(!hardRefresh); <span class="comment">//Precompute after each DOM insertion, NOT on mousemove</span>
<a name="l4225"><span class="linenum">4225</span></a>          },0);
<a name="l4226"><span class="linenum">4226</span></a>  
<a name="l4227"><span class="linenum">4227</span></a>      },
<a name="l4228"><span class="linenum">4228</span></a>  
<a name="l4229"><span class="linenum">4229</span></a>      _clear: function(event, noPropagation) {
<a name="l4230"><span class="linenum">4230</span></a>  
<a name="l4231"><span class="linenum">4231</span></a>          this.reverting = false;
<a name="l4232"><span class="linenum">4232</span></a>  <span class="comment">        // We delay all events that have to be triggered to after the point where the placeholder has been removed and</span>
<a name="l4233"><span class="linenum">4233</span></a>  <span class="comment">        // everything else normalized again</span>
<a name="l4234"><span class="linenum">4234</span></a>          var delayedTriggers = [], self = this;
<a name="l4235"><span class="linenum">4235</span></a>  
<a name="l4236"><span class="linenum">4236</span></a>  <span class="comment">        // We first have to update the dom position of the actual currentItem</span>
<a name="l4237"><span class="linenum">4237</span></a>  <span class="comment">        // Note: don't do it if the current item is already removed (by a user), or it gets reappended (see #4088)</span>
<a name="l4238"><span class="linenum">4238</span></a>          if(!this._noFinalSort &amp;&amp; this.currentItem.parent().length) this.placeholder.before(this.currentItem);
<a name="l4239"><span class="linenum">4239</span></a>          this._noFinalSort = null;
<a name="l4240"><span class="linenum">4240</span></a>  
<a name="l4241"><span class="linenum">4241</span></a>          if(this.helper[0] == this.currentItem[0]) {
<a name="l4242"><span class="linenum">4242</span></a>              for(var i in this._storedCSS) {
<a name="l4243"><span class="linenum">4243</span></a>                  if(this._storedCSS[i] == 'auto' || this._storedCSS[i] == 'static') this._storedCSS[i] = '';
<a name="l4244"><span class="linenum">4244</span></a>              }
<a name="l4245"><span class="linenum">4245</span></a>              this.currentItem.css(this._storedCSS).removeClass(&quot;ui-sortable-helper&quot;);
<a name="l4246"><span class="linenum">4246</span></a>          } else {
<a name="l4247"><span class="linenum">4247</span></a>              this.currentItem.show();
<a name="l4248"><span class="linenum">4248</span></a>          }
<a name="l4249"><span class="linenum">4249</span></a>  
<a name="l4250"><span class="linenum">4250</span></a>          if(this.fromOutside &amp;&amp; !noPropagation) delayedTriggers.push(function(event) { this._trigger(&quot;receive&quot;, event, this._uiHash(this.fromOutside)); });
<a name="l4251"><span class="linenum">4251</span></a>          if((this.fromOutside || this.domPosition.prev != this.currentItem.<a class="phpfunction" onClick="logFunction('prev')" href="../../../../_functions/prev.html" onMouseOver="phpfuncPopup(event,'prev')">prev</a>().not(&quot;.ui-sortable-helper&quot;)[0] || this.domPosition.parent != this.currentItem.parent()[0]) &amp;&amp; !noPropagation) delayedTriggers.push(function(event) { this._trigger(&quot;update&quot;, event, this._uiHash()); }); <span class="comment">//Trigger update callback if the DOM position has changed</span>
<a name="l4252"><span class="linenum">4252</span></a>          if(!$.ui.<a class="function" onClick="logFunction('contains')" href="../../../../_functions/contains.html" onMouseOver="funcPopup(event,'contains')">contains</a>(this.element[0], this.currentItem[0])) { //Node was moved out of the current element
<a name="l4253"><span class="linenum">4253</span></a>              if(!noPropagation) delayedTriggers.push(function(event) { this._trigger(&quot;remove&quot;, event, this._uiHash()); });
<a name="l4254"><span class="linenum">4254</span></a>              for (var i = this.containers.length - 1; i &gt;= 0; i--){
<a name="l4255"><span class="linenum">4255</span></a>                  if($.ui.<a class="function" onClick="logFunction('contains')" href="../../../../_functions/contains.html" onMouseOver="funcPopup(event,'contains')">contains</a>(this.containers[i].element[0], this.currentItem[0]) &amp;&amp; !noPropagation) {
<a name="l4256"><span class="linenum">4256</span></a>                      delayedTriggers.push((function(c) { return function(event) { c._trigger(&quot;receive&quot;, event, this._uiHash(this)); };  }).call(this, this.containers[i]));
<a name="l4257"><span class="linenum">4257</span></a>                      delayedTriggers.push((function(c) { return function(event) { c._trigger(&quot;update&quot;, event, this._uiHash(this));  }; }).call(this, this.containers[i]));
<a name="l4258"><span class="linenum">4258</span></a>                  }
<a name="l4259"><span class="linenum">4259</span></a>              };
<a name="l4260"><span class="linenum">4260</span></a>          };
<a name="l4261"><span class="linenum">4261</span></a>  
<a name="l4262"><span class="linenum">4262</span></a>  <span class="comment">        //Post events to containers</span>
<a name="l4263"><span class="linenum">4263</span></a>          for (var i = this.containers.length - 1; i &gt;= 0; i--){
<a name="l4264"><span class="linenum">4264</span></a>              if(!noPropagation) delayedTriggers.push((function(c) { return function(event) { c._trigger(&quot;deactivate&quot;, event, this._uiHash(this)); };  }).call(this, this.containers[i]));
<a name="l4265"><span class="linenum">4265</span></a>              if(this.containers[i].containerCache.over) {
<a name="l4266"><span class="linenum">4266</span></a>                  delayedTriggers.push((function(c) { return function(event) { c._trigger(&quot;out&quot;, event, this._uiHash(this)); };  }).call(this, this.containers[i]));
<a name="l4267"><span class="linenum">4267</span></a>                  this.containers[i].containerCache.over = 0;
<a name="l4268"><span class="linenum">4268</span></a>              }
<a name="l4269"><span class="linenum">4269</span></a>          }
<a name="l4270"><span class="linenum">4270</span></a>  
<a name="l4271"><span class="linenum">4271</span></a>  <span class="comment">        //Do what was originally in plugins</span>
<a name="l4272"><span class="linenum">4272</span></a>          if(this._storedCursor) $('body').css(&quot;cursor&quot;, this._storedCursor); <span class="comment">//Reset cursor</span>
<a name="l4273"><span class="linenum">4273</span></a>          if(this._storedOpacity) this.helper.css(&quot;opacity&quot;, this._storedOpacity); <span class="comment">//Reset opacity</span>
<a name="l4274"><span class="linenum">4274</span></a>          if(this._storedZIndex) this.helper.css(&quot;zIndex&quot;, this._storedZIndex == 'auto' ? '' : this._storedZIndex); <span class="comment">//Reset z-index</span>
<a name="l4275"><span class="linenum">4275</span></a>  
<a name="l4276"><span class="linenum">4276</span></a>          this.dragging = false;
<a name="l4277"><span class="linenum">4277</span></a>          if(this.cancelHelperRemoval) {
<a name="l4278"><span class="linenum">4278</span></a>              if(!noPropagation) {
<a name="l4279"><span class="linenum">4279</span></a>                  this._trigger(&quot;beforeStop&quot;, event, this._uiHash());
<a name="l4280"><span class="linenum">4280</span></a>                  for (var i=0; i &lt; delayedTriggers.length; i++) { delayedTriggers[i].call(this, event); }; <span class="comment">//Trigger all delayed events</span>
<a name="l4281"><span class="linenum">4281</span></a>                  this._trigger(&quot;stop&quot;, event, this._uiHash());
<a name="l4282"><span class="linenum">4282</span></a>              }
<a name="l4283"><span class="linenum">4283</span></a>              return false;
<a name="l4284"><span class="linenum">4284</span></a>          }
<a name="l4285"><span class="linenum">4285</span></a>  
<a name="l4286"><span class="linenum">4286</span></a>          if(!noPropagation) this._trigger(&quot;beforeStop&quot;, event, this._uiHash());
<a name="l4287"><span class="linenum">4287</span></a>  
<a name="l4288"><span class="linenum">4288</span></a>  <span class="comment">        //$(this.placeholder[0]).remove(); would have been the jQuery way - unfortunately, it unbinds ALL events from the original node!</span>
<a name="l4289"><span class="linenum">4289</span></a>          this.placeholder[0].parentNode.removeChild(this.placeholder[0]);
<a name="l4290"><span class="linenum">4290</span></a>  
<a name="l4291"><span class="linenum">4291</span></a>          if(this.helper[0] != this.currentItem[0]) this.helper.<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>(); this.helper = null;
<a name="l4292"><span class="linenum">4292</span></a>  
<a name="l4293"><span class="linenum">4293</span></a>          if(!noPropagation) {
<a name="l4294"><span class="linenum">4294</span></a>              for (var i=0; i &lt; delayedTriggers.length; i++) { delayedTriggers[i].call(this, event); }; <span class="comment">//Trigger all delayed events</span>
<a name="l4295"><span class="linenum">4295</span></a>              this._trigger(&quot;stop&quot;, event, this._uiHash());
<a name="l4296"><span class="linenum">4296</span></a>          }
<a name="l4297"><span class="linenum">4297</span></a>  
<a name="l4298"><span class="linenum">4298</span></a>          this.fromOutside = false;
<a name="l4299"><span class="linenum">4299</span></a>          return true;
<a name="l4300"><span class="linenum">4300</span></a>  
<a name="l4301"><span class="linenum">4301</span></a>      },
<a name="l4302"><span class="linenum">4302</span></a>  
<a name="l4303"><span class="linenum">4303</span></a>      _trigger: function() {
<a name="l4304"><span class="linenum">4304</span></a>          if ($.Widget.prototype._trigger.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments) === false) {
<a name="l4305"><span class="linenum">4305</span></a>              this.cancel();
<a name="l4306"><span class="linenum">4306</span></a>          }
<a name="l4307"><span class="linenum">4307</span></a>      },
<a name="l4308"><span class="linenum">4308</span></a>  
<a name="l4309"><span class="linenum">4309</span></a>      _uiHash: function(inst) {
<a name="l4310"><span class="linenum">4310</span></a>          var self = inst || this;
<a name="l4311"><span class="linenum">4311</span></a>          return {
<a name="l4312"><span class="linenum">4312</span></a>              helper: self.helper,
<a name="l4313"><span class="linenum">4313</span></a>              placeholder: self.placeholder || $([]),
<a name="l4314"><span class="linenum">4314</span></a>              position: self.position,
<a name="l4315"><span class="linenum">4315</span></a>              originalPosition: self.originalPosition,
<a name="l4316"><span class="linenum">4316</span></a>              offset: self.positionAbs,
<a name="l4317"><span class="linenum">4317</span></a>              item: self.currentItem,
<a name="l4318"><span class="linenum">4318</span></a>              sender: inst ? inst.element : null
<a name="l4319"><span class="linenum">4319</span></a>          };
<a name="l4320"><span class="linenum">4320</span></a>      }
<a name="l4321"><span class="linenum">4321</span></a>  
<a name="l4322"><span class="linenum">4322</span></a>  });
<a name="l4323"><span class="linenum">4323</span></a>  
<a name="l4324"><span class="linenum">4324</span></a>  $.extend($.ui.sortable, {
<a name="l4325"><span class="linenum">4325</span></a>      version: &quot;1.8.18&quot;
<a name="l4326"><span class="linenum">4326</span></a>  });
<a name="l4327"><span class="linenum">4327</span></a>  
<a name="l4328"><span class="linenum">4328</span></a>  })(jQuery);
<a name="l4329"><span class="linenum">4329</span></a>  <span class="comment">/*</span>
<a name="l4330"><span class="linenum">4330</span></a>  <span class="comment"> * jQuery UI Accordion 1.8.18</span>
<a name="l4331"><span class="linenum">4331</span></a>  <span class="comment"> *</span>
<a name="l4332"><span class="linenum">4332</span></a>  <span class="comment"> * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l4333"><span class="linenum">4333</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l4334"><span class="linenum">4334</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l4335"><span class="linenum">4335</span></a>  <span class="comment"> *</span>
<a name="l4336"><span class="linenum">4336</span></a>  <span class="comment"> * http://docs.jquery.com/UI/Accordion</span>
<a name="l4337"><span class="linenum">4337</span></a>  <span class="comment"> *</span>
<a name="l4338"><span class="linenum">4338</span></a>  <span class="comment"> * Depends:</span>
<a name="l4339"><span class="linenum">4339</span></a>  <span class="comment"> *    jquery.ui.core.js</span>
<a name="l4340"><span class="linenum">4340</span></a>  <span class="comment"> *    jquery.ui.widget.js</span>
<a name="l4341"><span class="linenum">4341</span></a>  <span class="comment"> */</span>
<a name="l4342"><span class="linenum">4342</span></a>  (function( $, undefined ) {
<a name="l4343"><span class="linenum">4343</span></a>  
<a name="l4344"><span class="linenum">4344</span></a>  $.<a class="function" onClick="logFunction('widget')" href="../../../../_functions/widget.html" onMouseOver="funcPopup(event,'widget')">widget</a>( &quot;ui.accordion&quot;, {
<a name="l4345"><span class="linenum">4345</span></a>      options: {
<a name="l4346"><span class="linenum">4346</span></a>          active: 0,
<a name="l4347"><span class="linenum">4347</span></a>          animated: &quot;slide&quot;,
<a name="l4348"><span class="linenum">4348</span></a>          autoHeight: true,
<a name="l4349"><span class="linenum">4349</span></a>          clearStyle: false,
<a name="l4350"><span class="linenum">4350</span></a>          collapsible: false,
<a name="l4351"><span class="linenum">4351</span></a>          event: &quot;click&quot;,
<a name="l4352"><span class="linenum">4352</span></a>          fillSpace: false,
<a name="l4353"><span class="linenum">4353</span></a>          header: &quot;&gt; li &gt; :first-child,&gt; :not(li):even&quot;,
<a name="l4354"><span class="linenum">4354</span></a>          icons: {
<a name="l4355"><span class="linenum">4355</span></a>              header: &quot;ui-icon-triangle-1-e&quot;,
<a name="l4356"><span class="linenum">4356</span></a>              headerSelected: &quot;ui-icon-triangle-1-s&quot;
<a name="l4357"><span class="linenum">4357</span></a>          },
<a name="l4358"><span class="linenum">4358</span></a>          navigation: false,
<a name="l4359"><span class="linenum">4359</span></a>          navigationFilter: function() {
<a name="l4360"><span class="linenum">4360</span></a>              return this.href.toLowerCase() === location.href.toLowerCase();
<a name="l4361"><span class="linenum">4361</span></a>          }
<a name="l4362"><span class="linenum">4362</span></a>      },
<a name="l4363"><span class="linenum">4363</span></a>  
<a name="l4364"><span class="linenum">4364</span></a>      _create: function() {
<a name="l4365"><span class="linenum">4365</span></a>          var self = this,
<a name="l4366"><span class="linenum">4366</span></a>              options = self.options;
<a name="l4367"><span class="linenum">4367</span></a>  
<a name="l4368"><span class="linenum">4368</span></a>          self.running = 0;
<a name="l4369"><span class="linenum">4369</span></a>  
<a name="l4370"><span class="linenum">4370</span></a>          self.element
<a name="l4371"><span class="linenum">4371</span></a>              .addClass( &quot;ui-accordion ui-widget ui-helper-reset&quot; )
<a name="l4372"><span class="linenum">4372</span></a>  <span class="comment">            // in lack of child-selectors in CSS</span>
<a name="l4373"><span class="linenum">4373</span></a>  <span class="comment">            // we need to mark top-LIs in a UL-accordion for some IE-fix</span>
<a name="l4374"><span class="linenum">4374</span></a>              .children( &quot;li&quot; )
<a name="l4375"><span class="linenum">4375</span></a>                  .addClass( &quot;ui-accordion-li-fix&quot; );
<a name="l4376"><span class="linenum">4376</span></a>  
<a name="l4377"><span class="linenum">4377</span></a>          self.headers = self.element.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>( options.header )
<a name="l4378"><span class="linenum">4378</span></a>              .addClass( &quot;ui-accordion-header ui-helper-reset ui-state-default ui-corner-all&quot; )
<a name="l4379"><span class="linenum">4379</span></a>              .bind( &quot;mouseenter.accordion&quot;, function() {
<a name="l4380"><span class="linenum">4380</span></a>                  if ( options.disabled ) {
<a name="l4381"><span class="linenum">4381</span></a>                      return;
<a name="l4382"><span class="linenum">4382</span></a>                  }
<a name="l4383"><span class="linenum">4383</span></a>                  $( this ).addClass( &quot;ui-state-hover&quot; );
<a name="l4384"><span class="linenum">4384</span></a>              })
<a name="l4385"><span class="linenum">4385</span></a>              .bind( &quot;mouseleave.accordion&quot;, function() {
<a name="l4386"><span class="linenum">4386</span></a>                  if ( options.disabled ) {
<a name="l4387"><span class="linenum">4387</span></a>                      return;
<a name="l4388"><span class="linenum">4388</span></a>                  }
<a name="l4389"><span class="linenum">4389</span></a>                  $( this ).removeClass( &quot;ui-state-hover&quot; );
<a name="l4390"><span class="linenum">4390</span></a>              })
<a name="l4391"><span class="linenum">4391</span></a>              .bind( &quot;focus.accordion&quot;, function() {
<a name="l4392"><span class="linenum">4392</span></a>                  if ( options.disabled ) {
<a name="l4393"><span class="linenum">4393</span></a>                      return;
<a name="l4394"><span class="linenum">4394</span></a>                  }
<a name="l4395"><span class="linenum">4395</span></a>                  $( this ).addClass( &quot;ui-state-focus&quot; );
<a name="l4396"><span class="linenum">4396</span></a>              })
<a name="l4397"><span class="linenum">4397</span></a>              .bind( &quot;blur.accordion&quot;, function() {
<a name="l4398"><span class="linenum">4398</span></a>                  if ( options.disabled ) {
<a name="l4399"><span class="linenum">4399</span></a>                      return;
<a name="l4400"><span class="linenum">4400</span></a>                  }
<a name="l4401"><span class="linenum">4401</span></a>                  $( this ).removeClass( &quot;ui-state-focus&quot; );
<a name="l4402"><span class="linenum">4402</span></a>              });
<a name="l4403"><span class="linenum">4403</span></a>  
<a name="l4404"><span class="linenum">4404</span></a>          self.headers.<a class="phpfunction" onClick="logFunction('next')" href="../../../../_functions/next.html" onMouseOver="phpfuncPopup(event,'next')">next</a>()
<a name="l4405"><span class="linenum">4405</span></a>              .addClass( &quot;ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom&quot; );
<a name="l4406"><span class="linenum">4406</span></a>  
<a name="l4407"><span class="linenum">4407</span></a>          if ( options.navigation ) {
<a name="l4408"><span class="linenum">4408</span></a>              var current = self.element.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>( &quot;a&quot; ).filter( options.navigationFilter ).eq( 0 );
<a name="l4409"><span class="linenum">4409</span></a>              if ( current.length ) {
<a name="l4410"><span class="linenum">4410</span></a>                  var header = current.closest( &quot;.ui-accordion-header&quot; );
<a name="l4411"><span class="linenum">4411</span></a>                  if ( header.length ) {
<a name="l4412"><span class="linenum">4412</span></a>  <span class="comment">                    // anchor within header</span>
<a name="l4413"><span class="linenum">4413</span></a>                      self.active = header;
<a name="l4414"><span class="linenum">4414</span></a>                  } else {
<a name="l4415"><span class="linenum">4415</span></a>  <span class="comment">                    // anchor within content</span>
<a name="l4416"><span class="linenum">4416</span></a>                      self.active = current.closest( &quot;.ui-accordion-content&quot; ).<a class="phpfunction" onClick="logFunction('prev')" href="../../../../_functions/prev.html" onMouseOver="phpfuncPopup(event,'prev')">prev</a>();
<a name="l4417"><span class="linenum">4417</span></a>                  }
<a name="l4418"><span class="linenum">4418</span></a>              }
<a name="l4419"><span class="linenum">4419</span></a>          }
<a name="l4420"><span class="linenum">4420</span></a>  
<a name="l4421"><span class="linenum">4421</span></a>          self.active = self._findActive( self.active || options.active )
<a name="l4422"><span class="linenum">4422</span></a>              .addClass( &quot;ui-state-default ui-state-active&quot; )
<a name="l4423"><span class="linenum">4423</span></a>              .toggleClass( &quot;ui-corner-all&quot; )
<a name="l4424"><span class="linenum">4424</span></a>              .toggleClass( &quot;ui-corner-top&quot; );
<a name="l4425"><span class="linenum">4425</span></a>          self.active.<a class="phpfunction" onClick="logFunction('next')" href="../../../../_functions/next.html" onMouseOver="phpfuncPopup(event,'next')">next</a>().addClass( &quot;ui-accordion-content-active&quot; );
<a name="l4426"><span class="linenum">4426</span></a>  
<a name="l4427"><span class="linenum">4427</span></a>          self._createIcons();
<a name="l4428"><span class="linenum">4428</span></a>          self.resize();
<a name="l4429"><span class="linenum">4429</span></a>          
<a name="l4430"><span class="linenum">4430</span></a>  <span class="comment">        // ARIA</span>
<a name="l4431"><span class="linenum">4431</span></a>          self.element.attr( &quot;role&quot;, &quot;tablist&quot; );
<a name="l4432"><span class="linenum">4432</span></a>  
<a name="l4433"><span class="linenum">4433</span></a>          self.headers
<a name="l4434"><span class="linenum">4434</span></a>              .attr( &quot;role&quot;, &quot;tab&quot; )
<a name="l4435"><span class="linenum">4435</span></a>              .bind( &quot;keydown.accordion&quot;, function( event ) {
<a name="l4436"><span class="linenum">4436</span></a>                  return self._keydown( event );
<a name="l4437"><span class="linenum">4437</span></a>              })
<a name="l4438"><span class="linenum">4438</span></a>              .<a class="phpfunction" onClick="logFunction('next')" href="../../../../_functions/next.html" onMouseOver="phpfuncPopup(event,'next')">next</a>()
<a name="l4439"><span class="linenum">4439</span></a>                  .attr( &quot;role&quot;, &quot;tabpanel&quot; );
<a name="l4440"><span class="linenum">4440</span></a>  
<a name="l4441"><span class="linenum">4441</span></a>          self.headers
<a name="l4442"><span class="linenum">4442</span></a>              .not( self.active || &quot;&quot; )
<a name="l4443"><span class="linenum">4443</span></a>              .attr({
<a name="l4444"><span class="linenum">4444</span></a>                  &quot;aria-expanded&quot;: &quot;false&quot;,
<a name="l4445"><span class="linenum">4445</span></a>                  &quot;aria-selected&quot;: &quot;false&quot;,
<a name="l4446"><span class="linenum">4446</span></a>                  tabIndex: -1
<a name="l4447"><span class="linenum">4447</span></a>              })
<a name="l4448"><span class="linenum">4448</span></a>              .<a class="phpfunction" onClick="logFunction('next')" href="../../../../_functions/next.html" onMouseOver="phpfuncPopup(event,'next')">next</a>()
<a name="l4449"><span class="linenum">4449</span></a>                  .hide();
<a name="l4450"><span class="linenum">4450</span></a>  
<a name="l4451"><span class="linenum">4451</span></a>  <span class="comment">        // make sure at least one header is in the tab order</span>
<a name="l4452"><span class="linenum">4452</span></a>          if ( !self.active.length ) {
<a name="l4453"><span class="linenum">4453</span></a>              self.headers.eq( 0 ).attr( &quot;tabIndex&quot;, 0 );
<a name="l4454"><span class="linenum">4454</span></a>          } else {
<a name="l4455"><span class="linenum">4455</span></a>              self.active
<a name="l4456"><span class="linenum">4456</span></a>                  .attr({
<a name="l4457"><span class="linenum">4457</span></a>                      &quot;aria-expanded&quot;: &quot;true&quot;,
<a name="l4458"><span class="linenum">4458</span></a>                      &quot;aria-selected&quot;: &quot;true&quot;,
<a name="l4459"><span class="linenum">4459</span></a>                      tabIndex: 0
<a name="l4460"><span class="linenum">4460</span></a>                  });
<a name="l4461"><span class="linenum">4461</span></a>          }
<a name="l4462"><span class="linenum">4462</span></a>  
<a name="l4463"><span class="linenum">4463</span></a>  <span class="comment">        // only need links in tab order for Safari</span>
<a name="l4464"><span class="linenum">4464</span></a>          if ( !$.browser.safari ) {
<a name="l4465"><span class="linenum">4465</span></a>              self.headers.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>( &quot;a&quot; ).attr( &quot;tabIndex&quot;, -1 );
<a name="l4466"><span class="linenum">4466</span></a>          }
<a name="l4467"><span class="linenum">4467</span></a>  
<a name="l4468"><span class="linenum">4468</span></a>          if ( options.event ) {
<a name="l4469"><span class="linenum">4469</span></a>              self.headers.bind( options.event.<a class="phpfunction" onClick="logFunction('split')" href="../../../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>(&quot; &quot;).join(&quot;.accordion &quot;) + &quot;.accordion&quot;, function(event) {
<a name="l4470"><span class="linenum">4470</span></a>                  self._clickHandler.call( self, event, this );
<a name="l4471"><span class="linenum">4471</span></a>                  event.preventDefault();
<a name="l4472"><span class="linenum">4472</span></a>              });
<a name="l4473"><span class="linenum">4473</span></a>          }
<a name="l4474"><span class="linenum">4474</span></a>      },
<a name="l4475"><span class="linenum">4475</span></a>  
<a name="l4476"><span class="linenum">4476</span></a>      _createIcons: function() {
<a name="l4477"><span class="linenum">4477</span></a>          var options = this.options;
<a name="l4478"><span class="linenum">4478</span></a>          if ( options.icons ) {
<a name="l4479"><span class="linenum">4479</span></a>              $( &quot;&lt;span&gt;&lt;/span&gt;&quot; )
<a name="l4480"><span class="linenum">4480</span></a>                  .addClass( &quot;ui-icon &quot; + options.icons.header )
<a name="l4481"><span class="linenum">4481</span></a>                  .prependTo( this.headers );
<a name="l4482"><span class="linenum">4482</span></a>              this.active.children( &quot;.ui-icon&quot; )
<a name="l4483"><span class="linenum">4483</span></a>                  .toggleClass(options.icons.header)
<a name="l4484"><span class="linenum">4484</span></a>                  .toggleClass(options.icons.headerSelected);
<a name="l4485"><span class="linenum">4485</span></a>              this.element.addClass( &quot;ui-accordion-icons&quot; );
<a name="l4486"><span class="linenum">4486</span></a>          }
<a name="l4487"><span class="linenum">4487</span></a>      },
<a name="l4488"><span class="linenum">4488</span></a>  
<a name="l4489"><span class="linenum">4489</span></a>      _destroyIcons: function() {
<a name="l4490"><span class="linenum">4490</span></a>          this.headers.children( &quot;.ui-icon&quot; ).<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>();
<a name="l4491"><span class="linenum">4491</span></a>          this.element.removeClass( &quot;ui-accordion-icons&quot; );
<a name="l4492"><span class="linenum">4492</span></a>      },
<a name="l4493"><span class="linenum">4493</span></a>  
<a name="l4494"><span class="linenum">4494</span></a>      destroy: function() {
<a name="l4495"><span class="linenum">4495</span></a>          var options = this.options;
<a name="l4496"><span class="linenum">4496</span></a>  
<a name="l4497"><span class="linenum">4497</span></a>          this.element
<a name="l4498"><span class="linenum">4498</span></a>              .removeClass( &quot;ui-accordion ui-widget ui-helper-reset&quot; )
<a name="l4499"><span class="linenum">4499</span></a>              .removeAttr( &quot;role&quot; );
<a name="l4500"><span class="linenum">4500</span></a>  
<a name="l4501"><span class="linenum">4501</span></a>          this.headers
<a name="l4502"><span class="linenum">4502</span></a>              .unbind( &quot;.accordion&quot; )
<a name="l4503"><span class="linenum">4503</span></a>              .removeClass( &quot;ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top&quot; )
<a name="l4504"><span class="linenum">4504</span></a>              .removeAttr( &quot;role&quot; )
<a name="l4505"><span class="linenum">4505</span></a>              .removeAttr( &quot;aria-expanded&quot; )
<a name="l4506"><span class="linenum">4506</span></a>              .removeAttr( &quot;aria-selected&quot; )
<a name="l4507"><span class="linenum">4507</span></a>              .removeAttr( &quot;tabIndex&quot; );
<a name="l4508"><span class="linenum">4508</span></a>  
<a name="l4509"><span class="linenum">4509</span></a>          this.headers.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>( &quot;a&quot; ).removeAttr( &quot;tabIndex&quot; );
<a name="l4510"><span class="linenum">4510</span></a>          this._destroyIcons();
<a name="l4511"><span class="linenum">4511</span></a>          var contents = this.headers.<a class="phpfunction" onClick="logFunction('next')" href="../../../../_functions/next.html" onMouseOver="phpfuncPopup(event,'next')">next</a>()
<a name="l4512"><span class="linenum">4512</span></a>              .css( &quot;display&quot;, &quot;&quot; )
<a name="l4513"><span class="linenum">4513</span></a>              .removeAttr( &quot;role&quot; )
<a name="l4514"><span class="linenum">4514</span></a>              .removeClass( &quot;ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled&quot; );
<a name="l4515"><span class="linenum">4515</span></a>          if ( options.autoHeight || options.fillHeight ) {
<a name="l4516"><span class="linenum">4516</span></a>              contents.css( &quot;height&quot;, &quot;&quot; );
<a name="l4517"><span class="linenum">4517</span></a>          }
<a name="l4518"><span class="linenum">4518</span></a>  
<a name="l4519"><span class="linenum">4519</span></a>          return $.Widget.prototype.destroy.call( this );
<a name="l4520"><span class="linenum">4520</span></a>      },
<a name="l4521"><span class="linenum">4521</span></a>  
<a name="l4522"><span class="linenum">4522</span></a>      _setOption: function( key, value ) {
<a name="l4523"><span class="linenum">4523</span></a>          $.Widget.prototype._setOption.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>( this, arguments );
<a name="l4524"><span class="linenum">4524</span></a>              
<a name="l4525"><span class="linenum">4525</span></a>          if ( key == &quot;active&quot; ) {
<a name="l4526"><span class="linenum">4526</span></a>              this.activate( value );
<a name="l4527"><span class="linenum">4527</span></a>          }
<a name="l4528"><span class="linenum">4528</span></a>          if ( key == &quot;icons&quot; ) {
<a name="l4529"><span class="linenum">4529</span></a>              this._destroyIcons();
<a name="l4530"><span class="linenum">4530</span></a>              if ( value ) {
<a name="l4531"><span class="linenum">4531</span></a>                  this._createIcons();
<a name="l4532"><span class="linenum">4532</span></a>              }
<a name="l4533"><span class="linenum">4533</span></a>          }
<a name="l4534"><span class="linenum">4534</span></a>  <span class="comment">        // #5332 - opacity doesn't cascade to positioned elements in IE</span>
<a name="l4535"><span class="linenum">4535</span></a>  <span class="comment">        // so we need to add the disabled class to the headers and panels</span>
<a name="l4536"><span class="linenum">4536</span></a>          if ( key == &quot;disabled&quot; ) {
<a name="l4537"><span class="linenum">4537</span></a>              this.headers.<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(this.headers.<a class="phpfunction" onClick="logFunction('next')" href="../../../../_functions/next.html" onMouseOver="phpfuncPopup(event,'next')">next</a>())
<a name="l4538"><span class="linenum">4538</span></a>                  [ value ? &quot;addClass&quot; : &quot;removeClass&quot; ](
<a name="l4539"><span class="linenum">4539</span></a>                      &quot;ui-accordion-disabled ui-state-disabled&quot; );
<a name="l4540"><span class="linenum">4540</span></a>          }
<a name="l4541"><span class="linenum">4541</span></a>      },
<a name="l4542"><span class="linenum">4542</span></a>  
<a name="l4543"><span class="linenum">4543</span></a>      _keydown: function( event ) {
<a name="l4544"><span class="linenum">4544</span></a>          if ( this.options.disabled || event.altKey || event.ctrlKey ) {
<a name="l4545"><span class="linenum">4545</span></a>              return;
<a name="l4546"><span class="linenum">4546</span></a>          }
<a name="l4547"><span class="linenum">4547</span></a>  
<a name="l4548"><span class="linenum">4548</span></a>          var keyCode = $.ui.keyCode,
<a name="l4549"><span class="linenum">4549</span></a>              length = this.headers.length,
<a name="l4550"><span class="linenum">4550</span></a>              currentIndex = this.headers.index( event.target ),
<a name="l4551"><span class="linenum">4551</span></a>              toFocus = false;
<a name="l4552"><span class="linenum">4552</span></a>  
<a name="l4553"><span class="linenum">4553</span></a>          switch ( event.keyCode ) {
<a name="l4554"><span class="linenum">4554</span></a>              case keyCode.RIGHT:
<a name="l4555"><span class="linenum">4555</span></a>              case keyCode.DOWN:
<a name="l4556"><span class="linenum">4556</span></a>                  toFocus = this.headers[ ( currentIndex + 1 ) % length ];
<a name="l4557"><span class="linenum">4557</span></a>                  break;
<a name="l4558"><span class="linenum">4558</span></a>              case keyCode.LEFT:
<a name="l4559"><span class="linenum">4559</span></a>              case keyCode.UP:
<a name="l4560"><span class="linenum">4560</span></a>                  toFocus = this.headers[ ( currentIndex - 1 + length ) % length ];
<a name="l4561"><span class="linenum">4561</span></a>                  break;
<a name="l4562"><span class="linenum">4562</span></a>              case keyCode.SPACE:
<a name="l4563"><span class="linenum">4563</span></a>              case keyCode.ENTER:
<a name="l4564"><span class="linenum">4564</span></a>                  this._clickHandler( { target: event.target }, event.target );
<a name="l4565"><span class="linenum">4565</span></a>                  event.preventDefault();
<a name="l4566"><span class="linenum">4566</span></a>          }
<a name="l4567"><span class="linenum">4567</span></a>  
<a name="l4568"><span class="linenum">4568</span></a>          if ( toFocus ) {
<a name="l4569"><span class="linenum">4569</span></a>              $( event.target ).attr( &quot;tabIndex&quot;, -1 );
<a name="l4570"><span class="linenum">4570</span></a>              $( toFocus ).attr( &quot;tabIndex&quot;, 0 );
<a name="l4571"><span class="linenum">4571</span></a>              toFocus.focus();
<a name="l4572"><span class="linenum">4572</span></a>              return false;
<a name="l4573"><span class="linenum">4573</span></a>          }
<a name="l4574"><span class="linenum">4574</span></a>  
<a name="l4575"><span class="linenum">4575</span></a>          return true;
<a name="l4576"><span class="linenum">4576</span></a>      },
<a name="l4577"><span class="linenum">4577</span></a>  
<a name="l4578"><span class="linenum">4578</span></a>      resize: function() {
<a name="l4579"><span class="linenum">4579</span></a>          var options = this.options,
<a name="l4580"><span class="linenum">4580</span></a>              maxHeight;
<a name="l4581"><span class="linenum">4581</span></a>  
<a name="l4582"><span class="linenum">4582</span></a>          if ( options.fillSpace ) {
<a name="l4583"><span class="linenum">4583</span></a>              if ( $.browser.msie ) {
<a name="l4584"><span class="linenum">4584</span></a>                  var defOverflow = this.element.parent().css( &quot;overflow&quot; );
<a name="l4585"><span class="linenum">4585</span></a>                  this.element.parent().css( &quot;overflow&quot;, &quot;hidden&quot;);
<a name="l4586"><span class="linenum">4586</span></a>              }
<a name="l4587"><span class="linenum">4587</span></a>              maxHeight = this.element.parent().height();
<a name="l4588"><span class="linenum">4588</span></a>              if ($.browser.msie) {
<a name="l4589"><span class="linenum">4589</span></a>                  this.element.parent().css( &quot;overflow&quot;, defOverflow );
<a name="l4590"><span class="linenum">4590</span></a>              }
<a name="l4591"><span class="linenum">4591</span></a>  
<a name="l4592"><span class="linenum">4592</span></a>              this.headers.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l4593"><span class="linenum">4593</span></a>                  maxHeight -= $( this ).outerHeight( true );
<a name="l4594"><span class="linenum">4594</span></a>              });
<a name="l4595"><span class="linenum">4595</span></a>  
<a name="l4596"><span class="linenum">4596</span></a>              this.headers.<a class="phpfunction" onClick="logFunction('next')" href="../../../../_functions/next.html" onMouseOver="phpfuncPopup(event,'next')">next</a>()
<a name="l4597"><span class="linenum">4597</span></a>                  .<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l4598"><span class="linenum">4598</span></a>                      $( this ).height( Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>( 0, maxHeight -
<a name="l4599"><span class="linenum">4599</span></a>                          $( this ).innerHeight() + $( this ).height() ) );
<a name="l4600"><span class="linenum">4600</span></a>                  })
<a name="l4601"><span class="linenum">4601</span></a>                  .css( &quot;overflow&quot;, &quot;auto&quot; );
<a name="l4602"><span class="linenum">4602</span></a>          } else if ( options.autoHeight ) {
<a name="l4603"><span class="linenum">4603</span></a>              maxHeight = 0;
<a name="l4604"><span class="linenum">4604</span></a>              this.headers.<a class="phpfunction" onClick="logFunction('next')" href="../../../../_functions/next.html" onMouseOver="phpfuncPopup(event,'next')">next</a>()
<a name="l4605"><span class="linenum">4605</span></a>                  .<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l4606"><span class="linenum">4606</span></a>                      maxHeight = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>( maxHeight, $( this ).height( &quot;&quot; ).height() );
<a name="l4607"><span class="linenum">4607</span></a>                  })
<a name="l4608"><span class="linenum">4608</span></a>                  .height( maxHeight );
<a name="l4609"><span class="linenum">4609</span></a>          }
<a name="l4610"><span class="linenum">4610</span></a>  
<a name="l4611"><span class="linenum">4611</span></a>          return this;
<a name="l4612"><span class="linenum">4612</span></a>      },
<a name="l4613"><span class="linenum">4613</span></a>  
<a name="l4614"><span class="linenum">4614</span></a>      activate: function( index ) {
<a name="l4615"><span class="linenum">4615</span></a>  <span class="comment">        // TODO this gets called on init, changing the option without an explicit call for that</span>
<a name="l4616"><span class="linenum">4616</span></a>          this.options.active = index;
<a name="l4617"><span class="linenum">4617</span></a>  <span class="comment">        // call clickHandler with custom event</span>
<a name="l4618"><span class="linenum">4618</span></a>          var active = this._findActive( index )[ 0 ];
<a name="l4619"><span class="linenum">4619</span></a>          this._clickHandler( { target: active }, active );
<a name="l4620"><span class="linenum">4620</span></a>  
<a name="l4621"><span class="linenum">4621</span></a>          return this;
<a name="l4622"><span class="linenum">4622</span></a>      },
<a name="l4623"><span class="linenum">4623</span></a>  
<a name="l4624"><span class="linenum">4624</span></a>      _findActive: function( selector ) {
<a name="l4625"><span class="linenum">4625</span></a>          return selector
<a name="l4626"><span class="linenum">4626</span></a>              ? typeof selector === &quot;number&quot;
<a name="l4627"><span class="linenum">4627</span></a>                  ? this.headers.filter( &quot;:eq(&quot; + selector + &quot;)&quot; )
<a name="l4628"><span class="linenum">4628</span></a>                  : this.headers.not( this.headers.not( selector ) )
<a name="l4629"><span class="linenum">4629</span></a>              : selector === false
<a name="l4630"><span class="linenum">4630</span></a>                  ? $( [] )
<a name="l4631"><span class="linenum">4631</span></a>                  : this.headers.filter( &quot;:eq(0)&quot; );
<a name="l4632"><span class="linenum">4632</span></a>      },
<a name="l4633"><span class="linenum">4633</span></a>  
<a name="l4634"><span class="linenum">4634</span></a>  <span class="comment">    // TODO isn't event.target enough? why the separate target argument?</span>
<a name="l4635"><span class="linenum">4635</span></a>      _clickHandler: function( event, target ) {
<a name="l4636"><span class="linenum">4636</span></a>          var options = this.options;
<a name="l4637"><span class="linenum">4637</span></a>          if ( options.disabled ) {
<a name="l4638"><span class="linenum">4638</span></a>              return;
<a name="l4639"><span class="linenum">4639</span></a>          }
<a name="l4640"><span class="linenum">4640</span></a>  
<a name="l4641"><span class="linenum">4641</span></a>  <span class="comment">        // called only when using activate(false) to close all parts programmatically</span>
<a name="l4642"><span class="linenum">4642</span></a>          if ( !event.target ) {
<a name="l4643"><span class="linenum">4643</span></a>              if ( !options.collapsible ) {
<a name="l4644"><span class="linenum">4644</span></a>                  return;
<a name="l4645"><span class="linenum">4645</span></a>              }
<a name="l4646"><span class="linenum">4646</span></a>              this.active
<a name="l4647"><span class="linenum">4647</span></a>                  .removeClass( &quot;ui-state-active ui-corner-top&quot; )
<a name="l4648"><span class="linenum">4648</span></a>                  .addClass( &quot;ui-state-default ui-corner-all&quot; )
<a name="l4649"><span class="linenum">4649</span></a>                  .children( &quot;.ui-icon&quot; )
<a name="l4650"><span class="linenum">4650</span></a>                      .removeClass( options.icons.headerSelected )
<a name="l4651"><span class="linenum">4651</span></a>                      .addClass( options.icons.header );
<a name="l4652"><span class="linenum">4652</span></a>              this.active.<a class="phpfunction" onClick="logFunction('next')" href="../../../../_functions/next.html" onMouseOver="phpfuncPopup(event,'next')">next</a>().addClass( &quot;ui-accordion-content-active&quot; );
<a name="l4653"><span class="linenum">4653</span></a>              var toHide = this.active.<a class="phpfunction" onClick="logFunction('next')" href="../../../../_functions/next.html" onMouseOver="phpfuncPopup(event,'next')">next</a>(),
<a name="l4654"><span class="linenum">4654</span></a>                  data = {
<a name="l4655"><span class="linenum">4655</span></a>                      options: options,
<a name="l4656"><span class="linenum">4656</span></a>                      newHeader: $( [] ),
<a name="l4657"><span class="linenum">4657</span></a>                      oldHeader: options.active,
<a name="l4658"><span class="linenum">4658</span></a>                      newContent: $( [] ),
<a name="l4659"><span class="linenum">4659</span></a>                      oldContent: toHide
<a name="l4660"><span class="linenum">4660</span></a>                  },
<a name="l4661"><span class="linenum">4661</span></a>                  toShow = ( this.active = $( [] ) );
<a name="l4662"><span class="linenum">4662</span></a>              this._toggle( toShow, toHide, data );
<a name="l4663"><span class="linenum">4663</span></a>              return;
<a name="l4664"><span class="linenum">4664</span></a>          }
<a name="l4665"><span class="linenum">4665</span></a>  
<a name="l4666"><span class="linenum">4666</span></a>  <span class="comment">        // get the click target</span>
<a name="l4667"><span class="linenum">4667</span></a>          var clicked = $( event.currentTarget || target ),
<a name="l4668"><span class="linenum">4668</span></a>              clickedIsActive = clicked[0] === this.active[0];
<a name="l4669"><span class="linenum">4669</span></a>  
<a name="l4670"><span class="linenum">4670</span></a>  <span class="comment">        // TODO the option is changed, is that correct?</span>
<a name="l4671"><span class="linenum">4671</span></a>  <span class="comment">        // TODO if it is correct, shouldn't that happen after determining that the click is valid?</span>
<a name="l4672"><span class="linenum">4672</span></a>          options.active = options.collapsible &amp;&amp; clickedIsActive ?
<a name="l4673"><span class="linenum">4673</span></a>              false :
<a name="l4674"><span class="linenum">4674</span></a>              this.headers.index( clicked );
<a name="l4675"><span class="linenum">4675</span></a>  
<a name="l4676"><span class="linenum">4676</span></a>  <span class="comment">        // if animations are still active, or the active header is the target, ignore click</span>
<a name="l4677"><span class="linenum">4677</span></a>          if ( this.running || ( !options.collapsible &amp;&amp; clickedIsActive ) ) {
<a name="l4678"><span class="linenum">4678</span></a>              return;
<a name="l4679"><span class="linenum">4679</span></a>          }
<a name="l4680"><span class="linenum">4680</span></a>  
<a name="l4681"><span class="linenum">4681</span></a>  <span class="comment">        // find elements to show and hide</span>
<a name="l4682"><span class="linenum">4682</span></a>          var active = this.active,
<a name="l4683"><span class="linenum">4683</span></a>              toShow = clicked.<a class="phpfunction" onClick="logFunction('next')" href="../../../../_functions/next.html" onMouseOver="phpfuncPopup(event,'next')">next</a>(),
<a name="l4684"><span class="linenum">4684</span></a>              toHide = this.active.<a class="phpfunction" onClick="logFunction('next')" href="../../../../_functions/next.html" onMouseOver="phpfuncPopup(event,'next')">next</a>(),
<a name="l4685"><span class="linenum">4685</span></a>              data = {
<a name="l4686"><span class="linenum">4686</span></a>                  options: options,
<a name="l4687"><span class="linenum">4687</span></a>                  newHeader: clickedIsActive &amp;&amp; options.collapsible ? $([]) : clicked,
<a name="l4688"><span class="linenum">4688</span></a>                  oldHeader: this.active,
<a name="l4689"><span class="linenum">4689</span></a>                  newContent: clickedIsActive &amp;&amp; options.collapsible ? $([]) : toShow,
<a name="l4690"><span class="linenum">4690</span></a>                  oldContent: toHide
<a name="l4691"><span class="linenum">4691</span></a>              },
<a name="l4692"><span class="linenum">4692</span></a>              down = this.headers.index( this.active[0] ) &gt; this.headers.index( clicked[0] );
<a name="l4693"><span class="linenum">4693</span></a>  
<a name="l4694"><span class="linenum">4694</span></a>  <span class="comment">        // when the call to ._toggle() comes after the class changes</span>
<a name="l4695"><span class="linenum">4695</span></a>  <span class="comment">        // it causes a very odd bug in IE 8 (see #6720)</span>
<a name="l4696"><span class="linenum">4696</span></a>          this.active = clickedIsActive ? $([]) : clicked;
<a name="l4697"><span class="linenum">4697</span></a>          this._toggle( toShow, toHide, data, clickedIsActive, down );
<a name="l4698"><span class="linenum">4698</span></a>  
<a name="l4699"><span class="linenum">4699</span></a>  <span class="comment">        // switch classes</span>
<a name="l4700"><span class="linenum">4700</span></a>          active
<a name="l4701"><span class="linenum">4701</span></a>              .removeClass( &quot;ui-state-active ui-corner-top&quot; )
<a name="l4702"><span class="linenum">4702</span></a>              .addClass( &quot;ui-state-default ui-corner-all&quot; )
<a name="l4703"><span class="linenum">4703</span></a>              .children( &quot;.ui-icon&quot; )
<a name="l4704"><span class="linenum">4704</span></a>                  .removeClass( options.icons.headerSelected )
<a name="l4705"><span class="linenum">4705</span></a>                  .addClass( options.icons.header );
<a name="l4706"><span class="linenum">4706</span></a>          if ( !clickedIsActive ) {
<a name="l4707"><span class="linenum">4707</span></a>              clicked
<a name="l4708"><span class="linenum">4708</span></a>                  .removeClass( &quot;ui-state-default ui-corner-all&quot; )
<a name="l4709"><span class="linenum">4709</span></a>                  .addClass( &quot;ui-state-active ui-corner-top&quot; )
<a name="l4710"><span class="linenum">4710</span></a>                  .children( &quot;.ui-icon&quot; )
<a name="l4711"><span class="linenum">4711</span></a>                      .removeClass( options.icons.header )
<a name="l4712"><span class="linenum">4712</span></a>                      .addClass( options.icons.headerSelected );
<a name="l4713"><span class="linenum">4713</span></a>              clicked
<a name="l4714"><span class="linenum">4714</span></a>                  .<a class="phpfunction" onClick="logFunction('next')" href="../../../../_functions/next.html" onMouseOver="phpfuncPopup(event,'next')">next</a>()
<a name="l4715"><span class="linenum">4715</span></a>                  .addClass( &quot;ui-accordion-content-active&quot; );
<a name="l4716"><span class="linenum">4716</span></a>          }
<a name="l4717"><span class="linenum">4717</span></a>  
<a name="l4718"><span class="linenum">4718</span></a>          return;
<a name="l4719"><span class="linenum">4719</span></a>      },
<a name="l4720"><span class="linenum">4720</span></a>  
<a name="l4721"><span class="linenum">4721</span></a>      _toggle: function( toShow, toHide, data, clickedIsActive, down ) {
<a name="l4722"><span class="linenum">4722</span></a>          var self = this,
<a name="l4723"><span class="linenum">4723</span></a>              options = self.options;
<a name="l4724"><span class="linenum">4724</span></a>  
<a name="l4725"><span class="linenum">4725</span></a>          self.toShow = toShow;
<a name="l4726"><span class="linenum">4726</span></a>          self.toHide = toHide;
<a name="l4727"><span class="linenum">4727</span></a>          self.data = data;
<a name="l4728"><span class="linenum">4728</span></a>  
<a name="l4729"><span class="linenum">4729</span></a>          var complete = function() {
<a name="l4730"><span class="linenum">4730</span></a>              if ( !self ) {
<a name="l4731"><span class="linenum">4731</span></a>                  return;
<a name="l4732"><span class="linenum">4732</span></a>              }
<a name="l4733"><span class="linenum">4733</span></a>              return self._completed.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>( self, arguments );
<a name="l4734"><span class="linenum">4734</span></a>          };
<a name="l4735"><span class="linenum">4735</span></a>  
<a name="l4736"><span class="linenum">4736</span></a>  <span class="comment">        // trigger changestart event</span>
<a name="l4737"><span class="linenum">4737</span></a>          self._trigger( &quot;changestart&quot;, null, self.data );
<a name="l4738"><span class="linenum">4738</span></a>  
<a name="l4739"><span class="linenum">4739</span></a>  <span class="comment">        // count elements to animate</span>
<a name="l4740"><span class="linenum">4740</span></a>          self.running = toHide.<a class="function" onClick="logFunction('size')" href="../../../../_functions/size.html" onMouseOver="funcPopup(event,'size')">size</a>() === 0 ? toShow.<a class="function" onClick="logFunction('size')" href="../../../../_functions/size.html" onMouseOver="funcPopup(event,'size')">size</a>() : toHide.<a class="function" onClick="logFunction('size')" href="../../../../_functions/size.html" onMouseOver="funcPopup(event,'size')">size</a>();
<a name="l4741"><span class="linenum">4741</span></a>  
<a name="l4742"><span class="linenum">4742</span></a>          if ( options.animated ) {
<a name="l4743"><span class="linenum">4743</span></a>              var animOptions = {};
<a name="l4744"><span class="linenum">4744</span></a>  
<a name="l4745"><span class="linenum">4745</span></a>              if ( options.collapsible &amp;&amp; clickedIsActive ) {
<a name="l4746"><span class="linenum">4746</span></a>                  animOptions = {
<a name="l4747"><span class="linenum">4747</span></a>                      toShow: $( [] ),
<a name="l4748"><span class="linenum">4748</span></a>                      toHide: toHide,
<a name="l4749"><span class="linenum">4749</span></a>                      complete: complete,
<a name="l4750"><span class="linenum">4750</span></a>                      down: down,
<a name="l4751"><span class="linenum">4751</span></a>                      autoHeight: options.autoHeight || options.fillSpace
<a name="l4752"><span class="linenum">4752</span></a>                  };
<a name="l4753"><span class="linenum">4753</span></a>              } else {
<a name="l4754"><span class="linenum">4754</span></a>                  animOptions = {
<a name="l4755"><span class="linenum">4755</span></a>                      toShow: toShow,
<a name="l4756"><span class="linenum">4756</span></a>                      toHide: toHide,
<a name="l4757"><span class="linenum">4757</span></a>                      complete: complete,
<a name="l4758"><span class="linenum">4758</span></a>                      down: down,
<a name="l4759"><span class="linenum">4759</span></a>                      autoHeight: options.autoHeight || options.fillSpace
<a name="l4760"><span class="linenum">4760</span></a>                  };
<a name="l4761"><span class="linenum">4761</span></a>              }
<a name="l4762"><span class="linenum">4762</span></a>  
<a name="l4763"><span class="linenum">4763</span></a>              if ( !options.proxied ) {
<a name="l4764"><span class="linenum">4764</span></a>                  options.proxied = options.animated;
<a name="l4765"><span class="linenum">4765</span></a>              }
<a name="l4766"><span class="linenum">4766</span></a>  
<a name="l4767"><span class="linenum">4767</span></a>              if ( !options.proxiedDuration ) {
<a name="l4768"><span class="linenum">4768</span></a>                  options.proxiedDuration = options.duration;
<a name="l4769"><span class="linenum">4769</span></a>              }
<a name="l4770"><span class="linenum">4770</span></a>  
<a name="l4771"><span class="linenum">4771</span></a>              options.animated = $.isFunction( options.proxied ) ?
<a name="l4772"><span class="linenum">4772</span></a>                  options.proxied( animOptions ) :
<a name="l4773"><span class="linenum">4773</span></a>                  options.proxied;
<a name="l4774"><span class="linenum">4774</span></a>  
<a name="l4775"><span class="linenum">4775</span></a>              options.duration = $.isFunction( options.proxiedDuration ) ?
<a name="l4776"><span class="linenum">4776</span></a>                  options.proxiedDuration( animOptions ) :
<a name="l4777"><span class="linenum">4777</span></a>                  options.proxiedDuration;
<a name="l4778"><span class="linenum">4778</span></a>  
<a name="l4779"><span class="linenum">4779</span></a>              var animations = $.ui.accordion.animations,
<a name="l4780"><span class="linenum">4780</span></a>                  duration = options.duration,
<a name="l4781"><span class="linenum">4781</span></a>                  easing = options.animated;
<a name="l4782"><span class="linenum">4782</span></a>  
<a name="l4783"><span class="linenum">4783</span></a>              if ( easing &amp;&amp; !animations[ easing ] &amp;&amp; !$.easing[ easing ] ) {
<a name="l4784"><span class="linenum">4784</span></a>                  easing = &quot;slide&quot;;
<a name="l4785"><span class="linenum">4785</span></a>              }
<a name="l4786"><span class="linenum">4786</span></a>              if ( !animations[ easing ] ) {
<a name="l4787"><span class="linenum">4787</span></a>                  animations[ easing ] = function( options ) {
<a name="l4788"><span class="linenum">4788</span></a>                      this.slide( options, {
<a name="l4789"><span class="linenum">4789</span></a>                          easing: easing,
<a name="l4790"><span class="linenum">4790</span></a>                          duration: duration || 700
<a name="l4791"><span class="linenum">4791</span></a>                      });
<a name="l4792"><span class="linenum">4792</span></a>                  };
<a name="l4793"><span class="linenum">4793</span></a>              }
<a name="l4794"><span class="linenum">4794</span></a>  
<a name="l4795"><span class="linenum">4795</span></a>              animations[ easing ]( animOptions );
<a name="l4796"><span class="linenum">4796</span></a>          } else {
<a name="l4797"><span class="linenum">4797</span></a>              if ( options.collapsible &amp;&amp; clickedIsActive ) {
<a name="l4798"><span class="linenum">4798</span></a>                  toShow.<a class="function" onClick="logFunction('toggle')" href="../../../../_functions/toggle.html" onMouseOver="funcPopup(event,'toggle')">toggle</a>();
<a name="l4799"><span class="linenum">4799</span></a>              } else {
<a name="l4800"><span class="linenum">4800</span></a>                  toHide.hide();
<a name="l4801"><span class="linenum">4801</span></a>                  toShow.show();
<a name="l4802"><span class="linenum">4802</span></a>              }
<a name="l4803"><span class="linenum">4803</span></a>  
<a name="l4804"><span class="linenum">4804</span></a>              <a class="function" onClick="logFunction('complete')" href="../../../../_functions/complete.html" onMouseOver="funcPopup(event,'complete')">complete</a>( true );
<a name="l4805"><span class="linenum">4805</span></a>          }
<a name="l4806"><span class="linenum">4806</span></a>  
<a name="l4807"><span class="linenum">4807</span></a>  <span class="comment">        // TODO assert that the blur and focus triggers are really necessary, remove otherwise</span>
<a name="l4808"><span class="linenum">4808</span></a>          toHide.<a class="phpfunction" onClick="logFunction('prev')" href="../../../../_functions/prev.html" onMouseOver="phpfuncPopup(event,'prev')">prev</a>()
<a name="l4809"><span class="linenum">4809</span></a>              .attr({
<a name="l4810"><span class="linenum">4810</span></a>                  &quot;aria-expanded&quot;: &quot;false&quot;,
<a name="l4811"><span class="linenum">4811</span></a>                  &quot;aria-selected&quot;: &quot;false&quot;,
<a name="l4812"><span class="linenum">4812</span></a>                  tabIndex: -1
<a name="l4813"><span class="linenum">4813</span></a>              })
<a name="l4814"><span class="linenum">4814</span></a>              .blur();
<a name="l4815"><span class="linenum">4815</span></a>          toShow.<a class="phpfunction" onClick="logFunction('prev')" href="../../../../_functions/prev.html" onMouseOver="phpfuncPopup(event,'prev')">prev</a>()
<a name="l4816"><span class="linenum">4816</span></a>              .attr({
<a name="l4817"><span class="linenum">4817</span></a>                  &quot;aria-expanded&quot;: &quot;true&quot;,
<a name="l4818"><span class="linenum">4818</span></a>                  &quot;aria-selected&quot;: &quot;true&quot;,
<a name="l4819"><span class="linenum">4819</span></a>                  tabIndex: 0
<a name="l4820"><span class="linenum">4820</span></a>              })
<a name="l4821"><span class="linenum">4821</span></a>              .focus();
<a name="l4822"><span class="linenum">4822</span></a>      },
<a name="l4823"><span class="linenum">4823</span></a>  
<a name="l4824"><span class="linenum">4824</span></a>      _completed: function( cancel ) {
<a name="l4825"><span class="linenum">4825</span></a>          this.running = cancel ? 0 : --this.running;
<a name="l4826"><span class="linenum">4826</span></a>          if ( this.running ) {
<a name="l4827"><span class="linenum">4827</span></a>              return;
<a name="l4828"><span class="linenum">4828</span></a>          }
<a name="l4829"><span class="linenum">4829</span></a>  
<a name="l4830"><span class="linenum">4830</span></a>          if ( this.options.clearStyle ) {
<a name="l4831"><span class="linenum">4831</span></a>              this.toShow.<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>( this.toHide ).css({
<a name="l4832"><span class="linenum">4832</span></a>                  height: &quot;&quot;,
<a name="l4833"><span class="linenum">4833</span></a>                  overflow: &quot;&quot;
<a name="l4834"><span class="linenum">4834</span></a>              });
<a name="l4835"><span class="linenum">4835</span></a>          }
<a name="l4836"><span class="linenum">4836</span></a>  
<a name="l4837"><span class="linenum">4837</span></a>  <span class="comment">        // other classes are removed before the animation; this one needs to stay until completed</span>
<a name="l4838"><span class="linenum">4838</span></a>          this.toHide.removeClass( &quot;ui-accordion-content-active&quot; );
<a name="l4839"><span class="linenum">4839</span></a>  <span class="comment">        // Work around for rendering bug in IE (#5421)</span>
<a name="l4840"><span class="linenum">4840</span></a>          if ( this.toHide.length ) {
<a name="l4841"><span class="linenum">4841</span></a>              this.toHide.parent()[0].className = this.toHide.parent()[0].className;
<a name="l4842"><span class="linenum">4842</span></a>          }
<a name="l4843"><span class="linenum">4843</span></a>  
<a name="l4844"><span class="linenum">4844</span></a>          this._trigger( &quot;change&quot;, null, this.data );
<a name="l4845"><span class="linenum">4845</span></a>      }
<a name="l4846"><span class="linenum">4846</span></a>  });
<a name="l4847"><span class="linenum">4847</span></a>  
<a name="l4848"><span class="linenum">4848</span></a>  $.extend( $.ui.accordion, {
<a name="l4849"><span class="linenum">4849</span></a>      version: &quot;1.8.18&quot;,
<a name="l4850"><span class="linenum">4850</span></a>      animations: {
<a name="l4851"><span class="linenum">4851</span></a>          slide: function( options, additions ) {
<a name="l4852"><span class="linenum">4852</span></a>              options = $.extend({
<a name="l4853"><span class="linenum">4853</span></a>                  easing: &quot;swing&quot;,
<a name="l4854"><span class="linenum">4854</span></a>                  duration: 300
<a name="l4855"><span class="linenum">4855</span></a>              }, options, additions );
<a name="l4856"><span class="linenum">4856</span></a>              if ( !options.toHide.<a class="function" onClick="logFunction('size')" href="../../../../_functions/size.html" onMouseOver="funcPopup(event,'size')">size</a>() ) {
<a name="l4857"><span class="linenum">4857</span></a>                  options.toShow.animate({
<a name="l4858"><span class="linenum">4858</span></a>                      height: &quot;show&quot;,
<a name="l4859"><span class="linenum">4859</span></a>                      paddingTop: &quot;show&quot;,
<a name="l4860"><span class="linenum">4860</span></a>                      paddingBottom: &quot;show&quot;
<a name="l4861"><span class="linenum">4861</span></a>                  }, options );
<a name="l4862"><span class="linenum">4862</span></a>                  return;
<a name="l4863"><span class="linenum">4863</span></a>              }
<a name="l4864"><span class="linenum">4864</span></a>              if ( !options.toShow.<a class="function" onClick="logFunction('size')" href="../../../../_functions/size.html" onMouseOver="funcPopup(event,'size')">size</a>() ) {
<a name="l4865"><span class="linenum">4865</span></a>                  options.toHide.animate({
<a name="l4866"><span class="linenum">4866</span></a>                      height: &quot;hide&quot;,
<a name="l4867"><span class="linenum">4867</span></a>                      paddingTop: &quot;hide&quot;,
<a name="l4868"><span class="linenum">4868</span></a>                      paddingBottom: &quot;hide&quot;
<a name="l4869"><span class="linenum">4869</span></a>                  }, options );
<a name="l4870"><span class="linenum">4870</span></a>                  return;
<a name="l4871"><span class="linenum">4871</span></a>              }
<a name="l4872"><span class="linenum">4872</span></a>              var overflow = options.toShow.css( &quot;overflow&quot; ),
<a name="l4873"><span class="linenum">4873</span></a>                  percentDone = 0,
<a name="l4874"><span class="linenum">4874</span></a>                  showProps = {},
<a name="l4875"><span class="linenum">4875</span></a>                  hideProps = {},
<a name="l4876"><span class="linenum">4876</span></a>                  fxAttrs = [ &quot;height&quot;, &quot;paddingTop&quot;, &quot;paddingBottom&quot; ],
<a name="l4877"><span class="linenum">4877</span></a>                  originalWidth;
<a name="l4878"><span class="linenum">4878</span></a>  <span class="comment">            // fix width before calculating height of hidden element</span>
<a name="l4879"><span class="linenum">4879</span></a>              var s = options.toShow;
<a name="l4880"><span class="linenum">4880</span></a>              originalWidth = s[0].style.width;
<a name="l4881"><span class="linenum">4881</span></a>              s.width( s.parent().width()
<a name="l4882"><span class="linenum">4882</span></a>                  - parseFloat( s.css( &quot;paddingLeft&quot; ) )
<a name="l4883"><span class="linenum">4883</span></a>                  - parseFloat( s.css( &quot;paddingRight&quot; ) )
<a name="l4884"><span class="linenum">4884</span></a>                  - ( parseFloat( s.css( &quot;borderLeftWidth&quot; ) ) || 0 )
<a name="l4885"><span class="linenum">4885</span></a>                  - ( parseFloat( s.css( &quot;borderRightWidth&quot; ) ) || 0 ) );
<a name="l4886"><span class="linenum">4886</span></a>  
<a name="l4887"><span class="linenum">4887</span></a>              $.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>( fxAttrs, function( i, prop ) {
<a name="l4888"><span class="linenum">4888</span></a>                  hideProps[ prop ] = &quot;hide&quot;;
<a name="l4889"><span class="linenum">4889</span></a>  
<a name="l4890"><span class="linenum">4890</span></a>                  var parts = ( &quot;&quot; + $.css( options.toShow[0], prop ) ).<a class="function" onClick="logFunction('match')" href="../../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>( /^([\d+-.]+)(.*)$/ );
<a name="l4891"><span class="linenum">4891</span></a>                  showProps[ prop ] = {
<a name="l4892"><span class="linenum">4892</span></a>                      value: parts[ 1 ],
<a name="l4893"><span class="linenum">4893</span></a>                      unit: parts[ 2 ] || &quot;px&quot;
<a name="l4894"><span class="linenum">4894</span></a>                  };
<a name="l4895"><span class="linenum">4895</span></a>              });
<a name="l4896"><span class="linenum">4896</span></a>              options.toShow.css({ height: 0, overflow: &quot;hidden&quot; }).show();
<a name="l4897"><span class="linenum">4897</span></a>              options.toHide
<a name="l4898"><span class="linenum">4898</span></a>                  .filter( &quot;:hidden&quot; )
<a name="l4899"><span class="linenum">4899</span></a>                      .<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>( options.complete )
<a name="l4900"><span class="linenum">4900</span></a>                  .<a class="phpfunction" onClick="logFunction('end')" href="../../../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>()
<a name="l4901"><span class="linenum">4901</span></a>                  .filter( &quot;:visible&quot; )
<a name="l4902"><span class="linenum">4902</span></a>                  .animate( hideProps, {
<a name="l4903"><span class="linenum">4903</span></a>                  step: function( now, settings ) {
<a name="l4904"><span class="linenum">4904</span></a>  <span class="comment">                    // only calculate the percent when animating height</span>
<a name="l4905"><span class="linenum">4905</span></a>  <span class="comment">                    // IE gets very inconsistent results when animating elements</span>
<a name="l4906"><span class="linenum">4906</span></a>  <span class="comment">                    // with small values, which is common for padding</span>
<a name="l4907"><span class="linenum">4907</span></a>                      if ( settings.prop == &quot;height&quot; ) {
<a name="l4908"><span class="linenum">4908</span></a>                          percentDone = ( settings.end - settings.start === 0 ) ? 0 :
<a name="l4909"><span class="linenum">4909</span></a>                              ( settings.now - settings.start ) / ( settings.end - settings.start );
<a name="l4910"><span class="linenum">4910</span></a>                      }
<a name="l4911"><span class="linenum">4911</span></a>  
<a name="l4912"><span class="linenum">4912</span></a>                      options.toShow[ 0 ].style[ settings.prop ] =
<a name="l4913"><span class="linenum">4913</span></a>                          ( percentDone * showProps[ settings.prop ].value )
<a name="l4914"><span class="linenum">4914</span></a>                          + showProps[ settings.prop ].unit;
<a name="l4915"><span class="linenum">4915</span></a>                  },
<a name="l4916"><span class="linenum">4916</span></a>                  duration: options.duration,
<a name="l4917"><span class="linenum">4917</span></a>                  easing: options.easing,
<a name="l4918"><span class="linenum">4918</span></a>                  complete: function() {
<a name="l4919"><span class="linenum">4919</span></a>                      if ( !options.autoHeight ) {
<a name="l4920"><span class="linenum">4920</span></a>                          options.toShow.css( &quot;height&quot;, &quot;&quot; );
<a name="l4921"><span class="linenum">4921</span></a>                      }
<a name="l4922"><span class="linenum">4922</span></a>                      options.toShow.css({
<a name="l4923"><span class="linenum">4923</span></a>                          width: originalWidth,
<a name="l4924"><span class="linenum">4924</span></a>                          overflow: overflow
<a name="l4925"><span class="linenum">4925</span></a>                      });
<a name="l4926"><span class="linenum">4926</span></a>                      options.<a class="function" onClick="logFunction('complete')" href="../../../../_functions/complete.html" onMouseOver="funcPopup(event,'complete')">complete</a>();
<a name="l4927"><span class="linenum">4927</span></a>                  }
<a name="l4928"><span class="linenum">4928</span></a>              });
<a name="l4929"><span class="linenum">4929</span></a>          },
<a name="l4930"><span class="linenum">4930</span></a>          bounceslide: function( options ) {
<a name="l4931"><span class="linenum">4931</span></a>              this.slide( options, {
<a name="l4932"><span class="linenum">4932</span></a>                  easing: options.down ? &quot;easeOutBounce&quot; : &quot;swing&quot;,
<a name="l4933"><span class="linenum">4933</span></a>                  duration: options.down ? 1000 : 200
<a name="l4934"><span class="linenum">4934</span></a>              });
<a name="l4935"><span class="linenum">4935</span></a>          }
<a name="l4936"><span class="linenum">4936</span></a>      }
<a name="l4937"><span class="linenum">4937</span></a>  });
<a name="l4938"><span class="linenum">4938</span></a>  
<a name="l4939"><span class="linenum">4939</span></a>  })( jQuery );
<a name="l4940"><span class="linenum">4940</span></a>  <span class="comment">/*</span>
<a name="l4941"><span class="linenum">4941</span></a>  <span class="comment"> * jQuery UI Autocomplete 1.8.18</span>
<a name="l4942"><span class="linenum">4942</span></a>  <span class="comment"> *</span>
<a name="l4943"><span class="linenum">4943</span></a>  <span class="comment"> * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l4944"><span class="linenum">4944</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l4945"><span class="linenum">4945</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l4946"><span class="linenum">4946</span></a>  <span class="comment"> *</span>
<a name="l4947"><span class="linenum">4947</span></a>  <span class="comment"> * http://docs.jquery.com/UI/Autocomplete</span>
<a name="l4948"><span class="linenum">4948</span></a>  <span class="comment"> *</span>
<a name="l4949"><span class="linenum">4949</span></a>  <span class="comment"> * Depends:</span>
<a name="l4950"><span class="linenum">4950</span></a>  <span class="comment"> *    jquery.ui.core.js</span>
<a name="l4951"><span class="linenum">4951</span></a>  <span class="comment"> *    jquery.ui.widget.js</span>
<a name="l4952"><span class="linenum">4952</span></a>  <span class="comment"> *    jquery.ui.position.js</span>
<a name="l4953"><span class="linenum">4953</span></a>  <span class="comment"> */</span>
<a name="l4954"><span class="linenum">4954</span></a>  (function( $, undefined ) {
<a name="l4955"><span class="linenum">4955</span></a>  
<a name="l4956"><span class="linenum">4956</span></a>  <span class="comment">// used to prevent race conditions with remote data sources</span>
<a name="l4957"><span class="linenum">4957</span></a>  var requestIndex = 0;
<a name="l4958"><span class="linenum">4958</span></a>  
<a name="l4959"><span class="linenum">4959</span></a>  $.<a class="function" onClick="logFunction('widget')" href="../../../../_functions/widget.html" onMouseOver="funcPopup(event,'widget')">widget</a>( &quot;ui.autocomplete&quot;, {
<a name="l4960"><span class="linenum">4960</span></a>      options: {
<a name="l4961"><span class="linenum">4961</span></a>          appendTo: &quot;body&quot;,
<a name="l4962"><span class="linenum">4962</span></a>          autoFocus: false,
<a name="l4963"><span class="linenum">4963</span></a>          delay: 300,
<a name="l4964"><span class="linenum">4964</span></a>          minLength: 1,
<a name="l4965"><span class="linenum">4965</span></a>          position: {
<a name="l4966"><span class="linenum">4966</span></a>              my: &quot;left top&quot;,
<a name="l4967"><span class="linenum">4967</span></a>              at: &quot;left bottom&quot;,
<a name="l4968"><span class="linenum">4968</span></a>              collision: &quot;none&quot;
<a name="l4969"><span class="linenum">4969</span></a>          },
<a name="l4970"><span class="linenum">4970</span></a>          source: null
<a name="l4971"><span class="linenum">4971</span></a>      },
<a name="l4972"><span class="linenum">4972</span></a>  
<a name="l4973"><span class="linenum">4973</span></a>      pending: 0,
<a name="l4974"><span class="linenum">4974</span></a>  
<a name="l4975"><span class="linenum">4975</span></a>      _create: function() {
<a name="l4976"><span class="linenum">4976</span></a>          var self = this,
<a name="l4977"><span class="linenum">4977</span></a>              doc = this.element[ 0 ].ownerDocument,
<a name="l4978"><span class="linenum">4978</span></a>              suppressKeyPress;
<a name="l4979"><span class="linenum">4979</span></a>  
<a name="l4980"><span class="linenum">4980</span></a>          this.element
<a name="l4981"><span class="linenum">4981</span></a>              .addClass( &quot;ui-autocomplete-input&quot; )
<a name="l4982"><span class="linenum">4982</span></a>              .attr( &quot;autocomplete&quot;, &quot;off&quot; )
<a name="l4983"><span class="linenum">4983</span></a>  <span class="comment">            // TODO verify these actually work as intended</span>
<a name="l4984"><span class="linenum">4984</span></a>              .attr({
<a name="l4985"><span class="linenum">4985</span></a>                  role: &quot;textbox&quot;,
<a name="l4986"><span class="linenum">4986</span></a>                  &quot;aria-autocomplete&quot;: &quot;list&quot;,
<a name="l4987"><span class="linenum">4987</span></a>                  &quot;aria-haspopup&quot;: &quot;true&quot;
<a name="l4988"><span class="linenum">4988</span></a>              })
<a name="l4989"><span class="linenum">4989</span></a>              .bind( &quot;keydown.autocomplete&quot;, function( event ) {
<a name="l4990"><span class="linenum">4990</span></a>                  if ( self.options.disabled || self.element.propAttr( &quot;readOnly&quot; ) ) {
<a name="l4991"><span class="linenum">4991</span></a>                      return;
<a name="l4992"><span class="linenum">4992</span></a>                  }
<a name="l4993"><span class="linenum">4993</span></a>  
<a name="l4994"><span class="linenum">4994</span></a>                  suppressKeyPress = false;
<a name="l4995"><span class="linenum">4995</span></a>                  var keyCode = $.ui.keyCode;
<a name="l4996"><span class="linenum">4996</span></a>                  switch( event.keyCode ) {
<a name="l4997"><span class="linenum">4997</span></a>                  case keyCode.PAGE_UP:
<a name="l4998"><span class="linenum">4998</span></a>                      self._move( &quot;previousPage&quot;, event );
<a name="l4999"><span class="linenum">4999</span></a>                      break;
<a name="l5000"><span class="linenum">5000</span></a>                  case keyCode.PAGE_DOWN:
<a name="l5001"><span class="linenum">5001</span></a>                      self._move( &quot;nextPage&quot;, event );
<a name="l5002"><span class="linenum">5002</span></a>                      break;
<a name="l5003"><span class="linenum">5003</span></a>                  case keyCode.UP:
<a name="l5004"><span class="linenum">5004</span></a>                      self._move( &quot;previous&quot;, event );
<a name="l5005"><span class="linenum">5005</span></a>  <span class="comment">                    // prevent moving cursor to beginning of text field in some browsers</span>
<a name="l5006"><span class="linenum">5006</span></a>                      event.preventDefault();
<a name="l5007"><span class="linenum">5007</span></a>                      break;
<a name="l5008"><span class="linenum">5008</span></a>                  case keyCode.DOWN:
<a name="l5009"><span class="linenum">5009</span></a>                      self._move( &quot;next&quot;, event );
<a name="l5010"><span class="linenum">5010</span></a>  <span class="comment">                    // prevent moving cursor to end of text field in some browsers</span>
<a name="l5011"><span class="linenum">5011</span></a>                      event.preventDefault();
<a name="l5012"><span class="linenum">5012</span></a>                      break;
<a name="l5013"><span class="linenum">5013</span></a>                  case keyCode.ENTER:
<a name="l5014"><span class="linenum">5014</span></a>                  case keyCode.NUMPAD_ENTER:
<a name="l5015"><span class="linenum">5015</span></a>  <span class="comment">                    // when menu is open and has focus</span>
<a name="l5016"><span class="linenum">5016</span></a>                      if ( self.menu.active ) {
<a name="l5017"><span class="linenum">5017</span></a>  <span class="comment">                        // #6055 - Opera still allows the keypress to occur</span>
<a name="l5018"><span class="linenum">5018</span></a>  <span class="comment">                        // which causes forms to submit</span>
<a name="l5019"><span class="linenum">5019</span></a>                          suppressKeyPress = true;
<a name="l5020"><span class="linenum">5020</span></a>                          event.preventDefault();
<a name="l5021"><span class="linenum">5021</span></a>                      }
<a name="l5022"><span class="linenum">5022</span></a>  <span class="comment">                    //passthrough - ENTER and TAB both select the current element</span>
<a name="l5023"><span class="linenum">5023</span></a>                  case keyCode.TAB:
<a name="l5024"><span class="linenum">5024</span></a>                      if ( !self.menu.active ) {
<a name="l5025"><span class="linenum">5025</span></a>                          return;
<a name="l5026"><span class="linenum">5026</span></a>                      }
<a name="l5027"><span class="linenum">5027</span></a>                      self.menu.<a class="function" onClick="logFunction('select')" href="../../../../_functions/select.html" onMouseOver="funcPopup(event,'select')">select</a>( event );
<a name="l5028"><span class="linenum">5028</span></a>                      break;
<a name="l5029"><span class="linenum">5029</span></a>                  case keyCode.ESCAPE:
<a name="l5030"><span class="linenum">5030</span></a>                      self.element.val( self.term );
<a name="l5031"><span class="linenum">5031</span></a>                      self.<a class="function" onClick="logFunction('close')" href="../../../../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>( event );
<a name="l5032"><span class="linenum">5032</span></a>                      break;
<a name="l5033"><span class="linenum">5033</span></a>                  default:
<a name="l5034"><span class="linenum">5034</span></a>  <span class="comment">                    // keypress is triggered before the input value is changed</span>
<a name="l5035"><span class="linenum">5035</span></a>                      clearTimeout( self.searching );
<a name="l5036"><span class="linenum">5036</span></a>                      self.searching = setTimeout(function() {
<a name="l5037"><span class="linenum">5037</span></a>  <span class="comment">                        // only search if the value has changed</span>
<a name="l5038"><span class="linenum">5038</span></a>                          if ( self.term != self.element.val() ) {
<a name="l5039"><span class="linenum">5039</span></a>                              self.selectedItem = null;
<a name="l5040"><span class="linenum">5040</span></a>                              self.search( null, event );
<a name="l5041"><span class="linenum">5041</span></a>                          }
<a name="l5042"><span class="linenum">5042</span></a>                      }, self.options.delay );
<a name="l5043"><span class="linenum">5043</span></a>                      break;
<a name="l5044"><span class="linenum">5044</span></a>                  }
<a name="l5045"><span class="linenum">5045</span></a>              })
<a name="l5046"><span class="linenum">5046</span></a>              .bind( &quot;keypress.autocomplete&quot;, function( event ) {
<a name="l5047"><span class="linenum">5047</span></a>                  if ( suppressKeyPress ) {
<a name="l5048"><span class="linenum">5048</span></a>                      suppressKeyPress = false;
<a name="l5049"><span class="linenum">5049</span></a>                      event.preventDefault();
<a name="l5050"><span class="linenum">5050</span></a>                  }
<a name="l5051"><span class="linenum">5051</span></a>              })
<a name="l5052"><span class="linenum">5052</span></a>              .bind( &quot;focus.autocomplete&quot;, function() {
<a name="l5053"><span class="linenum">5053</span></a>                  if ( self.options.disabled ) {
<a name="l5054"><span class="linenum">5054</span></a>                      return;
<a name="l5055"><span class="linenum">5055</span></a>                  }
<a name="l5056"><span class="linenum">5056</span></a>  
<a name="l5057"><span class="linenum">5057</span></a>                  self.selectedItem = null;
<a name="l5058"><span class="linenum">5058</span></a>                  self.previous = self.element.val();
<a name="l5059"><span class="linenum">5059</span></a>              })
<a name="l5060"><span class="linenum">5060</span></a>              .bind( &quot;blur.autocomplete&quot;, function( event ) {
<a name="l5061"><span class="linenum">5061</span></a>                  if ( self.options.disabled ) {
<a name="l5062"><span class="linenum">5062</span></a>                      return;
<a name="l5063"><span class="linenum">5063</span></a>                  }
<a name="l5064"><span class="linenum">5064</span></a>  
<a name="l5065"><span class="linenum">5065</span></a>                  clearTimeout( self.searching );
<a name="l5066"><span class="linenum">5066</span></a>  <span class="comment">                // clicks on the menu (or a button to trigger a search) will cause a blur event</span>
<a name="l5067"><span class="linenum">5067</span></a>                  self.closing = setTimeout(function() {
<a name="l5068"><span class="linenum">5068</span></a>                      self.<a class="function" onClick="logFunction('close')" href="../../../../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>( event );
<a name="l5069"><span class="linenum">5069</span></a>                      self._change( event );
<a name="l5070"><span class="linenum">5070</span></a>                  }, 150 );
<a name="l5071"><span class="linenum">5071</span></a>              });
<a name="l5072"><span class="linenum">5072</span></a>          this._initSource();
<a name="l5073"><span class="linenum">5073</span></a>          this.response = function() {
<a name="l5074"><span class="linenum">5074</span></a>              return self._response.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>( self, arguments );
<a name="l5075"><span class="linenum">5075</span></a>          };
<a name="l5076"><span class="linenum">5076</span></a>          this.menu = $( &quot;&lt;ul&gt;&lt;/ul&gt;&quot; )
<a name="l5077"><span class="linenum">5077</span></a>              .addClass( &quot;ui-autocomplete&quot; )
<a name="l5078"><span class="linenum">5078</span></a>              .appendTo( $( this.options.appendTo || &quot;body&quot;, doc )[0] )
<a name="l5079"><span class="linenum">5079</span></a>  <span class="comment">            // prevent the close-on-blur in case of a &quot;slow&quot; click on the menu (long mousedown)</span>
<a name="l5080"><span class="linenum">5080</span></a>              .mousedown(function( event ) {
<a name="l5081"><span class="linenum">5081</span></a>  <span class="comment">                // clicking on the scrollbar causes focus to shift to the body</span>
<a name="l5082"><span class="linenum">5082</span></a>  <span class="comment">                // but we can't detect a mouseup or a click immediately afterward</span>
<a name="l5083"><span class="linenum">5083</span></a>  <span class="comment">                // so we have to track the next mousedown and close the menu if</span>
<a name="l5084"><span class="linenum">5084</span></a>  <span class="comment">                // the user clicks somewhere outside of the autocomplete</span>
<a name="l5085"><span class="linenum">5085</span></a>                  var menuElement = self.menu.element[ 0 ];
<a name="l5086"><span class="linenum">5086</span></a>                  if ( !$( event.target ).closest( &quot;.ui-menu-item&quot; ).length ) {
<a name="l5087"><span class="linenum">5087</span></a>                      setTimeout(function() {
<a name="l5088"><span class="linenum">5088</span></a>                          $( document ).one( 'mousedown', function( event ) {
<a name="l5089"><span class="linenum">5089</span></a>                              if ( event.target !== self.element[ 0 ] &amp;&amp;
<a name="l5090"><span class="linenum">5090</span></a>                                  event.target !== menuElement &amp;&amp;
<a name="l5091"><span class="linenum">5091</span></a>                                  !$.ui.<a class="function" onClick="logFunction('contains')" href="../../../../_functions/contains.html" onMouseOver="funcPopup(event,'contains')">contains</a>( menuElement, event.target ) ) {
<a name="l5092"><span class="linenum">5092</span></a>                                  self.<a class="function" onClick="logFunction('close')" href="../../../../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>();
<a name="l5093"><span class="linenum">5093</span></a>                              }
<a name="l5094"><span class="linenum">5094</span></a>                          });
<a name="l5095"><span class="linenum">5095</span></a>                      }, 1 );
<a name="l5096"><span class="linenum">5096</span></a>                  }
<a name="l5097"><span class="linenum">5097</span></a>  
<a name="l5098"><span class="linenum">5098</span></a>  <span class="comment">                // use another timeout to make sure the blur-event-handler on the input was already triggered</span>
<a name="l5099"><span class="linenum">5099</span></a>                  setTimeout(function() {
<a name="l5100"><span class="linenum">5100</span></a>                      clearTimeout( self.closing );
<a name="l5101"><span class="linenum">5101</span></a>                  }, 13);
<a name="l5102"><span class="linenum">5102</span></a>              })
<a name="l5103"><span class="linenum">5103</span></a>              .menu({
<a name="l5104"><span class="linenum">5104</span></a>                  focus: function( event, ui ) {
<a name="l5105"><span class="linenum">5105</span></a>                      var item = ui.item.data( &quot;item.autocomplete&quot; );
<a name="l5106"><span class="linenum">5106</span></a>                      if ( false !== self._trigger( &quot;focus&quot;, event, { item: item } ) ) {
<a name="l5107"><span class="linenum">5107</span></a>  <span class="comment">                        // use value to match what will end up in the input, if it was a key event</span>
<a name="l5108"><span class="linenum">5108</span></a>                          if ( /^key/.test(event.originalEvent.type) ) {
<a name="l5109"><span class="linenum">5109</span></a>                              self.element.val( item.value );
<a name="l5110"><span class="linenum">5110</span></a>                          }
<a name="l5111"><span class="linenum">5111</span></a>                      }
<a name="l5112"><span class="linenum">5112</span></a>                  },
<a name="l5113"><span class="linenum">5113</span></a>                  selected: function( event, ui ) {
<a name="l5114"><span class="linenum">5114</span></a>                      var item = ui.item.data( &quot;item.autocomplete&quot; ),
<a name="l5115"><span class="linenum">5115</span></a>                          previous = self.previous;
<a name="l5116"><span class="linenum">5116</span></a>  
<a name="l5117"><span class="linenum">5117</span></a>  <span class="comment">                    // only trigger when focus was lost (click on menu)</span>
<a name="l5118"><span class="linenum">5118</span></a>                      if ( self.element[0] !== doc.activeElement ) {
<a name="l5119"><span class="linenum">5119</span></a>                          self.element.focus();
<a name="l5120"><span class="linenum">5120</span></a>                          self.previous = previous;
<a name="l5121"><span class="linenum">5121</span></a>  <span class="comment">                        // #6109 - IE triggers two focus events and the second</span>
<a name="l5122"><span class="linenum">5122</span></a>  <span class="comment">                        // is asynchronous, so we need to reset the previous</span>
<a name="l5123"><span class="linenum">5123</span></a>  <span class="comment">                        // term synchronously and asynchronously :-(</span>
<a name="l5124"><span class="linenum">5124</span></a>                          setTimeout(function() {
<a name="l5125"><span class="linenum">5125</span></a>                              self.previous = previous;
<a name="l5126"><span class="linenum">5126</span></a>                              self.selectedItem = item;
<a name="l5127"><span class="linenum">5127</span></a>                          }, 1);
<a name="l5128"><span class="linenum">5128</span></a>                      }
<a name="l5129"><span class="linenum">5129</span></a>  
<a name="l5130"><span class="linenum">5130</span></a>                      if ( false !== self._trigger( &quot;select&quot;, event, { item: item } ) ) {
<a name="l5131"><span class="linenum">5131</span></a>                          self.element.val( item.value );
<a name="l5132"><span class="linenum">5132</span></a>                      }
<a name="l5133"><span class="linenum">5133</span></a>  <span class="comment">                    // reset the term after the select event</span>
<a name="l5134"><span class="linenum">5134</span></a>  <span class="comment">                    // this allows custom select handling to work properly</span>
<a name="l5135"><span class="linenum">5135</span></a>                      self.term = self.element.val();
<a name="l5136"><span class="linenum">5136</span></a>  
<a name="l5137"><span class="linenum">5137</span></a>                      self.<a class="function" onClick="logFunction('close')" href="../../../../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>( event );
<a name="l5138"><span class="linenum">5138</span></a>                      self.selectedItem = item;
<a name="l5139"><span class="linenum">5139</span></a>                  },
<a name="l5140"><span class="linenum">5140</span></a>                  blur: function( event, ui ) {
<a name="l5141"><span class="linenum">5141</span></a>  <span class="comment">                    // don't set the value of the text field if it's already correct</span>
<a name="l5142"><span class="linenum">5142</span></a>  <span class="comment">                    // this prevents moving the cursor unnecessarily</span>
<a name="l5143"><span class="linenum">5143</span></a>                      if ( self.menu.element.is(&quot;:visible&quot;) &amp;&amp;
<a name="l5144"><span class="linenum">5144</span></a>                          ( self.element.val() !== self.term ) ) {
<a name="l5145"><span class="linenum">5145</span></a>                          self.element.val( self.term );
<a name="l5146"><span class="linenum">5146</span></a>                      }
<a name="l5147"><span class="linenum">5147</span></a>                  }
<a name="l5148"><span class="linenum">5148</span></a>              })
<a name="l5149"><span class="linenum">5149</span></a>              .zIndex( this.element.zIndex() + 1 )
<a name="l5150"><span class="linenum">5150</span></a>  <span class="comment">            // workaround for jQuery bug #5781 http://dev.jquery.com/ticket/5781</span>
<a name="l5151"><span class="linenum">5151</span></a>              .css({ top: 0, left: 0 })
<a name="l5152"><span class="linenum">5152</span></a>              .hide()
<a name="l5153"><span class="linenum">5153</span></a>              .data( &quot;menu&quot; );
<a name="l5154"><span class="linenum">5154</span></a>          if ( $.fn.bgiframe ) {
<a name="l5155"><span class="linenum">5155</span></a>               this.menu.element.bgiframe();
<a name="l5156"><span class="linenum">5156</span></a>          }
<a name="l5157"><span class="linenum">5157</span></a>  <span class="comment">        // turning off autocomplete prevents the browser from remembering the</span>
<a name="l5158"><span class="linenum">5158</span></a>  <span class="comment">        // value when navigating through history, so we re-enable autocomplete</span>
<a name="l5159"><span class="linenum">5159</span></a>  <span class="comment">        // if the page is unloaded before the widget is destroyed. #7790</span>
<a name="l5160"><span class="linenum">5160</span></a>          self.beforeunloadHandler = function() {
<a name="l5161"><span class="linenum">5161</span></a>              self.element.removeAttr( &quot;autocomplete&quot; );
<a name="l5162"><span class="linenum">5162</span></a>          };
<a name="l5163"><span class="linenum">5163</span></a>          $( window ).bind( &quot;beforeunload&quot;, self.beforeunloadHandler );
<a name="l5164"><span class="linenum">5164</span></a>      },
<a name="l5165"><span class="linenum">5165</span></a>  
<a name="l5166"><span class="linenum">5166</span></a>      destroy: function() {
<a name="l5167"><span class="linenum">5167</span></a>          this.element
<a name="l5168"><span class="linenum">5168</span></a>              .removeClass( &quot;ui-autocomplete-input&quot; )
<a name="l5169"><span class="linenum">5169</span></a>              .removeAttr( &quot;autocomplete&quot; )
<a name="l5170"><span class="linenum">5170</span></a>              .removeAttr( &quot;role&quot; )
<a name="l5171"><span class="linenum">5171</span></a>              .removeAttr( &quot;aria-autocomplete&quot; )
<a name="l5172"><span class="linenum">5172</span></a>              .removeAttr( &quot;aria-haspopup&quot; );
<a name="l5173"><span class="linenum">5173</span></a>          this.menu.element.<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>();
<a name="l5174"><span class="linenum">5174</span></a>          $( window ).unbind( &quot;beforeunload&quot;, this.beforeunloadHandler );
<a name="l5175"><span class="linenum">5175</span></a>          $.Widget.prototype.destroy.call( this );
<a name="l5176"><span class="linenum">5176</span></a>      },
<a name="l5177"><span class="linenum">5177</span></a>  
<a name="l5178"><span class="linenum">5178</span></a>      _setOption: function( key, value ) {
<a name="l5179"><span class="linenum">5179</span></a>          $.Widget.prototype._setOption.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>( this, arguments );
<a name="l5180"><span class="linenum">5180</span></a>          if ( key === &quot;source&quot; ) {
<a name="l5181"><span class="linenum">5181</span></a>              this._initSource();
<a name="l5182"><span class="linenum">5182</span></a>          }
<a name="l5183"><span class="linenum">5183</span></a>          if ( key === &quot;appendTo&quot; ) {
<a name="l5184"><span class="linenum">5184</span></a>              this.menu.element.appendTo( $( value || &quot;body&quot;, this.element[0].ownerDocument )[0] )
<a name="l5185"><span class="linenum">5185</span></a>          }
<a name="l5186"><span class="linenum">5186</span></a>          if ( key === &quot;disabled&quot; &amp;&amp; value &amp;&amp; this.xhr ) {
<a name="l5187"><span class="linenum">5187</span></a>              this.xhr.abort();
<a name="l5188"><span class="linenum">5188</span></a>          }
<a name="l5189"><span class="linenum">5189</span></a>      },
<a name="l5190"><span class="linenum">5190</span></a>  
<a name="l5191"><span class="linenum">5191</span></a>      _initSource: function() {
<a name="l5192"><span class="linenum">5192</span></a>          var self = this,
<a name="l5193"><span class="linenum">5193</span></a>              array,
<a name="l5194"><span class="linenum">5194</span></a>              url;
<a name="l5195"><span class="linenum">5195</span></a>          if ( $.<a class="function" onClick="logFunction('isArray')" href="../../../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(this.options.source) ) {
<a name="l5196"><span class="linenum">5196</span></a>              array = this.options.source;
<a name="l5197"><span class="linenum">5197</span></a>              this.source = function( request, response ) {
<a name="l5198"><span class="linenum">5198</span></a>                  response( $.ui.autocomplete.filter(array, request.term) );
<a name="l5199"><span class="linenum">5199</span></a>              };
<a name="l5200"><span class="linenum">5200</span></a>          } else if ( typeof this.options.source === &quot;string&quot; ) {
<a name="l5201"><span class="linenum">5201</span></a>              url = this.options.source;
<a name="l5202"><span class="linenum">5202</span></a>              this.source = function( request, response ) {
<a name="l5203"><span class="linenum">5203</span></a>                  if ( self.xhr ) {
<a name="l5204"><span class="linenum">5204</span></a>                      self.xhr.abort();
<a name="l5205"><span class="linenum">5205</span></a>                  }
<a name="l5206"><span class="linenum">5206</span></a>                  self.xhr = $.ajax({
<a name="l5207"><span class="linenum">5207</span></a>                      url: url,
<a name="l5208"><span class="linenum">5208</span></a>                      data: request,
<a name="l5209"><span class="linenum">5209</span></a>                      dataType: &quot;json&quot;,
<a name="l5210"><span class="linenum">5210</span></a>                      context: {
<a name="l5211"><span class="linenum">5211</span></a>                          autocompleteRequest: ++requestIndex
<a name="l5212"><span class="linenum">5212</span></a>                      },
<a name="l5213"><span class="linenum">5213</span></a>                      success: function( data, status ) {
<a name="l5214"><span class="linenum">5214</span></a>                          if ( this.autocompleteRequest === requestIndex ) {
<a name="l5215"><span class="linenum">5215</span></a>                              response( data );
<a name="l5216"><span class="linenum">5216</span></a>                          }
<a name="l5217"><span class="linenum">5217</span></a>                      },
<a name="l5218"><span class="linenum">5218</span></a>                      error: function() {
<a name="l5219"><span class="linenum">5219</span></a>                          if ( this.autocompleteRequest === requestIndex ) {
<a name="l5220"><span class="linenum">5220</span></a>                              response( [] );
<a name="l5221"><span class="linenum">5221</span></a>                          }
<a name="l5222"><span class="linenum">5222</span></a>                      }
<a name="l5223"><span class="linenum">5223</span></a>                  });
<a name="l5224"><span class="linenum">5224</span></a>              };
<a name="l5225"><span class="linenum">5225</span></a>          } else {
<a name="l5226"><span class="linenum">5226</span></a>              this.source = this.options.source;
<a name="l5227"><span class="linenum">5227</span></a>          }
<a name="l5228"><span class="linenum">5228</span></a>      },
<a name="l5229"><span class="linenum">5229</span></a>  
<a name="l5230"><span class="linenum">5230</span></a>      search: function( value, event ) {
<a name="l5231"><span class="linenum">5231</span></a>          value = value != null ? value : this.element.val();
<a name="l5232"><span class="linenum">5232</span></a>  
<a name="l5233"><span class="linenum">5233</span></a>  <span class="comment">        // always save the actual value, not the one passed as an argument</span>
<a name="l5234"><span class="linenum">5234</span></a>          this.term = this.element.val();
<a name="l5235"><span class="linenum">5235</span></a>  
<a name="l5236"><span class="linenum">5236</span></a>          if ( value.length &lt; this.options.minLength ) {
<a name="l5237"><span class="linenum">5237</span></a>              return this.<a class="function" onClick="logFunction('close')" href="../../../../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>( event );
<a name="l5238"><span class="linenum">5238</span></a>          }
<a name="l5239"><span class="linenum">5239</span></a>  
<a name="l5240"><span class="linenum">5240</span></a>          clearTimeout( this.closing );
<a name="l5241"><span class="linenum">5241</span></a>          if ( this._trigger( &quot;search&quot;, event ) === false ) {
<a name="l5242"><span class="linenum">5242</span></a>              return;
<a name="l5243"><span class="linenum">5243</span></a>          }
<a name="l5244"><span class="linenum">5244</span></a>  
<a name="l5245"><span class="linenum">5245</span></a>          return this._search( value );
<a name="l5246"><span class="linenum">5246</span></a>      },
<a name="l5247"><span class="linenum">5247</span></a>  
<a name="l5248"><span class="linenum">5248</span></a>      _search: function( value ) {
<a name="l5249"><span class="linenum">5249</span></a>          this.pending++;
<a name="l5250"><span class="linenum">5250</span></a>          this.element.addClass( &quot;ui-autocomplete-loading&quot; );
<a name="l5251"><span class="linenum">5251</span></a>  
<a name="l5252"><span class="linenum">5252</span></a>          this.source( { term: value }, this.response );
<a name="l5253"><span class="linenum">5253</span></a>      },
<a name="l5254"><span class="linenum">5254</span></a>  
<a name="l5255"><span class="linenum">5255</span></a>      _response: function( content ) {
<a name="l5256"><span class="linenum">5256</span></a>          if ( !this.options.disabled &amp;&amp; content &amp;&amp; content.length ) {
<a name="l5257"><span class="linenum">5257</span></a>              content = this._normalize( content );
<a name="l5258"><span class="linenum">5258</span></a>              this._suggest( content );
<a name="l5259"><span class="linenum">5259</span></a>              this._trigger( &quot;open&quot; );
<a name="l5260"><span class="linenum">5260</span></a>          } else {
<a name="l5261"><span class="linenum">5261</span></a>              this.<a class="function" onClick="logFunction('close')" href="../../../../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>();
<a name="l5262"><span class="linenum">5262</span></a>          }
<a name="l5263"><span class="linenum">5263</span></a>          this.pending--;
<a name="l5264"><span class="linenum">5264</span></a>          if ( !this.pending ) {
<a name="l5265"><span class="linenum">5265</span></a>              this.element.removeClass( &quot;ui-autocomplete-loading&quot; );
<a name="l5266"><span class="linenum">5266</span></a>          }
<a name="l5267"><span class="linenum">5267</span></a>      },
<a name="l5268"><span class="linenum">5268</span></a>  
<a name="l5269"><span class="linenum">5269</span></a>      close: function( event ) {
<a name="l5270"><span class="linenum">5270</span></a>          clearTimeout( this.closing );
<a name="l5271"><span class="linenum">5271</span></a>          if ( this.menu.element.is(&quot;:visible&quot;) ) {
<a name="l5272"><span class="linenum">5272</span></a>              this.menu.element.hide();
<a name="l5273"><span class="linenum">5273</span></a>              this.menu.deactivate();
<a name="l5274"><span class="linenum">5274</span></a>              this._trigger( &quot;close&quot;, event );
<a name="l5275"><span class="linenum">5275</span></a>          }
<a name="l5276"><span class="linenum">5276</span></a>      },
<a name="l5277"><span class="linenum">5277</span></a>      
<a name="l5278"><span class="linenum">5278</span></a>      _change: function( event ) {
<a name="l5279"><span class="linenum">5279</span></a>          if ( this.previous !== this.element.val() ) {
<a name="l5280"><span class="linenum">5280</span></a>              this._trigger( &quot;change&quot;, event, { item: this.selectedItem } );
<a name="l5281"><span class="linenum">5281</span></a>          }
<a name="l5282"><span class="linenum">5282</span></a>      },
<a name="l5283"><span class="linenum">5283</span></a>  
<a name="l5284"><span class="linenum">5284</span></a>      _normalize: function( items ) {
<a name="l5285"><span class="linenum">5285</span></a>  <span class="comment">        // assume all items have the right format when the first item is complete</span>
<a name="l5286"><span class="linenum">5286</span></a>          if ( items.length &amp;&amp; items[0].label &amp;&amp; items[0].value ) {
<a name="l5287"><span class="linenum">5287</span></a>              return items;
<a name="l5288"><span class="linenum">5288</span></a>          }
<a name="l5289"><span class="linenum">5289</span></a>          return $.map( items, function(item) {
<a name="l5290"><span class="linenum">5290</span></a>              if ( typeof item === &quot;string&quot; ) {
<a name="l5291"><span class="linenum">5291</span></a>                  return {
<a name="l5292"><span class="linenum">5292</span></a>                      label: item,
<a name="l5293"><span class="linenum">5293</span></a>                      value: item
<a name="l5294"><span class="linenum">5294</span></a>                  };
<a name="l5295"><span class="linenum">5295</span></a>              }
<a name="l5296"><span class="linenum">5296</span></a>              return $.extend({
<a name="l5297"><span class="linenum">5297</span></a>                  label: item.label || item.value,
<a name="l5298"><span class="linenum">5298</span></a>                  value: item.value || item.label
<a name="l5299"><span class="linenum">5299</span></a>              }, item );
<a name="l5300"><span class="linenum">5300</span></a>          });
<a name="l5301"><span class="linenum">5301</span></a>      },
<a name="l5302"><span class="linenum">5302</span></a>  
<a name="l5303"><span class="linenum">5303</span></a>      _suggest: function( items ) {
<a name="l5304"><span class="linenum">5304</span></a>          var ul = this.menu.element
<a name="l5305"><span class="linenum">5305</span></a>              .empty()
<a name="l5306"><span class="linenum">5306</span></a>              .zIndex( this.element.zIndex() + 1 );
<a name="l5307"><span class="linenum">5307</span></a>          this._renderMenu( ul, items );
<a name="l5308"><span class="linenum">5308</span></a>  <span class="comment">        // TODO refresh should check if the active item is still in the dom, removing the need for a manual deactivate</span>
<a name="l5309"><span class="linenum">5309</span></a>          this.menu.deactivate();
<a name="l5310"><span class="linenum">5310</span></a>          this.menu.refresh();
<a name="l5311"><span class="linenum">5311</span></a>  
<a name="l5312"><span class="linenum">5312</span></a>  <span class="comment">        // size and position menu</span>
<a name="l5313"><span class="linenum">5313</span></a>          ul.show();
<a name="l5314"><span class="linenum">5314</span></a>          this._resizeMenu();
<a name="l5315"><span class="linenum">5315</span></a>          ul.position( $.extend({
<a name="l5316"><span class="linenum">5316</span></a>              of: this.element
<a name="l5317"><span class="linenum">5317</span></a>          }, this.options.position ));
<a name="l5318"><span class="linenum">5318</span></a>  
<a name="l5319"><span class="linenum">5319</span></a>          if ( this.options.autoFocus ) {
<a name="l5320"><span class="linenum">5320</span></a>              this.menu.<a class="phpfunction" onClick="logFunction('next')" href="../../../../_functions/next.html" onMouseOver="phpfuncPopup(event,'next')">next</a>( new $.Event(&quot;mouseover&quot;) );
<a name="l5321"><span class="linenum">5321</span></a>          }
<a name="l5322"><span class="linenum">5322</span></a>      },
<a name="l5323"><span class="linenum">5323</span></a>  
<a name="l5324"><span class="linenum">5324</span></a>      _resizeMenu: function() {
<a name="l5325"><span class="linenum">5325</span></a>          var ul = this.menu.element;
<a name="l5326"><span class="linenum">5326</span></a>          ul.outerWidth( Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(
<a name="l5327"><span class="linenum">5327</span></a>  <span class="comment">            // Firefox wraps long text (possibly a rounding bug)</span>
<a name="l5328"><span class="linenum">5328</span></a>  <span class="comment">            // so we add 1px to avoid the wrapping (#7513)</span>
<a name="l5329"><span class="linenum">5329</span></a>              ul.width( &quot;&quot; ).outerWidth() + 1,
<a name="l5330"><span class="linenum">5330</span></a>              this.element.outerWidth()
<a name="l5331"><span class="linenum">5331</span></a>          ) );
<a name="l5332"><span class="linenum">5332</span></a>      },
<a name="l5333"><span class="linenum">5333</span></a>  
<a name="l5334"><span class="linenum">5334</span></a>      _renderMenu: function( ul, items ) {
<a name="l5335"><span class="linenum">5335</span></a>          var self = this;
<a name="l5336"><span class="linenum">5336</span></a>          $.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>( items, function( index, item ) {
<a name="l5337"><span class="linenum">5337</span></a>              self._renderItem( ul, item );
<a name="l5338"><span class="linenum">5338</span></a>          });
<a name="l5339"><span class="linenum">5339</span></a>      },
<a name="l5340"><span class="linenum">5340</span></a>  
<a name="l5341"><span class="linenum">5341</span></a>      _renderItem: function( ul, item) {
<a name="l5342"><span class="linenum">5342</span></a>          return $( &quot;&lt;li&gt;&lt;/li&gt;&quot; )
<a name="l5343"><span class="linenum">5343</span></a>              .data( &quot;item.autocomplete&quot;, item )
<a name="l5344"><span class="linenum">5344</span></a>              .append( $( &quot;&lt;a&gt;&lt;/a&gt;&quot; ).<a class="function" onClick="logFunction('text')" href="../../../../_functions/text.html" onMouseOver="funcPopup(event,'text')">text</a>( item.label ) )
<a name="l5345"><span class="linenum">5345</span></a>              .appendTo( ul );
<a name="l5346"><span class="linenum">5346</span></a>      },
<a name="l5347"><span class="linenum">5347</span></a>  
<a name="l5348"><span class="linenum">5348</span></a>      _move: function( direction, event ) {
<a name="l5349"><span class="linenum">5349</span></a>          if ( !this.menu.element.is(&quot;:visible&quot;) ) {
<a name="l5350"><span class="linenum">5350</span></a>              this.search( null, event );
<a name="l5351"><span class="linenum">5351</span></a>              return;
<a name="l5352"><span class="linenum">5352</span></a>          }
<a name="l5353"><span class="linenum">5353</span></a>          if ( this.menu.<a class="function" onClick="logFunction('first')" href="../../../../_functions/first.html" onMouseOver="funcPopup(event,'first')">first</a>() &amp;&amp; /^previous/.test(direction) ||
<a name="l5354"><span class="linenum">5354</span></a>                  this.menu.<a class="function" onClick="logFunction('last')" href="../../../../_functions/last.html" onMouseOver="funcPopup(event,'last')">last</a>() &amp;&amp; /^next/.test(direction) ) {
<a name="l5355"><span class="linenum">5355</span></a>              this.element.val( this.term );
<a name="l5356"><span class="linenum">5356</span></a>              this.menu.deactivate();
<a name="l5357"><span class="linenum">5357</span></a>              return;
<a name="l5358"><span class="linenum">5358</span></a>          }
<a name="l5359"><span class="linenum">5359</span></a>          this.menu[ direction ]( event );
<a name="l5360"><span class="linenum">5360</span></a>      },
<a name="l5361"><span class="linenum">5361</span></a>  
<a name="l5362"><span class="linenum">5362</span></a>      widget: function() {
<a name="l5363"><span class="linenum">5363</span></a>          return this.menu.element;
<a name="l5364"><span class="linenum">5364</span></a>      }
<a name="l5365"><span class="linenum">5365</span></a>  });
<a name="l5366"><span class="linenum">5366</span></a>  
<a name="l5367"><span class="linenum">5367</span></a>  $.extend( $.ui.autocomplete, {
<a name="l5368"><span class="linenum">5368</span></a>      escapeRegex: function( value ) {
<a name="l5369"><span class="linenum">5369</span></a>          return value.<a class="function" onClick="logFunction('replace')" href="../../../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">replace</a>(/[-[\]{}()*+?.,\\^$|#\s]/g, &quot;\\$&amp;&quot;);
<a name="l5370"><span class="linenum">5370</span></a>      },
<a name="l5371"><span class="linenum">5371</span></a>      filter: function(array, term) {
<a name="l5372"><span class="linenum">5372</span></a>          var matcher = new RegExp( $.ui.autocomplete.escapeRegex(term), &quot;i&quot; );
<a name="l5373"><span class="linenum">5373</span></a>          return $.grep( array, function(value) {
<a name="l5374"><span class="linenum">5374</span></a>              return matcher.test( value.label || value.value || value );
<a name="l5375"><span class="linenum">5375</span></a>          });
<a name="l5376"><span class="linenum">5376</span></a>      }
<a name="l5377"><span class="linenum">5377</span></a>  });
<a name="l5378"><span class="linenum">5378</span></a>  
<a name="l5379"><span class="linenum">5379</span></a>  }( jQuery ));
<a name="l5380"><span class="linenum">5380</span></a>  
<a name="l5381"><span class="linenum">5381</span></a>  <span class="comment">/*</span>
<a name="l5382"><span class="linenum">5382</span></a>  <span class="comment"> * jQuery UI Menu (not officially released)</span>
<a name="l5383"><span class="linenum">5383</span></a>  <span class="comment"> * </span>
<a name="l5384"><span class="linenum">5384</span></a>  <span class="comment"> * This widget isn't yet finished and the API is subject to change. We plan to finish</span>
<a name="l5385"><span class="linenum">5385</span></a>  <span class="comment"> * it for the next release. You're welcome to give it a try anyway and give us feedback,</span>
<a name="l5386"><span class="linenum">5386</span></a>  <span class="comment"> * as long as you're okay with migrating your code later on. We can help with that, too.</span>
<a name="l5387"><span class="linenum">5387</span></a>  <span class="comment"> *</span>
<a name="l5388"><span class="linenum">5388</span></a>  <span class="comment"> * Copyright 2010, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l5389"><span class="linenum">5389</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l5390"><span class="linenum">5390</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l5391"><span class="linenum">5391</span></a>  <span class="comment"> *</span>
<a name="l5392"><span class="linenum">5392</span></a>  <span class="comment"> * http://docs.jquery.com/UI/Menu</span>
<a name="l5393"><span class="linenum">5393</span></a>  <span class="comment"> *</span>
<a name="l5394"><span class="linenum">5394</span></a>  <span class="comment"> * Depends:</span>
<a name="l5395"><span class="linenum">5395</span></a>  <span class="comment"> *    jquery.ui.core.js</span>
<a name="l5396"><span class="linenum">5396</span></a>  <span class="comment"> *  jquery.ui.widget.js</span>
<a name="l5397"><span class="linenum">5397</span></a>  <span class="comment"> */</span>
<a name="l5398"><span class="linenum">5398</span></a>  (function($) {
<a name="l5399"><span class="linenum">5399</span></a>  
<a name="l5400"><span class="linenum">5400</span></a>  $.<a class="function" onClick="logFunction('widget')" href="../../../../_functions/widget.html" onMouseOver="funcPopup(event,'widget')">widget</a>(&quot;ui.menu&quot;, {
<a name="l5401"><span class="linenum">5401</span></a>      _create: function() {
<a name="l5402"><span class="linenum">5402</span></a>          var self = this;
<a name="l5403"><span class="linenum">5403</span></a>          this.element
<a name="l5404"><span class="linenum">5404</span></a>              .addClass(&quot;ui-menu ui-widget ui-widget-content ui-corner-all&quot;)
<a name="l5405"><span class="linenum">5405</span></a>              .attr({
<a name="l5406"><span class="linenum">5406</span></a>                  role: &quot;listbox&quot;,
<a name="l5407"><span class="linenum">5407</span></a>                  &quot;aria-activedescendant&quot;: &quot;ui-active-menuitem&quot;
<a name="l5408"><span class="linenum">5408</span></a>              })
<a name="l5409"><span class="linenum">5409</span></a>              .click(function( event ) {
<a name="l5410"><span class="linenum">5410</span></a>                  if ( !$( event.target ).closest( &quot;.ui-menu-item a&quot; ).length ) {
<a name="l5411"><span class="linenum">5411</span></a>                      return;
<a name="l5412"><span class="linenum">5412</span></a>                  }
<a name="l5413"><span class="linenum">5413</span></a>  <span class="comment">                // temporary</span>
<a name="l5414"><span class="linenum">5414</span></a>                  event.preventDefault();
<a name="l5415"><span class="linenum">5415</span></a>                  self.<a class="function" onClick="logFunction('select')" href="../../../../_functions/select.html" onMouseOver="funcPopup(event,'select')">select</a>( event );
<a name="l5416"><span class="linenum">5416</span></a>              });
<a name="l5417"><span class="linenum">5417</span></a>          this.refresh();
<a name="l5418"><span class="linenum">5418</span></a>      },
<a name="l5419"><span class="linenum">5419</span></a>      
<a name="l5420"><span class="linenum">5420</span></a>      refresh: function() {
<a name="l5421"><span class="linenum">5421</span></a>          var self = this;
<a name="l5422"><span class="linenum">5422</span></a>  
<a name="l5423"><span class="linenum">5423</span></a>  <span class="comment">        // don't refresh list items that are already adapted</span>
<a name="l5424"><span class="linenum">5424</span></a>          var items = this.element.children(&quot;li:not(.ui-menu-item):has(a)&quot;)
<a name="l5425"><span class="linenum">5425</span></a>              .addClass(&quot;ui-menu-item&quot;)
<a name="l5426"><span class="linenum">5426</span></a>              .attr(&quot;role&quot;, &quot;menuitem&quot;);
<a name="l5427"><span class="linenum">5427</span></a>          
<a name="l5428"><span class="linenum">5428</span></a>          items.children(&quot;a&quot;)
<a name="l5429"><span class="linenum">5429</span></a>              .addClass(&quot;ui-corner-all&quot;)
<a name="l5430"><span class="linenum">5430</span></a>              .attr(&quot;tabindex&quot;, -1)
<a name="l5431"><span class="linenum">5431</span></a>  <span class="comment">            // mouseenter doesn't work with event delegation</span>
<a name="l5432"><span class="linenum">5432</span></a>              .mouseenter(function( event ) {
<a name="l5433"><span class="linenum">5433</span></a>                  self.activate( event, $(this).parent() );
<a name="l5434"><span class="linenum">5434</span></a>              })
<a name="l5435"><span class="linenum">5435</span></a>              .mouseleave(function() {
<a name="l5436"><span class="linenum">5436</span></a>                  self.deactivate();
<a name="l5437"><span class="linenum">5437</span></a>              });
<a name="l5438"><span class="linenum">5438</span></a>      },
<a name="l5439"><span class="linenum">5439</span></a>  
<a name="l5440"><span class="linenum">5440</span></a>      activate: function( event, item ) {
<a name="l5441"><span class="linenum">5441</span></a>          this.deactivate();
<a name="l5442"><span class="linenum">5442</span></a>          if (this.hasScroll()) {
<a name="l5443"><span class="linenum">5443</span></a>              var offset = item.offset().top - this.element.offset().top,
<a name="l5444"><span class="linenum">5444</span></a>                  scroll = this.element.scrollTop(),
<a name="l5445"><span class="linenum">5445</span></a>                  elementHeight = this.element.height();
<a name="l5446"><span class="linenum">5446</span></a>              if (offset &lt; 0) {
<a name="l5447"><span class="linenum">5447</span></a>                  this.element.scrollTop( scroll + offset);
<a name="l5448"><span class="linenum">5448</span></a>              } else if (offset &gt;= elementHeight) {
<a name="l5449"><span class="linenum">5449</span></a>                  this.element.scrollTop( scroll + offset - elementHeight + item.height());
<a name="l5450"><span class="linenum">5450</span></a>              }
<a name="l5451"><span class="linenum">5451</span></a>          }
<a name="l5452"><span class="linenum">5452</span></a>          this.active = item.eq(0)
<a name="l5453"><span class="linenum">5453</span></a>              .children(&quot;a&quot;)
<a name="l5454"><span class="linenum">5454</span></a>                  .addClass(&quot;ui-state-hover&quot;)
<a name="l5455"><span class="linenum">5455</span></a>                  .attr(&quot;id&quot;, &quot;ui-active-menuitem&quot;)
<a name="l5456"><span class="linenum">5456</span></a>              .<a class="phpfunction" onClick="logFunction('end')" href="../../../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>();
<a name="l5457"><span class="linenum">5457</span></a>          this._trigger(&quot;focus&quot;, event, { item: item });
<a name="l5458"><span class="linenum">5458</span></a>      },
<a name="l5459"><span class="linenum">5459</span></a>  
<a name="l5460"><span class="linenum">5460</span></a>      deactivate: function() {
<a name="l5461"><span class="linenum">5461</span></a>          if (!this.active) { return; }
<a name="l5462"><span class="linenum">5462</span></a>  
<a name="l5463"><span class="linenum">5463</span></a>          this.active.children(&quot;a&quot;)
<a name="l5464"><span class="linenum">5464</span></a>              .removeClass(&quot;ui-state-hover&quot;)
<a name="l5465"><span class="linenum">5465</span></a>              .removeAttr(&quot;id&quot;);
<a name="l5466"><span class="linenum">5466</span></a>          this._trigger(&quot;blur&quot;);
<a name="l5467"><span class="linenum">5467</span></a>          this.active = null;
<a name="l5468"><span class="linenum">5468</span></a>      },
<a name="l5469"><span class="linenum">5469</span></a>  
<a name="l5470"><span class="linenum">5470</span></a>      next: function(event) {
<a name="l5471"><span class="linenum">5471</span></a>          this.move(&quot;next&quot;, &quot;.ui-menu-item:first&quot;, event);
<a name="l5472"><span class="linenum">5472</span></a>      },
<a name="l5473"><span class="linenum">5473</span></a>  
<a name="l5474"><span class="linenum">5474</span></a>      previous: function(event) {
<a name="l5475"><span class="linenum">5475</span></a>          this.move(&quot;prev&quot;, &quot;.ui-menu-item:last&quot;, event);
<a name="l5476"><span class="linenum">5476</span></a>      },
<a name="l5477"><span class="linenum">5477</span></a>  
<a name="l5478"><span class="linenum">5478</span></a>      first: function() {
<a name="l5479"><span class="linenum">5479</span></a>          return this.active &amp;&amp; !this.active.prevAll(&quot;.ui-menu-item&quot;).length;
<a name="l5480"><span class="linenum">5480</span></a>      },
<a name="l5481"><span class="linenum">5481</span></a>  
<a name="l5482"><span class="linenum">5482</span></a>      last: function() {
<a name="l5483"><span class="linenum">5483</span></a>          return this.active &amp;&amp; !this.active.nextAll(&quot;.ui-menu-item&quot;).length;
<a name="l5484"><span class="linenum">5484</span></a>      },
<a name="l5485"><span class="linenum">5485</span></a>  
<a name="l5486"><span class="linenum">5486</span></a>      move: function(direction, edge, event) {
<a name="l5487"><span class="linenum">5487</span></a>          if (!this.active) {
<a name="l5488"><span class="linenum">5488</span></a>              this.activate(event, this.element.children(edge));
<a name="l5489"><span class="linenum">5489</span></a>              return;
<a name="l5490"><span class="linenum">5490</span></a>          }
<a name="l5491"><span class="linenum">5491</span></a>          var next = this.active[direction + &quot;All&quot;](&quot;.ui-menu-item&quot;).eq(0);
<a name="l5492"><span class="linenum">5492</span></a>          if (next.length) {
<a name="l5493"><span class="linenum">5493</span></a>              this.activate(event, next);
<a name="l5494"><span class="linenum">5494</span></a>          } else {
<a name="l5495"><span class="linenum">5495</span></a>              this.activate(event, this.element.children(edge));
<a name="l5496"><span class="linenum">5496</span></a>          }
<a name="l5497"><span class="linenum">5497</span></a>      },
<a name="l5498"><span class="linenum">5498</span></a>  
<a name="l5499"><span class="linenum">5499</span></a>  <span class="comment">    // TODO merge with previousPage</span>
<a name="l5500"><span class="linenum">5500</span></a>      nextPage: function(event) {
<a name="l5501"><span class="linenum">5501</span></a>          if (this.hasScroll()) {
<a name="l5502"><span class="linenum">5502</span></a>  <span class="comment">            // TODO merge with no-scroll-else</span>
<a name="l5503"><span class="linenum">5503</span></a>              if (!this.active || this.<a class="function" onClick="logFunction('last')" href="../../../../_functions/last.html" onMouseOver="funcPopup(event,'last')">last</a>()) {
<a name="l5504"><span class="linenum">5504</span></a>                  this.activate(event, this.element.children(&quot;.ui-menu-item:first&quot;));
<a name="l5505"><span class="linenum">5505</span></a>                  return;
<a name="l5506"><span class="linenum">5506</span></a>              }
<a name="l5507"><span class="linenum">5507</span></a>              var base = this.active.offset().top,
<a name="l5508"><span class="linenum">5508</span></a>                  height = this.element.height(),
<a name="l5509"><span class="linenum">5509</span></a>                  result = this.element.children(&quot;.ui-menu-item&quot;).filter(function() {
<a name="l5510"><span class="linenum">5510</span></a>                      var close = $(this).offset().top - base - height + $(this).height();
<a name="l5511"><span class="linenum">5511</span></a>  <span class="comment">                    // TODO improve approximation</span>
<a name="l5512"><span class="linenum">5512</span></a>                      return close &lt; 10 &amp;&amp; close &gt; -10;
<a name="l5513"><span class="linenum">5513</span></a>                  });
<a name="l5514"><span class="linenum">5514</span></a>  
<a name="l5515"><span class="linenum">5515</span></a>  <span class="comment">            // TODO try to catch this earlier when scrollTop indicates the last page anyway</span>
<a name="l5516"><span class="linenum">5516</span></a>              if (!result.length) {
<a name="l5517"><span class="linenum">5517</span></a>                  result = this.element.children(&quot;.ui-menu-item:last&quot;);
<a name="l5518"><span class="linenum">5518</span></a>              }
<a name="l5519"><span class="linenum">5519</span></a>              this.activate(event, result);
<a name="l5520"><span class="linenum">5520</span></a>          } else {
<a name="l5521"><span class="linenum">5521</span></a>              this.activate(event, this.element.children(&quot;.ui-menu-item&quot;)
<a name="l5522"><span class="linenum">5522</span></a>                  .filter(!this.active || this.<a class="function" onClick="logFunction('last')" href="../../../../_functions/last.html" onMouseOver="funcPopup(event,'last')">last</a>() ? &quot;:first&quot; : &quot;:last&quot;));
<a name="l5523"><span class="linenum">5523</span></a>          }
<a name="l5524"><span class="linenum">5524</span></a>      },
<a name="l5525"><span class="linenum">5525</span></a>  
<a name="l5526"><span class="linenum">5526</span></a>  <span class="comment">    // TODO merge with nextPage</span>
<a name="l5527"><span class="linenum">5527</span></a>      previousPage: function(event) {
<a name="l5528"><span class="linenum">5528</span></a>          if (this.hasScroll()) {
<a name="l5529"><span class="linenum">5529</span></a>  <span class="comment">            // TODO merge with no-scroll-else</span>
<a name="l5530"><span class="linenum">5530</span></a>              if (!this.active || this.<a class="function" onClick="logFunction('first')" href="../../../../_functions/first.html" onMouseOver="funcPopup(event,'first')">first</a>()) {
<a name="l5531"><span class="linenum">5531</span></a>                  this.activate(event, this.element.children(&quot;.ui-menu-item:last&quot;));
<a name="l5532"><span class="linenum">5532</span></a>                  return;
<a name="l5533"><span class="linenum">5533</span></a>              }
<a name="l5534"><span class="linenum">5534</span></a>  
<a name="l5535"><span class="linenum">5535</span></a>              var base = this.active.offset().top,
<a name="l5536"><span class="linenum">5536</span></a>                  height = this.element.height();
<a name="l5537"><span class="linenum">5537</span></a>                  result = this.element.children(&quot;.ui-menu-item&quot;).filter(function() {
<a name="l5538"><span class="linenum">5538</span></a>                      var close = $(this).offset().top - base + height - $(this).height();
<a name="l5539"><span class="linenum">5539</span></a>  <span class="comment">                    // TODO improve approximation</span>
<a name="l5540"><span class="linenum">5540</span></a>                      return close &lt; 10 &amp;&amp; close &gt; -10;
<a name="l5541"><span class="linenum">5541</span></a>                  });
<a name="l5542"><span class="linenum">5542</span></a>  
<a name="l5543"><span class="linenum">5543</span></a>  <span class="comment">            // TODO try to catch this earlier when scrollTop indicates the last page anyway</span>
<a name="l5544"><span class="linenum">5544</span></a>              if (!result.length) {
<a name="l5545"><span class="linenum">5545</span></a>                  result = this.element.children(&quot;.ui-menu-item:first&quot;);
<a name="l5546"><span class="linenum">5546</span></a>              }
<a name="l5547"><span class="linenum">5547</span></a>              this.activate(event, result);
<a name="l5548"><span class="linenum">5548</span></a>          } else {
<a name="l5549"><span class="linenum">5549</span></a>              this.activate(event, this.element.children(&quot;.ui-menu-item&quot;)
<a name="l5550"><span class="linenum">5550</span></a>                  .filter(!this.active || this.<a class="function" onClick="logFunction('first')" href="../../../../_functions/first.html" onMouseOver="funcPopup(event,'first')">first</a>() ? &quot;:last&quot; : &quot;:first&quot;));
<a name="l5551"><span class="linenum">5551</span></a>          }
<a name="l5552"><span class="linenum">5552</span></a>      },
<a name="l5553"><span class="linenum">5553</span></a>  
<a name="l5554"><span class="linenum">5554</span></a>      hasScroll: function() {
<a name="l5555"><span class="linenum">5555</span></a>          return this.element.height() &lt; this.element[ $.fn.prop ? &quot;prop&quot; : &quot;attr&quot; ](&quot;scrollHeight&quot;);
<a name="l5556"><span class="linenum">5556</span></a>      },
<a name="l5557"><span class="linenum">5557</span></a>  
<a name="l5558"><span class="linenum">5558</span></a>      select: function( event ) {
<a name="l5559"><span class="linenum">5559</span></a>          this._trigger(&quot;selected&quot;, event, { item: this.active });
<a name="l5560"><span class="linenum">5560</span></a>      }
<a name="l5561"><span class="linenum">5561</span></a>  });
<a name="l5562"><span class="linenum">5562</span></a>  
<a name="l5563"><span class="linenum">5563</span></a>  }(jQuery));
<a name="l5564"><span class="linenum">5564</span></a>  <span class="comment">/*</span>
<a name="l5565"><span class="linenum">5565</span></a>  <span class="comment"> * jQuery UI Button 1.8.18</span>
<a name="l5566"><span class="linenum">5566</span></a>  <span class="comment"> *</span>
<a name="l5567"><span class="linenum">5567</span></a>  <span class="comment"> * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l5568"><span class="linenum">5568</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l5569"><span class="linenum">5569</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l5570"><span class="linenum">5570</span></a>  <span class="comment"> *</span>
<a name="l5571"><span class="linenum">5571</span></a>  <span class="comment"> * http://docs.jquery.com/UI/Button</span>
<a name="l5572"><span class="linenum">5572</span></a>  <span class="comment"> *</span>
<a name="l5573"><span class="linenum">5573</span></a>  <span class="comment"> * Depends:</span>
<a name="l5574"><span class="linenum">5574</span></a>  <span class="comment"> *    jquery.ui.core.js</span>
<a name="l5575"><span class="linenum">5575</span></a>  <span class="comment"> *    jquery.ui.widget.js</span>
<a name="l5576"><span class="linenum">5576</span></a>  <span class="comment"> */</span>
<a name="l5577"><span class="linenum">5577</span></a>  (function( $, undefined ) {
<a name="l5578"><span class="linenum">5578</span></a>  
<a name="l5579"><span class="linenum">5579</span></a>  var lastActive, startXPos, startYPos, clickDragged,
<a name="l5580"><span class="linenum">5580</span></a>      baseClasses = &quot;ui-button ui-widget ui-state-default ui-corner-all&quot;,
<a name="l5581"><span class="linenum">5581</span></a>      stateClasses = &quot;ui-state-hover ui-state-active &quot;,
<a name="l5582"><span class="linenum">5582</span></a>      typeClasses = &quot;ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only&quot;,
<a name="l5583"><span class="linenum">5583</span></a>      formResetHandler = function() {
<a name="l5584"><span class="linenum">5584</span></a>          var buttons = $( this ).<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>( &quot;:ui-button&quot; );
<a name="l5585"><span class="linenum">5585</span></a>          setTimeout(function() {
<a name="l5586"><span class="linenum">5586</span></a>              buttons.<a class="function" onClick="logFunction('button')" href="../../../../_functions/button.html" onMouseOver="funcPopup(event,'button')">button</a>( &quot;refresh&quot; );
<a name="l5587"><span class="linenum">5587</span></a>          }, 1 );
<a name="l5588"><span class="linenum">5588</span></a>      },
<a name="l5589"><span class="linenum">5589</span></a>      radioGroup = function( radio ) {
<a name="l5590"><span class="linenum">5590</span></a>          var name = radio.name,
<a name="l5591"><span class="linenum">5591</span></a>              form = radio.form,
<a name="l5592"><span class="linenum">5592</span></a>              radios = $( [] );
<a name="l5593"><span class="linenum">5593</span></a>          if ( name ) {
<a name="l5594"><span class="linenum">5594</span></a>              if ( form ) {
<a name="l5595"><span class="linenum">5595</span></a>                  radios = $( form ).<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>( &quot;[name='&quot; + name + &quot;']&quot; );
<a name="l5596"><span class="linenum">5596</span></a>              } else {
<a name="l5597"><span class="linenum">5597</span></a>                  radios = $( &quot;[name='&quot; + name + &quot;']&quot;, radio.ownerDocument )
<a name="l5598"><span class="linenum">5598</span></a>                      .filter(function() {
<a name="l5599"><span class="linenum">5599</span></a>                          return !this.form;
<a name="l5600"><span class="linenum">5600</span></a>                      });
<a name="l5601"><span class="linenum">5601</span></a>              }
<a name="l5602"><span class="linenum">5602</span></a>          }
<a name="l5603"><span class="linenum">5603</span></a>          return radios;
<a name="l5604"><span class="linenum">5604</span></a>      };
<a name="l5605"><span class="linenum">5605</span></a>  
<a name="l5606"><span class="linenum">5606</span></a>  $.<a class="function" onClick="logFunction('widget')" href="../../../../_functions/widget.html" onMouseOver="funcPopup(event,'widget')">widget</a>( &quot;ui.button&quot;, {
<a name="l5607"><span class="linenum">5607</span></a>      options: {
<a name="l5608"><span class="linenum">5608</span></a>          disabled: null,
<a name="l5609"><span class="linenum">5609</span></a>          text: true,
<a name="l5610"><span class="linenum">5610</span></a>          label: null,
<a name="l5611"><span class="linenum">5611</span></a>          icons: {
<a name="l5612"><span class="linenum">5612</span></a>              primary: null,
<a name="l5613"><span class="linenum">5613</span></a>              secondary: null
<a name="l5614"><span class="linenum">5614</span></a>          }
<a name="l5615"><span class="linenum">5615</span></a>      },
<a name="l5616"><span class="linenum">5616</span></a>      _create: function() {
<a name="l5617"><span class="linenum">5617</span></a>          this.element.closest( &quot;form&quot; )
<a name="l5618"><span class="linenum">5618</span></a>              .unbind( &quot;reset.button&quot; )
<a name="l5619"><span class="linenum">5619</span></a>              .bind( &quot;reset.button&quot;, formResetHandler );
<a name="l5620"><span class="linenum">5620</span></a>  
<a name="l5621"><span class="linenum">5621</span></a>          if ( typeof this.options.disabled !== &quot;boolean&quot; ) {
<a name="l5622"><span class="linenum">5622</span></a>              this.options.disabled = !!this.element.propAttr( &quot;disabled&quot; );
<a name="l5623"><span class="linenum">5623</span></a>          } else {
<a name="l5624"><span class="linenum">5624</span></a>              this.element.propAttr( &quot;disabled&quot;, this.options.disabled );
<a name="l5625"><span class="linenum">5625</span></a>          }
<a name="l5626"><span class="linenum">5626</span></a>  
<a name="l5627"><span class="linenum">5627</span></a>          this._determineButtonType();
<a name="l5628"><span class="linenum">5628</span></a>          this.hasTitle = !!this.buttonElement.attr( &quot;title&quot; );
<a name="l5629"><span class="linenum">5629</span></a>  
<a name="l5630"><span class="linenum">5630</span></a>          var self = this,
<a name="l5631"><span class="linenum">5631</span></a>              options = this.options,
<a name="l5632"><span class="linenum">5632</span></a>              toggleButton = this.type === &quot;checkbox&quot; || this.type === &quot;radio&quot;,
<a name="l5633"><span class="linenum">5633</span></a>              hoverClass = &quot;ui-state-hover&quot; + ( !toggleButton ? &quot; ui-state-active&quot; : &quot;&quot; ),
<a name="l5634"><span class="linenum">5634</span></a>              focusClass = &quot;ui-state-focus&quot;;
<a name="l5635"><span class="linenum">5635</span></a>  
<a name="l5636"><span class="linenum">5636</span></a>          if ( options.label === null ) {
<a name="l5637"><span class="linenum">5637</span></a>              options.label = this.buttonElement.html();
<a name="l5638"><span class="linenum">5638</span></a>          }
<a name="l5639"><span class="linenum">5639</span></a>  
<a name="l5640"><span class="linenum">5640</span></a>          this.buttonElement
<a name="l5641"><span class="linenum">5641</span></a>              .addClass( baseClasses )
<a name="l5642"><span class="linenum">5642</span></a>              .attr( &quot;role&quot;, &quot;button&quot; )
<a name="l5643"><span class="linenum">5643</span></a>              .bind( &quot;mouseenter.button&quot;, function() {
<a name="l5644"><span class="linenum">5644</span></a>                  if ( options.disabled ) {
<a name="l5645"><span class="linenum">5645</span></a>                      return;
<a name="l5646"><span class="linenum">5646</span></a>                  }
<a name="l5647"><span class="linenum">5647</span></a>                  $( this ).addClass( &quot;ui-state-hover&quot; );
<a name="l5648"><span class="linenum">5648</span></a>                  if ( this === lastActive ) {
<a name="l5649"><span class="linenum">5649</span></a>                      $( this ).addClass( &quot;ui-state-active&quot; );
<a name="l5650"><span class="linenum">5650</span></a>                  }
<a name="l5651"><span class="linenum">5651</span></a>              })
<a name="l5652"><span class="linenum">5652</span></a>              .bind( &quot;mouseleave.button&quot;, function() {
<a name="l5653"><span class="linenum">5653</span></a>                  if ( options.disabled ) {
<a name="l5654"><span class="linenum">5654</span></a>                      return;
<a name="l5655"><span class="linenum">5655</span></a>                  }
<a name="l5656"><span class="linenum">5656</span></a>                  $( this ).removeClass( hoverClass );
<a name="l5657"><span class="linenum">5657</span></a>              })
<a name="l5658"><span class="linenum">5658</span></a>              .bind( &quot;click.button&quot;, function( event ) {
<a name="l5659"><span class="linenum">5659</span></a>                  if ( options.disabled ) {
<a name="l5660"><span class="linenum">5660</span></a>                      event.preventDefault();
<a name="l5661"><span class="linenum">5661</span></a>                      event.stopImmediatePropagation();
<a name="l5662"><span class="linenum">5662</span></a>                  }
<a name="l5663"><span class="linenum">5663</span></a>              });
<a name="l5664"><span class="linenum">5664</span></a>  
<a name="l5665"><span class="linenum">5665</span></a>          this.element
<a name="l5666"><span class="linenum">5666</span></a>              .bind( &quot;focus.button&quot;, function() {
<a name="l5667"><span class="linenum">5667</span></a>  <span class="comment">                // no need to check disabled, focus won't be triggered anyway</span>
<a name="l5668"><span class="linenum">5668</span></a>                  self.buttonElement.addClass( focusClass );
<a name="l5669"><span class="linenum">5669</span></a>              })
<a name="l5670"><span class="linenum">5670</span></a>              .bind( &quot;blur.button&quot;, function() {
<a name="l5671"><span class="linenum">5671</span></a>                  self.buttonElement.removeClass( focusClass );
<a name="l5672"><span class="linenum">5672</span></a>              });
<a name="l5673"><span class="linenum">5673</span></a>  
<a name="l5674"><span class="linenum">5674</span></a>          if ( toggleButton ) {
<a name="l5675"><span class="linenum">5675</span></a>              this.element.bind( &quot;change.button&quot;, function() {
<a name="l5676"><span class="linenum">5676</span></a>                  if ( clickDragged ) {
<a name="l5677"><span class="linenum">5677</span></a>                      return;
<a name="l5678"><span class="linenum">5678</span></a>                  }
<a name="l5679"><span class="linenum">5679</span></a>                  self.refresh();
<a name="l5680"><span class="linenum">5680</span></a>              });
<a name="l5681"><span class="linenum">5681</span></a>  <span class="comment">            // if mouse moves between mousedown and mouseup (drag) set clickDragged flag</span>
<a name="l5682"><span class="linenum">5682</span></a>  <span class="comment">            // prevents issue where button state changes but checkbox/radio checked state</span>
<a name="l5683"><span class="linenum">5683</span></a>  <span class="comment">            // does not in Firefox (see ticket #6970)</span>
<a name="l5684"><span class="linenum">5684</span></a>              this.buttonElement
<a name="l5685"><span class="linenum">5685</span></a>                  .bind( &quot;mousedown.button&quot;, function( event ) {
<a name="l5686"><span class="linenum">5686</span></a>                      if ( options.disabled ) {
<a name="l5687"><span class="linenum">5687</span></a>                          return;
<a name="l5688"><span class="linenum">5688</span></a>                      }
<a name="l5689"><span class="linenum">5689</span></a>                      clickDragged = false;
<a name="l5690"><span class="linenum">5690</span></a>                      startXPos = event.pageX;
<a name="l5691"><span class="linenum">5691</span></a>                      startYPos = event.pageY;
<a name="l5692"><span class="linenum">5692</span></a>                  })
<a name="l5693"><span class="linenum">5693</span></a>                  .bind( &quot;mouseup.button&quot;, function( event ) {
<a name="l5694"><span class="linenum">5694</span></a>                      if ( options.disabled ) {
<a name="l5695"><span class="linenum">5695</span></a>                          return;
<a name="l5696"><span class="linenum">5696</span></a>                      }
<a name="l5697"><span class="linenum">5697</span></a>                      if ( startXPos !== event.pageX || startYPos !== event.pageY ) {
<a name="l5698"><span class="linenum">5698</span></a>                          clickDragged = true;
<a name="l5699"><span class="linenum">5699</span></a>                      }
<a name="l5700"><span class="linenum">5700</span></a>              });
<a name="l5701"><span class="linenum">5701</span></a>          }
<a name="l5702"><span class="linenum">5702</span></a>  
<a name="l5703"><span class="linenum">5703</span></a>          if ( this.type === &quot;checkbox&quot; ) {
<a name="l5704"><span class="linenum">5704</span></a>              this.buttonElement.bind( &quot;click.button&quot;, function() {
<a name="l5705"><span class="linenum">5705</span></a>                  if ( options.disabled || clickDragged ) {
<a name="l5706"><span class="linenum">5706</span></a>                      return false;
<a name="l5707"><span class="linenum">5707</span></a>                  }
<a name="l5708"><span class="linenum">5708</span></a>                  $( this ).toggleClass( &quot;ui-state-active&quot; );
<a name="l5709"><span class="linenum">5709</span></a>                  self.buttonElement.attr( &quot;aria-pressed&quot;, self.element[0].checked );
<a name="l5710"><span class="linenum">5710</span></a>              });
<a name="l5711"><span class="linenum">5711</span></a>          } else if ( this.type === &quot;radio&quot; ) {
<a name="l5712"><span class="linenum">5712</span></a>              this.buttonElement.bind( &quot;click.button&quot;, function() {
<a name="l5713"><span class="linenum">5713</span></a>                  if ( options.disabled || clickDragged ) {
<a name="l5714"><span class="linenum">5714</span></a>                      return false;
<a name="l5715"><span class="linenum">5715</span></a>                  }
<a name="l5716"><span class="linenum">5716</span></a>                  $( this ).addClass( &quot;ui-state-active&quot; );
<a name="l5717"><span class="linenum">5717</span></a>                  self.buttonElement.attr( &quot;aria-pressed&quot;, &quot;true&quot; );
<a name="l5718"><span class="linenum">5718</span></a>  
<a name="l5719"><span class="linenum">5719</span></a>                  var radio = self.element[ 0 ];
<a name="l5720"><span class="linenum">5720</span></a>                  radioGroup( radio )
<a name="l5721"><span class="linenum">5721</span></a>                      .not( radio )
<a name="l5722"><span class="linenum">5722</span></a>                      .map(function() {
<a name="l5723"><span class="linenum">5723</span></a>                          return $( this ).<a class="function" onClick="logFunction('button')" href="../../../../_functions/button.html" onMouseOver="funcPopup(event,'button')">button</a>( &quot;widget&quot; )[ 0 ];
<a name="l5724"><span class="linenum">5724</span></a>                      })
<a name="l5725"><span class="linenum">5725</span></a>                      .removeClass( &quot;ui-state-active&quot; )
<a name="l5726"><span class="linenum">5726</span></a>                      .attr( &quot;aria-pressed&quot;, &quot;false&quot; );
<a name="l5727"><span class="linenum">5727</span></a>              });
<a name="l5728"><span class="linenum">5728</span></a>          } else {
<a name="l5729"><span class="linenum">5729</span></a>              this.buttonElement
<a name="l5730"><span class="linenum">5730</span></a>                  .bind( &quot;mousedown.button&quot;, function() {
<a name="l5731"><span class="linenum">5731</span></a>                      if ( options.disabled ) {
<a name="l5732"><span class="linenum">5732</span></a>                          return false;
<a name="l5733"><span class="linenum">5733</span></a>                      }
<a name="l5734"><span class="linenum">5734</span></a>                      $( this ).addClass( &quot;ui-state-active&quot; );
<a name="l5735"><span class="linenum">5735</span></a>                      lastActive = this;
<a name="l5736"><span class="linenum">5736</span></a>                      $( document ).one( &quot;mouseup&quot;, function() {
<a name="l5737"><span class="linenum">5737</span></a>                          lastActive = null;
<a name="l5738"><span class="linenum">5738</span></a>                      });
<a name="l5739"><span class="linenum">5739</span></a>                  })
<a name="l5740"><span class="linenum">5740</span></a>                  .bind( &quot;mouseup.button&quot;, function() {
<a name="l5741"><span class="linenum">5741</span></a>                      if ( options.disabled ) {
<a name="l5742"><span class="linenum">5742</span></a>                          return false;
<a name="l5743"><span class="linenum">5743</span></a>                      }
<a name="l5744"><span class="linenum">5744</span></a>                      $( this ).removeClass( &quot;ui-state-active&quot; );
<a name="l5745"><span class="linenum">5745</span></a>                  })
<a name="l5746"><span class="linenum">5746</span></a>                  .bind( &quot;keydown.button&quot;, function(event) {
<a name="l5747"><span class="linenum">5747</span></a>                      if ( options.disabled ) {
<a name="l5748"><span class="linenum">5748</span></a>                          return false;
<a name="l5749"><span class="linenum">5749</span></a>                      }
<a name="l5750"><span class="linenum">5750</span></a>                      if ( event.keyCode == $.ui.keyCode.SPACE || event.keyCode == $.ui.keyCode.ENTER ) {
<a name="l5751"><span class="linenum">5751</span></a>                          $( this ).addClass( &quot;ui-state-active&quot; );
<a name="l5752"><span class="linenum">5752</span></a>                      }
<a name="l5753"><span class="linenum">5753</span></a>                  })
<a name="l5754"><span class="linenum">5754</span></a>                  .bind( &quot;keyup.button&quot;, function() {
<a name="l5755"><span class="linenum">5755</span></a>                      $( this ).removeClass( &quot;ui-state-active&quot; );
<a name="l5756"><span class="linenum">5756</span></a>                  });
<a name="l5757"><span class="linenum">5757</span></a>  
<a name="l5758"><span class="linenum">5758</span></a>              if ( this.buttonElement.is(&quot;a&quot;) ) {
<a name="l5759"><span class="linenum">5759</span></a>                  this.buttonElement.keyup(function(event) {
<a name="l5760"><span class="linenum">5760</span></a>                      if ( event.keyCode === $.ui.keyCode.SPACE ) {
<a name="l5761"><span class="linenum">5761</span></a>  <span class="comment">                        // TODO pass through original event correctly (just as 2nd argument doesn't work)</span>
<a name="l5762"><span class="linenum">5762</span></a>                          $( this ).click();
<a name="l5763"><span class="linenum">5763</span></a>                      }
<a name="l5764"><span class="linenum">5764</span></a>                  });
<a name="l5765"><span class="linenum">5765</span></a>              }
<a name="l5766"><span class="linenum">5766</span></a>          }
<a name="l5767"><span class="linenum">5767</span></a>  
<a name="l5768"><span class="linenum">5768</span></a>  <span class="comment">        // TODO: pull out $.Widget's handling for the disabled option into</span>
<a name="l5769"><span class="linenum">5769</span></a>  <span class="comment">        // $.Widget.prototype._setOptionDisabled so it's easy to proxy and can</span>
<a name="l5770"><span class="linenum">5770</span></a>  <span class="comment">        // be overridden by individual plugins</span>
<a name="l5771"><span class="linenum">5771</span></a>          this._setOption( &quot;disabled&quot;, options.disabled );
<a name="l5772"><span class="linenum">5772</span></a>          this._resetButton();
<a name="l5773"><span class="linenum">5773</span></a>      },
<a name="l5774"><span class="linenum">5774</span></a>  
<a name="l5775"><span class="linenum">5775</span></a>      _determineButtonType: function() {
<a name="l5776"><span class="linenum">5776</span></a>  
<a name="l5777"><span class="linenum">5777</span></a>          if ( this.element.is(&quot;:checkbox&quot;) ) {
<a name="l5778"><span class="linenum">5778</span></a>              this.type = &quot;checkbox&quot;;
<a name="l5779"><span class="linenum">5779</span></a>          } else if ( this.element.is(&quot;:radio&quot;) ) {
<a name="l5780"><span class="linenum">5780</span></a>              this.type = &quot;radio&quot;;
<a name="l5781"><span class="linenum">5781</span></a>          } else if ( this.element.is(&quot;input&quot;) ) {
<a name="l5782"><span class="linenum">5782</span></a>              this.type = &quot;input&quot;;
<a name="l5783"><span class="linenum">5783</span></a>          } else {
<a name="l5784"><span class="linenum">5784</span></a>              this.type = &quot;button&quot;;
<a name="l5785"><span class="linenum">5785</span></a>          }
<a name="l5786"><span class="linenum">5786</span></a>  
<a name="l5787"><span class="linenum">5787</span></a>          if ( this.type === &quot;checkbox&quot; || this.type === &quot;radio&quot; ) {
<a name="l5788"><span class="linenum">5788</span></a>  <span class="comment">            // we don't search against the document in case the element</span>
<a name="l5789"><span class="linenum">5789</span></a>  <span class="comment">            // is disconnected from the DOM</span>
<a name="l5790"><span class="linenum">5790</span></a>              var ancestor = this.element.parents().filter(&quot;:last&quot;),
<a name="l5791"><span class="linenum">5791</span></a>                  labelSelector = &quot;label[for='&quot; + this.element.attr(&quot;id&quot;) + &quot;']&quot;;
<a name="l5792"><span class="linenum">5792</span></a>              this.buttonElement = ancestor.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>( labelSelector );
<a name="l5793"><span class="linenum">5793</span></a>              if ( !this.buttonElement.length ) {
<a name="l5794"><span class="linenum">5794</span></a>                  ancestor = ancestor.length ? ancestor.siblings() : this.element.siblings();
<a name="l5795"><span class="linenum">5795</span></a>                  this.buttonElement = ancestor.filter( labelSelector );
<a name="l5796"><span class="linenum">5796</span></a>                  if ( !this.buttonElement.length ) {
<a name="l5797"><span class="linenum">5797</span></a>                      this.buttonElement = ancestor.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>( labelSelector );
<a name="l5798"><span class="linenum">5798</span></a>                  }
<a name="l5799"><span class="linenum">5799</span></a>              }
<a name="l5800"><span class="linenum">5800</span></a>              this.element.addClass( &quot;ui-helper-hidden-accessible&quot; );
<a name="l5801"><span class="linenum">5801</span></a>  
<a name="l5802"><span class="linenum">5802</span></a>              var checked = this.element.is( &quot;:checked&quot; );
<a name="l5803"><span class="linenum">5803</span></a>              if ( checked ) {
<a name="l5804"><span class="linenum">5804</span></a>                  this.buttonElement.addClass( &quot;ui-state-active&quot; );
<a name="l5805"><span class="linenum">5805</span></a>              }
<a name="l5806"><span class="linenum">5806</span></a>              this.buttonElement.attr( &quot;aria-pressed&quot;, checked );
<a name="l5807"><span class="linenum">5807</span></a>          } else {
<a name="l5808"><span class="linenum">5808</span></a>              this.buttonElement = this.element;
<a name="l5809"><span class="linenum">5809</span></a>          }
<a name="l5810"><span class="linenum">5810</span></a>      },
<a name="l5811"><span class="linenum">5811</span></a>  
<a name="l5812"><span class="linenum">5812</span></a>      widget: function() {
<a name="l5813"><span class="linenum">5813</span></a>          return this.buttonElement;
<a name="l5814"><span class="linenum">5814</span></a>      },
<a name="l5815"><span class="linenum">5815</span></a>  
<a name="l5816"><span class="linenum">5816</span></a>      destroy: function() {
<a name="l5817"><span class="linenum">5817</span></a>          this.element
<a name="l5818"><span class="linenum">5818</span></a>              .removeClass( &quot;ui-helper-hidden-accessible&quot; );
<a name="l5819"><span class="linenum">5819</span></a>          this.buttonElement
<a name="l5820"><span class="linenum">5820</span></a>              .removeClass( baseClasses + &quot; &quot; + stateClasses + &quot; &quot; + typeClasses )
<a name="l5821"><span class="linenum">5821</span></a>              .removeAttr( &quot;role&quot; )
<a name="l5822"><span class="linenum">5822</span></a>              .removeAttr( &quot;aria-pressed&quot; )
<a name="l5823"><span class="linenum">5823</span></a>              .html( this.buttonElement.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>(&quot;.ui-button-text&quot;).html() );
<a name="l5824"><span class="linenum">5824</span></a>  
<a name="l5825"><span class="linenum">5825</span></a>          if ( !this.hasTitle ) {
<a name="l5826"><span class="linenum">5826</span></a>              this.buttonElement.removeAttr( &quot;title&quot; );
<a name="l5827"><span class="linenum">5827</span></a>          }
<a name="l5828"><span class="linenum">5828</span></a>  
<a name="l5829"><span class="linenum">5829</span></a>          $.Widget.prototype.destroy.call( this );
<a name="l5830"><span class="linenum">5830</span></a>      },
<a name="l5831"><span class="linenum">5831</span></a>  
<a name="l5832"><span class="linenum">5832</span></a>      _setOption: function( key, value ) {
<a name="l5833"><span class="linenum">5833</span></a>          $.Widget.prototype._setOption.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>( this, arguments );
<a name="l5834"><span class="linenum">5834</span></a>          if ( key === &quot;disabled&quot; ) {
<a name="l5835"><span class="linenum">5835</span></a>              if ( value ) {
<a name="l5836"><span class="linenum">5836</span></a>                  this.element.propAttr( &quot;disabled&quot;, true );
<a name="l5837"><span class="linenum">5837</span></a>              } else {
<a name="l5838"><span class="linenum">5838</span></a>                  this.element.propAttr( &quot;disabled&quot;, false );
<a name="l5839"><span class="linenum">5839</span></a>              }
<a name="l5840"><span class="linenum">5840</span></a>              return;
<a name="l5841"><span class="linenum">5841</span></a>          }
<a name="l5842"><span class="linenum">5842</span></a>          this._resetButton();
<a name="l5843"><span class="linenum">5843</span></a>      },
<a name="l5844"><span class="linenum">5844</span></a>  
<a name="l5845"><span class="linenum">5845</span></a>      refresh: function() {
<a name="l5846"><span class="linenum">5846</span></a>          var isDisabled = this.element.is( &quot;:disabled&quot; );
<a name="l5847"><span class="linenum">5847</span></a>          if ( isDisabled !== this.options.disabled ) {
<a name="l5848"><span class="linenum">5848</span></a>              this._setOption( &quot;disabled&quot;, isDisabled );
<a name="l5849"><span class="linenum">5849</span></a>          }
<a name="l5850"><span class="linenum">5850</span></a>          if ( this.type === &quot;radio&quot; ) {
<a name="l5851"><span class="linenum">5851</span></a>              radioGroup( this.element[0] ).<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l5852"><span class="linenum">5852</span></a>                  if ( $( this ).is( &quot;:checked&quot; ) ) {
<a name="l5853"><span class="linenum">5853</span></a>                      $( this ).<a class="function" onClick="logFunction('button')" href="../../../../_functions/button.html" onMouseOver="funcPopup(event,'button')">button</a>( &quot;widget&quot; )
<a name="l5854"><span class="linenum">5854</span></a>                          .addClass( &quot;ui-state-active&quot; )
<a name="l5855"><span class="linenum">5855</span></a>                          .attr( &quot;aria-pressed&quot;, &quot;true&quot; );
<a name="l5856"><span class="linenum">5856</span></a>                  } else {
<a name="l5857"><span class="linenum">5857</span></a>                      $( this ).<a class="function" onClick="logFunction('button')" href="../../../../_functions/button.html" onMouseOver="funcPopup(event,'button')">button</a>( &quot;widget&quot; )
<a name="l5858"><span class="linenum">5858</span></a>                          .removeClass( &quot;ui-state-active&quot; )
<a name="l5859"><span class="linenum">5859</span></a>                          .attr( &quot;aria-pressed&quot;, &quot;false&quot; );
<a name="l5860"><span class="linenum">5860</span></a>                  }
<a name="l5861"><span class="linenum">5861</span></a>              });
<a name="l5862"><span class="linenum">5862</span></a>          } else if ( this.type === &quot;checkbox&quot; ) {
<a name="l5863"><span class="linenum">5863</span></a>              if ( this.element.is( &quot;:checked&quot; ) ) {
<a name="l5864"><span class="linenum">5864</span></a>                  this.buttonElement
<a name="l5865"><span class="linenum">5865</span></a>                      .addClass( &quot;ui-state-active&quot; )
<a name="l5866"><span class="linenum">5866</span></a>                      .attr( &quot;aria-pressed&quot;, &quot;true&quot; );
<a name="l5867"><span class="linenum">5867</span></a>              } else {
<a name="l5868"><span class="linenum">5868</span></a>                  this.buttonElement
<a name="l5869"><span class="linenum">5869</span></a>                      .removeClass( &quot;ui-state-active&quot; )
<a name="l5870"><span class="linenum">5870</span></a>                      .attr( &quot;aria-pressed&quot;, &quot;false&quot; );
<a name="l5871"><span class="linenum">5871</span></a>              }
<a name="l5872"><span class="linenum">5872</span></a>          }
<a name="l5873"><span class="linenum">5873</span></a>      },
<a name="l5874"><span class="linenum">5874</span></a>  
<a name="l5875"><span class="linenum">5875</span></a>      _resetButton: function() {
<a name="l5876"><span class="linenum">5876</span></a>          if ( this.type === &quot;input&quot; ) {
<a name="l5877"><span class="linenum">5877</span></a>              if ( this.options.label ) {
<a name="l5878"><span class="linenum">5878</span></a>                  this.element.val( this.options.label );
<a name="l5879"><span class="linenum">5879</span></a>              }
<a name="l5880"><span class="linenum">5880</span></a>              return;
<a name="l5881"><span class="linenum">5881</span></a>          }
<a name="l5882"><span class="linenum">5882</span></a>          var buttonElement = this.buttonElement.removeClass( typeClasses ),
<a name="l5883"><span class="linenum">5883</span></a>              buttonText = $( &quot;&lt;span&gt;&lt;/span&gt;&quot;, this.element[0].ownerDocument )
<a name="l5884"><span class="linenum">5884</span></a>                  .addClass( &quot;ui-button-text&quot; )
<a name="l5885"><span class="linenum">5885</span></a>                  .html( this.options.label )
<a name="l5886"><span class="linenum">5886</span></a>                  .appendTo( buttonElement.empty() )
<a name="l5887"><span class="linenum">5887</span></a>                  .<a class="function" onClick="logFunction('text')" href="../../../../_functions/text.html" onMouseOver="funcPopup(event,'text')">text</a>(),
<a name="l5888"><span class="linenum">5888</span></a>              icons = this.options.icons,
<a name="l5889"><span class="linenum">5889</span></a>              multipleIcons = icons.primary &amp;&amp; icons.secondary,
<a name="l5890"><span class="linenum">5890</span></a>              buttonClasses = [];  
<a name="l5891"><span class="linenum">5891</span></a>  
<a name="l5892"><span class="linenum">5892</span></a>          if ( icons.primary || icons.secondary ) {
<a name="l5893"><span class="linenum">5893</span></a>              if ( this.options.text ) {
<a name="l5894"><span class="linenum">5894</span></a>                  buttonClasses.push( &quot;ui-button-text-icon&quot; + ( multipleIcons ? &quot;s&quot; : ( icons.primary ? &quot;-primary&quot; : &quot;-secondary&quot; ) ) );
<a name="l5895"><span class="linenum">5895</span></a>              }
<a name="l5896"><span class="linenum">5896</span></a>  
<a name="l5897"><span class="linenum">5897</span></a>              if ( icons.primary ) {
<a name="l5898"><span class="linenum">5898</span></a>                  buttonElement.prepend( &quot;&lt;span class='ui-button-icon-primary ui-icon &quot; + icons.primary + &quot;'&gt;&lt;/span&gt;&quot; );
<a name="l5899"><span class="linenum">5899</span></a>              }
<a name="l5900"><span class="linenum">5900</span></a>  
<a name="l5901"><span class="linenum">5901</span></a>              if ( icons.secondary ) {
<a name="l5902"><span class="linenum">5902</span></a>                  buttonElement.append( &quot;&lt;span class='ui-button-icon-secondary ui-icon &quot; + icons.secondary + &quot;'&gt;&lt;/span&gt;&quot; );
<a name="l5903"><span class="linenum">5903</span></a>              }
<a name="l5904"><span class="linenum">5904</span></a>  
<a name="l5905"><span class="linenum">5905</span></a>              if ( !this.options.text ) {
<a name="l5906"><span class="linenum">5906</span></a>                  buttonClasses.push( multipleIcons ? &quot;ui-button-icons-only&quot; : &quot;ui-button-icon-only&quot; );
<a name="l5907"><span class="linenum">5907</span></a>  
<a name="l5908"><span class="linenum">5908</span></a>                  if ( !this.hasTitle ) {
<a name="l5909"><span class="linenum">5909</span></a>                      buttonElement.attr( &quot;title&quot;, buttonText );
<a name="l5910"><span class="linenum">5910</span></a>                  }
<a name="l5911"><span class="linenum">5911</span></a>              }
<a name="l5912"><span class="linenum">5912</span></a>          } else {
<a name="l5913"><span class="linenum">5913</span></a>              buttonClasses.push( &quot;ui-button-text-only&quot; );
<a name="l5914"><span class="linenum">5914</span></a>          }
<a name="l5915"><span class="linenum">5915</span></a>          buttonElement.addClass( buttonClasses.join( &quot; &quot; ) );
<a name="l5916"><span class="linenum">5916</span></a>      }
<a name="l5917"><span class="linenum">5917</span></a>  });
<a name="l5918"><span class="linenum">5918</span></a>  
<a name="l5919"><span class="linenum">5919</span></a>  $.<a class="function" onClick="logFunction('widget')" href="../../../../_functions/widget.html" onMouseOver="funcPopup(event,'widget')">widget</a>( &quot;ui.buttonset&quot;, {
<a name="l5920"><span class="linenum">5920</span></a>      options: {
<a name="l5921"><span class="linenum">5921</span></a>          items: &quot;:button, :submit, :reset, :checkbox, :radio, a, :data(button)&quot;
<a name="l5922"><span class="linenum">5922</span></a>      },
<a name="l5923"><span class="linenum">5923</span></a>  
<a name="l5924"><span class="linenum">5924</span></a>      _create: function() {
<a name="l5925"><span class="linenum">5925</span></a>          this.element.addClass( &quot;ui-buttonset&quot; );
<a name="l5926"><span class="linenum">5926</span></a>      },
<a name="l5927"><span class="linenum">5927</span></a>      
<a name="l5928"><span class="linenum">5928</span></a>      _init: function() {
<a name="l5929"><span class="linenum">5929</span></a>          this.refresh();
<a name="l5930"><span class="linenum">5930</span></a>      },
<a name="l5931"><span class="linenum">5931</span></a>  
<a name="l5932"><span class="linenum">5932</span></a>      _setOption: function( key, value ) {
<a name="l5933"><span class="linenum">5933</span></a>          if ( key === &quot;disabled&quot; ) {
<a name="l5934"><span class="linenum">5934</span></a>              this.buttons.<a class="function" onClick="logFunction('button')" href="../../../../_functions/button.html" onMouseOver="funcPopup(event,'button')">button</a>( &quot;option&quot;, key, value );
<a name="l5935"><span class="linenum">5935</span></a>          }
<a name="l5936"><span class="linenum">5936</span></a>  
<a name="l5937"><span class="linenum">5937</span></a>          $.Widget.prototype._setOption.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>( this, arguments );
<a name="l5938"><span class="linenum">5938</span></a>      },
<a name="l5939"><span class="linenum">5939</span></a>      
<a name="l5940"><span class="linenum">5940</span></a>      refresh: function() {
<a name="l5941"><span class="linenum">5941</span></a>          var rtl = this.element.css( &quot;direction&quot; ) === &quot;rtl&quot;;
<a name="l5942"><span class="linenum">5942</span></a>          
<a name="l5943"><span class="linenum">5943</span></a>          this.buttons = this.element.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>( this.options.items )
<a name="l5944"><span class="linenum">5944</span></a>              .filter( &quot;:ui-button&quot; )
<a name="l5945"><span class="linenum">5945</span></a>                  .<a class="function" onClick="logFunction('button')" href="../../../../_functions/button.html" onMouseOver="funcPopup(event,'button')">button</a>( &quot;refresh&quot; )
<a name="l5946"><span class="linenum">5946</span></a>              .<a class="phpfunction" onClick="logFunction('end')" href="../../../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>()
<a name="l5947"><span class="linenum">5947</span></a>              .not( &quot;:ui-button&quot; )
<a name="l5948"><span class="linenum">5948</span></a>                  .<a class="function" onClick="logFunction('button')" href="../../../../_functions/button.html" onMouseOver="funcPopup(event,'button')">button</a>()
<a name="l5949"><span class="linenum">5949</span></a>              .<a class="phpfunction" onClick="logFunction('end')" href="../../../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>()
<a name="l5950"><span class="linenum">5950</span></a>              .map(function() {
<a name="l5951"><span class="linenum">5951</span></a>                  return $( this ).<a class="function" onClick="logFunction('button')" href="../../../../_functions/button.html" onMouseOver="funcPopup(event,'button')">button</a>( &quot;widget&quot; )[ 0 ];
<a name="l5952"><span class="linenum">5952</span></a>              })
<a name="l5953"><span class="linenum">5953</span></a>                  .removeClass( &quot;ui-corner-all ui-corner-left ui-corner-right&quot; )
<a name="l5954"><span class="linenum">5954</span></a>                  .filter( &quot;:first&quot; )
<a name="l5955"><span class="linenum">5955</span></a>                      .addClass( rtl ? &quot;ui-corner-right&quot; : &quot;ui-corner-left&quot; )
<a name="l5956"><span class="linenum">5956</span></a>                  .<a class="phpfunction" onClick="logFunction('end')" href="../../../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>()
<a name="l5957"><span class="linenum">5957</span></a>                  .filter( &quot;:last&quot; )
<a name="l5958"><span class="linenum">5958</span></a>                      .addClass( rtl ? &quot;ui-corner-left&quot; : &quot;ui-corner-right&quot; )
<a name="l5959"><span class="linenum">5959</span></a>                  .<a class="phpfunction" onClick="logFunction('end')" href="../../../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>()
<a name="l5960"><span class="linenum">5960</span></a>              .<a class="phpfunction" onClick="logFunction('end')" href="../../../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>();
<a name="l5961"><span class="linenum">5961</span></a>      },
<a name="l5962"><span class="linenum">5962</span></a>  
<a name="l5963"><span class="linenum">5963</span></a>      destroy: function() {
<a name="l5964"><span class="linenum">5964</span></a>          this.element.removeClass( &quot;ui-buttonset&quot; );
<a name="l5965"><span class="linenum">5965</span></a>          this.buttons
<a name="l5966"><span class="linenum">5966</span></a>              .map(function() {
<a name="l5967"><span class="linenum">5967</span></a>                  return $( this ).<a class="function" onClick="logFunction('button')" href="../../../../_functions/button.html" onMouseOver="funcPopup(event,'button')">button</a>( &quot;widget&quot; )[ 0 ];
<a name="l5968"><span class="linenum">5968</span></a>              })
<a name="l5969"><span class="linenum">5969</span></a>                  .removeClass( &quot;ui-corner-left ui-corner-right&quot; )
<a name="l5970"><span class="linenum">5970</span></a>              .<a class="phpfunction" onClick="logFunction('end')" href="../../../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>()
<a name="l5971"><span class="linenum">5971</span></a>              .<a class="function" onClick="logFunction('button')" href="../../../../_functions/button.html" onMouseOver="funcPopup(event,'button')">button</a>( &quot;destroy&quot; );
<a name="l5972"><span class="linenum">5972</span></a>  
<a name="l5973"><span class="linenum">5973</span></a>          $.Widget.prototype.destroy.call( this );
<a name="l5974"><span class="linenum">5974</span></a>      }
<a name="l5975"><span class="linenum">5975</span></a>  });
<a name="l5976"><span class="linenum">5976</span></a>  
<a name="l5977"><span class="linenum">5977</span></a>  }( jQuery ) );
<a name="l5978"><span class="linenum">5978</span></a>  <span class="comment">/*</span>
<a name="l5979"><span class="linenum">5979</span></a>  <span class="comment"> * jQuery UI Dialog 1.8.18</span>
<a name="l5980"><span class="linenum">5980</span></a>  <span class="comment"> *</span>
<a name="l5981"><span class="linenum">5981</span></a>  <span class="comment"> * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l5982"><span class="linenum">5982</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l5983"><span class="linenum">5983</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l5984"><span class="linenum">5984</span></a>  <span class="comment"> *</span>
<a name="l5985"><span class="linenum">5985</span></a>  <span class="comment"> * http://docs.jquery.com/UI/Dialog</span>
<a name="l5986"><span class="linenum">5986</span></a>  <span class="comment"> *</span>
<a name="l5987"><span class="linenum">5987</span></a>  <span class="comment"> * Depends:</span>
<a name="l5988"><span class="linenum">5988</span></a>  <span class="comment"> *    jquery.ui.core.js</span>
<a name="l5989"><span class="linenum">5989</span></a>  <span class="comment"> *    jquery.ui.widget.js</span>
<a name="l5990"><span class="linenum">5990</span></a>  <span class="comment"> *  jquery.ui.button.js</span>
<a name="l5991"><span class="linenum">5991</span></a>  <span class="comment"> *    jquery.ui.draggable.js</span>
<a name="l5992"><span class="linenum">5992</span></a>  <span class="comment"> *    jquery.ui.mouse.js</span>
<a name="l5993"><span class="linenum">5993</span></a>  <span class="comment"> *    jquery.ui.position.js</span>
<a name="l5994"><span class="linenum">5994</span></a>  <span class="comment"> *    jquery.ui.resizable.js</span>
<a name="l5995"><span class="linenum">5995</span></a>  <span class="comment"> */</span>
<a name="l5996"><span class="linenum">5996</span></a>  (function( $, undefined ) {
<a name="l5997"><span class="linenum">5997</span></a>  
<a name="l5998"><span class="linenum">5998</span></a>  var uiDialogClasses =
<a name="l5999"><span class="linenum">5999</span></a>          'ui-dialog ' +
<a name="l6000"><span class="linenum">6000</span></a>          'ui-widget ' +
<a name="l6001"><span class="linenum">6001</span></a>          'ui-widget-content ' +
<a name="l6002"><span class="linenum">6002</span></a>          'ui-corner-all ',
<a name="l6003"><span class="linenum">6003</span></a>      sizeRelatedOptions = {
<a name="l6004"><span class="linenum">6004</span></a>          buttons: true,
<a name="l6005"><span class="linenum">6005</span></a>          height: true,
<a name="l6006"><span class="linenum">6006</span></a>          maxHeight: true,
<a name="l6007"><span class="linenum">6007</span></a>          maxWidth: true,
<a name="l6008"><span class="linenum">6008</span></a>          minHeight: true,
<a name="l6009"><span class="linenum">6009</span></a>          minWidth: true,
<a name="l6010"><span class="linenum">6010</span></a>          width: true
<a name="l6011"><span class="linenum">6011</span></a>      },
<a name="l6012"><span class="linenum">6012</span></a>      resizableRelatedOptions = {
<a name="l6013"><span class="linenum">6013</span></a>          maxHeight: true,
<a name="l6014"><span class="linenum">6014</span></a>          maxWidth: true,
<a name="l6015"><span class="linenum">6015</span></a>          minHeight: true,
<a name="l6016"><span class="linenum">6016</span></a>          minWidth: true
<a name="l6017"><span class="linenum">6017</span></a>      },
<a name="l6018"><span class="linenum">6018</span></a>  <span class="comment">    // support for jQuery 1.3.2 - handle common attrFn methods for dialog</span>
<a name="l6019"><span class="linenum">6019</span></a>      attrFn = $.attrFn || {
<a name="l6020"><span class="linenum">6020</span></a>          val: true,
<a name="l6021"><span class="linenum">6021</span></a>          css: true,
<a name="l6022"><span class="linenum">6022</span></a>          html: true,
<a name="l6023"><span class="linenum">6023</span></a>          text: true,
<a name="l6024"><span class="linenum">6024</span></a>          data: true,
<a name="l6025"><span class="linenum">6025</span></a>          width: true,
<a name="l6026"><span class="linenum">6026</span></a>          height: true,
<a name="l6027"><span class="linenum">6027</span></a>          offset: true,
<a name="l6028"><span class="linenum">6028</span></a>          click: true
<a name="l6029"><span class="linenum">6029</span></a>      };
<a name="l6030"><span class="linenum">6030</span></a>  
<a name="l6031"><span class="linenum">6031</span></a>  $.<a class="function" onClick="logFunction('widget')" href="../../../../_functions/widget.html" onMouseOver="funcPopup(event,'widget')">widget</a>(&quot;ui.dialog&quot;, {
<a name="l6032"><span class="linenum">6032</span></a>      options: {
<a name="l6033"><span class="linenum">6033</span></a>          autoOpen: true,
<a name="l6034"><span class="linenum">6034</span></a>          buttons: {},
<a name="l6035"><span class="linenum">6035</span></a>          closeOnEscape: true,
<a name="l6036"><span class="linenum">6036</span></a>          closeText: 'close',
<a name="l6037"><span class="linenum">6037</span></a>          dialogClass: '',
<a name="l6038"><span class="linenum">6038</span></a>          draggable: true,
<a name="l6039"><span class="linenum">6039</span></a>          hide: null,
<a name="l6040"><span class="linenum">6040</span></a>          height: 'auto',
<a name="l6041"><span class="linenum">6041</span></a>          maxHeight: false,
<a name="l6042"><span class="linenum">6042</span></a>          maxWidth: false,
<a name="l6043"><span class="linenum">6043</span></a>          minHeight: 150,
<a name="l6044"><span class="linenum">6044</span></a>          minWidth: 150,
<a name="l6045"><span class="linenum">6045</span></a>          modal: false,
<a name="l6046"><span class="linenum">6046</span></a>          position: {
<a name="l6047"><span class="linenum">6047</span></a>              my: 'center',
<a name="l6048"><span class="linenum">6048</span></a>              at: 'center',
<a name="l6049"><span class="linenum">6049</span></a>              collision: 'fit',
<a name="l6050"><span class="linenum">6050</span></a>  <span class="comment">            // ensure that the titlebar is never outside the document</span>
<a name="l6051"><span class="linenum">6051</span></a>              using: function(pos) {
<a name="l6052"><span class="linenum">6052</span></a>                  var topOffset = $(this).css(pos).offset().top;
<a name="l6053"><span class="linenum">6053</span></a>                  if (topOffset &lt; 0) {
<a name="l6054"><span class="linenum">6054</span></a>                      $(this).css('top', pos.top - topOffset);
<a name="l6055"><span class="linenum">6055</span></a>                  }
<a name="l6056"><span class="linenum">6056</span></a>              }
<a name="l6057"><span class="linenum">6057</span></a>          },
<a name="l6058"><span class="linenum">6058</span></a>          resizable: true,
<a name="l6059"><span class="linenum">6059</span></a>          show: null,
<a name="l6060"><span class="linenum">6060</span></a>          stack: true,
<a name="l6061"><span class="linenum">6061</span></a>          title: '',
<a name="l6062"><span class="linenum">6062</span></a>          width: 300,
<a name="l6063"><span class="linenum">6063</span></a>          zIndex: 1000
<a name="l6064"><span class="linenum">6064</span></a>      },
<a name="l6065"><span class="linenum">6065</span></a>  
<a name="l6066"><span class="linenum">6066</span></a>      _create: function() {
<a name="l6067"><span class="linenum">6067</span></a>          this.originalTitle = this.element.attr('title');
<a name="l6068"><span class="linenum">6068</span></a>  <span class="comment">        // #5742 - .attr() might return a DOMElement</span>
<a name="l6069"><span class="linenum">6069</span></a>          if ( typeof this.originalTitle !== &quot;string&quot; ) {
<a name="l6070"><span class="linenum">6070</span></a>              this.originalTitle = &quot;&quot;;
<a name="l6071"><span class="linenum">6071</span></a>          }
<a name="l6072"><span class="linenum">6072</span></a>  
<a name="l6073"><span class="linenum">6073</span></a>          this.options.title = this.options.title || this.originalTitle;
<a name="l6074"><span class="linenum">6074</span></a>          var self = this,
<a name="l6075"><span class="linenum">6075</span></a>              options = self.options,
<a name="l6076"><span class="linenum">6076</span></a>  
<a name="l6077"><span class="linenum">6077</span></a>              title = options.title || '&amp;#160;',
<a name="l6078"><span class="linenum">6078</span></a>              titleId = $.ui.dialog.getTitleId(self.element),
<a name="l6079"><span class="linenum">6079</span></a>  
<a name="l6080"><span class="linenum">6080</span></a>              uiDialog = (self.uiDialog = $('&lt;div&gt;&lt;/div&gt;'))
<a name="l6081"><span class="linenum">6081</span></a>                  .appendTo(document.body)
<a name="l6082"><span class="linenum">6082</span></a>                  .hide()
<a name="l6083"><span class="linenum">6083</span></a>                  .addClass(uiDialogClasses + options.dialogClass)
<a name="l6084"><span class="linenum">6084</span></a>                  .css({
<a name="l6085"><span class="linenum">6085</span></a>                      zIndex: options.zIndex
<a name="l6086"><span class="linenum">6086</span></a>                  })
<a name="l6087"><span class="linenum">6087</span></a>  <span class="comment">                // setting tabIndex makes the div focusable</span>
<a name="l6088"><span class="linenum">6088</span></a>  <span class="comment">                // setting outline to 0 prevents a border on focus in Mozilla</span>
<a name="l6089"><span class="linenum">6089</span></a>                  .attr('tabIndex', -1).css('outline', 0).keydown(function(event) {
<a name="l6090"><span class="linenum">6090</span></a>                      if (options.closeOnEscape &amp;&amp; !event.isDefaultPrevented() &amp;&amp; event.keyCode &amp;&amp;
<a name="l6091"><span class="linenum">6091</span></a>                          event.keyCode === $.ui.keyCode.ESCAPE) {
<a name="l6092"><span class="linenum">6092</span></a>                          
<a name="l6093"><span class="linenum">6093</span></a>                          self.<a class="function" onClick="logFunction('close')" href="../../../../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>(event);
<a name="l6094"><span class="linenum">6094</span></a>                          event.preventDefault();
<a name="l6095"><span class="linenum">6095</span></a>                      }
<a name="l6096"><span class="linenum">6096</span></a>                  })
<a name="l6097"><span class="linenum">6097</span></a>                  .attr({
<a name="l6098"><span class="linenum">6098</span></a>                      role: 'dialog',
<a name="l6099"><span class="linenum">6099</span></a>                      'aria-labelledby': titleId
<a name="l6100"><span class="linenum">6100</span></a>                  })
<a name="l6101"><span class="linenum">6101</span></a>                  .mousedown(function(event) {
<a name="l6102"><span class="linenum">6102</span></a>                      self.moveToTop(false, event);
<a name="l6103"><span class="linenum">6103</span></a>                  }),
<a name="l6104"><span class="linenum">6104</span></a>  
<a name="l6105"><span class="linenum">6105</span></a>              uiDialogContent = self.element
<a name="l6106"><span class="linenum">6106</span></a>                  .show()
<a name="l6107"><span class="linenum">6107</span></a>                  .removeAttr('title')
<a name="l6108"><span class="linenum">6108</span></a>                  .addClass(
<a name="l6109"><span class="linenum">6109</span></a>                      'ui-dialog-content ' +
<a name="l6110"><span class="linenum">6110</span></a>                      'ui-widget-content')
<a name="l6111"><span class="linenum">6111</span></a>                  .appendTo(uiDialog),
<a name="l6112"><span class="linenum">6112</span></a>  
<a name="l6113"><span class="linenum">6113</span></a>              uiDialogTitlebar = (self.uiDialogTitlebar = $('&lt;div&gt;&lt;/div&gt;'))
<a name="l6114"><span class="linenum">6114</span></a>                  .addClass(
<a name="l6115"><span class="linenum">6115</span></a>                      'ui-dialog-titlebar ' +
<a name="l6116"><span class="linenum">6116</span></a>                      'ui-widget-header ' +
<a name="l6117"><span class="linenum">6117</span></a>                      'ui-corner-all ' +
<a name="l6118"><span class="linenum">6118</span></a>                      'ui-helper-clearfix'
<a name="l6119"><span class="linenum">6119</span></a>                  )
<a name="l6120"><span class="linenum">6120</span></a>                  .prependTo(uiDialog),
<a name="l6121"><span class="linenum">6121</span></a>  
<a name="l6122"><span class="linenum">6122</span></a>              uiDialogTitlebarClose = $('&lt;a href=&quot;#&quot;&gt;&lt;/a&gt;')
<a name="l6123"><span class="linenum">6123</span></a>                  .addClass(
<a name="l6124"><span class="linenum">6124</span></a>                      'ui-dialog-titlebar-close ' +
<a name="l6125"><span class="linenum">6125</span></a>                      'ui-corner-all'
<a name="l6126"><span class="linenum">6126</span></a>                  )
<a name="l6127"><span class="linenum">6127</span></a>                  .attr('role', 'button')
<a name="l6128"><span class="linenum">6128</span></a>                  .hover(
<a name="l6129"><span class="linenum">6129</span></a>                      function() {
<a name="l6130"><span class="linenum">6130</span></a>                          uiDialogTitlebarClose.addClass('ui-state-hover');
<a name="l6131"><span class="linenum">6131</span></a>                      },
<a name="l6132"><span class="linenum">6132</span></a>                      function() {
<a name="l6133"><span class="linenum">6133</span></a>                          uiDialogTitlebarClose.removeClass('ui-state-hover');
<a name="l6134"><span class="linenum">6134</span></a>                      }
<a name="l6135"><span class="linenum">6135</span></a>                  )
<a name="l6136"><span class="linenum">6136</span></a>                  .focus(function() {
<a name="l6137"><span class="linenum">6137</span></a>                      uiDialogTitlebarClose.addClass('ui-state-focus');
<a name="l6138"><span class="linenum">6138</span></a>                  })
<a name="l6139"><span class="linenum">6139</span></a>                  .blur(function() {
<a name="l6140"><span class="linenum">6140</span></a>                      uiDialogTitlebarClose.removeClass('ui-state-focus');
<a name="l6141"><span class="linenum">6141</span></a>                  })
<a name="l6142"><span class="linenum">6142</span></a>                  .click(function(event) {
<a name="l6143"><span class="linenum">6143</span></a>                      self.<a class="function" onClick="logFunction('close')" href="../../../../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>(event);
<a name="l6144"><span class="linenum">6144</span></a>                      return false;
<a name="l6145"><span class="linenum">6145</span></a>                  })
<a name="l6146"><span class="linenum">6146</span></a>                  .appendTo(uiDialogTitlebar),
<a name="l6147"><span class="linenum">6147</span></a>  
<a name="l6148"><span class="linenum">6148</span></a>              uiDialogTitlebarCloseText = (self.uiDialogTitlebarCloseText = $('&lt;span&gt;&lt;/span&gt;'))
<a name="l6149"><span class="linenum">6149</span></a>                  .addClass(
<a name="l6150"><span class="linenum">6150</span></a>                      'ui-icon ' +
<a name="l6151"><span class="linenum">6151</span></a>                      'ui-icon-closethick'
<a name="l6152"><span class="linenum">6152</span></a>                  )
<a name="l6153"><span class="linenum">6153</span></a>                  .<a class="function" onClick="logFunction('text')" href="../../../../_functions/text.html" onMouseOver="funcPopup(event,'text')">text</a>(options.closeText)
<a name="l6154"><span class="linenum">6154</span></a>                  .appendTo(uiDialogTitlebarClose),
<a name="l6155"><span class="linenum">6155</span></a>  
<a name="l6156"><span class="linenum">6156</span></a>              uiDialogTitle = $('&lt;span&gt;&lt;/span&gt;')
<a name="l6157"><span class="linenum">6157</span></a>                  .addClass('ui-dialog-title')
<a name="l6158"><span class="linenum">6158</span></a>                  .attr('id', titleId)
<a name="l6159"><span class="linenum">6159</span></a>                  .html(title)
<a name="l6160"><span class="linenum">6160</span></a>                  .prependTo(uiDialogTitlebar);
<a name="l6161"><span class="linenum">6161</span></a>  
<a name="l6162"><span class="linenum">6162</span></a>  <span class="comment">        //handling of deprecated beforeclose (vs beforeClose) option</span>
<a name="l6163"><span class="linenum">6163</span></a>  <span class="comment">        //Ticket #4669 http://dev.jqueryui.com/ticket/4669</span>
<a name="l6164"><span class="linenum">6164</span></a>  <span class="comment">        //TODO: remove in 1.9pre</span>
<a name="l6165"><span class="linenum">6165</span></a>          if ($.isFunction(options.beforeclose) &amp;&amp; !$.isFunction(options.beforeClose)) {
<a name="l6166"><span class="linenum">6166</span></a>              options.beforeClose = options.beforeclose;
<a name="l6167"><span class="linenum">6167</span></a>          }
<a name="l6168"><span class="linenum">6168</span></a>  
<a name="l6169"><span class="linenum">6169</span></a>          uiDialogTitlebar.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>(&quot;*&quot;).<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(uiDialogTitlebar).disableSelection();
<a name="l6170"><span class="linenum">6170</span></a>  
<a name="l6171"><span class="linenum">6171</span></a>          if (options.draggable &amp;&amp; $.fn.draggable) {
<a name="l6172"><span class="linenum">6172</span></a>              self._makeDraggable();
<a name="l6173"><span class="linenum">6173</span></a>          }
<a name="l6174"><span class="linenum">6174</span></a>          if (options.resizable &amp;&amp; $.fn.resizable) {
<a name="l6175"><span class="linenum">6175</span></a>              self._makeResizable();
<a name="l6176"><span class="linenum">6176</span></a>          }
<a name="l6177"><span class="linenum">6177</span></a>  
<a name="l6178"><span class="linenum">6178</span></a>          self._createButtons(options.buttons);
<a name="l6179"><span class="linenum">6179</span></a>          self._isOpen = false;
<a name="l6180"><span class="linenum">6180</span></a>  
<a name="l6181"><span class="linenum">6181</span></a>          if ($.fn.bgiframe) {
<a name="l6182"><span class="linenum">6182</span></a>              uiDialog.bgiframe();
<a name="l6183"><span class="linenum">6183</span></a>          }
<a name="l6184"><span class="linenum">6184</span></a>      },
<a name="l6185"><span class="linenum">6185</span></a>  
<a name="l6186"><span class="linenum">6186</span></a>      _init: function() {
<a name="l6187"><span class="linenum">6187</span></a>          if ( this.options.autoOpen ) {
<a name="l6188"><span class="linenum">6188</span></a>              this.<a class="function" onClick="logFunction('open')" href="../../../../_functions/open.html" onMouseOver="funcPopup(event,'open')">open</a>();
<a name="l6189"><span class="linenum">6189</span></a>          }
<a name="l6190"><span class="linenum">6190</span></a>      },
<a name="l6191"><span class="linenum">6191</span></a>  
<a name="l6192"><span class="linenum">6192</span></a>      destroy: function() {
<a name="l6193"><span class="linenum">6193</span></a>          var self = this;
<a name="l6194"><span class="linenum">6194</span></a>          
<a name="l6195"><span class="linenum">6195</span></a>          if (self.overlay) {
<a name="l6196"><span class="linenum">6196</span></a>              self.overlay.destroy();
<a name="l6197"><span class="linenum">6197</span></a>          }
<a name="l6198"><span class="linenum">6198</span></a>          self.uiDialog.hide();
<a name="l6199"><span class="linenum">6199</span></a>          self.element
<a name="l6200"><span class="linenum">6200</span></a>              .unbind('.dialog')
<a name="l6201"><span class="linenum">6201</span></a>              .removeData('dialog')
<a name="l6202"><span class="linenum">6202</span></a>              .removeClass('ui-dialog-content ui-widget-content')
<a name="l6203"><span class="linenum">6203</span></a>              .hide().appendTo('body');
<a name="l6204"><span class="linenum">6204</span></a>          self.uiDialog.<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>();
<a name="l6205"><span class="linenum">6205</span></a>  
<a name="l6206"><span class="linenum">6206</span></a>          if (self.originalTitle) {
<a name="l6207"><span class="linenum">6207</span></a>              self.element.attr('title', self.originalTitle);
<a name="l6208"><span class="linenum">6208</span></a>          }
<a name="l6209"><span class="linenum">6209</span></a>  
<a name="l6210"><span class="linenum">6210</span></a>          return self;
<a name="l6211"><span class="linenum">6211</span></a>      },
<a name="l6212"><span class="linenum">6212</span></a>  
<a name="l6213"><span class="linenum">6213</span></a>      widget: function() {
<a name="l6214"><span class="linenum">6214</span></a>          return this.uiDialog;
<a name="l6215"><span class="linenum">6215</span></a>      },
<a name="l6216"><span class="linenum">6216</span></a>  
<a name="l6217"><span class="linenum">6217</span></a>      close: function(event) {
<a name="l6218"><span class="linenum">6218</span></a>          var self = this,
<a name="l6219"><span class="linenum">6219</span></a>              maxZ, thisZ;
<a name="l6220"><span class="linenum">6220</span></a>          
<a name="l6221"><span class="linenum">6221</span></a>          if (false === self._trigger('beforeClose', event)) {
<a name="l6222"><span class="linenum">6222</span></a>              return;
<a name="l6223"><span class="linenum">6223</span></a>          }
<a name="l6224"><span class="linenum">6224</span></a>  
<a name="l6225"><span class="linenum">6225</span></a>          if (self.overlay) {
<a name="l6226"><span class="linenum">6226</span></a>              self.overlay.destroy();
<a name="l6227"><span class="linenum">6227</span></a>          }
<a name="l6228"><span class="linenum">6228</span></a>          self.uiDialog.unbind('keypress.ui-dialog');
<a name="l6229"><span class="linenum">6229</span></a>  
<a name="l6230"><span class="linenum">6230</span></a>          self._isOpen = false;
<a name="l6231"><span class="linenum">6231</span></a>  
<a name="l6232"><span class="linenum">6232</span></a>          if (self.options.hide) {
<a name="l6233"><span class="linenum">6233</span></a>              self.uiDialog.hide(self.options.hide, function() {
<a name="l6234"><span class="linenum">6234</span></a>                  self._trigger('close', event);
<a name="l6235"><span class="linenum">6235</span></a>              });
<a name="l6236"><span class="linenum">6236</span></a>          } else {
<a name="l6237"><span class="linenum">6237</span></a>              self.uiDialog.hide();
<a name="l6238"><span class="linenum">6238</span></a>              self._trigger('close', event);
<a name="l6239"><span class="linenum">6239</span></a>          }
<a name="l6240"><span class="linenum">6240</span></a>  
<a name="l6241"><span class="linenum">6241</span></a>          $.ui.dialog.overlay.resize();
<a name="l6242"><span class="linenum">6242</span></a>  
<a name="l6243"><span class="linenum">6243</span></a>  <span class="comment">        // adjust the maxZ to allow other modal dialogs to continue to work (see #4309)</span>
<a name="l6244"><span class="linenum">6244</span></a>          if (self.options.modal) {
<a name="l6245"><span class="linenum">6245</span></a>              maxZ = 0;
<a name="l6246"><span class="linenum">6246</span></a>              $('.ui-dialog').<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l6247"><span class="linenum">6247</span></a>                  if (this !== self.uiDialog[0]) {
<a name="l6248"><span class="linenum">6248</span></a>                      thisZ = $(this).css('z-index');
<a name="l6249"><span class="linenum">6249</span></a>                      if(!isNaN(thisZ)) {
<a name="l6250"><span class="linenum">6250</span></a>                          maxZ = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(maxZ, thisZ);
<a name="l6251"><span class="linenum">6251</span></a>                      }
<a name="l6252"><span class="linenum">6252</span></a>                  }
<a name="l6253"><span class="linenum">6253</span></a>              });
<a name="l6254"><span class="linenum">6254</span></a>              $.ui.dialog.maxZ = maxZ;
<a name="l6255"><span class="linenum">6255</span></a>          }
<a name="l6256"><span class="linenum">6256</span></a>  
<a name="l6257"><span class="linenum">6257</span></a>          return self;
<a name="l6258"><span class="linenum">6258</span></a>      },
<a name="l6259"><span class="linenum">6259</span></a>  
<a name="l6260"><span class="linenum">6260</span></a>      isOpen: function() {
<a name="l6261"><span class="linenum">6261</span></a>          return this._isOpen;
<a name="l6262"><span class="linenum">6262</span></a>      },
<a name="l6263"><span class="linenum">6263</span></a>  
<a name="l6264"><span class="linenum">6264</span></a>  <span class="comment">    // the force parameter allows us to move modal dialogs to their correct</span>
<a name="l6265"><span class="linenum">6265</span></a>  <span class="comment">    // position on open</span>
<a name="l6266"><span class="linenum">6266</span></a>      moveToTop: function(force, event) {
<a name="l6267"><span class="linenum">6267</span></a>          var self = this,
<a name="l6268"><span class="linenum">6268</span></a>              options = self.options,
<a name="l6269"><span class="linenum">6269</span></a>              saveScroll;
<a name="l6270"><span class="linenum">6270</span></a>  
<a name="l6271"><span class="linenum">6271</span></a>          if ((options.modal &amp;&amp; !force) ||
<a name="l6272"><span class="linenum">6272</span></a>              (!options.stack &amp;&amp; !options.modal)) {
<a name="l6273"><span class="linenum">6273</span></a>              return self._trigger('focus', event);
<a name="l6274"><span class="linenum">6274</span></a>          }
<a name="l6275"><span class="linenum">6275</span></a>  
<a name="l6276"><span class="linenum">6276</span></a>          if (options.zIndex &gt; $.ui.dialog.maxZ) {
<a name="l6277"><span class="linenum">6277</span></a>              $.ui.dialog.maxZ = options.zIndex;
<a name="l6278"><span class="linenum">6278</span></a>          }
<a name="l6279"><span class="linenum">6279</span></a>          if (self.overlay) {
<a name="l6280"><span class="linenum">6280</span></a>              $.ui.dialog.maxZ += 1;
<a name="l6281"><span class="linenum">6281</span></a>              self.overlay.<a class="var it1595" onMouseOver="hilite(1595)" onMouseOut="lolite()" onClick="logVariable('el')" href="../../../../_variables/el.html">$el</a>.css('z-index', $.ui.dialog.overlay.maxZ = $.ui.dialog.maxZ);
<a name="l6282"><span class="linenum">6282</span></a>          }
<a name="l6283"><span class="linenum">6283</span></a>  
<a name="l6284"><span class="linenum">6284</span></a>  <span class="comment">        //Save and then restore scroll since Opera 9.5+ resets when parent z-Index is changed.</span>
<a name="l6285"><span class="linenum">6285</span></a>  <span class="comment">        //  http://ui.jquery.com/bugs/ticket/3193</span>
<a name="l6286"><span class="linenum">6286</span></a>          saveScroll = { scrollTop: self.element.scrollTop(), scrollLeft: self.element.scrollLeft() };
<a name="l6287"><span class="linenum">6287</span></a>          $.ui.dialog.maxZ += 1;
<a name="l6288"><span class="linenum">6288</span></a>          self.uiDialog.css('z-index', $.ui.dialog.maxZ);
<a name="l6289"><span class="linenum">6289</span></a>          self.element.attr(saveScroll);
<a name="l6290"><span class="linenum">6290</span></a>          self._trigger('focus', event);
<a name="l6291"><span class="linenum">6291</span></a>  
<a name="l6292"><span class="linenum">6292</span></a>          return self;
<a name="l6293"><span class="linenum">6293</span></a>      },
<a name="l6294"><span class="linenum">6294</span></a>  
<a name="l6295"><span class="linenum">6295</span></a>      open: function() {
<a name="l6296"><span class="linenum">6296</span></a>          if (this._isOpen) { return; }
<a name="l6297"><span class="linenum">6297</span></a>  
<a name="l6298"><span class="linenum">6298</span></a>          var self = this,
<a name="l6299"><span class="linenum">6299</span></a>              options = self.options,
<a name="l6300"><span class="linenum">6300</span></a>              uiDialog = self.uiDialog;
<a name="l6301"><span class="linenum">6301</span></a>  
<a name="l6302"><span class="linenum">6302</span></a>          self.overlay = options.modal ? new $.ui.dialog.overlay(self) : null;
<a name="l6303"><span class="linenum">6303</span></a>          self._size();
<a name="l6304"><span class="linenum">6304</span></a>          self._position(options.position);
<a name="l6305"><span class="linenum">6305</span></a>          uiDialog.show(options.show);
<a name="l6306"><span class="linenum">6306</span></a>          self.moveToTop(true);
<a name="l6307"><span class="linenum">6307</span></a>  
<a name="l6308"><span class="linenum">6308</span></a>  <span class="comment">        // prevent tabbing out of modal dialogs</span>
<a name="l6309"><span class="linenum">6309</span></a>          if ( options.modal ) {
<a name="l6310"><span class="linenum">6310</span></a>              uiDialog.bind( &quot;keydown.ui-dialog&quot;, function( event ) {
<a name="l6311"><span class="linenum">6311</span></a>                  if ( event.keyCode !== $.ui.keyCode.TAB ) {
<a name="l6312"><span class="linenum">6312</span></a>                      return;
<a name="l6313"><span class="linenum">6313</span></a>                  }
<a name="l6314"><span class="linenum">6314</span></a>  
<a name="l6315"><span class="linenum">6315</span></a>                  var tabbables = $(':tabbable', this),
<a name="l6316"><span class="linenum">6316</span></a>                      first = tabbables.filter(':first'),
<a name="l6317"><span class="linenum">6317</span></a>                      last  = tabbables.filter(':last');
<a name="l6318"><span class="linenum">6318</span></a>  
<a name="l6319"><span class="linenum">6319</span></a>                  if (event.target === last[0] &amp;&amp; !event.shiftKey) {
<a name="l6320"><span class="linenum">6320</span></a>                      first.focus(1);
<a name="l6321"><span class="linenum">6321</span></a>                      return false;
<a name="l6322"><span class="linenum">6322</span></a>                  } else if (event.target === first[0] &amp;&amp; event.shiftKey) {
<a name="l6323"><span class="linenum">6323</span></a>                      last.focus(1);
<a name="l6324"><span class="linenum">6324</span></a>                      return false;
<a name="l6325"><span class="linenum">6325</span></a>                  }
<a name="l6326"><span class="linenum">6326</span></a>              });
<a name="l6327"><span class="linenum">6327</span></a>          }
<a name="l6328"><span class="linenum">6328</span></a>  
<a name="l6329"><span class="linenum">6329</span></a>  <span class="comment">        // set focus to the first tabbable element in the content area or the first button</span>
<a name="l6330"><span class="linenum">6330</span></a>  <span class="comment">        // if there are no tabbable elements, set focus on the dialog itself</span>
<a name="l6331"><span class="linenum">6331</span></a>          $(self.element.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>(':tabbable').<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>().concat(
<a name="l6332"><span class="linenum">6332</span></a>              uiDialog.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>('.ui-dialog-buttonpane :tabbable').<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>().concat(
<a name="l6333"><span class="linenum">6333</span></a>                  uiDialog.<a class="function" onClick="logFunction('get')" href="../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>()))).eq(0).focus();
<a name="l6334"><span class="linenum">6334</span></a>  
<a name="l6335"><span class="linenum">6335</span></a>          self._isOpen = true;
<a name="l6336"><span class="linenum">6336</span></a>          self._trigger('open');
<a name="l6337"><span class="linenum">6337</span></a>  
<a name="l6338"><span class="linenum">6338</span></a>          return self;
<a name="l6339"><span class="linenum">6339</span></a>      },
<a name="l6340"><span class="linenum">6340</span></a>  
<a name="l6341"><span class="linenum">6341</span></a>      _createButtons: function(buttons) {
<a name="l6342"><span class="linenum">6342</span></a>          var self = this,
<a name="l6343"><span class="linenum">6343</span></a>              hasButtons = false,
<a name="l6344"><span class="linenum">6344</span></a>              uiDialogButtonPane = $('&lt;div&gt;&lt;/div&gt;')
<a name="l6345"><span class="linenum">6345</span></a>                  .addClass(
<a name="l6346"><span class="linenum">6346</span></a>                      'ui-dialog-buttonpane ' +
<a name="l6347"><span class="linenum">6347</span></a>                      'ui-widget-content ' +
<a name="l6348"><span class="linenum">6348</span></a>                      'ui-helper-clearfix'
<a name="l6349"><span class="linenum">6349</span></a>                  ),
<a name="l6350"><span class="linenum">6350</span></a>              uiButtonSet = $( &quot;&lt;div&gt;&lt;/div&gt;&quot; )
<a name="l6351"><span class="linenum">6351</span></a>                  .addClass( &quot;ui-dialog-buttonset&quot; )
<a name="l6352"><span class="linenum">6352</span></a>                  .appendTo( uiDialogButtonPane );
<a name="l6353"><span class="linenum">6353</span></a>  
<a name="l6354"><span class="linenum">6354</span></a>  <span class="comment">        // if we already have a button pane, remove it</span>
<a name="l6355"><span class="linenum">6355</span></a>          self.uiDialog.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>('.ui-dialog-buttonpane').<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>();
<a name="l6356"><span class="linenum">6356</span></a>  
<a name="l6357"><span class="linenum">6357</span></a>          if (typeof buttons === 'object' &amp;&amp; buttons !== null) {
<a name="l6358"><span class="linenum">6358</span></a>              $.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(buttons, function() {
<a name="l6359"><span class="linenum">6359</span></a>                  return !(hasButtons = true);
<a name="l6360"><span class="linenum">6360</span></a>              });
<a name="l6361"><span class="linenum">6361</span></a>          }
<a name="l6362"><span class="linenum">6362</span></a>          if (hasButtons) {
<a name="l6363"><span class="linenum">6363</span></a>              $.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(buttons, function(name, props) {
<a name="l6364"><span class="linenum">6364</span></a>                  props = $.isFunction( props ) ?
<a name="l6365"><span class="linenum">6365</span></a>                      { click: props, text: name } :
<a name="l6366"><span class="linenum">6366</span></a>                      props;
<a name="l6367"><span class="linenum">6367</span></a>                  var button = $('&lt;button type=&quot;button&quot;&gt;&lt;/button&gt;')
<a name="l6368"><span class="linenum">6368</span></a>                      .click(function() {
<a name="l6369"><span class="linenum">6369</span></a>                          props.click.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(self.element[0], arguments);
<a name="l6370"><span class="linenum">6370</span></a>                      })
<a name="l6371"><span class="linenum">6371</span></a>                      .appendTo(uiButtonSet);
<a name="l6372"><span class="linenum">6372</span></a>  <span class="comment">                // can't use .attr( props, true ) with jQuery 1.3.2.</span>
<a name="l6373"><span class="linenum">6373</span></a>                  $.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>( props, function( key, value ) {
<a name="l6374"><span class="linenum">6374</span></a>                      if ( key === &quot;click&quot; ) {
<a name="l6375"><span class="linenum">6375</span></a>                          return;
<a name="l6376"><span class="linenum">6376</span></a>                      }
<a name="l6377"><span class="linenum">6377</span></a>                      if ( key in attrFn ) {
<a name="l6378"><span class="linenum">6378</span></a>                          button[ key ]( value );
<a name="l6379"><span class="linenum">6379</span></a>                      } else {
<a name="l6380"><span class="linenum">6380</span></a>                          button.attr( key, value );
<a name="l6381"><span class="linenum">6381</span></a>                      }
<a name="l6382"><span class="linenum">6382</span></a>                  });
<a name="l6383"><span class="linenum">6383</span></a>                  if ($.fn.button) {
<a name="l6384"><span class="linenum">6384</span></a>                      button.<a class="function" onClick="logFunction('button')" href="../../../../_functions/button.html" onMouseOver="funcPopup(event,'button')">button</a>();
<a name="l6385"><span class="linenum">6385</span></a>                  }
<a name="l6386"><span class="linenum">6386</span></a>              });
<a name="l6387"><span class="linenum">6387</span></a>              uiDialogButtonPane.appendTo(self.uiDialog);
<a name="l6388"><span class="linenum">6388</span></a>          }
<a name="l6389"><span class="linenum">6389</span></a>      },
<a name="l6390"><span class="linenum">6390</span></a>  
<a name="l6391"><span class="linenum">6391</span></a>      _makeDraggable: function() {
<a name="l6392"><span class="linenum">6392</span></a>          var self = this,
<a name="l6393"><span class="linenum">6393</span></a>              options = self.options,
<a name="l6394"><span class="linenum">6394</span></a>              doc = $(document),
<a name="l6395"><span class="linenum">6395</span></a>              heightBeforeDrag;
<a name="l6396"><span class="linenum">6396</span></a>  
<a name="l6397"><span class="linenum">6397</span></a>  		function <a class="function" onClick="logFunction('filteredUi')" href="../../../../_functions/filteredui.html" onMouseOver="funcPopup(event,'filteredui')">filteredUi</a>(ui) {
<a name="l6398"><span class="linenum">6398</span></a>              return {
<a name="l6399"><span class="linenum">6399</span></a>                  position: ui.position,
<a name="l6400"><span class="linenum">6400</span></a>                  offset: ui.offset
<a name="l6401"><span class="linenum">6401</span></a>              };
<a name="l6402"><span class="linenum">6402</span></a>          }
<a name="l6403"><span class="linenum">6403</span></a>  
<a name="l6404"><span class="linenum">6404</span></a>          self.uiDialog.draggable({
<a name="l6405"><span class="linenum">6405</span></a>              cancel: '.ui-dialog-content, .ui-dialog-titlebar-close',
<a name="l6406"><span class="linenum">6406</span></a>              handle: '.ui-dialog-titlebar',
<a name="l6407"><span class="linenum">6407</span></a>              containment: 'document',
<a name="l6408"><span class="linenum">6408</span></a>              start: function(event, ui) {
<a name="l6409"><span class="linenum">6409</span></a>                  heightBeforeDrag = options.height === &quot;auto&quot; ? &quot;auto&quot; : $(this).height();
<a name="l6410"><span class="linenum">6410</span></a>                  $(this).height($(this).height()).addClass(&quot;ui-dialog-dragging&quot;);
<a name="l6411"><span class="linenum">6411</span></a>                  self._trigger('dragStart', event, <a class="function" onClick="logFunction('filteredUi')" href="../../../../_functions/filteredui.html" onMouseOver="funcPopup(event,'filteredui')">filteredUi</a>(ui));
<a name="l6412"><span class="linenum">6412</span></a>              },
<a name="l6413"><span class="linenum">6413</span></a>              drag: function(event, ui) {
<a name="l6414"><span class="linenum">6414</span></a>                  self._trigger('drag', event, <a class="function" onClick="logFunction('filteredUi')" href="../../../../_functions/filteredui.html" onMouseOver="funcPopup(event,'filteredui')">filteredUi</a>(ui));
<a name="l6415"><span class="linenum">6415</span></a>              },
<a name="l6416"><span class="linenum">6416</span></a>              stop: function(event, ui) {
<a name="l6417"><span class="linenum">6417</span></a>                  options.position = [ui.position.left - doc.scrollLeft(),
<a name="l6418"><span class="linenum">6418</span></a>                      ui.position.top - doc.scrollTop()];
<a name="l6419"><span class="linenum">6419</span></a>                  $(this).removeClass(&quot;ui-dialog-dragging&quot;).height(heightBeforeDrag);
<a name="l6420"><span class="linenum">6420</span></a>                  self._trigger('dragStop', event, <a class="function" onClick="logFunction('filteredUi')" href="../../../../_functions/filteredui.html" onMouseOver="funcPopup(event,'filteredui')">filteredUi</a>(ui));
<a name="l6421"><span class="linenum">6421</span></a>                  $.ui.dialog.overlay.resize();
<a name="l6422"><span class="linenum">6422</span></a>              }
<a name="l6423"><span class="linenum">6423</span></a>          });
<a name="l6424"><span class="linenum">6424</span></a>      },
<a name="l6425"><span class="linenum">6425</span></a>  
<a name="l6426"><span class="linenum">6426</span></a>      _makeResizable: function(handles) {
<a name="l6427"><span class="linenum">6427</span></a>          handles = (handles === undefined ? this.options.resizable : handles);
<a name="l6428"><span class="linenum">6428</span></a>          var self = this,
<a name="l6429"><span class="linenum">6429</span></a>              options = self.options,
<a name="l6430"><span class="linenum">6430</span></a>  <span class="comment">            // .ui-resizable has position: relative defined in the stylesheet</span>
<a name="l6431"><span class="linenum">6431</span></a>  <span class="comment">            // but dialogs have to use absolute or fixed positioning</span>
<a name="l6432"><span class="linenum">6432</span></a>              position = self.uiDialog.css('position'),
<a name="l6433"><span class="linenum">6433</span></a>              resizeHandles = (typeof handles === 'string' ?
<a name="l6434"><span class="linenum">6434</span></a>                  handles    :
<a name="l6435"><span class="linenum">6435</span></a>                  'n,e,s,w,se,sw,ne,nw'
<a name="l6436"><span class="linenum">6436</span></a>              );
<a name="l6437"><span class="linenum">6437</span></a>  
<a name="l6438"><span class="linenum">6438</span></a>  		function <a class="function" onClick="logFunction('filteredUi')" href="../../../../_functions/filteredui.html" onMouseOver="funcPopup(event,'filteredui')">filteredUi</a>(ui) {
<a name="l6439"><span class="linenum">6439</span></a>              return {
<a name="l6440"><span class="linenum">6440</span></a>                  originalPosition: ui.originalPosition,
<a name="l6441"><span class="linenum">6441</span></a>                  originalSize: ui.originalSize,
<a name="l6442"><span class="linenum">6442</span></a>                  position: ui.position,
<a name="l6443"><span class="linenum">6443</span></a>                  size: ui.size
<a name="l6444"><span class="linenum">6444</span></a>              };
<a name="l6445"><span class="linenum">6445</span></a>          }
<a name="l6446"><span class="linenum">6446</span></a>  
<a name="l6447"><span class="linenum">6447</span></a>          self.uiDialog.resizable({
<a name="l6448"><span class="linenum">6448</span></a>              cancel: '.ui-dialog-content',
<a name="l6449"><span class="linenum">6449</span></a>              containment: 'document',
<a name="l6450"><span class="linenum">6450</span></a>              alsoResize: self.element,
<a name="l6451"><span class="linenum">6451</span></a>              maxWidth: options.maxWidth,
<a name="l6452"><span class="linenum">6452</span></a>              maxHeight: options.maxHeight,
<a name="l6453"><span class="linenum">6453</span></a>              minWidth: options.minWidth,
<a name="l6454"><span class="linenum">6454</span></a>              minHeight: self._minHeight(),
<a name="l6455"><span class="linenum">6455</span></a>              handles: resizeHandles,
<a name="l6456"><span class="linenum">6456</span></a>              start: function(event, ui) {
<a name="l6457"><span class="linenum">6457</span></a>                  $(this).addClass(&quot;ui-dialog-resizing&quot;);
<a name="l6458"><span class="linenum">6458</span></a>                  self._trigger('resizeStart', event, <a class="function" onClick="logFunction('filteredUi')" href="../../../../_functions/filteredui.html" onMouseOver="funcPopup(event,'filteredui')">filteredUi</a>(ui));
<a name="l6459"><span class="linenum">6459</span></a>              },
<a name="l6460"><span class="linenum">6460</span></a>              resize: function(event, ui) {
<a name="l6461"><span class="linenum">6461</span></a>                  self._trigger('resize', event, <a class="function" onClick="logFunction('filteredUi')" href="../../../../_functions/filteredui.html" onMouseOver="funcPopup(event,'filteredui')">filteredUi</a>(ui));
<a name="l6462"><span class="linenum">6462</span></a>              },
<a name="l6463"><span class="linenum">6463</span></a>              stop: function(event, ui) {
<a name="l6464"><span class="linenum">6464</span></a>                  $(this).removeClass(&quot;ui-dialog-resizing&quot;);
<a name="l6465"><span class="linenum">6465</span></a>                  options.height = $(this).height();
<a name="l6466"><span class="linenum">6466</span></a>                  options.width = $(this).width();
<a name="l6467"><span class="linenum">6467</span></a>                  self._trigger('resizeStop', event, <a class="function" onClick="logFunction('filteredUi')" href="../../../../_functions/filteredui.html" onMouseOver="funcPopup(event,'filteredui')">filteredUi</a>(ui));
<a name="l6468"><span class="linenum">6468</span></a>                  $.ui.dialog.overlay.resize();
<a name="l6469"><span class="linenum">6469</span></a>              }
<a name="l6470"><span class="linenum">6470</span></a>          })
<a name="l6471"><span class="linenum">6471</span></a>          .css('position', position)
<a name="l6472"><span class="linenum">6472</span></a>          .<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>('.ui-resizable-se').addClass('ui-icon ui-icon-grip-diagonal-se');
<a name="l6473"><span class="linenum">6473</span></a>      },
<a name="l6474"><span class="linenum">6474</span></a>  
<a name="l6475"><span class="linenum">6475</span></a>      _minHeight: function() {
<a name="l6476"><span class="linenum">6476</span></a>          var options = this.options;
<a name="l6477"><span class="linenum">6477</span></a>  
<a name="l6478"><span class="linenum">6478</span></a>          if (options.height === 'auto') {
<a name="l6479"><span class="linenum">6479</span></a>              return options.minHeight;
<a name="l6480"><span class="linenum">6480</span></a>          } else {
<a name="l6481"><span class="linenum">6481</span></a>              return Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(options.minHeight, options.height);
<a name="l6482"><span class="linenum">6482</span></a>          }
<a name="l6483"><span class="linenum">6483</span></a>      },
<a name="l6484"><span class="linenum">6484</span></a>  
<a name="l6485"><span class="linenum">6485</span></a>      _position: function(position) {
<a name="l6486"><span class="linenum">6486</span></a>          var myAt = [],
<a name="l6487"><span class="linenum">6487</span></a>              offset = [0, 0],
<a name="l6488"><span class="linenum">6488</span></a>              isVisible;
<a name="l6489"><span class="linenum">6489</span></a>  
<a name="l6490"><span class="linenum">6490</span></a>          if (position) {
<a name="l6491"><span class="linenum">6491</span></a>  <span class="comment">            // deep extending converts arrays to objects in jQuery &lt;= 1.3.2 :-(</span>
<a name="l6492"><span class="linenum">6492</span></a>  <span class="comment">    //        if (typeof position == 'string' || $.isArray(position)) {</span>
<a name="l6493"><span class="linenum">6493</span></a>  <span class="comment">    //            myAt = $.isArray(position) ? position : position.split(' ');</span>
<a name="l6494"><span class="linenum">6494</span></a>  
<a name="l6495"><span class="linenum">6495</span></a>              if (typeof position === 'string' || (typeof position === 'object' &amp;&amp; '0' in position)) {
<a name="l6496"><span class="linenum">6496</span></a>                  myAt = position.split ? position.<a class="phpfunction" onClick="logFunction('split')" href="../../../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>(' ') : [position[0], position[1]];
<a name="l6497"><span class="linenum">6497</span></a>                  if (myAt.length === 1) {
<a name="l6498"><span class="linenum">6498</span></a>                      myAt[1] = myAt[0];
<a name="l6499"><span class="linenum">6499</span></a>                  }
<a name="l6500"><span class="linenum">6500</span></a>  
<a name="l6501"><span class="linenum">6501</span></a>                  $.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(['left', 'top'], function(i, offsetPosition) {
<a name="l6502"><span class="linenum">6502</span></a>                      if (+myAt[i] === myAt[i]) {
<a name="l6503"><span class="linenum">6503</span></a>                          offset[i] = myAt[i];
<a name="l6504"><span class="linenum">6504</span></a>                          myAt[i] = offsetPosition;
<a name="l6505"><span class="linenum">6505</span></a>                      }
<a name="l6506"><span class="linenum">6506</span></a>                  });
<a name="l6507"><span class="linenum">6507</span></a>  
<a name="l6508"><span class="linenum">6508</span></a>                  position = {
<a name="l6509"><span class="linenum">6509</span></a>                      my: myAt.join(&quot; &quot;),
<a name="l6510"><span class="linenum">6510</span></a>                      at: myAt.join(&quot; &quot;),
<a name="l6511"><span class="linenum">6511</span></a>                      offset: offset.join(&quot; &quot;)
<a name="l6512"><span class="linenum">6512</span></a>                  };
<a name="l6513"><span class="linenum">6513</span></a>              } 
<a name="l6514"><span class="linenum">6514</span></a>  
<a name="l6515"><span class="linenum">6515</span></a>              position = $.extend({}, $.ui.dialog.prototype.options.position, position);
<a name="l6516"><span class="linenum">6516</span></a>          } else {
<a name="l6517"><span class="linenum">6517</span></a>              position = $.ui.dialog.prototype.options.position;
<a name="l6518"><span class="linenum">6518</span></a>          }
<a name="l6519"><span class="linenum">6519</span></a>  
<a name="l6520"><span class="linenum">6520</span></a>  <span class="comment">        // need to show the dialog to get the actual offset in the position plugin</span>
<a name="l6521"><span class="linenum">6521</span></a>          isVisible = this.uiDialog.is(':visible');
<a name="l6522"><span class="linenum">6522</span></a>          if (!isVisible) {
<a name="l6523"><span class="linenum">6523</span></a>              this.uiDialog.show();
<a name="l6524"><span class="linenum">6524</span></a>          }
<a name="l6525"><span class="linenum">6525</span></a>          this.uiDialog
<a name="l6526"><span class="linenum">6526</span></a>  <span class="comment">            // workaround for jQuery bug #5781 http://dev.jquery.com/ticket/5781</span>
<a name="l6527"><span class="linenum">6527</span></a>              .css({ top: 0, left: 0 })
<a name="l6528"><span class="linenum">6528</span></a>              .position($.extend({ of: window }, position));
<a name="l6529"><span class="linenum">6529</span></a>          if (!isVisible) {
<a name="l6530"><span class="linenum">6530</span></a>              this.uiDialog.hide();
<a name="l6531"><span class="linenum">6531</span></a>          }
<a name="l6532"><span class="linenum">6532</span></a>      },
<a name="l6533"><span class="linenum">6533</span></a>  
<a name="l6534"><span class="linenum">6534</span></a>      _setOptions: function( options ) {
<a name="l6535"><span class="linenum">6535</span></a>          var self = this,
<a name="l6536"><span class="linenum">6536</span></a>              resizableOptions = {},
<a name="l6537"><span class="linenum">6537</span></a>              resize = false;
<a name="l6538"><span class="linenum">6538</span></a>  
<a name="l6539"><span class="linenum">6539</span></a>          $.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>( options, function( key, value ) {
<a name="l6540"><span class="linenum">6540</span></a>              self._setOption( key, value );
<a name="l6541"><span class="linenum">6541</span></a>              
<a name="l6542"><span class="linenum">6542</span></a>              if ( key in sizeRelatedOptions ) {
<a name="l6543"><span class="linenum">6543</span></a>                  resize = true;
<a name="l6544"><span class="linenum">6544</span></a>              }
<a name="l6545"><span class="linenum">6545</span></a>              if ( key in resizableRelatedOptions ) {
<a name="l6546"><span class="linenum">6546</span></a>                  resizableOptions[ key ] = value;
<a name="l6547"><span class="linenum">6547</span></a>              }
<a name="l6548"><span class="linenum">6548</span></a>          });
<a name="l6549"><span class="linenum">6549</span></a>  
<a name="l6550"><span class="linenum">6550</span></a>          if ( resize ) {
<a name="l6551"><span class="linenum">6551</span></a>              this._size();
<a name="l6552"><span class="linenum">6552</span></a>          }
<a name="l6553"><span class="linenum">6553</span></a>          if ( this.uiDialog.is( &quot;:data(resizable)&quot; ) ) {
<a name="l6554"><span class="linenum">6554</span></a>              this.uiDialog.resizable( &quot;option&quot;, resizableOptions );
<a name="l6555"><span class="linenum">6555</span></a>          }
<a name="l6556"><span class="linenum">6556</span></a>      },
<a name="l6557"><span class="linenum">6557</span></a>  
<a name="l6558"><span class="linenum">6558</span></a>      _setOption: function(key, value){
<a name="l6559"><span class="linenum">6559</span></a>          var self = this,
<a name="l6560"><span class="linenum">6560</span></a>              uiDialog = self.uiDialog;
<a name="l6561"><span class="linenum">6561</span></a>  
<a name="l6562"><span class="linenum">6562</span></a>          switch (key) {
<a name="l6563"><span class="linenum">6563</span></a>  <span class="comment">            //handling of deprecated beforeclose (vs beforeClose) option</span>
<a name="l6564"><span class="linenum">6564</span></a>  <span class="comment">            //Ticket #4669 http://dev.jqueryui.com/ticket/4669</span>
<a name="l6565"><span class="linenum">6565</span></a>  <span class="comment">            //TODO: remove in 1.9pre</span>
<a name="l6566"><span class="linenum">6566</span></a>              case &quot;beforeclose&quot;:
<a name="l6567"><span class="linenum">6567</span></a>                  key = &quot;beforeClose&quot;;
<a name="l6568"><span class="linenum">6568</span></a>                  break;
<a name="l6569"><span class="linenum">6569</span></a>              case &quot;buttons&quot;:
<a name="l6570"><span class="linenum">6570</span></a>                  self._createButtons(value);
<a name="l6571"><span class="linenum">6571</span></a>                  break;
<a name="l6572"><span class="linenum">6572</span></a>              case &quot;closeText&quot;:
<a name="l6573"><span class="linenum">6573</span></a>  <span class="comment">                // ensure that we always pass a string</span>
<a name="l6574"><span class="linenum">6574</span></a>                  self.uiDialogTitlebarCloseText.<a class="function" onClick="logFunction('text')" href="../../../../_functions/text.html" onMouseOver="funcPopup(event,'text')">text</a>(&quot;&quot; + value);
<a name="l6575"><span class="linenum">6575</span></a>                  break;
<a name="l6576"><span class="linenum">6576</span></a>              case &quot;dialogClass&quot;:
<a name="l6577"><span class="linenum">6577</span></a>                  uiDialog
<a name="l6578"><span class="linenum">6578</span></a>                      .removeClass(self.options.dialogClass)
<a name="l6579"><span class="linenum">6579</span></a>                      .addClass(uiDialogClasses + value);
<a name="l6580"><span class="linenum">6580</span></a>                  break;
<a name="l6581"><span class="linenum">6581</span></a>              case &quot;disabled&quot;:
<a name="l6582"><span class="linenum">6582</span></a>                  if (value) {
<a name="l6583"><span class="linenum">6583</span></a>                      uiDialog.addClass('ui-dialog-disabled');
<a name="l6584"><span class="linenum">6584</span></a>                  } else {
<a name="l6585"><span class="linenum">6585</span></a>                      uiDialog.removeClass('ui-dialog-disabled');
<a name="l6586"><span class="linenum">6586</span></a>                  }
<a name="l6587"><span class="linenum">6587</span></a>                  break;
<a name="l6588"><span class="linenum">6588</span></a>              case &quot;draggable&quot;:
<a name="l6589"><span class="linenum">6589</span></a>                  var isDraggable = uiDialog.is( &quot;:data(draggable)&quot; );
<a name="l6590"><span class="linenum">6590</span></a>                  if ( isDraggable &amp;&amp; !value ) {
<a name="l6591"><span class="linenum">6591</span></a>                      uiDialog.draggable( &quot;destroy&quot; );
<a name="l6592"><span class="linenum">6592</span></a>                  }
<a name="l6593"><span class="linenum">6593</span></a>                  
<a name="l6594"><span class="linenum">6594</span></a>                  if ( !isDraggable &amp;&amp; value ) {
<a name="l6595"><span class="linenum">6595</span></a>                      self._makeDraggable();
<a name="l6596"><span class="linenum">6596</span></a>                  }
<a name="l6597"><span class="linenum">6597</span></a>                  break;
<a name="l6598"><span class="linenum">6598</span></a>              case &quot;position&quot;:
<a name="l6599"><span class="linenum">6599</span></a>                  self._position(value);
<a name="l6600"><span class="linenum">6600</span></a>                  break;
<a name="l6601"><span class="linenum">6601</span></a>              case &quot;resizable&quot;:
<a name="l6602"><span class="linenum">6602</span></a>  <span class="comment">                // currently resizable, becoming non-resizable</span>
<a name="l6603"><span class="linenum">6603</span></a>                  var isResizable = uiDialog.is( &quot;:data(resizable)&quot; );
<a name="l6604"><span class="linenum">6604</span></a>                  if (isResizable &amp;&amp; !value) {
<a name="l6605"><span class="linenum">6605</span></a>                      uiDialog.resizable('destroy');
<a name="l6606"><span class="linenum">6606</span></a>                  }
<a name="l6607"><span class="linenum">6607</span></a>  
<a name="l6608"><span class="linenum">6608</span></a>  <span class="comment">                // currently resizable, changing handles</span>
<a name="l6609"><span class="linenum">6609</span></a>                  if (isResizable &amp;&amp; typeof value === 'string') {
<a name="l6610"><span class="linenum">6610</span></a>                      uiDialog.resizable('option', 'handles', value);
<a name="l6611"><span class="linenum">6611</span></a>                  }
<a name="l6612"><span class="linenum">6612</span></a>  
<a name="l6613"><span class="linenum">6613</span></a>  <span class="comment">                // currently non-resizable, becoming resizable</span>
<a name="l6614"><span class="linenum">6614</span></a>                  if (!isResizable &amp;&amp; value !== false) {
<a name="l6615"><span class="linenum">6615</span></a>                      self._makeResizable(value);
<a name="l6616"><span class="linenum">6616</span></a>                  }
<a name="l6617"><span class="linenum">6617</span></a>                  break;
<a name="l6618"><span class="linenum">6618</span></a>              case &quot;title&quot;:
<a name="l6619"><span class="linenum">6619</span></a>  <span class="comment">                // convert whatever was passed in o a string, for html() to not throw up</span>
<a name="l6620"><span class="linenum">6620</span></a>                  $(&quot;.ui-dialog-title&quot;, self.uiDialogTitlebar).html(&quot;&quot; + (value || '&amp;#160;'));
<a name="l6621"><span class="linenum">6621</span></a>                  break;
<a name="l6622"><span class="linenum">6622</span></a>          }
<a name="l6623"><span class="linenum">6623</span></a>  
<a name="l6624"><span class="linenum">6624</span></a>          $.Widget.prototype._setOption.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(self, arguments);
<a name="l6625"><span class="linenum">6625</span></a>      },
<a name="l6626"><span class="linenum">6626</span></a>  
<a name="l6627"><span class="linenum">6627</span></a>      _size: function() {
<a name="l6628"><span class="linenum">6628</span></a>          <span class="comment">/* If the user has resized the dialog, the .ui-dialog and .ui-dialog-content</span>
<a name="l6629"><span class="linenum">6629</span></a>  <span class="comment">         * divs will both have width and height set, so we need to reset them</span>
<a name="l6630"><span class="linenum">6630</span></a>  <span class="comment">         */</span>
<a name="l6631"><span class="linenum">6631</span></a>          var options = this.options,
<a name="l6632"><span class="linenum">6632</span></a>              nonContentHeight,
<a name="l6633"><span class="linenum">6633</span></a>              minContentHeight,
<a name="l6634"><span class="linenum">6634</span></a>              isVisible = this.uiDialog.is( &quot;:visible&quot; );
<a name="l6635"><span class="linenum">6635</span></a>  
<a name="l6636"><span class="linenum">6636</span></a>  <span class="comment">        // reset content sizing</span>
<a name="l6637"><span class="linenum">6637</span></a>          this.element.show().css({
<a name="l6638"><span class="linenum">6638</span></a>              width: 'auto',
<a name="l6639"><span class="linenum">6639</span></a>              minHeight: 0,
<a name="l6640"><span class="linenum">6640</span></a>              height: 0
<a name="l6641"><span class="linenum">6641</span></a>          });
<a name="l6642"><span class="linenum">6642</span></a>  
<a name="l6643"><span class="linenum">6643</span></a>          if (options.minWidth &gt; options.width) {
<a name="l6644"><span class="linenum">6644</span></a>              options.width = options.minWidth;
<a name="l6645"><span class="linenum">6645</span></a>          }
<a name="l6646"><span class="linenum">6646</span></a>  
<a name="l6647"><span class="linenum">6647</span></a>  <span class="comment">        // reset wrapper sizing</span>
<a name="l6648"><span class="linenum">6648</span></a>  <span class="comment">        // determine the height of all the non-content elements</span>
<a name="l6649"><span class="linenum">6649</span></a>          nonContentHeight = this.uiDialog.css({
<a name="l6650"><span class="linenum">6650</span></a>                  height: 'auto',
<a name="l6651"><span class="linenum">6651</span></a>                  width: options.width
<a name="l6652"><span class="linenum">6652</span></a>              })
<a name="l6653"><span class="linenum">6653</span></a>              .height();
<a name="l6654"><span class="linenum">6654</span></a>          minContentHeight = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>( 0, options.minHeight - nonContentHeight );
<a name="l6655"><span class="linenum">6655</span></a>          
<a name="l6656"><span class="linenum">6656</span></a>          if ( options.height === &quot;auto&quot; ) {
<a name="l6657"><span class="linenum">6657</span></a>  <span class="comment">            // only needed for IE6 support</span>
<a name="l6658"><span class="linenum">6658</span></a>              if ( $.support.minHeight ) {
<a name="l6659"><span class="linenum">6659</span></a>                  this.element.css({
<a name="l6660"><span class="linenum">6660</span></a>                      minHeight: minContentHeight,
<a name="l6661"><span class="linenum">6661</span></a>                      height: &quot;auto&quot;
<a name="l6662"><span class="linenum">6662</span></a>                  });
<a name="l6663"><span class="linenum">6663</span></a>              } else {
<a name="l6664"><span class="linenum">6664</span></a>                  this.uiDialog.show();
<a name="l6665"><span class="linenum">6665</span></a>                  var autoHeight = this.element.css( &quot;height&quot;, &quot;auto&quot; ).height();
<a name="l6666"><span class="linenum">6666</span></a>                  if ( !isVisible ) {
<a name="l6667"><span class="linenum">6667</span></a>                      this.uiDialog.hide();
<a name="l6668"><span class="linenum">6668</span></a>                  }
<a name="l6669"><span class="linenum">6669</span></a>                  this.element.height( Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>( autoHeight, minContentHeight ) );
<a name="l6670"><span class="linenum">6670</span></a>              }
<a name="l6671"><span class="linenum">6671</span></a>          } else {
<a name="l6672"><span class="linenum">6672</span></a>              this.element.height( Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>( options.height - nonContentHeight, 0 ) );
<a name="l6673"><span class="linenum">6673</span></a>          }
<a name="l6674"><span class="linenum">6674</span></a>  
<a name="l6675"><span class="linenum">6675</span></a>          if (this.uiDialog.is(':data(resizable)')) {
<a name="l6676"><span class="linenum">6676</span></a>              this.uiDialog.resizable('option', 'minHeight', this._minHeight());
<a name="l6677"><span class="linenum">6677</span></a>          }
<a name="l6678"><span class="linenum">6678</span></a>      }
<a name="l6679"><span class="linenum">6679</span></a>  });
<a name="l6680"><span class="linenum">6680</span></a>  
<a name="l6681"><span class="linenum">6681</span></a>  $.extend($.ui.dialog, {
<a name="l6682"><span class="linenum">6682</span></a>      version: &quot;1.8.18&quot;,
<a name="l6683"><span class="linenum">6683</span></a>  
<a name="l6684"><span class="linenum">6684</span></a>      uuid: 0,
<a name="l6685"><span class="linenum">6685</span></a>      maxZ: 0,
<a name="l6686"><span class="linenum">6686</span></a>  
<a name="l6687"><span class="linenum">6687</span></a>      getTitleId: function(<a class="var it1595" onMouseOver="hilite(1595)" onMouseOut="lolite()" onClick="logVariable('el')" href="../../../../_variables/el.html">$el</a>) {
<a name="l6688"><span class="linenum">6688</span></a>          var id = <a class="var it1595" onMouseOver="hilite(1595)" onMouseOut="lolite()" onClick="logVariable('el')" href="../../../../_variables/el.html">$el</a>.attr('id');
<a name="l6689"><span class="linenum">6689</span></a>          if (!id) {
<a name="l6690"><span class="linenum">6690</span></a>              this.uuid += 1;
<a name="l6691"><span class="linenum">6691</span></a>              id = this.uuid;
<a name="l6692"><span class="linenum">6692</span></a>          }
<a name="l6693"><span class="linenum">6693</span></a>          return 'ui-dialog-title-' + id;
<a name="l6694"><span class="linenum">6694</span></a>      },
<a name="l6695"><span class="linenum">6695</span></a>  
<a name="l6696"><span class="linenum">6696</span></a>      overlay: function(dialog) {
<a name="l6697"><span class="linenum">6697</span></a>          this.<a class="var it1595" onMouseOver="hilite(1595)" onMouseOut="lolite()" onClick="logVariable('el')" href="../../../../_variables/el.html">$el</a> = $.ui.dialog.overlay.<a class="function" onClick="logFunction('create')" href="../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(dialog);
<a name="l6698"><span class="linenum">6698</span></a>      }
<a name="l6699"><span class="linenum">6699</span></a>  });
<a name="l6700"><span class="linenum">6700</span></a>  
<a name="l6701"><span class="linenum">6701</span></a>  $.extend($.ui.dialog.overlay, {
<a name="l6702"><span class="linenum">6702</span></a>      instances: [],
<a name="l6703"><span class="linenum">6703</span></a>  <span class="comment">    // reuse old instances due to IE memory leak with alpha transparency (see #5185)</span>
<a name="l6704"><span class="linenum">6704</span></a>      oldInstances: [],
<a name="l6705"><span class="linenum">6705</span></a>      maxZ: 0,
<a name="l6706"><span class="linenum">6706</span></a>      events: $.map('focus,mousedown,mouseup,keydown,keypress,click'.<a class="phpfunction" onClick="logFunction('split')" href="../../../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>(','),
<a name="l6707"><span class="linenum">6707</span></a>          function(event) { return event + '.dialog-overlay'; }).join(' '),
<a name="l6708"><span class="linenum">6708</span></a>      create: function(dialog) {
<a name="l6709"><span class="linenum">6709</span></a>          if (this.instances.length === 0) {
<a name="l6710"><span class="linenum">6710</span></a>  <span class="comment">            // prevent use of anchors and inputs</span>
<a name="l6711"><span class="linenum">6711</span></a>  <span class="comment">            // we use a setTimeout in case the overlay is created from an</span>
<a name="l6712"><span class="linenum">6712</span></a>  <span class="comment">            // event that we're going to be cancelling (see #2804)</span>
<a name="l6713"><span class="linenum">6713</span></a>              setTimeout(function() {
<a name="l6714"><span class="linenum">6714</span></a>  <span class="comment">                // handle $(el).dialog().dialog('close') (see #4065)</span>
<a name="l6715"><span class="linenum">6715</span></a>                  if ($.ui.dialog.overlay.instances.length) {
<a name="l6716"><span class="linenum">6716</span></a>                      $(document).bind($.ui.dialog.overlay.events, function(event) {
<a name="l6717"><span class="linenum">6717</span></a>  <span class="comment">                        // stop events if the z-index of the target is &lt; the z-index of the overlay</span>
<a name="l6718"><span class="linenum">6718</span></a>  <span class="comment">                        // we cannot return true when we don't want to cancel the event (#3523)</span>
<a name="l6719"><span class="linenum">6719</span></a>                          if ($(event.target).zIndex() &lt; $.ui.dialog.overlay.maxZ) {
<a name="l6720"><span class="linenum">6720</span></a>                              return false;
<a name="l6721"><span class="linenum">6721</span></a>                          }
<a name="l6722"><span class="linenum">6722</span></a>                      });
<a name="l6723"><span class="linenum">6723</span></a>                  }
<a name="l6724"><span class="linenum">6724</span></a>              }, 1);
<a name="l6725"><span class="linenum">6725</span></a>  
<a name="l6726"><span class="linenum">6726</span></a>  <span class="comment">            // allow closing by pressing the escape key</span>
<a name="l6727"><span class="linenum">6727</span></a>              $(document).bind('keydown.dialog-overlay', function(event) {
<a name="l6728"><span class="linenum">6728</span></a>                  if (dialog.options.closeOnEscape &amp;&amp; !event.isDefaultPrevented() &amp;&amp; event.keyCode &amp;&amp;
<a name="l6729"><span class="linenum">6729</span></a>                      event.keyCode === $.ui.keyCode.ESCAPE) {
<a name="l6730"><span class="linenum">6730</span></a>                      
<a name="l6731"><span class="linenum">6731</span></a>                      dialog.<a class="function" onClick="logFunction('close')" href="../../../../_functions/close.html" onMouseOver="funcPopup(event,'close')">close</a>(event);
<a name="l6732"><span class="linenum">6732</span></a>                      event.preventDefault();
<a name="l6733"><span class="linenum">6733</span></a>                  }
<a name="l6734"><span class="linenum">6734</span></a>              });
<a name="l6735"><span class="linenum">6735</span></a>  
<a name="l6736"><span class="linenum">6736</span></a>  <span class="comment">            // handle window resize</span>
<a name="l6737"><span class="linenum">6737</span></a>              $(window).bind('resize.dialog-overlay', $.ui.dialog.overlay.resize);
<a name="l6738"><span class="linenum">6738</span></a>          }
<a name="l6739"><span class="linenum">6739</span></a>  
<a name="l6740"><span class="linenum">6740</span></a>          var <a class="var it1595" onMouseOver="hilite(1595)" onMouseOut="lolite()" onClick="logVariable('el')" href="../../../../_variables/el.html">$el</a> = (this.oldInstances.pop() || $('&lt;div&gt;&lt;/div&gt;').addClass('ui-widget-overlay'))
<a name="l6741"><span class="linenum">6741</span></a>              .appendTo(document.body)
<a name="l6742"><span class="linenum">6742</span></a>              .css({
<a name="l6743"><span class="linenum">6743</span></a>                  width: this.width(),
<a name="l6744"><span class="linenum">6744</span></a>                  height: this.height()
<a name="l6745"><span class="linenum">6745</span></a>              });
<a name="l6746"><span class="linenum">6746</span></a>  
<a name="l6747"><span class="linenum">6747</span></a>          if ($.fn.bgiframe) {
<a name="l6748"><span class="linenum">6748</span></a>              <a class="var it1595" onMouseOver="hilite(1595)" onMouseOut="lolite()" onClick="logVariable('el')" href="../../../../_variables/el.html">$el</a>.bgiframe();
<a name="l6749"><span class="linenum">6749</span></a>          }
<a name="l6750"><span class="linenum">6750</span></a>  
<a name="l6751"><span class="linenum">6751</span></a>          this.instances.push(<a class="var it1595" onMouseOver="hilite(1595)" onMouseOut="lolite()" onClick="logVariable('el')" href="../../../../_variables/el.html">$el</a>);
<a name="l6752"><span class="linenum">6752</span></a>          return <a class="var it1595" onMouseOver="hilite(1595)" onMouseOut="lolite()" onClick="logVariable('el')" href="../../../../_variables/el.html">$el</a>;
<a name="l6753"><span class="linenum">6753</span></a>      },
<a name="l6754"><span class="linenum">6754</span></a>  
<a name="l6755"><span class="linenum">6755</span></a>      destroy: function(<a class="var it1595" onMouseOver="hilite(1595)" onMouseOut="lolite()" onClick="logVariable('el')" href="../../../../_variables/el.html">$el</a>) {
<a name="l6756"><span class="linenum">6756</span></a>          var indexOf = $.inArray(<a class="var it1595" onMouseOver="hilite(1595)" onMouseOut="lolite()" onClick="logVariable('el')" href="../../../../_variables/el.html">$el</a>, this.instances);
<a name="l6757"><span class="linenum">6757</span></a>          if (indexOf != -1){
<a name="l6758"><span class="linenum">6758</span></a>              this.oldInstances.push(this.instances.splice(indexOf, 1)[0]);
<a name="l6759"><span class="linenum">6759</span></a>          }
<a name="l6760"><span class="linenum">6760</span></a>  
<a name="l6761"><span class="linenum">6761</span></a>          if (this.instances.length === 0) {
<a name="l6762"><span class="linenum">6762</span></a>              $([document, window]).unbind('.dialog-overlay');
<a name="l6763"><span class="linenum">6763</span></a>          }
<a name="l6764"><span class="linenum">6764</span></a>  
<a name="l6765"><span class="linenum">6765</span></a>          <a class="var it1595" onMouseOver="hilite(1595)" onMouseOut="lolite()" onClick="logVariable('el')" href="../../../../_variables/el.html">$el</a>.<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>();
<a name="l6766"><span class="linenum">6766</span></a>          
<a name="l6767"><span class="linenum">6767</span></a>  <span class="comment">        // adjust the maxZ to allow other modal dialogs to continue to work (see #4309)</span>
<a name="l6768"><span class="linenum">6768</span></a>          var maxZ = 0;
<a name="l6769"><span class="linenum">6769</span></a>          $.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(this.instances, function() {
<a name="l6770"><span class="linenum">6770</span></a>              maxZ = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(maxZ, this.css('z-index'));
<a name="l6771"><span class="linenum">6771</span></a>          });
<a name="l6772"><span class="linenum">6772</span></a>          this.maxZ = maxZ;
<a name="l6773"><span class="linenum">6773</span></a>      },
<a name="l6774"><span class="linenum">6774</span></a>  
<a name="l6775"><span class="linenum">6775</span></a>      height: function() {
<a name="l6776"><span class="linenum">6776</span></a>          var scrollHeight,
<a name="l6777"><span class="linenum">6777</span></a>              offsetHeight;
<a name="l6778"><span class="linenum">6778</span></a>  <span class="comment">        // handle IE 6</span>
<a name="l6779"><span class="linenum">6779</span></a>          if ($.browser.msie &amp;&amp; $.browser.version &lt; 7) {
<a name="l6780"><span class="linenum">6780</span></a>              scrollHeight = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(
<a name="l6781"><span class="linenum">6781</span></a>                  document.documentElement.scrollHeight,
<a name="l6782"><span class="linenum">6782</span></a>                  document.body.scrollHeight
<a name="l6783"><span class="linenum">6783</span></a>              );
<a name="l6784"><span class="linenum">6784</span></a>              offsetHeight = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(
<a name="l6785"><span class="linenum">6785</span></a>                  document.documentElement.offsetHeight,
<a name="l6786"><span class="linenum">6786</span></a>                  document.body.offsetHeight
<a name="l6787"><span class="linenum">6787</span></a>              );
<a name="l6788"><span class="linenum">6788</span></a>  
<a name="l6789"><span class="linenum">6789</span></a>              if (scrollHeight &lt; offsetHeight) {
<a name="l6790"><span class="linenum">6790</span></a>                  return $(window).height() + 'px';
<a name="l6791"><span class="linenum">6791</span></a>              } else {
<a name="l6792"><span class="linenum">6792</span></a>                  return scrollHeight + 'px';
<a name="l6793"><span class="linenum">6793</span></a>              }
<a name="l6794"><span class="linenum">6794</span></a>  <span class="comment">        // handle &quot;good&quot; browsers</span>
<a name="l6795"><span class="linenum">6795</span></a>          } else {
<a name="l6796"><span class="linenum">6796</span></a>              return $(document).height() + 'px';
<a name="l6797"><span class="linenum">6797</span></a>          }
<a name="l6798"><span class="linenum">6798</span></a>      },
<a name="l6799"><span class="linenum">6799</span></a>  
<a name="l6800"><span class="linenum">6800</span></a>      width: function() {
<a name="l6801"><span class="linenum">6801</span></a>          var scrollWidth,
<a name="l6802"><span class="linenum">6802</span></a>              offsetWidth;
<a name="l6803"><span class="linenum">6803</span></a>  <span class="comment">        // handle IE</span>
<a name="l6804"><span class="linenum">6804</span></a>          if ( $.browser.msie ) {
<a name="l6805"><span class="linenum">6805</span></a>              scrollWidth = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(
<a name="l6806"><span class="linenum">6806</span></a>                  document.documentElement.scrollWidth,
<a name="l6807"><span class="linenum">6807</span></a>                  document.body.scrollWidth
<a name="l6808"><span class="linenum">6808</span></a>              );
<a name="l6809"><span class="linenum">6809</span></a>              offsetWidth = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(
<a name="l6810"><span class="linenum">6810</span></a>                  document.documentElement.offsetWidth,
<a name="l6811"><span class="linenum">6811</span></a>                  document.body.offsetWidth
<a name="l6812"><span class="linenum">6812</span></a>              );
<a name="l6813"><span class="linenum">6813</span></a>  
<a name="l6814"><span class="linenum">6814</span></a>              if (scrollWidth &lt; offsetWidth) {
<a name="l6815"><span class="linenum">6815</span></a>                  return $(window).width() + 'px';
<a name="l6816"><span class="linenum">6816</span></a>              } else {
<a name="l6817"><span class="linenum">6817</span></a>                  return scrollWidth + 'px';
<a name="l6818"><span class="linenum">6818</span></a>              }
<a name="l6819"><span class="linenum">6819</span></a>  <span class="comment">        // handle &quot;good&quot; browsers</span>
<a name="l6820"><span class="linenum">6820</span></a>          } else {
<a name="l6821"><span class="linenum">6821</span></a>              return $(document).width() + 'px';
<a name="l6822"><span class="linenum">6822</span></a>          }
<a name="l6823"><span class="linenum">6823</span></a>      },
<a name="l6824"><span class="linenum">6824</span></a>  
<a name="l6825"><span class="linenum">6825</span></a>      resize: function() {
<a name="l6826"><span class="linenum">6826</span></a>          <span class="comment">/* If the dialog is draggable and the user drags it past the</span>
<a name="l6827"><span class="linenum">6827</span></a>  <span class="comment">         * right edge of the window, the document becomes wider so we</span>
<a name="l6828"><span class="linenum">6828</span></a>  <span class="comment">         * need to stretch the overlay. If the user then drags the</span>
<a name="l6829"><span class="linenum">6829</span></a>  <span class="comment">         * dialog back to the left, the document will become narrower,</span>
<a name="l6830"><span class="linenum">6830</span></a>  <span class="comment">         * so we need to shrink the overlay to the appropriate size.</span>
<a name="l6831"><span class="linenum">6831</span></a>  <span class="comment">         * This is handled by shrinking the overlay before setting it</span>
<a name="l6832"><span class="linenum">6832</span></a>  <span class="comment">         * to the full document size.</span>
<a name="l6833"><span class="linenum">6833</span></a>  <span class="comment">         */</span>
<a name="l6834"><span class="linenum">6834</span></a>          var <a class="var it8816" onMouseOver="hilite(8816)" onMouseOut="lolite()" onClick="logVariable('overlays')" href="../../../../_variables/overlays.html">$overlays</a> = $([]);
<a name="l6835"><span class="linenum">6835</span></a>          $.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>($.ui.dialog.overlay.instances, function() {
<a name="l6836"><span class="linenum">6836</span></a>              <a class="var it8816" onMouseOver="hilite(8816)" onMouseOut="lolite()" onClick="logVariable('overlays')" href="../../../../_variables/overlays.html">$overlays</a> = <a class="var it8816" onMouseOver="hilite(8816)" onMouseOut="lolite()" onClick="logVariable('overlays')" href="../../../../_variables/overlays.html">$overlays</a>.<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(this);
<a name="l6837"><span class="linenum">6837</span></a>          });
<a name="l6838"><span class="linenum">6838</span></a>  
<a name="l6839"><span class="linenum">6839</span></a>          <a class="var it8816" onMouseOver="hilite(8816)" onMouseOut="lolite()" onClick="logVariable('overlays')" href="../../../../_variables/overlays.html">$overlays</a>.css({
<a name="l6840"><span class="linenum">6840</span></a>              width: 0,
<a name="l6841"><span class="linenum">6841</span></a>              height: 0
<a name="l6842"><span class="linenum">6842</span></a>          }).css({
<a name="l6843"><span class="linenum">6843</span></a>              width: $.ui.dialog.overlay.width(),
<a name="l6844"><span class="linenum">6844</span></a>              height: $.ui.dialog.overlay.height()
<a name="l6845"><span class="linenum">6845</span></a>          });
<a name="l6846"><span class="linenum">6846</span></a>      }
<a name="l6847"><span class="linenum">6847</span></a>  });
<a name="l6848"><span class="linenum">6848</span></a>  
<a name="l6849"><span class="linenum">6849</span></a>  $.extend($.ui.dialog.overlay.prototype, {
<a name="l6850"><span class="linenum">6850</span></a>      destroy: function() {
<a name="l6851"><span class="linenum">6851</span></a>          $.ui.dialog.overlay.destroy(this.<a class="var it1595" onMouseOver="hilite(1595)" onMouseOut="lolite()" onClick="logVariable('el')" href="../../../../_variables/el.html">$el</a>);
<a name="l6852"><span class="linenum">6852</span></a>      }
<a name="l6853"><span class="linenum">6853</span></a>  });
<a name="l6854"><span class="linenum">6854</span></a>  
<a name="l6855"><span class="linenum">6855</span></a>  }(jQuery));
<a name="l6856"><span class="linenum">6856</span></a>  <span class="comment">/*</span>
<a name="l6857"><span class="linenum">6857</span></a>  <span class="comment"> * jQuery UI Slider 1.8.18</span>
<a name="l6858"><span class="linenum">6858</span></a>  <span class="comment"> *</span>
<a name="l6859"><span class="linenum">6859</span></a>  <span class="comment"> * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l6860"><span class="linenum">6860</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l6861"><span class="linenum">6861</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l6862"><span class="linenum">6862</span></a>  <span class="comment"> *</span>
<a name="l6863"><span class="linenum">6863</span></a>  <span class="comment"> * http://docs.jquery.com/UI/Slider</span>
<a name="l6864"><span class="linenum">6864</span></a>  <span class="comment"> *</span>
<a name="l6865"><span class="linenum">6865</span></a>  <span class="comment"> * Depends:</span>
<a name="l6866"><span class="linenum">6866</span></a>  <span class="comment"> *    jquery.ui.core.js</span>
<a name="l6867"><span class="linenum">6867</span></a>  <span class="comment"> *    jquery.ui.mouse.js</span>
<a name="l6868"><span class="linenum">6868</span></a>  <span class="comment"> *    jquery.ui.widget.js</span>
<a name="l6869"><span class="linenum">6869</span></a>  <span class="comment"> */</span>
<a name="l6870"><span class="linenum">6870</span></a>  (function( $, undefined ) {
<a name="l6871"><span class="linenum">6871</span></a>  
<a name="l6872"><span class="linenum">6872</span></a>  <span class="comment">// number of pages in a slider</span>
<a name="l6873"><span class="linenum">6873</span></a>  <span class="comment">// (how many times can you page up/down to go through the whole range)</span>
<a name="l6874"><span class="linenum">6874</span></a>  var numPages = 5;
<a name="l6875"><span class="linenum">6875</span></a>  
<a name="l6876"><span class="linenum">6876</span></a>  $.<a class="function" onClick="logFunction('widget')" href="../../../../_functions/widget.html" onMouseOver="funcPopup(event,'widget')">widget</a>( &quot;ui.slider&quot;, $.ui.mouse, {
<a name="l6877"><span class="linenum">6877</span></a>  
<a name="l6878"><span class="linenum">6878</span></a>      widgetEventPrefix: &quot;slide&quot;,
<a name="l6879"><span class="linenum">6879</span></a>  
<a name="l6880"><span class="linenum">6880</span></a>      options: {
<a name="l6881"><span class="linenum">6881</span></a>          animate: false,
<a name="l6882"><span class="linenum">6882</span></a>          distance: 0,
<a name="l6883"><span class="linenum">6883</span></a>          max: 100,
<a name="l6884"><span class="linenum">6884</span></a>          min: 0,
<a name="l6885"><span class="linenum">6885</span></a>          orientation: &quot;horizontal&quot;,
<a name="l6886"><span class="linenum">6886</span></a>          range: false,
<a name="l6887"><span class="linenum">6887</span></a>          step: 1,
<a name="l6888"><span class="linenum">6888</span></a>          value: 0,
<a name="l6889"><span class="linenum">6889</span></a>          values: null
<a name="l6890"><span class="linenum">6890</span></a>      },
<a name="l6891"><span class="linenum">6891</span></a>  
<a name="l6892"><span class="linenum">6892</span></a>      _create: function() {
<a name="l6893"><span class="linenum">6893</span></a>          var self = this,
<a name="l6894"><span class="linenum">6894</span></a>              o = this.options,
<a name="l6895"><span class="linenum">6895</span></a>              existingHandles = this.element.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>( &quot;.ui-slider-handle&quot; ).addClass( &quot;ui-state-default ui-corner-all&quot; ),
<a name="l6896"><span class="linenum">6896</span></a>              handle = &quot;&lt;a class='ui-slider-handle ui-state-default ui-corner-all' href='#'&gt;&lt;/a&gt;&quot;,
<a name="l6897"><span class="linenum">6897</span></a>              handleCount = ( o.values &amp;&amp; o.values.length ) || 1,
<a name="l6898"><span class="linenum">6898</span></a>              handles = [];
<a name="l6899"><span class="linenum">6899</span></a>  
<a name="l6900"><span class="linenum">6900</span></a>          this._keySliding = false;
<a name="l6901"><span class="linenum">6901</span></a>          this._mouseSliding = false;
<a name="l6902"><span class="linenum">6902</span></a>          this._animateOff = true;
<a name="l6903"><span class="linenum">6903</span></a>          this._handleIndex = null;
<a name="l6904"><span class="linenum">6904</span></a>          this._detectOrientation();
<a name="l6905"><span class="linenum">6905</span></a>          this._mouseInit();
<a name="l6906"><span class="linenum">6906</span></a>  
<a name="l6907"><span class="linenum">6907</span></a>          this.element
<a name="l6908"><span class="linenum">6908</span></a>              .addClass( &quot;ui-slider&quot; +
<a name="l6909"><span class="linenum">6909</span></a>                  &quot; ui-slider-&quot; + this.orientation +
<a name="l6910"><span class="linenum">6910</span></a>                  &quot; ui-widget&quot; +
<a name="l6911"><span class="linenum">6911</span></a>                  &quot; ui-widget-content&quot; +
<a name="l6912"><span class="linenum">6912</span></a>                  &quot; ui-corner-all&quot; +
<a name="l6913"><span class="linenum">6913</span></a>                  ( o.disabled ? &quot; ui-slider-disabled ui-disabled&quot; : &quot;&quot; ) );
<a name="l6914"><span class="linenum">6914</span></a>  
<a name="l6915"><span class="linenum">6915</span></a>          this.range = $([]);
<a name="l6916"><span class="linenum">6916</span></a>  
<a name="l6917"><span class="linenum">6917</span></a>          if ( o.range ) {
<a name="l6918"><span class="linenum">6918</span></a>              if ( o.range === true ) {
<a name="l6919"><span class="linenum">6919</span></a>                  if ( !o.values ) {
<a name="l6920"><span class="linenum">6920</span></a>                      o.values = [ this._valueMin(), this._valueMin() ];
<a name="l6921"><span class="linenum">6921</span></a>                  }
<a name="l6922"><span class="linenum">6922</span></a>                  if ( o.values.length &amp;&amp; o.values.length !== 2 ) {
<a name="l6923"><span class="linenum">6923</span></a>                      o.values = [ o.values[0], o.values[0] ];
<a name="l6924"><span class="linenum">6924</span></a>                  }
<a name="l6925"><span class="linenum">6925</span></a>              }
<a name="l6926"><span class="linenum">6926</span></a>  
<a name="l6927"><span class="linenum">6927</span></a>              this.range = $( &quot;&lt;div&gt;&lt;/div&gt;&quot; )
<a name="l6928"><span class="linenum">6928</span></a>                  .appendTo( this.element )
<a name="l6929"><span class="linenum">6929</span></a>                  .addClass( &quot;ui-slider-range&quot; +
<a name="l6930"><span class="linenum">6930</span></a>  <span class="comment">                // note: this isn't the most fittingly semantic framework class for this element,</span>
<a name="l6931"><span class="linenum">6931</span></a>  <span class="comment">                // but worked best visually with a variety of themes</span>
<a name="l6932"><span class="linenum">6932</span></a>                  &quot; ui-widget-header&quot; + 
<a name="l6933"><span class="linenum">6933</span></a>                  ( ( o.range === &quot;min&quot; || o.range === &quot;max&quot; ) ? &quot; ui-slider-range-&quot; + o.range : &quot;&quot; ) );
<a name="l6934"><span class="linenum">6934</span></a>          }
<a name="l6935"><span class="linenum">6935</span></a>  
<a name="l6936"><span class="linenum">6936</span></a>          for ( var i = existingHandles.length; i &lt; handleCount; i += 1 ) {
<a name="l6937"><span class="linenum">6937</span></a>              handles.push( handle );
<a name="l6938"><span class="linenum">6938</span></a>          }
<a name="l6939"><span class="linenum">6939</span></a>  
<a name="l6940"><span class="linenum">6940</span></a>          this.handles = existingHandles.<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>( $( handles.join( &quot;&quot; ) ).appendTo( self.element ) );
<a name="l6941"><span class="linenum">6941</span></a>  
<a name="l6942"><span class="linenum">6942</span></a>          this.handle = this.handles.eq( 0 );
<a name="l6943"><span class="linenum">6943</span></a>  
<a name="l6944"><span class="linenum">6944</span></a>          this.handles.<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>( this.range ).filter( &quot;a&quot; )
<a name="l6945"><span class="linenum">6945</span></a>              .click(function( event ) {
<a name="l6946"><span class="linenum">6946</span></a>                  event.preventDefault();
<a name="l6947"><span class="linenum">6947</span></a>              })
<a name="l6948"><span class="linenum">6948</span></a>              .hover(function() {
<a name="l6949"><span class="linenum">6949</span></a>                  if ( !o.disabled ) {
<a name="l6950"><span class="linenum">6950</span></a>                      $( this ).addClass( &quot;ui-state-hover&quot; );
<a name="l6951"><span class="linenum">6951</span></a>                  }
<a name="l6952"><span class="linenum">6952</span></a>              }, function() {
<a name="l6953"><span class="linenum">6953</span></a>                  $( this ).removeClass( &quot;ui-state-hover&quot; );
<a name="l6954"><span class="linenum">6954</span></a>              })
<a name="l6955"><span class="linenum">6955</span></a>              .focus(function() {
<a name="l6956"><span class="linenum">6956</span></a>                  if ( !o.disabled ) {
<a name="l6957"><span class="linenum">6957</span></a>                      $( &quot;.ui-slider .ui-state-focus&quot; ).removeClass( &quot;ui-state-focus&quot; );
<a name="l6958"><span class="linenum">6958</span></a>                      $( this ).addClass( &quot;ui-state-focus&quot; );
<a name="l6959"><span class="linenum">6959</span></a>                  } else {
<a name="l6960"><span class="linenum">6960</span></a>                      $( this ).blur();
<a name="l6961"><span class="linenum">6961</span></a>                  }
<a name="l6962"><span class="linenum">6962</span></a>              })
<a name="l6963"><span class="linenum">6963</span></a>              .blur(function() {
<a name="l6964"><span class="linenum">6964</span></a>                  $( this ).removeClass( &quot;ui-state-focus&quot; );
<a name="l6965"><span class="linenum">6965</span></a>              });
<a name="l6966"><span class="linenum">6966</span></a>  
<a name="l6967"><span class="linenum">6967</span></a>          this.handles.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function( i ) {
<a name="l6968"><span class="linenum">6968</span></a>              $( this ).data( &quot;index.ui-slider-handle&quot;, i );
<a name="l6969"><span class="linenum">6969</span></a>          });
<a name="l6970"><span class="linenum">6970</span></a>  
<a name="l6971"><span class="linenum">6971</span></a>          this.handles
<a name="l6972"><span class="linenum">6972</span></a>              .keydown(function( event ) {
<a name="l6973"><span class="linenum">6973</span></a>                  var index = $( this ).data( &quot;index.ui-slider-handle&quot; ),
<a name="l6974"><span class="linenum">6974</span></a>                      allowed,
<a name="l6975"><span class="linenum">6975</span></a>                      curVal,
<a name="l6976"><span class="linenum">6976</span></a>                      newVal,
<a name="l6977"><span class="linenum">6977</span></a>                      step;
<a name="l6978"><span class="linenum">6978</span></a>      
<a name="l6979"><span class="linenum">6979</span></a>                  if ( self.options.disabled ) {
<a name="l6980"><span class="linenum">6980</span></a>                      return;
<a name="l6981"><span class="linenum">6981</span></a>                  }
<a name="l6982"><span class="linenum">6982</span></a>      
<a name="l6983"><span class="linenum">6983</span></a>                  switch ( event.keyCode ) {
<a name="l6984"><span class="linenum">6984</span></a>                      case $.ui.keyCode.HOME:
<a name="l6985"><span class="linenum">6985</span></a>                      case $.ui.keyCode.END:
<a name="l6986"><span class="linenum">6986</span></a>                      case $.ui.keyCode.PAGE_UP:
<a name="l6987"><span class="linenum">6987</span></a>                      case $.ui.keyCode.PAGE_DOWN:
<a name="l6988"><span class="linenum">6988</span></a>                      case $.ui.keyCode.UP:
<a name="l6989"><span class="linenum">6989</span></a>                      case $.ui.keyCode.RIGHT:
<a name="l6990"><span class="linenum">6990</span></a>                      case $.ui.keyCode.DOWN:
<a name="l6991"><span class="linenum">6991</span></a>                      case $.ui.keyCode.LEFT:
<a name="l6992"><span class="linenum">6992</span></a>                          event.preventDefault();
<a name="l6993"><span class="linenum">6993</span></a>                          if ( !self._keySliding ) {
<a name="l6994"><span class="linenum">6994</span></a>                              self._keySliding = true;
<a name="l6995"><span class="linenum">6995</span></a>                              $( this ).addClass( &quot;ui-state-active&quot; );
<a name="l6996"><span class="linenum">6996</span></a>                              allowed = self._start( event, index );
<a name="l6997"><span class="linenum">6997</span></a>                              if ( allowed === false ) {
<a name="l6998"><span class="linenum">6998</span></a>                                  return;
<a name="l6999"><span class="linenum">6999</span></a>                              }
<a name="l7000"><span class="linenum">7000</span></a>                          }
<a name="l7001"><span class="linenum">7001</span></a>                          break;
<a name="l7002"><span class="linenum">7002</span></a>                  }
<a name="l7003"><span class="linenum">7003</span></a>      
<a name="l7004"><span class="linenum">7004</span></a>                  step = self.options.step;
<a name="l7005"><span class="linenum">7005</span></a>                  if ( self.options.values &amp;&amp; self.options.values.length ) {
<a name="l7006"><span class="linenum">7006</span></a>                      curVal = newVal = self.values( index );
<a name="l7007"><span class="linenum">7007</span></a>                  } else {
<a name="l7008"><span class="linenum">7008</span></a>                      curVal = newVal = self.<a class="function" onClick="logFunction('value')" href="../../../../_functions/value.html" onMouseOver="funcPopup(event,'value')">value</a>();
<a name="l7009"><span class="linenum">7009</span></a>                  }
<a name="l7010"><span class="linenum">7010</span></a>      
<a name="l7011"><span class="linenum">7011</span></a>                  switch ( event.keyCode ) {
<a name="l7012"><span class="linenum">7012</span></a>                      case $.ui.keyCode.HOME:
<a name="l7013"><span class="linenum">7013</span></a>                          newVal = self._valueMin();
<a name="l7014"><span class="linenum">7014</span></a>                          break;
<a name="l7015"><span class="linenum">7015</span></a>                      case $.ui.keyCode.END:
<a name="l7016"><span class="linenum">7016</span></a>                          newVal = self._valueMax();
<a name="l7017"><span class="linenum">7017</span></a>                          break;
<a name="l7018"><span class="linenum">7018</span></a>                      case $.ui.keyCode.PAGE_UP:
<a name="l7019"><span class="linenum">7019</span></a>                          newVal = self._trimAlignValue( curVal + ( (self._valueMax() - self._valueMin()) / numPages ) );
<a name="l7020"><span class="linenum">7020</span></a>                          break;
<a name="l7021"><span class="linenum">7021</span></a>                      case $.ui.keyCode.PAGE_DOWN:
<a name="l7022"><span class="linenum">7022</span></a>                          newVal = self._trimAlignValue( curVal - ( (self._valueMax() - self._valueMin()) / numPages ) );
<a name="l7023"><span class="linenum">7023</span></a>                          break;
<a name="l7024"><span class="linenum">7024</span></a>                      case $.ui.keyCode.UP:
<a name="l7025"><span class="linenum">7025</span></a>                      case $.ui.keyCode.RIGHT:
<a name="l7026"><span class="linenum">7026</span></a>                          if ( curVal === self._valueMax() ) {
<a name="l7027"><span class="linenum">7027</span></a>                              return;
<a name="l7028"><span class="linenum">7028</span></a>                          }
<a name="l7029"><span class="linenum">7029</span></a>                          newVal = self._trimAlignValue( curVal + step );
<a name="l7030"><span class="linenum">7030</span></a>                          break;
<a name="l7031"><span class="linenum">7031</span></a>                      case $.ui.keyCode.DOWN:
<a name="l7032"><span class="linenum">7032</span></a>                      case $.ui.keyCode.LEFT:
<a name="l7033"><span class="linenum">7033</span></a>                          if ( curVal === self._valueMin() ) {
<a name="l7034"><span class="linenum">7034</span></a>                              return;
<a name="l7035"><span class="linenum">7035</span></a>                          }
<a name="l7036"><span class="linenum">7036</span></a>                          newVal = self._trimAlignValue( curVal - step );
<a name="l7037"><span class="linenum">7037</span></a>                          break;
<a name="l7038"><span class="linenum">7038</span></a>                  }
<a name="l7039"><span class="linenum">7039</span></a>      
<a name="l7040"><span class="linenum">7040</span></a>                  self._slide( event, index, newVal );
<a name="l7041"><span class="linenum">7041</span></a>              })
<a name="l7042"><span class="linenum">7042</span></a>              .keyup(function( event ) {
<a name="l7043"><span class="linenum">7043</span></a>                  var index = $( this ).data( &quot;index.ui-slider-handle&quot; );
<a name="l7044"><span class="linenum">7044</span></a>      
<a name="l7045"><span class="linenum">7045</span></a>                  if ( self._keySliding ) {
<a name="l7046"><span class="linenum">7046</span></a>                      self._keySliding = false;
<a name="l7047"><span class="linenum">7047</span></a>                      self._stop( event, index );
<a name="l7048"><span class="linenum">7048</span></a>                      self._change( event, index );
<a name="l7049"><span class="linenum">7049</span></a>                      $( this ).removeClass( &quot;ui-state-active&quot; );
<a name="l7050"><span class="linenum">7050</span></a>                  }
<a name="l7051"><span class="linenum">7051</span></a>      
<a name="l7052"><span class="linenum">7052</span></a>              });
<a name="l7053"><span class="linenum">7053</span></a>  
<a name="l7054"><span class="linenum">7054</span></a>          this._refreshValue();
<a name="l7055"><span class="linenum">7055</span></a>  
<a name="l7056"><span class="linenum">7056</span></a>          this._animateOff = false;
<a name="l7057"><span class="linenum">7057</span></a>      },
<a name="l7058"><span class="linenum">7058</span></a>  
<a name="l7059"><span class="linenum">7059</span></a>      destroy: function() {
<a name="l7060"><span class="linenum">7060</span></a>          this.handles.<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>();
<a name="l7061"><span class="linenum">7061</span></a>          this.range.<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>();
<a name="l7062"><span class="linenum">7062</span></a>  
<a name="l7063"><span class="linenum">7063</span></a>          this.element
<a name="l7064"><span class="linenum">7064</span></a>              .removeClass( &quot;ui-slider&quot; +
<a name="l7065"><span class="linenum">7065</span></a>                  &quot; ui-slider-horizontal&quot; +
<a name="l7066"><span class="linenum">7066</span></a>                  &quot; ui-slider-vertical&quot; +
<a name="l7067"><span class="linenum">7067</span></a>                  &quot; ui-slider-disabled&quot; +
<a name="l7068"><span class="linenum">7068</span></a>                  &quot; ui-widget&quot; +
<a name="l7069"><span class="linenum">7069</span></a>                  &quot; ui-widget-content&quot; +
<a name="l7070"><span class="linenum">7070</span></a>                  &quot; ui-corner-all&quot; )
<a name="l7071"><span class="linenum">7071</span></a>              .removeData( &quot;slider&quot; )
<a name="l7072"><span class="linenum">7072</span></a>              .unbind( &quot;.slider&quot; );
<a name="l7073"><span class="linenum">7073</span></a>  
<a name="l7074"><span class="linenum">7074</span></a>          this._mouseDestroy();
<a name="l7075"><span class="linenum">7075</span></a>  
<a name="l7076"><span class="linenum">7076</span></a>          return this;
<a name="l7077"><span class="linenum">7077</span></a>      },
<a name="l7078"><span class="linenum">7078</span></a>  
<a name="l7079"><span class="linenum">7079</span></a>      _mouseCapture: function( event ) {
<a name="l7080"><span class="linenum">7080</span></a>          var o = this.options,
<a name="l7081"><span class="linenum">7081</span></a>              position,
<a name="l7082"><span class="linenum">7082</span></a>              normValue,
<a name="l7083"><span class="linenum">7083</span></a>              distance,
<a name="l7084"><span class="linenum">7084</span></a>              closestHandle,
<a name="l7085"><span class="linenum">7085</span></a>              self,
<a name="l7086"><span class="linenum">7086</span></a>              index,
<a name="l7087"><span class="linenum">7087</span></a>              allowed,
<a name="l7088"><span class="linenum">7088</span></a>              offset,
<a name="l7089"><span class="linenum">7089</span></a>              mouseOverHandle;
<a name="l7090"><span class="linenum">7090</span></a>  
<a name="l7091"><span class="linenum">7091</span></a>          if ( o.disabled ) {
<a name="l7092"><span class="linenum">7092</span></a>              return false;
<a name="l7093"><span class="linenum">7093</span></a>          }
<a name="l7094"><span class="linenum">7094</span></a>  
<a name="l7095"><span class="linenum">7095</span></a>          this.elementSize = {
<a name="l7096"><span class="linenum">7096</span></a>              width: this.element.outerWidth(),
<a name="l7097"><span class="linenum">7097</span></a>              height: this.element.outerHeight()
<a name="l7098"><span class="linenum">7098</span></a>          };
<a name="l7099"><span class="linenum">7099</span></a>          this.elementOffset = this.element.offset();
<a name="l7100"><span class="linenum">7100</span></a>  
<a name="l7101"><span class="linenum">7101</span></a>          position = { x: event.pageX, y: event.pageY };
<a name="l7102"><span class="linenum">7102</span></a>          normValue = this._normValueFromMouse( position );
<a name="l7103"><span class="linenum">7103</span></a>          distance = this._valueMax() - this._valueMin() + 1;
<a name="l7104"><span class="linenum">7104</span></a>          self = this;
<a name="l7105"><span class="linenum">7105</span></a>          this.handles.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function( i ) {
<a name="l7106"><span class="linenum">7106</span></a>              var thisDistance = Math.<a class="phpfunction" onClick="logFunction('abs')" href="../../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>( normValue - self.values(i) );
<a name="l7107"><span class="linenum">7107</span></a>              if ( distance &gt; thisDistance ) {
<a name="l7108"><span class="linenum">7108</span></a>                  distance = thisDistance;
<a name="l7109"><span class="linenum">7109</span></a>                  closestHandle = $( this );
<a name="l7110"><span class="linenum">7110</span></a>                  index = i;
<a name="l7111"><span class="linenum">7111</span></a>              }
<a name="l7112"><span class="linenum">7112</span></a>          });
<a name="l7113"><span class="linenum">7113</span></a>  
<a name="l7114"><span class="linenum">7114</span></a>  <span class="comment">        // workaround for bug #3736 (if both handles of a range are at 0,</span>
<a name="l7115"><span class="linenum">7115</span></a>  <span class="comment">        // the first is always used as the one with least distance,</span>
<a name="l7116"><span class="linenum">7116</span></a>  <span class="comment">        // and moving it is obviously prevented by preventing negative ranges)</span>
<a name="l7117"><span class="linenum">7117</span></a>          if( o.range === true &amp;&amp; this.values(1) === o.min ) {
<a name="l7118"><span class="linenum">7118</span></a>              index += 1;
<a name="l7119"><span class="linenum">7119</span></a>              closestHandle = $( this.handles[index] );
<a name="l7120"><span class="linenum">7120</span></a>          }
<a name="l7121"><span class="linenum">7121</span></a>  
<a name="l7122"><span class="linenum">7122</span></a>          allowed = this._start( event, index );
<a name="l7123"><span class="linenum">7123</span></a>          if ( allowed === false ) {
<a name="l7124"><span class="linenum">7124</span></a>              return false;
<a name="l7125"><span class="linenum">7125</span></a>          }
<a name="l7126"><span class="linenum">7126</span></a>          this._mouseSliding = true;
<a name="l7127"><span class="linenum">7127</span></a>  
<a name="l7128"><span class="linenum">7128</span></a>          self._handleIndex = index;
<a name="l7129"><span class="linenum">7129</span></a>  
<a name="l7130"><span class="linenum">7130</span></a>          closestHandle
<a name="l7131"><span class="linenum">7131</span></a>              .addClass( &quot;ui-state-active&quot; )
<a name="l7132"><span class="linenum">7132</span></a>              .focus();
<a name="l7133"><span class="linenum">7133</span></a>          
<a name="l7134"><span class="linenum">7134</span></a>          offset = closestHandle.offset();
<a name="l7135"><span class="linenum">7135</span></a>          mouseOverHandle = !$( event.target ).parents().andSelf().is( &quot;.ui-slider-handle&quot; );
<a name="l7136"><span class="linenum">7136</span></a>          this._clickOffset = mouseOverHandle ? { left: 0, top: 0 } : {
<a name="l7137"><span class="linenum">7137</span></a>              left: event.pageX - offset.left - ( closestHandle.width() / 2 ),
<a name="l7138"><span class="linenum">7138</span></a>              top: event.pageY - offset.top -
<a name="l7139"><span class="linenum">7139</span></a>                  ( closestHandle.height() / 2 ) -
<a name="l7140"><span class="linenum">7140</span></a>                  ( parseInt( closestHandle.css(&quot;borderTopWidth&quot;), 10 ) || 0 ) -
<a name="l7141"><span class="linenum">7141</span></a>                  ( parseInt( closestHandle.css(&quot;borderBottomWidth&quot;), 10 ) || 0) +
<a name="l7142"><span class="linenum">7142</span></a>                  ( parseInt( closestHandle.css(&quot;marginTop&quot;), 10 ) || 0)
<a name="l7143"><span class="linenum">7143</span></a>          };
<a name="l7144"><span class="linenum">7144</span></a>  
<a name="l7145"><span class="linenum">7145</span></a>          if ( !this.handles.<a class="function" onClick="logFunction('hasClass')" href="../../../../_functions/hasclass.html" onMouseOver="funcPopup(event,'hasclass')">hasClass</a>( &quot;ui-state-hover&quot; ) ) {
<a name="l7146"><span class="linenum">7146</span></a>              this._slide( event, index, normValue );
<a name="l7147"><span class="linenum">7147</span></a>          }
<a name="l7148"><span class="linenum">7148</span></a>          this._animateOff = true;
<a name="l7149"><span class="linenum">7149</span></a>          return true;
<a name="l7150"><span class="linenum">7150</span></a>      },
<a name="l7151"><span class="linenum">7151</span></a>  
<a name="l7152"><span class="linenum">7152</span></a>      _mouseStart: function( event ) {
<a name="l7153"><span class="linenum">7153</span></a>          return true;
<a name="l7154"><span class="linenum">7154</span></a>      },
<a name="l7155"><span class="linenum">7155</span></a>  
<a name="l7156"><span class="linenum">7156</span></a>      _mouseDrag: function( event ) {
<a name="l7157"><span class="linenum">7157</span></a>          var position = { x: event.pageX, y: event.pageY },
<a name="l7158"><span class="linenum">7158</span></a>              normValue = this._normValueFromMouse( position );
<a name="l7159"><span class="linenum">7159</span></a>          
<a name="l7160"><span class="linenum">7160</span></a>          this._slide( event, this._handleIndex, normValue );
<a name="l7161"><span class="linenum">7161</span></a>  
<a name="l7162"><span class="linenum">7162</span></a>          return false;
<a name="l7163"><span class="linenum">7163</span></a>      },
<a name="l7164"><span class="linenum">7164</span></a>  
<a name="l7165"><span class="linenum">7165</span></a>      _mouseStop: function( event ) {
<a name="l7166"><span class="linenum">7166</span></a>          this.handles.removeClass( &quot;ui-state-active&quot; );
<a name="l7167"><span class="linenum">7167</span></a>          this._mouseSliding = false;
<a name="l7168"><span class="linenum">7168</span></a>  
<a name="l7169"><span class="linenum">7169</span></a>          this._stop( event, this._handleIndex );
<a name="l7170"><span class="linenum">7170</span></a>          this._change( event, this._handleIndex );
<a name="l7171"><span class="linenum">7171</span></a>  
<a name="l7172"><span class="linenum">7172</span></a>          this._handleIndex = null;
<a name="l7173"><span class="linenum">7173</span></a>          this._clickOffset = null;
<a name="l7174"><span class="linenum">7174</span></a>          this._animateOff = false;
<a name="l7175"><span class="linenum">7175</span></a>  
<a name="l7176"><span class="linenum">7176</span></a>          return false;
<a name="l7177"><span class="linenum">7177</span></a>      },
<a name="l7178"><span class="linenum">7178</span></a>      
<a name="l7179"><span class="linenum">7179</span></a>      _detectOrientation: function() {
<a name="l7180"><span class="linenum">7180</span></a>          this.orientation = ( this.options.orientation === &quot;vertical&quot; ) ? &quot;vertical&quot; : &quot;horizontal&quot;;
<a name="l7181"><span class="linenum">7181</span></a>      },
<a name="l7182"><span class="linenum">7182</span></a>  
<a name="l7183"><span class="linenum">7183</span></a>      _normValueFromMouse: function( position ) {
<a name="l7184"><span class="linenum">7184</span></a>          var pixelTotal,
<a name="l7185"><span class="linenum">7185</span></a>              pixelMouse,
<a name="l7186"><span class="linenum">7186</span></a>              percentMouse,
<a name="l7187"><span class="linenum">7187</span></a>              valueTotal,
<a name="l7188"><span class="linenum">7188</span></a>              valueMouse;
<a name="l7189"><span class="linenum">7189</span></a>  
<a name="l7190"><span class="linenum">7190</span></a>          if ( this.orientation === &quot;horizontal&quot; ) {
<a name="l7191"><span class="linenum">7191</span></a>              pixelTotal = this.elementSize.width;
<a name="l7192"><span class="linenum">7192</span></a>              pixelMouse = position.x - this.elementOffset.left - ( this._clickOffset ? this._clickOffset.left : 0 );
<a name="l7193"><span class="linenum">7193</span></a>          } else {
<a name="l7194"><span class="linenum">7194</span></a>              pixelTotal = this.elementSize.height;
<a name="l7195"><span class="linenum">7195</span></a>              pixelMouse = position.y - this.elementOffset.top - ( this._clickOffset ? this._clickOffset.top : 0 );
<a name="l7196"><span class="linenum">7196</span></a>          }
<a name="l7197"><span class="linenum">7197</span></a>  
<a name="l7198"><span class="linenum">7198</span></a>          percentMouse = ( pixelMouse / pixelTotal );
<a name="l7199"><span class="linenum">7199</span></a>          if ( percentMouse &gt; 1 ) {
<a name="l7200"><span class="linenum">7200</span></a>              percentMouse = 1;
<a name="l7201"><span class="linenum">7201</span></a>          }
<a name="l7202"><span class="linenum">7202</span></a>          if ( percentMouse &lt; 0 ) {
<a name="l7203"><span class="linenum">7203</span></a>              percentMouse = 0;
<a name="l7204"><span class="linenum">7204</span></a>          }
<a name="l7205"><span class="linenum">7205</span></a>          if ( this.orientation === &quot;vertical&quot; ) {
<a name="l7206"><span class="linenum">7206</span></a>              percentMouse = 1 - percentMouse;
<a name="l7207"><span class="linenum">7207</span></a>          }
<a name="l7208"><span class="linenum">7208</span></a>  
<a name="l7209"><span class="linenum">7209</span></a>          valueTotal = this._valueMax() - this._valueMin();
<a name="l7210"><span class="linenum">7210</span></a>          valueMouse = this._valueMin() + percentMouse * valueTotal;
<a name="l7211"><span class="linenum">7211</span></a>  
<a name="l7212"><span class="linenum">7212</span></a>          return this._trimAlignValue( valueMouse );
<a name="l7213"><span class="linenum">7213</span></a>      },
<a name="l7214"><span class="linenum">7214</span></a>  
<a name="l7215"><span class="linenum">7215</span></a>      _start: function( event, index ) {
<a name="l7216"><span class="linenum">7216</span></a>          var uiHash = {
<a name="l7217"><span class="linenum">7217</span></a>              handle: this.handles[ index ],
<a name="l7218"><span class="linenum">7218</span></a>              value: this.<a class="function" onClick="logFunction('value')" href="../../../../_functions/value.html" onMouseOver="funcPopup(event,'value')">value</a>()
<a name="l7219"><span class="linenum">7219</span></a>          };
<a name="l7220"><span class="linenum">7220</span></a>          if ( this.options.values &amp;&amp; this.options.values.length ) {
<a name="l7221"><span class="linenum">7221</span></a>              uiHash.value = this.values( index );
<a name="l7222"><span class="linenum">7222</span></a>              uiHash.values = this.values();
<a name="l7223"><span class="linenum">7223</span></a>          }
<a name="l7224"><span class="linenum">7224</span></a>          return this._trigger( &quot;start&quot;, event, uiHash );
<a name="l7225"><span class="linenum">7225</span></a>      },
<a name="l7226"><span class="linenum">7226</span></a>  
<a name="l7227"><span class="linenum">7227</span></a>      _slide: function( event, index, newVal ) {
<a name="l7228"><span class="linenum">7228</span></a>          var otherVal,
<a name="l7229"><span class="linenum">7229</span></a>              newValues,
<a name="l7230"><span class="linenum">7230</span></a>              allowed;
<a name="l7231"><span class="linenum">7231</span></a>  
<a name="l7232"><span class="linenum">7232</span></a>          if ( this.options.values &amp;&amp; this.options.values.length ) {
<a name="l7233"><span class="linenum">7233</span></a>              otherVal = this.values( index ? 0 : 1 );
<a name="l7234"><span class="linenum">7234</span></a>  
<a name="l7235"><span class="linenum">7235</span></a>              if ( ( this.options.values.length === 2 &amp;&amp; this.options.range === true ) &amp;&amp; 
<a name="l7236"><span class="linenum">7236</span></a>                      ( ( index === 0 &amp;&amp; newVal &gt; otherVal) || ( index === 1 &amp;&amp; newVal &lt; otherVal ) )
<a name="l7237"><span class="linenum">7237</span></a>                  ) {
<a name="l7238"><span class="linenum">7238</span></a>                  newVal = otherVal;
<a name="l7239"><span class="linenum">7239</span></a>              }
<a name="l7240"><span class="linenum">7240</span></a>  
<a name="l7241"><span class="linenum">7241</span></a>              if ( newVal !== this.values( index ) ) {
<a name="l7242"><span class="linenum">7242</span></a>                  newValues = this.values();
<a name="l7243"><span class="linenum">7243</span></a>                  newValues[ index ] = newVal;
<a name="l7244"><span class="linenum">7244</span></a>  <span class="comment">                // A slide can be canceled by returning false from the slide callback</span>
<a name="l7245"><span class="linenum">7245</span></a>                  allowed = this._trigger( &quot;slide&quot;, event, {
<a name="l7246"><span class="linenum">7246</span></a>                      handle: this.handles[ index ],
<a name="l7247"><span class="linenum">7247</span></a>                      value: newVal,
<a name="l7248"><span class="linenum">7248</span></a>                      values: newValues
<a name="l7249"><span class="linenum">7249</span></a>                  } );
<a name="l7250"><span class="linenum">7250</span></a>                  otherVal = this.values( index ? 0 : 1 );
<a name="l7251"><span class="linenum">7251</span></a>                  if ( allowed !== false ) {
<a name="l7252"><span class="linenum">7252</span></a>                      this.values( index, newVal, true );
<a name="l7253"><span class="linenum">7253</span></a>                  }
<a name="l7254"><span class="linenum">7254</span></a>              }
<a name="l7255"><span class="linenum">7255</span></a>          } else {
<a name="l7256"><span class="linenum">7256</span></a>              if ( newVal !== this.<a class="function" onClick="logFunction('value')" href="../../../../_functions/value.html" onMouseOver="funcPopup(event,'value')">value</a>() ) {
<a name="l7257"><span class="linenum">7257</span></a>  <span class="comment">                // A slide can be canceled by returning false from the slide callback</span>
<a name="l7258"><span class="linenum">7258</span></a>                  allowed = this._trigger( &quot;slide&quot;, event, {
<a name="l7259"><span class="linenum">7259</span></a>                      handle: this.handles[ index ],
<a name="l7260"><span class="linenum">7260</span></a>                      value: newVal
<a name="l7261"><span class="linenum">7261</span></a>                  } );
<a name="l7262"><span class="linenum">7262</span></a>                  if ( allowed !== false ) {
<a name="l7263"><span class="linenum">7263</span></a>                      this.<a class="function" onClick="logFunction('value')" href="../../../../_functions/value.html" onMouseOver="funcPopup(event,'value')">value</a>( newVal );
<a name="l7264"><span class="linenum">7264</span></a>                  }
<a name="l7265"><span class="linenum">7265</span></a>              }
<a name="l7266"><span class="linenum">7266</span></a>          }
<a name="l7267"><span class="linenum">7267</span></a>      },
<a name="l7268"><span class="linenum">7268</span></a>  
<a name="l7269"><span class="linenum">7269</span></a>      _stop: function( event, index ) {
<a name="l7270"><span class="linenum">7270</span></a>          var uiHash = {
<a name="l7271"><span class="linenum">7271</span></a>              handle: this.handles[ index ],
<a name="l7272"><span class="linenum">7272</span></a>              value: this.<a class="function" onClick="logFunction('value')" href="../../../../_functions/value.html" onMouseOver="funcPopup(event,'value')">value</a>()
<a name="l7273"><span class="linenum">7273</span></a>          };
<a name="l7274"><span class="linenum">7274</span></a>          if ( this.options.values &amp;&amp; this.options.values.length ) {
<a name="l7275"><span class="linenum">7275</span></a>              uiHash.value = this.values( index );
<a name="l7276"><span class="linenum">7276</span></a>              uiHash.values = this.values();
<a name="l7277"><span class="linenum">7277</span></a>          }
<a name="l7278"><span class="linenum">7278</span></a>  
<a name="l7279"><span class="linenum">7279</span></a>          this._trigger( &quot;stop&quot;, event, uiHash );
<a name="l7280"><span class="linenum">7280</span></a>      },
<a name="l7281"><span class="linenum">7281</span></a>  
<a name="l7282"><span class="linenum">7282</span></a>      _change: function( event, index ) {
<a name="l7283"><span class="linenum">7283</span></a>          if ( !this._keySliding &amp;&amp; !this._mouseSliding ) {
<a name="l7284"><span class="linenum">7284</span></a>              var uiHash = {
<a name="l7285"><span class="linenum">7285</span></a>                  handle: this.handles[ index ],
<a name="l7286"><span class="linenum">7286</span></a>                  value: this.<a class="function" onClick="logFunction('value')" href="../../../../_functions/value.html" onMouseOver="funcPopup(event,'value')">value</a>()
<a name="l7287"><span class="linenum">7287</span></a>              };
<a name="l7288"><span class="linenum">7288</span></a>              if ( this.options.values &amp;&amp; this.options.values.length ) {
<a name="l7289"><span class="linenum">7289</span></a>                  uiHash.value = this.values( index );
<a name="l7290"><span class="linenum">7290</span></a>                  uiHash.values = this.values();
<a name="l7291"><span class="linenum">7291</span></a>              }
<a name="l7292"><span class="linenum">7292</span></a>  
<a name="l7293"><span class="linenum">7293</span></a>              this._trigger( &quot;change&quot;, event, uiHash );
<a name="l7294"><span class="linenum">7294</span></a>          }
<a name="l7295"><span class="linenum">7295</span></a>      },
<a name="l7296"><span class="linenum">7296</span></a>  
<a name="l7297"><span class="linenum">7297</span></a>      value: function( newValue ) {
<a name="l7298"><span class="linenum">7298</span></a>          if ( arguments.length ) {
<a name="l7299"><span class="linenum">7299</span></a>              this.options.value = this._trimAlignValue( newValue );
<a name="l7300"><span class="linenum">7300</span></a>              this._refreshValue();
<a name="l7301"><span class="linenum">7301</span></a>              this._change( null, 0 );
<a name="l7302"><span class="linenum">7302</span></a>              return;
<a name="l7303"><span class="linenum">7303</span></a>          }
<a name="l7304"><span class="linenum">7304</span></a>  
<a name="l7305"><span class="linenum">7305</span></a>          return this._value();
<a name="l7306"><span class="linenum">7306</span></a>      },
<a name="l7307"><span class="linenum">7307</span></a>  
<a name="l7308"><span class="linenum">7308</span></a>      values: function( index, newValue ) {
<a name="l7309"><span class="linenum">7309</span></a>          var vals,
<a name="l7310"><span class="linenum">7310</span></a>              newValues,
<a name="l7311"><span class="linenum">7311</span></a>              i;
<a name="l7312"><span class="linenum">7312</span></a>  
<a name="l7313"><span class="linenum">7313</span></a>          if ( arguments.length &gt; 1 ) {
<a name="l7314"><span class="linenum">7314</span></a>              this.options.values[ index ] = this._trimAlignValue( newValue );
<a name="l7315"><span class="linenum">7315</span></a>              this._refreshValue();
<a name="l7316"><span class="linenum">7316</span></a>              this._change( null, index );
<a name="l7317"><span class="linenum">7317</span></a>              return;
<a name="l7318"><span class="linenum">7318</span></a>          }
<a name="l7319"><span class="linenum">7319</span></a>  
<a name="l7320"><span class="linenum">7320</span></a>          if ( arguments.length ) {
<a name="l7321"><span class="linenum">7321</span></a>              if ( $.<a class="function" onClick="logFunction('isArray')" href="../../../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>( arguments[ 0 ] ) ) {
<a name="l7322"><span class="linenum">7322</span></a>                  vals = this.options.values;
<a name="l7323"><span class="linenum">7323</span></a>                  newValues = arguments[ 0 ];
<a name="l7324"><span class="linenum">7324</span></a>                  for ( i = 0; i &lt; vals.length; i += 1 ) {
<a name="l7325"><span class="linenum">7325</span></a>                      vals[ i ] = this._trimAlignValue( newValues[ i ] );
<a name="l7326"><span class="linenum">7326</span></a>                      this._change( null, i );
<a name="l7327"><span class="linenum">7327</span></a>                  }
<a name="l7328"><span class="linenum">7328</span></a>                  this._refreshValue();
<a name="l7329"><span class="linenum">7329</span></a>              } else {
<a name="l7330"><span class="linenum">7330</span></a>                  if ( this.options.values &amp;&amp; this.options.values.length ) {
<a name="l7331"><span class="linenum">7331</span></a>                      return this._values( index );
<a name="l7332"><span class="linenum">7332</span></a>                  } else {
<a name="l7333"><span class="linenum">7333</span></a>                      return this.<a class="function" onClick="logFunction('value')" href="../../../../_functions/value.html" onMouseOver="funcPopup(event,'value')">value</a>();
<a name="l7334"><span class="linenum">7334</span></a>                  }
<a name="l7335"><span class="linenum">7335</span></a>              }
<a name="l7336"><span class="linenum">7336</span></a>          } else {
<a name="l7337"><span class="linenum">7337</span></a>              return this._values();
<a name="l7338"><span class="linenum">7338</span></a>          }
<a name="l7339"><span class="linenum">7339</span></a>      },
<a name="l7340"><span class="linenum">7340</span></a>  
<a name="l7341"><span class="linenum">7341</span></a>      _setOption: function( key, value ) {
<a name="l7342"><span class="linenum">7342</span></a>          var i,
<a name="l7343"><span class="linenum">7343</span></a>              valsLength = 0;
<a name="l7344"><span class="linenum">7344</span></a>  
<a name="l7345"><span class="linenum">7345</span></a>          if ( $.<a class="function" onClick="logFunction('isArray')" href="../../../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>( this.options.values ) ) {
<a name="l7346"><span class="linenum">7346</span></a>              valsLength = this.options.values.length;
<a name="l7347"><span class="linenum">7347</span></a>          }
<a name="l7348"><span class="linenum">7348</span></a>  
<a name="l7349"><span class="linenum">7349</span></a>          $.Widget.prototype._setOption.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>( this, arguments );
<a name="l7350"><span class="linenum">7350</span></a>  
<a name="l7351"><span class="linenum">7351</span></a>          switch ( key ) {
<a name="l7352"><span class="linenum">7352</span></a>              case &quot;disabled&quot;:
<a name="l7353"><span class="linenum">7353</span></a>                  if ( value ) {
<a name="l7354"><span class="linenum">7354</span></a>                      this.handles.filter( &quot;.ui-state-focus&quot; ).blur();
<a name="l7355"><span class="linenum">7355</span></a>                      this.handles.removeClass( &quot;ui-state-hover&quot; );
<a name="l7356"><span class="linenum">7356</span></a>                      this.handles.propAttr( &quot;disabled&quot;, true );
<a name="l7357"><span class="linenum">7357</span></a>                      this.element.addClass( &quot;ui-disabled&quot; );
<a name="l7358"><span class="linenum">7358</span></a>                  } else {
<a name="l7359"><span class="linenum">7359</span></a>                      this.handles.propAttr( &quot;disabled&quot;, false );
<a name="l7360"><span class="linenum">7360</span></a>                      this.element.removeClass( &quot;ui-disabled&quot; );
<a name="l7361"><span class="linenum">7361</span></a>                  }
<a name="l7362"><span class="linenum">7362</span></a>                  break;
<a name="l7363"><span class="linenum">7363</span></a>              case &quot;orientation&quot;:
<a name="l7364"><span class="linenum">7364</span></a>                  this._detectOrientation();
<a name="l7365"><span class="linenum">7365</span></a>                  this.element
<a name="l7366"><span class="linenum">7366</span></a>                      .removeClass( &quot;ui-slider-horizontal ui-slider-vertical&quot; )
<a name="l7367"><span class="linenum">7367</span></a>                      .addClass( &quot;ui-slider-&quot; + this.orientation );
<a name="l7368"><span class="linenum">7368</span></a>                  this._refreshValue();
<a name="l7369"><span class="linenum">7369</span></a>                  break;
<a name="l7370"><span class="linenum">7370</span></a>              case &quot;value&quot;:
<a name="l7371"><span class="linenum">7371</span></a>                  this._animateOff = true;
<a name="l7372"><span class="linenum">7372</span></a>                  this._refreshValue();
<a name="l7373"><span class="linenum">7373</span></a>                  this._change( null, 0 );
<a name="l7374"><span class="linenum">7374</span></a>                  this._animateOff = false;
<a name="l7375"><span class="linenum">7375</span></a>                  break;
<a name="l7376"><span class="linenum">7376</span></a>              case &quot;values&quot;:
<a name="l7377"><span class="linenum">7377</span></a>                  this._animateOff = true;
<a name="l7378"><span class="linenum">7378</span></a>                  this._refreshValue();
<a name="l7379"><span class="linenum">7379</span></a>                  for ( i = 0; i &lt; valsLength; i += 1 ) {
<a name="l7380"><span class="linenum">7380</span></a>                      this._change( null, i );
<a name="l7381"><span class="linenum">7381</span></a>                  }
<a name="l7382"><span class="linenum">7382</span></a>                  this._animateOff = false;
<a name="l7383"><span class="linenum">7383</span></a>                  break;
<a name="l7384"><span class="linenum">7384</span></a>          }
<a name="l7385"><span class="linenum">7385</span></a>      },
<a name="l7386"><span class="linenum">7386</span></a>  
<a name="l7387"><span class="linenum">7387</span></a>  <span class="comment">    //internal value getter</span>
<a name="l7388"><span class="linenum">7388</span></a>  <span class="comment">    // _value() returns value trimmed by min and max, aligned by step</span>
<a name="l7389"><span class="linenum">7389</span></a>      _value: function() {
<a name="l7390"><span class="linenum">7390</span></a>          var val = this.options.value;
<a name="l7391"><span class="linenum">7391</span></a>          val = this._trimAlignValue( val );
<a name="l7392"><span class="linenum">7392</span></a>  
<a name="l7393"><span class="linenum">7393</span></a>          return val;
<a name="l7394"><span class="linenum">7394</span></a>      },
<a name="l7395"><span class="linenum">7395</span></a>  
<a name="l7396"><span class="linenum">7396</span></a>  <span class="comment">    //internal values getter</span>
<a name="l7397"><span class="linenum">7397</span></a>  <span class="comment">    // _values() returns array of values trimmed by min and max, aligned by step</span>
<a name="l7398"><span class="linenum">7398</span></a>  <span class="comment">    // _values( index ) returns single value trimmed by min and max, aligned by step</span>
<a name="l7399"><span class="linenum">7399</span></a>      _values: function( index ) {
<a name="l7400"><span class="linenum">7400</span></a>          var val,
<a name="l7401"><span class="linenum">7401</span></a>              vals,
<a name="l7402"><span class="linenum">7402</span></a>              i;
<a name="l7403"><span class="linenum">7403</span></a>  
<a name="l7404"><span class="linenum">7404</span></a>          if ( arguments.length ) {
<a name="l7405"><span class="linenum">7405</span></a>              val = this.options.values[ index ];
<a name="l7406"><span class="linenum">7406</span></a>              val = this._trimAlignValue( val );
<a name="l7407"><span class="linenum">7407</span></a>  
<a name="l7408"><span class="linenum">7408</span></a>              return val;
<a name="l7409"><span class="linenum">7409</span></a>          } else {
<a name="l7410"><span class="linenum">7410</span></a>  <span class="comment">            // .slice() creates a copy of the array</span>
<a name="l7411"><span class="linenum">7411</span></a>  <span class="comment">            // this copy gets trimmed by min and max and then returned</span>
<a name="l7412"><span class="linenum">7412</span></a>              vals = this.options.values.slice();
<a name="l7413"><span class="linenum">7413</span></a>              for ( i = 0; i &lt; vals.length; i+= 1) {
<a name="l7414"><span class="linenum">7414</span></a>                  vals[ i ] = this._trimAlignValue( vals[ i ] );
<a name="l7415"><span class="linenum">7415</span></a>              }
<a name="l7416"><span class="linenum">7416</span></a>  
<a name="l7417"><span class="linenum">7417</span></a>              return vals;
<a name="l7418"><span class="linenum">7418</span></a>          }
<a name="l7419"><span class="linenum">7419</span></a>      },
<a name="l7420"><span class="linenum">7420</span></a>      
<a name="l7421"><span class="linenum">7421</span></a>  <span class="comment">    // returns the step-aligned value that val is closest to, between (inclusive) min and max</span>
<a name="l7422"><span class="linenum">7422</span></a>      _trimAlignValue: function( val ) {
<a name="l7423"><span class="linenum">7423</span></a>          if ( val &lt;= this._valueMin() ) {
<a name="l7424"><span class="linenum">7424</span></a>              return this._valueMin();
<a name="l7425"><span class="linenum">7425</span></a>          }
<a name="l7426"><span class="linenum">7426</span></a>          if ( val &gt;= this._valueMax() ) {
<a name="l7427"><span class="linenum">7427</span></a>              return this._valueMax();
<a name="l7428"><span class="linenum">7428</span></a>          }
<a name="l7429"><span class="linenum">7429</span></a>          var step = ( this.options.step &gt; 0 ) ? this.options.step : 1,
<a name="l7430"><span class="linenum">7430</span></a>              valModStep = (val - this._valueMin()) % step,
<a name="l7431"><span class="linenum">7431</span></a>              alignValue = val - valModStep;
<a name="l7432"><span class="linenum">7432</span></a>  
<a name="l7433"><span class="linenum">7433</span></a>          if ( Math.<a class="phpfunction" onClick="logFunction('abs')" href="../../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(valModStep) * 2 &gt;= step ) {
<a name="l7434"><span class="linenum">7434</span></a>              alignValue += ( valModStep &gt; 0 ) ? step : ( -step );
<a name="l7435"><span class="linenum">7435</span></a>          }
<a name="l7436"><span class="linenum">7436</span></a>  
<a name="l7437"><span class="linenum">7437</span></a>  <span class="comment">        // Since JavaScript has problems with large floats, round</span>
<a name="l7438"><span class="linenum">7438</span></a>  <span class="comment">        // the final value to 5 digits after the decimal point (see #4124)</span>
<a name="l7439"><span class="linenum">7439</span></a>          return parseFloat( alignValue.toFixed(5) );
<a name="l7440"><span class="linenum">7440</span></a>      },
<a name="l7441"><span class="linenum">7441</span></a>  
<a name="l7442"><span class="linenum">7442</span></a>      _valueMin: function() {
<a name="l7443"><span class="linenum">7443</span></a>          return this.options.min;
<a name="l7444"><span class="linenum">7444</span></a>      },
<a name="l7445"><span class="linenum">7445</span></a>  
<a name="l7446"><span class="linenum">7446</span></a>      _valueMax: function() {
<a name="l7447"><span class="linenum">7447</span></a>          return this.options.max;
<a name="l7448"><span class="linenum">7448</span></a>      },
<a name="l7449"><span class="linenum">7449</span></a>      
<a name="l7450"><span class="linenum">7450</span></a>      _refreshValue: function() {
<a name="l7451"><span class="linenum">7451</span></a>          var oRange = this.options.range,
<a name="l7452"><span class="linenum">7452</span></a>              o = this.options,
<a name="l7453"><span class="linenum">7453</span></a>              self = this,
<a name="l7454"><span class="linenum">7454</span></a>              animate = ( !this._animateOff ) ? o.animate : false,
<a name="l7455"><span class="linenum">7455</span></a>              valPercent,
<a name="l7456"><span class="linenum">7456</span></a>              _set = {},
<a name="l7457"><span class="linenum">7457</span></a>              lastValPercent,
<a name="l7458"><span class="linenum">7458</span></a>              value,
<a name="l7459"><span class="linenum">7459</span></a>              valueMin,
<a name="l7460"><span class="linenum">7460</span></a>              valueMax;
<a name="l7461"><span class="linenum">7461</span></a>  
<a name="l7462"><span class="linenum">7462</span></a>          if ( this.options.values &amp;&amp; this.options.values.length ) {
<a name="l7463"><span class="linenum">7463</span></a>              this.handles.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function( i, j ) {
<a name="l7464"><span class="linenum">7464</span></a>                  valPercent = ( self.values(i) - self._valueMin() ) / ( self._valueMax() - self._valueMin() ) * 100;
<a name="l7465"><span class="linenum">7465</span></a>                  _set[ self.orientation === &quot;horizontal&quot; ? &quot;left&quot; : &quot;bottom&quot; ] = valPercent + &quot;%&quot;;
<a name="l7466"><span class="linenum">7466</span></a>                  $( this ).<a class="function" onClick="logFunction('stop')" href="../../../../_functions/stop.html" onMouseOver="funcPopup(event,'stop')">stop</a>( 1, 1 )[ animate ? &quot;animate&quot; : &quot;css&quot; ]( _set, o.animate );
<a name="l7467"><span class="linenum">7467</span></a>                  if ( self.options.range === true ) {
<a name="l7468"><span class="linenum">7468</span></a>                      if ( self.orientation === &quot;horizontal&quot; ) {
<a name="l7469"><span class="linenum">7469</span></a>                          if ( i === 0 ) {
<a name="l7470"><span class="linenum">7470</span></a>                              self.range.<a class="function" onClick="logFunction('stop')" href="../../../../_functions/stop.html" onMouseOver="funcPopup(event,'stop')">stop</a>( 1, 1 )[ animate ? &quot;animate&quot; : &quot;css&quot; ]( { left: valPercent + &quot;%&quot; }, o.animate );
<a name="l7471"><span class="linenum">7471</span></a>                          }
<a name="l7472"><span class="linenum">7472</span></a>                          if ( i === 1 ) {
<a name="l7473"><span class="linenum">7473</span></a>                              self.range[ animate ? &quot;animate&quot; : &quot;css&quot; ]( { width: ( valPercent - lastValPercent ) + &quot;%&quot; }, { queue: false, duration: o.animate } );
<a name="l7474"><span class="linenum">7474</span></a>                          }
<a name="l7475"><span class="linenum">7475</span></a>                      } else {
<a name="l7476"><span class="linenum">7476</span></a>                          if ( i === 0 ) {
<a name="l7477"><span class="linenum">7477</span></a>                              self.range.<a class="function" onClick="logFunction('stop')" href="../../../../_functions/stop.html" onMouseOver="funcPopup(event,'stop')">stop</a>( 1, 1 )[ animate ? &quot;animate&quot; : &quot;css&quot; ]( { bottom: ( valPercent ) + &quot;%&quot; }, o.animate );
<a name="l7478"><span class="linenum">7478</span></a>                          }
<a name="l7479"><span class="linenum">7479</span></a>                          if ( i === 1 ) {
<a name="l7480"><span class="linenum">7480</span></a>                              self.range[ animate ? &quot;animate&quot; : &quot;css&quot; ]( { height: ( valPercent - lastValPercent ) + &quot;%&quot; }, { queue: false, duration: o.animate } );
<a name="l7481"><span class="linenum">7481</span></a>                          }
<a name="l7482"><span class="linenum">7482</span></a>                      }
<a name="l7483"><span class="linenum">7483</span></a>                  }
<a name="l7484"><span class="linenum">7484</span></a>                  lastValPercent = valPercent;
<a name="l7485"><span class="linenum">7485</span></a>              });
<a name="l7486"><span class="linenum">7486</span></a>          } else {
<a name="l7487"><span class="linenum">7487</span></a>              value = this.<a class="function" onClick="logFunction('value')" href="../../../../_functions/value.html" onMouseOver="funcPopup(event,'value')">value</a>();
<a name="l7488"><span class="linenum">7488</span></a>              valueMin = this._valueMin();
<a name="l7489"><span class="linenum">7489</span></a>              valueMax = this._valueMax();
<a name="l7490"><span class="linenum">7490</span></a>              valPercent = ( valueMax !== valueMin ) ?
<a name="l7491"><span class="linenum">7491</span></a>                      ( value - valueMin ) / ( valueMax - valueMin ) * 100 :
<a name="l7492"><span class="linenum">7492</span></a>                      0;
<a name="l7493"><span class="linenum">7493</span></a>              _set[ self.orientation === &quot;horizontal&quot; ? &quot;left&quot; : &quot;bottom&quot; ] = valPercent + &quot;%&quot;;
<a name="l7494"><span class="linenum">7494</span></a>              this.handle.<a class="function" onClick="logFunction('stop')" href="../../../../_functions/stop.html" onMouseOver="funcPopup(event,'stop')">stop</a>( 1, 1 )[ animate ? &quot;animate&quot; : &quot;css&quot; ]( _set, o.animate );
<a name="l7495"><span class="linenum">7495</span></a>  
<a name="l7496"><span class="linenum">7496</span></a>              if ( oRange === &quot;min&quot; &amp;&amp; this.orientation === &quot;horizontal&quot; ) {
<a name="l7497"><span class="linenum">7497</span></a>                  this.range.<a class="function" onClick="logFunction('stop')" href="../../../../_functions/stop.html" onMouseOver="funcPopup(event,'stop')">stop</a>( 1, 1 )[ animate ? &quot;animate&quot; : &quot;css&quot; ]( { width: valPercent + &quot;%&quot; }, o.animate );
<a name="l7498"><span class="linenum">7498</span></a>              }
<a name="l7499"><span class="linenum">7499</span></a>              if ( oRange === &quot;max&quot; &amp;&amp; this.orientation === &quot;horizontal&quot; ) {
<a name="l7500"><span class="linenum">7500</span></a>                  this.range[ animate ? &quot;animate&quot; : &quot;css&quot; ]( { width: ( 100 - valPercent ) + &quot;%&quot; }, { queue: false, duration: o.animate } );
<a name="l7501"><span class="linenum">7501</span></a>              }
<a name="l7502"><span class="linenum">7502</span></a>              if ( oRange === &quot;min&quot; &amp;&amp; this.orientation === &quot;vertical&quot; ) {
<a name="l7503"><span class="linenum">7503</span></a>                  this.range.<a class="function" onClick="logFunction('stop')" href="../../../../_functions/stop.html" onMouseOver="funcPopup(event,'stop')">stop</a>( 1, 1 )[ animate ? &quot;animate&quot; : &quot;css&quot; ]( { height: valPercent + &quot;%&quot; }, o.animate );
<a name="l7504"><span class="linenum">7504</span></a>              }
<a name="l7505"><span class="linenum">7505</span></a>              if ( oRange === &quot;max&quot; &amp;&amp; this.orientation === &quot;vertical&quot; ) {
<a name="l7506"><span class="linenum">7506</span></a>                  this.range[ animate ? &quot;animate&quot; : &quot;css&quot; ]( { height: ( 100 - valPercent ) + &quot;%&quot; }, { queue: false, duration: o.animate } );
<a name="l7507"><span class="linenum">7507</span></a>              }
<a name="l7508"><span class="linenum">7508</span></a>          }
<a name="l7509"><span class="linenum">7509</span></a>      }
<a name="l7510"><span class="linenum">7510</span></a>  
<a name="l7511"><span class="linenum">7511</span></a>  });
<a name="l7512"><span class="linenum">7512</span></a>  
<a name="l7513"><span class="linenum">7513</span></a>  $.extend( $.ui.slider, {
<a name="l7514"><span class="linenum">7514</span></a>      version: &quot;1.8.18&quot;
<a name="l7515"><span class="linenum">7515</span></a>  });
<a name="l7516"><span class="linenum">7516</span></a>  
<a name="l7517"><span class="linenum">7517</span></a>  }(jQuery));
<a name="l7518"><span class="linenum">7518</span></a>  <span class="comment">/*</span>
<a name="l7519"><span class="linenum">7519</span></a>  <span class="comment"> * jQuery UI Tabs 1.8.18</span>
<a name="l7520"><span class="linenum">7520</span></a>  <span class="comment"> *</span>
<a name="l7521"><span class="linenum">7521</span></a>  <span class="comment"> * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l7522"><span class="linenum">7522</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l7523"><span class="linenum">7523</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l7524"><span class="linenum">7524</span></a>  <span class="comment"> *</span>
<a name="l7525"><span class="linenum">7525</span></a>  <span class="comment"> * http://docs.jquery.com/UI/Tabs</span>
<a name="l7526"><span class="linenum">7526</span></a>  <span class="comment"> *</span>
<a name="l7527"><span class="linenum">7527</span></a>  <span class="comment"> * Depends:</span>
<a name="l7528"><span class="linenum">7528</span></a>  <span class="comment"> *    jquery.ui.core.js</span>
<a name="l7529"><span class="linenum">7529</span></a>  <span class="comment"> *    jquery.ui.widget.js</span>
<a name="l7530"><span class="linenum">7530</span></a>  <span class="comment"> */</span>
<a name="l7531"><span class="linenum">7531</span></a>  (function( $, undefined ) {
<a name="l7532"><span class="linenum">7532</span></a>  
<a name="l7533"><span class="linenum">7533</span></a>  var tabId = 0,
<a name="l7534"><span class="linenum">7534</span></a>      listId = 0;
<a name="l7535"><span class="linenum">7535</span></a>  
<a name="l7536"><span class="linenum">7536</span></a>  function <a class="function" onClick="logFunction('getNextTabId')" href="../../../../_functions/getnexttabid.html" onMouseOver="funcPopup(event,'getnexttabid')">getNextTabId</a>() {
<a name="l7537"><span class="linenum">7537</span></a>      return ++tabId;
<a name="l7538"><span class="linenum">7538</span></a>  }
<a name="l7539"><span class="linenum">7539</span></a>  
<a name="l7540"><span class="linenum">7540</span></a>  function <a class="function" onClick="logFunction('getNextListId')" href="../../../../_functions/getnextlistid.html" onMouseOver="funcPopup(event,'getnextlistid')">getNextListId</a>() {
<a name="l7541"><span class="linenum">7541</span></a>      return ++listId;
<a name="l7542"><span class="linenum">7542</span></a>  }
<a name="l7543"><span class="linenum">7543</span></a>  
<a name="l7544"><span class="linenum">7544</span></a>  $.<a class="function" onClick="logFunction('widget')" href="../../../../_functions/widget.html" onMouseOver="funcPopup(event,'widget')">widget</a>( &quot;ui.tabs&quot;, {
<a name="l7545"><span class="linenum">7545</span></a>      options: {
<a name="l7546"><span class="linenum">7546</span></a>          add: null,
<a name="l7547"><span class="linenum">7547</span></a>          ajaxOptions: null,
<a name="l7548"><span class="linenum">7548</span></a>          cache: false,
<a name="l7549"><span class="linenum">7549</span></a>          cookie: null, // e.g. { expires: 7, path: '/', domain: 'jquery.com', secure: true }
<a name="l7550"><span class="linenum">7550</span></a>          collapsible: false,
<a name="l7551"><span class="linenum">7551</span></a>          disable: null,
<a name="l7552"><span class="linenum">7552</span></a>          disabled: [],
<a name="l7553"><span class="linenum">7553</span></a>          enable: null,
<a name="l7554"><span class="linenum">7554</span></a>          event: &quot;click&quot;,
<a name="l7555"><span class="linenum">7555</span></a>          fx: null, // e.g. { height: 'toggle', opacity: 'toggle', duration: 200 }
<a name="l7556"><span class="linenum">7556</span></a>          idPrefix: &quot;ui-tabs-&quot;,
<a name="l7557"><span class="linenum">7557</span></a>          load: null,
<a name="l7558"><span class="linenum">7558</span></a>          panelTemplate: &quot;&lt;div&gt;&lt;/div&gt;&quot;,
<a name="l7559"><span class="linenum">7559</span></a>          remove: null,
<a name="l7560"><span class="linenum">7560</span></a>          select: null,
<a name="l7561"><span class="linenum">7561</span></a>          show: null,
<a name="l7562"><span class="linenum">7562</span></a>          spinner: &quot;&lt;em&gt;Loading&amp;#8230;&lt;/em&gt;&quot;,
<a name="l7563"><span class="linenum">7563</span></a>          tabTemplate: &quot;&lt;li&gt;&lt;a href='#{href}'&gt;&lt;span&gt;#{label}&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;&quot;
<a name="l7564"><span class="linenum">7564</span></a>      },
<a name="l7565"><span class="linenum">7565</span></a>  
<a name="l7566"><span class="linenum">7566</span></a>      _create: function() {
<a name="l7567"><span class="linenum">7567</span></a>          this._tabify( true );
<a name="l7568"><span class="linenum">7568</span></a>      },
<a name="l7569"><span class="linenum">7569</span></a>  
<a name="l7570"><span class="linenum">7570</span></a>      _setOption: function( key, value ) {
<a name="l7571"><span class="linenum">7571</span></a>          if ( key == &quot;selected&quot; ) {
<a name="l7572"><span class="linenum">7572</span></a>              if (this.options.collapsible &amp;&amp; value == this.options.selected ) {
<a name="l7573"><span class="linenum">7573</span></a>                  return;
<a name="l7574"><span class="linenum">7574</span></a>              }
<a name="l7575"><span class="linenum">7575</span></a>              this.<a class="function" onClick="logFunction('select')" href="../../../../_functions/select.html" onMouseOver="funcPopup(event,'select')">select</a>( value );
<a name="l7576"><span class="linenum">7576</span></a>          } else {
<a name="l7577"><span class="linenum">7577</span></a>              this.options[ key ] = value;
<a name="l7578"><span class="linenum">7578</span></a>              this._tabify();
<a name="l7579"><span class="linenum">7579</span></a>          }
<a name="l7580"><span class="linenum">7580</span></a>      },
<a name="l7581"><span class="linenum">7581</span></a>  
<a name="l7582"><span class="linenum">7582</span></a>      _tabId: function( a ) {
<a name="l7583"><span class="linenum">7583</span></a>          return a.title &amp;&amp; a.title.<a class="function" onClick="logFunction('replace')" href="../../../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">replace</a>( /\s/g, &quot;_&quot; ).<a class="function" onClick="logFunction('replace')" href="../../../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">replace</a>( /[^\w\u00c0-\uFFFF-]/g, &quot;&quot; ) ||
<a name="l7584"><span class="linenum">7584</span></a>              this.options.idPrefix + <a class="function" onClick="logFunction('getNextTabId')" href="../../../../_functions/getnexttabid.html" onMouseOver="funcPopup(event,'getnexttabid')">getNextTabId</a>();
<a name="l7585"><span class="linenum">7585</span></a>      },
<a name="l7586"><span class="linenum">7586</span></a>  
<a name="l7587"><span class="linenum">7587</span></a>      _sanitizeSelector: function( hash ) {
<a name="l7588"><span class="linenum">7588</span></a>  <span class="comment">        // we need this because an id may contain a &quot;:&quot;</span>
<a name="l7589"><span class="linenum">7589</span></a>          return hash.<a class="function" onClick="logFunction('replace')" href="../../../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">replace</a>( /:/g, &quot;\\:&quot; );
<a name="l7590"><span class="linenum">7590</span></a>      },
<a name="l7591"><span class="linenum">7591</span></a>  
<a name="l7592"><span class="linenum">7592</span></a>      _cookie: function() {
<a name="l7593"><span class="linenum">7593</span></a>          var cookie = this.cookie ||
<a name="l7594"><span class="linenum">7594</span></a>              ( this.cookie = this.options.cookie.name || &quot;ui-tabs-&quot; + <a class="function" onClick="logFunction('getNextListId')" href="../../../../_functions/getnextlistid.html" onMouseOver="funcPopup(event,'getnextlistid')">getNextListId</a>() );
<a name="l7595"><span class="linenum">7595</span></a>          return $.cookie.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>( null, [ cookie ].concat( $.makeArray( arguments ) ) );
<a name="l7596"><span class="linenum">7596</span></a>      },
<a name="l7597"><span class="linenum">7597</span></a>  
<a name="l7598"><span class="linenum">7598</span></a>      _ui: function( tab, panel ) {
<a name="l7599"><span class="linenum">7599</span></a>          return {
<a name="l7600"><span class="linenum">7600</span></a>              tab: tab,
<a name="l7601"><span class="linenum">7601</span></a>              panel: panel,
<a name="l7602"><span class="linenum">7602</span></a>              index: this.anchors.index( tab )
<a name="l7603"><span class="linenum">7603</span></a>          };
<a name="l7604"><span class="linenum">7604</span></a>      },
<a name="l7605"><span class="linenum">7605</span></a>  
<a name="l7606"><span class="linenum">7606</span></a>      _cleanup: function() {
<a name="l7607"><span class="linenum">7607</span></a>  <span class="comment">        // restore all former loading tabs labels</span>
<a name="l7608"><span class="linenum">7608</span></a>          this.lis.filter( &quot;.ui-state-processing&quot; )
<a name="l7609"><span class="linenum">7609</span></a>              .removeClass( &quot;ui-state-processing&quot; )
<a name="l7610"><span class="linenum">7610</span></a>              .<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>( &quot;span:data(label.tabs)&quot; )
<a name="l7611"><span class="linenum">7611</span></a>                  .<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l7612"><span class="linenum">7612</span></a>                      var el = $( this );
<a name="l7613"><span class="linenum">7613</span></a>                      el.html( el.data( &quot;label.tabs&quot; ) ).removeData( &quot;label.tabs&quot; );
<a name="l7614"><span class="linenum">7614</span></a>                  });
<a name="l7615"><span class="linenum">7615</span></a>      },
<a name="l7616"><span class="linenum">7616</span></a>  
<a name="l7617"><span class="linenum">7617</span></a>      _tabify: function( init ) {
<a name="l7618"><span class="linenum">7618</span></a>          var self = this,
<a name="l7619"><span class="linenum">7619</span></a>              o = this.options,
<a name="l7620"><span class="linenum">7620</span></a>              fragmentId = /^#.+/; <span class="comment">// Safari 2 reports '#' for an empty hash</span>
<a name="l7621"><span class="linenum">7621</span></a>  
<a name="l7622"><span class="linenum">7622</span></a>          this.list = this.element.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>( &quot;ol,ul&quot; ).eq( 0 );
<a name="l7623"><span class="linenum">7623</span></a>          this.lis = $( &quot; &gt; li:has(a[href])&quot;, this.list );
<a name="l7624"><span class="linenum">7624</span></a>          this.anchors = this.lis.map(function() {
<a name="l7625"><span class="linenum">7625</span></a>              return $( &quot;a&quot;, this )[ 0 ];
<a name="l7626"><span class="linenum">7626</span></a>          });
<a name="l7627"><span class="linenum">7627</span></a>          this.panels = $( [] );
<a name="l7628"><span class="linenum">7628</span></a>  
<a name="l7629"><span class="linenum">7629</span></a>          this.anchors.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function( i, a ) {
<a name="l7630"><span class="linenum">7630</span></a>              var href = $( a ).attr( &quot;href&quot; );
<a name="l7631"><span class="linenum">7631</span></a>  <span class="comment">            // For dynamically created HTML that contains a hash as href IE &lt; 8 expands</span>
<a name="l7632"><span class="linenum">7632</span></a>  <span class="comment">            // such href to the full page url with hash and then misinterprets tab as ajax.</span>
<a name="l7633"><span class="linenum">7633</span></a>  <span class="comment">            // Same consideration applies for an added tab with a fragment identifier</span>
<a name="l7634"><span class="linenum">7634</span></a>  <span class="comment">            // since a[href=#fragment-identifier] does unexpectedly not match.</span>
<a name="l7635"><span class="linenum">7635</span></a>  <span class="comment">            // Thus normalize href attribute...</span>
<a name="l7636"><span class="linenum">7636</span></a>              var hrefBase = href.<a class="phpfunction" onClick="logFunction('split')" href="../../../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>( &quot;#&quot; )[ 0 ],
<a name="l7637"><span class="linenum">7637</span></a>                  baseEl;
<a name="l7638"><span class="linenum">7638</span></a>              if ( hrefBase &amp;&amp; ( hrefBase === location.toString().<a class="phpfunction" onClick="logFunction('split')" href="../../../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>( &quot;#&quot; )[ 0 ] ||
<a name="l7639"><span class="linenum">7639</span></a>                      ( baseEl = $( &quot;base&quot; )[ 0 ]) &amp;&amp; hrefBase === baseEl.href ) ) {
<a name="l7640"><span class="linenum">7640</span></a>                  href = a.hash;
<a name="l7641"><span class="linenum">7641</span></a>                  a.href = href;
<a name="l7642"><span class="linenum">7642</span></a>              }
<a name="l7643"><span class="linenum">7643</span></a>  
<a name="l7644"><span class="linenum">7644</span></a>  <span class="comment">            // inline tab</span>
<a name="l7645"><span class="linenum">7645</span></a>              if ( fragmentId.test( href ) ) {
<a name="l7646"><span class="linenum">7646</span></a>                  self.panels = self.panels.<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>( self.element.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>( self._sanitizeSelector( href ) ) );
<a name="l7647"><span class="linenum">7647</span></a>  <span class="comment">            // remote tab</span>
<a name="l7648"><span class="linenum">7648</span></a>  <span class="comment">            // prevent loading the page itself if href is just &quot;#&quot;</span>
<a name="l7649"><span class="linenum">7649</span></a>              } else if ( href &amp;&amp; href !== &quot;#&quot; ) {
<a name="l7650"><span class="linenum">7650</span></a>  <span class="comment">                // required for restore on destroy</span>
<a name="l7651"><span class="linenum">7651</span></a>                  $.data( a, &quot;href.tabs&quot;, href );
<a name="l7652"><span class="linenum">7652</span></a>  
<a name="l7653"><span class="linenum">7653</span></a>  <span class="comment">                // TODO until #3808 is fixed strip fragment identifier from url</span>
<a name="l7654"><span class="linenum">7654</span></a>  <span class="comment">                // (IE fails to load from such url)</span>
<a name="l7655"><span class="linenum">7655</span></a>                  $.data( a, &quot;load.tabs&quot;, href.<a class="function" onClick="logFunction('replace')" href="../../../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">replace</a>( /#.*$/, &quot;&quot; ) );
<a name="l7656"><span class="linenum">7656</span></a>  
<a name="l7657"><span class="linenum">7657</span></a>                  var id = self._tabId( a );
<a name="l7658"><span class="linenum">7658</span></a>                  a.href = &quot;#&quot; + id;
<a name="l7659"><span class="linenum">7659</span></a>                  var <a class="var it8817" onMouseOver="hilite(8817)" onMouseOut="lolite()" onClick="logVariable('panel')" href="../../../../_variables/panel.html">$panel</a> = self.element.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>( &quot;#&quot; + id );
<a name="l7660"><span class="linenum">7660</span></a>                  if ( !<a class="var it8817" onMouseOver="hilite(8817)" onMouseOut="lolite()" onClick="logVariable('panel')" href="../../../../_variables/panel.html">$panel</a>.length ) {
<a name="l7661"><span class="linenum">7661</span></a>                      <a class="var it8817" onMouseOver="hilite(8817)" onMouseOut="lolite()" onClick="logVariable('panel')" href="../../../../_variables/panel.html">$panel</a> = $( o.panelTemplate )
<a name="l7662"><span class="linenum">7662</span></a>                          .attr( &quot;id&quot;, id )
<a name="l7663"><span class="linenum">7663</span></a>                          .addClass( &quot;ui-tabs-panel ui-widget-content ui-corner-bottom&quot; )
<a name="l7664"><span class="linenum">7664</span></a>                          .insertAfter( self.panels[ i - 1 ] || self.list );
<a name="l7665"><span class="linenum">7665</span></a>                      <a class="var it8817" onMouseOver="hilite(8817)" onMouseOut="lolite()" onClick="logVariable('panel')" href="../../../../_variables/panel.html">$panel</a>.data( &quot;destroy.tabs&quot;, true );
<a name="l7666"><span class="linenum">7666</span></a>                  }
<a name="l7667"><span class="linenum">7667</span></a>                  self.panels = self.panels.<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>( <a class="var it8817" onMouseOver="hilite(8817)" onMouseOut="lolite()" onClick="logVariable('panel')" href="../../../../_variables/panel.html">$panel</a> );
<a name="l7668"><span class="linenum">7668</span></a>  <span class="comment">            // invalid tab href</span>
<a name="l7669"><span class="linenum">7669</span></a>              } else {
<a name="l7670"><span class="linenum">7670</span></a>                  o.disabled.push( i );
<a name="l7671"><span class="linenum">7671</span></a>              }
<a name="l7672"><span class="linenum">7672</span></a>          });
<a name="l7673"><span class="linenum">7673</span></a>  
<a name="l7674"><span class="linenum">7674</span></a>  <span class="comment">        // initialization from scratch</span>
<a name="l7675"><span class="linenum">7675</span></a>          if ( init ) {
<a name="l7676"><span class="linenum">7676</span></a>  <span class="comment">            // attach necessary classes for styling</span>
<a name="l7677"><span class="linenum">7677</span></a>              this.element.addClass( &quot;ui-tabs ui-widget ui-widget-content ui-corner-all&quot; );
<a name="l7678"><span class="linenum">7678</span></a>              this.list.addClass( &quot;ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all&quot; );
<a name="l7679"><span class="linenum">7679</span></a>              this.lis.addClass( &quot;ui-state-default ui-corner-top&quot; );
<a name="l7680"><span class="linenum">7680</span></a>              this.panels.addClass( &quot;ui-tabs-panel ui-widget-content ui-corner-bottom&quot; );
<a name="l7681"><span class="linenum">7681</span></a>  
<a name="l7682"><span class="linenum">7682</span></a>  <span class="comment">            // Selected tab</span>
<a name="l7683"><span class="linenum">7683</span></a>  <span class="comment">            // use &quot;selected&quot; option or try to retrieve:</span>
<a name="l7684"><span class="linenum">7684</span></a>  <span class="comment">            // 1. from fragment identifier in url</span>
<a name="l7685"><span class="linenum">7685</span></a>  <span class="comment">            // 2. from cookie</span>
<a name="l7686"><span class="linenum">7686</span></a>  <span class="comment">            // 3. from selected class attribute on &lt;li&gt;</span>
<a name="l7687"><span class="linenum">7687</span></a>              if ( o.selected === undefined ) {
<a name="l7688"><span class="linenum">7688</span></a>                  if ( location.hash ) {
<a name="l7689"><span class="linenum">7689</span></a>                      this.anchors.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function( i, a ) {
<a name="l7690"><span class="linenum">7690</span></a>                          if ( a.hash == location.hash ) {
<a name="l7691"><span class="linenum">7691</span></a>                              o.selected = i;
<a name="l7692"><span class="linenum">7692</span></a>                              return false;
<a name="l7693"><span class="linenum">7693</span></a>                          }
<a name="l7694"><span class="linenum">7694</span></a>                      });
<a name="l7695"><span class="linenum">7695</span></a>                  }
<a name="l7696"><span class="linenum">7696</span></a>                  if ( typeof o.selected !== &quot;number&quot; &amp;&amp; o.cookie ) {
<a name="l7697"><span class="linenum">7697</span></a>                      o.selected = parseInt( self._cookie(), 10 );
<a name="l7698"><span class="linenum">7698</span></a>                  }
<a name="l7699"><span class="linenum">7699</span></a>                  if ( typeof o.selected !== &quot;number&quot; &amp;&amp; this.lis.filter( &quot;.ui-tabs-selected&quot; ).length ) {
<a name="l7700"><span class="linenum">7700</span></a>                      o.selected = this.lis.index( this.lis.filter( &quot;.ui-tabs-selected&quot; ) );
<a name="l7701"><span class="linenum">7701</span></a>                  }
<a name="l7702"><span class="linenum">7702</span></a>                  o.selected = o.selected || ( this.lis.length ? 0 : -1 );
<a name="l7703"><span class="linenum">7703</span></a>              } else if ( o.selected === null ) { // usage of null is deprecated, TODO remove in next release
<a name="l7704"><span class="linenum">7704</span></a>                  o.selected = -1;
<a name="l7705"><span class="linenum">7705</span></a>              }
<a name="l7706"><span class="linenum">7706</span></a>  
<a name="l7707"><span class="linenum">7707</span></a>  <span class="comment">            // sanity check - default to first tab...</span>
<a name="l7708"><span class="linenum">7708</span></a>              o.selected = ( ( o.selected &gt;= 0 &amp;&amp; this.anchors[ o.selected ] ) || o.selected &lt; 0 )
<a name="l7709"><span class="linenum">7709</span></a>                  ? o.selected
<a name="l7710"><span class="linenum">7710</span></a>                  : 0;
<a name="l7711"><span class="linenum">7711</span></a>  
<a name="l7712"><span class="linenum">7712</span></a>  <span class="comment">            // Take disabling tabs via class attribute from HTML</span>
<a name="l7713"><span class="linenum">7713</span></a>  <span class="comment">            // into account and update option properly.</span>
<a name="l7714"><span class="linenum">7714</span></a>  <span class="comment">            // A selected tab cannot become disabled.</span>
<a name="l7715"><span class="linenum">7715</span></a>              o.disabled = $.<a class="function" onClick="logFunction('unique')" href="../../../../_functions/unique.html" onMouseOver="funcPopup(event,'unique')">unique</a>( o.disabled.concat(
<a name="l7716"><span class="linenum">7716</span></a>                  $.map( this.lis.filter( &quot;.ui-state-disabled&quot; ), function( n, i ) {
<a name="l7717"><span class="linenum">7717</span></a>                      return self.lis.index( n );
<a name="l7718"><span class="linenum">7718</span></a>                  })
<a name="l7719"><span class="linenum">7719</span></a>              ) ).<a class="phpfunction" onClick="logFunction('sort')" href="../../../../_functions/sort.html" onMouseOver="phpfuncPopup(event,'sort')">sort</a>();
<a name="l7720"><span class="linenum">7720</span></a>  
<a name="l7721"><span class="linenum">7721</span></a>              if ( $.inArray( o.selected, o.disabled ) != -1 ) {
<a name="l7722"><span class="linenum">7722</span></a>                  o.disabled.splice( $.inArray( o.selected, o.disabled ), 1 );
<a name="l7723"><span class="linenum">7723</span></a>              }
<a name="l7724"><span class="linenum">7724</span></a>  
<a name="l7725"><span class="linenum">7725</span></a>  <span class="comment">            // highlight selected tab</span>
<a name="l7726"><span class="linenum">7726</span></a>              this.panels.addClass( &quot;ui-tabs-hide&quot; );
<a name="l7727"><span class="linenum">7727</span></a>              this.lis.removeClass( &quot;ui-tabs-selected ui-state-active&quot; );
<a name="l7728"><span class="linenum">7728</span></a>  <span class="comment">            // check for length avoids error when initializing empty list</span>
<a name="l7729"><span class="linenum">7729</span></a>              if ( o.selected &gt;= 0 &amp;&amp; this.anchors.length ) {
<a name="l7730"><span class="linenum">7730</span></a>                  self.element.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>( self._sanitizeSelector( self.anchors[ o.selected ].hash ) ).removeClass( &quot;ui-tabs-hide&quot; );
<a name="l7731"><span class="linenum">7731</span></a>                  this.lis.eq( o.selected ).addClass( &quot;ui-tabs-selected ui-state-active&quot; );
<a name="l7732"><span class="linenum">7732</span></a>  
<a name="l7733"><span class="linenum">7733</span></a>  <span class="comment">                // seems to be expected behavior that the show callback is fired</span>
<a name="l7734"><span class="linenum">7734</span></a>                  self.element.queue( &quot;tabs&quot;, function() {
<a name="l7735"><span class="linenum">7735</span></a>                      self._trigger( &quot;show&quot;, null,
<a name="l7736"><span class="linenum">7736</span></a>                          self._ui( self.anchors[ o.selected ], self.element.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>( self._sanitizeSelector( self.anchors[ o.selected ].hash ) )[ 0 ] ) );
<a name="l7737"><span class="linenum">7737</span></a>                  });
<a name="l7738"><span class="linenum">7738</span></a>  
<a name="l7739"><span class="linenum">7739</span></a>                  this.<a class="function" onClick="logFunction('load')" href="../../../../_functions/load.html" onMouseOver="funcPopup(event,'load')">load</a>( o.selected );
<a name="l7740"><span class="linenum">7740</span></a>              }
<a name="l7741"><span class="linenum">7741</span></a>  
<a name="l7742"><span class="linenum">7742</span></a>  <span class="comment">            // clean up to avoid memory leaks in certain versions of IE 6</span>
<a name="l7743"><span class="linenum">7743</span></a>  <span class="comment">            // TODO: namespace this event</span>
<a name="l7744"><span class="linenum">7744</span></a>              $( window ).bind( &quot;unload&quot;, function() {
<a name="l7745"><span class="linenum">7745</span></a>                  self.lis.<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>( self.anchors ).unbind( &quot;.tabs&quot; );
<a name="l7746"><span class="linenum">7746</span></a>                  self.lis = self.anchors = self.panels = null;
<a name="l7747"><span class="linenum">7747</span></a>              });
<a name="l7748"><span class="linenum">7748</span></a>  <span class="comment">        // update selected after add/remove</span>
<a name="l7749"><span class="linenum">7749</span></a>          } else {
<a name="l7750"><span class="linenum">7750</span></a>              o.selected = this.lis.index( this.lis.filter( &quot;.ui-tabs-selected&quot; ) );
<a name="l7751"><span class="linenum">7751</span></a>          }
<a name="l7752"><span class="linenum">7752</span></a>  
<a name="l7753"><span class="linenum">7753</span></a>  <span class="comment">        // update collapsible</span>
<a name="l7754"><span class="linenum">7754</span></a>  <span class="comment">        // TODO: use .toggleClass()</span>
<a name="l7755"><span class="linenum">7755</span></a>          this.element[ o.collapsible ? &quot;addClass&quot; : &quot;removeClass&quot; ]( &quot;ui-tabs-collapsible&quot; );
<a name="l7756"><span class="linenum">7756</span></a>  
<a name="l7757"><span class="linenum">7757</span></a>  <span class="comment">        // set or update cookie after init and add/remove respectively</span>
<a name="l7758"><span class="linenum">7758</span></a>          if ( o.cookie ) {
<a name="l7759"><span class="linenum">7759</span></a>              this._cookie( o.selected, o.cookie );
<a name="l7760"><span class="linenum">7760</span></a>          }
<a name="l7761"><span class="linenum">7761</span></a>  
<a name="l7762"><span class="linenum">7762</span></a>  <span class="comment">        // disable tabs</span>
<a name="l7763"><span class="linenum">7763</span></a>          for ( var i = 0, li; ( li = this.lis[ i ] ); i++ ) {
<a name="l7764"><span class="linenum">7764</span></a>              $( li )[ $.inArray( i, o.disabled ) != -1 &amp;&amp;
<a name="l7765"><span class="linenum">7765</span></a>  <span class="comment">                // TODO: use .toggleClass()</span>
<a name="l7766"><span class="linenum">7766</span></a>                  !$( li ).<a class="function" onClick="logFunction('hasClass')" href="../../../../_functions/hasclass.html" onMouseOver="funcPopup(event,'hasclass')">hasClass</a>( &quot;ui-tabs-selected&quot; ) ? &quot;addClass&quot; : &quot;removeClass&quot; ]( &quot;ui-state-disabled&quot; );
<a name="l7767"><span class="linenum">7767</span></a>          }
<a name="l7768"><span class="linenum">7768</span></a>  
<a name="l7769"><span class="linenum">7769</span></a>  <span class="comment">        // reset cache if switching from cached to not cached</span>
<a name="l7770"><span class="linenum">7770</span></a>          if ( o.cache === false ) {
<a name="l7771"><span class="linenum">7771</span></a>              this.anchors.removeData( &quot;cache.tabs&quot; );
<a name="l7772"><span class="linenum">7772</span></a>          }
<a name="l7773"><span class="linenum">7773</span></a>  
<a name="l7774"><span class="linenum">7774</span></a>  <span class="comment">        // remove all handlers before, tabify may run on existing tabs after add or option change</span>
<a name="l7775"><span class="linenum">7775</span></a>          this.lis.<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>( this.anchors ).unbind( &quot;.tabs&quot; );
<a name="l7776"><span class="linenum">7776</span></a>  
<a name="l7777"><span class="linenum">7777</span></a>          if ( o.event !== &quot;mouseover&quot; ) {
<a name="l7778"><span class="linenum">7778</span></a>              var addState = function( state, el ) {
<a name="l7779"><span class="linenum">7779</span></a>                  if ( el.is( &quot;:not(.ui-state-disabled)&quot; ) ) {
<a name="l7780"><span class="linenum">7780</span></a>                      el.addClass( &quot;ui-state-&quot; + state );
<a name="l7781"><span class="linenum">7781</span></a>                  }
<a name="l7782"><span class="linenum">7782</span></a>              };
<a name="l7783"><span class="linenum">7783</span></a>              var removeState = function( state, el ) {
<a name="l7784"><span class="linenum">7784</span></a>                  el.removeClass( &quot;ui-state-&quot; + state );
<a name="l7785"><span class="linenum">7785</span></a>              };
<a name="l7786"><span class="linenum">7786</span></a>              this.lis.bind( &quot;mouseover.tabs&quot; , function() {
<a name="l7787"><span class="linenum">7787</span></a>                  addState( &quot;hover&quot;, $( this ) );
<a name="l7788"><span class="linenum">7788</span></a>              });
<a name="l7789"><span class="linenum">7789</span></a>              this.lis.bind( &quot;mouseout.tabs&quot;, function() {
<a name="l7790"><span class="linenum">7790</span></a>                  removeState( &quot;hover&quot;, $( this ) );
<a name="l7791"><span class="linenum">7791</span></a>              });
<a name="l7792"><span class="linenum">7792</span></a>              this.anchors.bind( &quot;focus.tabs&quot;, function() {
<a name="l7793"><span class="linenum">7793</span></a>                  addState( &quot;focus&quot;, $( this ).closest( &quot;li&quot; ) );
<a name="l7794"><span class="linenum">7794</span></a>              });
<a name="l7795"><span class="linenum">7795</span></a>              this.anchors.bind( &quot;blur.tabs&quot;, function() {
<a name="l7796"><span class="linenum">7796</span></a>                  removeState( &quot;focus&quot;, $( this ).closest( &quot;li&quot; ) );
<a name="l7797"><span class="linenum">7797</span></a>              });
<a name="l7798"><span class="linenum">7798</span></a>          }
<a name="l7799"><span class="linenum">7799</span></a>  
<a name="l7800"><span class="linenum">7800</span></a>  <span class="comment">        // set up animations</span>
<a name="l7801"><span class="linenum">7801</span></a>          var hideFx, showFx;
<a name="l7802"><span class="linenum">7802</span></a>          if ( o.fx ) {
<a name="l7803"><span class="linenum">7803</span></a>              if ( $.<a class="function" onClick="logFunction('isArray')" href="../../../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>( o.fx ) ) {
<a name="l7804"><span class="linenum">7804</span></a>                  hideFx = o.fx[ 0 ];
<a name="l7805"><span class="linenum">7805</span></a>                  showFx = o.fx[ 1 ];
<a name="l7806"><span class="linenum">7806</span></a>              } else {
<a name="l7807"><span class="linenum">7807</span></a>                  hideFx = showFx = o.fx;
<a name="l7808"><span class="linenum">7808</span></a>              }
<a name="l7809"><span class="linenum">7809</span></a>          }
<a name="l7810"><span class="linenum">7810</span></a>  
<a name="l7811"><span class="linenum">7811</span></a>  <span class="comment">        // Reset certain styles left over from animation</span>
<a name="l7812"><span class="linenum">7812</span></a>  <span class="comment">        // and prevent IE's ClearType bug...</span>
<a name="l7813"><span class="linenum">7813</span></a>  		function <a class="function" onClick="logFunction('resetStyle')" href="../../../../_functions/resetstyle.html" onMouseOver="funcPopup(event,'resetstyle')">resetStyle</a>( <a class="var it1595" onMouseOver="hilite(1595)" onMouseOut="lolite()" onClick="logVariable('el')" href="../../../../_variables/el.html">$el</a>, fx ) {
<a name="l7814"><span class="linenum">7814</span></a>              <a class="var it1595" onMouseOver="hilite(1595)" onMouseOut="lolite()" onClick="logVariable('el')" href="../../../../_variables/el.html">$el</a>.css( &quot;display&quot;, &quot;&quot; );
<a name="l7815"><span class="linenum">7815</span></a>              if ( !$.support.opacity &amp;&amp; fx.opacity ) {
<a name="l7816"><span class="linenum">7816</span></a>                  <a class="var it1595" onMouseOver="hilite(1595)" onMouseOut="lolite()" onClick="logVariable('el')" href="../../../../_variables/el.html">$el</a>[ 0 ].style.removeAttribute( &quot;filter&quot; );
<a name="l7817"><span class="linenum">7817</span></a>              }
<a name="l7818"><span class="linenum">7818</span></a>          }
<a name="l7819"><span class="linenum">7819</span></a>  
<a name="l7820"><span class="linenum">7820</span></a>  <span class="comment">        // Show a tab...</span>
<a name="l7821"><span class="linenum">7821</span></a>          var showTab = showFx
<a name="l7822"><span class="linenum">7822</span></a>              ? function( clicked, <a class="var it8818" onMouseOver="hilite(8818)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../../../_variables/show.html">$show</a> ) {
<a name="l7823"><span class="linenum">7823</span></a>                  $( clicked ).closest( &quot;li&quot; ).addClass( &quot;ui-tabs-selected ui-state-active&quot; );
<a name="l7824"><span class="linenum">7824</span></a>                  <a class="var it8818" onMouseOver="hilite(8818)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../../../_variables/show.html">$show</a>.hide().removeClass( &quot;ui-tabs-hide&quot; ) // avoid flicker that way
<a name="l7825"><span class="linenum">7825</span></a>                      .animate( showFx, showFx.duration || &quot;normal&quot;, function() {
<a name="l7826"><span class="linenum">7826</span></a>                          <a class="function" onClick="logFunction('resetStyle')" href="../../../../_functions/resetstyle.html" onMouseOver="funcPopup(event,'resetstyle')">resetStyle</a>( <a class="var it8818" onMouseOver="hilite(8818)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../../../_variables/show.html">$show</a>, showFx );
<a name="l7827"><span class="linenum">7827</span></a>                          self._trigger( &quot;show&quot;, null, self._ui( clicked, <a class="var it8818" onMouseOver="hilite(8818)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../../../_variables/show.html">$show</a>[ 0 ] ) );
<a name="l7828"><span class="linenum">7828</span></a>                      });
<a name="l7829"><span class="linenum">7829</span></a>              }
<a name="l7830"><span class="linenum">7830</span></a>              : function( clicked, <a class="var it8818" onMouseOver="hilite(8818)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../../../_variables/show.html">$show</a> ) {
<a name="l7831"><span class="linenum">7831</span></a>                  $( clicked ).closest( &quot;li&quot; ).addClass( &quot;ui-tabs-selected ui-state-active&quot; );
<a name="l7832"><span class="linenum">7832</span></a>                  <a class="var it8818" onMouseOver="hilite(8818)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../../../_variables/show.html">$show</a>.removeClass( &quot;ui-tabs-hide&quot; );
<a name="l7833"><span class="linenum">7833</span></a>                  self._trigger( &quot;show&quot;, null, self._ui( clicked, <a class="var it8818" onMouseOver="hilite(8818)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../../../_variables/show.html">$show</a>[ 0 ] ) );
<a name="l7834"><span class="linenum">7834</span></a>              };
<a name="l7835"><span class="linenum">7835</span></a>  
<a name="l7836"><span class="linenum">7836</span></a>  <span class="comment">        // Hide a tab, $show is optional...</span>
<a name="l7837"><span class="linenum">7837</span></a>          var hideTab = hideFx
<a name="l7838"><span class="linenum">7838</span></a>              ? function( clicked, <a class="var it8819" onMouseOver="hilite(8819)" onMouseOut="lolite()" onClick="logVariable('hide')" href="../../../../_variables/hide.html">$hide</a> ) {
<a name="l7839"><span class="linenum">7839</span></a>                  <a class="var it8819" onMouseOver="hilite(8819)" onMouseOut="lolite()" onClick="logVariable('hide')" href="../../../../_variables/hide.html">$hide</a>.animate( hideFx, hideFx.duration || &quot;normal&quot;, function() {
<a name="l7840"><span class="linenum">7840</span></a>                      self.lis.removeClass( &quot;ui-tabs-selected ui-state-active&quot; );
<a name="l7841"><span class="linenum">7841</span></a>                      <a class="var it8819" onMouseOver="hilite(8819)" onMouseOut="lolite()" onClick="logVariable('hide')" href="../../../../_variables/hide.html">$hide</a>.addClass( &quot;ui-tabs-hide&quot; );
<a name="l7842"><span class="linenum">7842</span></a>                      <a class="function" onClick="logFunction('resetStyle')" href="../../../../_functions/resetstyle.html" onMouseOver="funcPopup(event,'resetstyle')">resetStyle</a>( <a class="var it8819" onMouseOver="hilite(8819)" onMouseOut="lolite()" onClick="logVariable('hide')" href="../../../../_variables/hide.html">$hide</a>, hideFx );
<a name="l7843"><span class="linenum">7843</span></a>                      self.element.dequeue( &quot;tabs&quot; );
<a name="l7844"><span class="linenum">7844</span></a>                  });
<a name="l7845"><span class="linenum">7845</span></a>              }
<a name="l7846"><span class="linenum">7846</span></a>              : function( clicked, <a class="var it8819" onMouseOver="hilite(8819)" onMouseOut="lolite()" onClick="logVariable('hide')" href="../../../../_variables/hide.html">$hide</a>, <a class="var it8818" onMouseOver="hilite(8818)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../../../_variables/show.html">$show</a> ) {
<a name="l7847"><span class="linenum">7847</span></a>                  self.lis.removeClass( &quot;ui-tabs-selected ui-state-active&quot; );
<a name="l7848"><span class="linenum">7848</span></a>                  <a class="var it8819" onMouseOver="hilite(8819)" onMouseOut="lolite()" onClick="logVariable('hide')" href="../../../../_variables/hide.html">$hide</a>.addClass( &quot;ui-tabs-hide&quot; );
<a name="l7849"><span class="linenum">7849</span></a>                  self.element.dequeue( &quot;tabs&quot; );
<a name="l7850"><span class="linenum">7850</span></a>              };
<a name="l7851"><span class="linenum">7851</span></a>  
<a name="l7852"><span class="linenum">7852</span></a>  <span class="comment">        // attach tab event handler, unbind to avoid duplicates from former tabifying...</span>
<a name="l7853"><span class="linenum">7853</span></a>          this.anchors.bind( o.event + &quot;.tabs&quot;, function() {
<a name="l7854"><span class="linenum">7854</span></a>              var el = this,
<a name="l7855"><span class="linenum">7855</span></a>                  <a class="var it8470" onMouseOver="hilite(8470)" onMouseOut="lolite()" onClick="logVariable('li')" href="../../../../_variables/li.html">$li</a> = $(el).closest( &quot;li&quot; ),
<a name="l7856"><span class="linenum">7856</span></a>                  <a class="var it8819" onMouseOver="hilite(8819)" onMouseOut="lolite()" onClick="logVariable('hide')" href="../../../../_variables/hide.html">$hide</a> = self.panels.filter( &quot;:not(.ui-tabs-hide)&quot; ),
<a name="l7857"><span class="linenum">7857</span></a>                  <a class="var it8818" onMouseOver="hilite(8818)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../../../_variables/show.html">$show</a> = self.element.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>( self._sanitizeSelector( el.hash ) );
<a name="l7858"><span class="linenum">7858</span></a>  
<a name="l7859"><span class="linenum">7859</span></a>  <span class="comment">            // If tab is already selected and not collapsible or tab disabled or</span>
<a name="l7860"><span class="linenum">7860</span></a>  <span class="comment">            // or is already loading or click callback returns false stop here.</span>
<a name="l7861"><span class="linenum">7861</span></a>  <span class="comment">            // Check if click handler returns false last so that it is not executed</span>
<a name="l7862"><span class="linenum">7862</span></a>  <span class="comment">            // for a disabled or loading tab!</span>
<a name="l7863"><span class="linenum">7863</span></a>              if ( ( <a class="var it8470" onMouseOver="hilite(8470)" onMouseOut="lolite()" onClick="logVariable('li')" href="../../../../_variables/li.html">$li</a>.<a class="function" onClick="logFunction('hasClass')" href="../../../../_functions/hasclass.html" onMouseOver="funcPopup(event,'hasclass')">hasClass</a>( &quot;ui-tabs-selected&quot; ) &amp;&amp; !o.collapsible) ||
<a name="l7864"><span class="linenum">7864</span></a>                  <a class="var it8470" onMouseOver="hilite(8470)" onMouseOut="lolite()" onClick="logVariable('li')" href="../../../../_variables/li.html">$li</a>.<a class="function" onClick="logFunction('hasClass')" href="../../../../_functions/hasclass.html" onMouseOver="funcPopup(event,'hasclass')">hasClass</a>( &quot;ui-state-disabled&quot; ) ||
<a name="l7865"><span class="linenum">7865</span></a>                  <a class="var it8470" onMouseOver="hilite(8470)" onMouseOut="lolite()" onClick="logVariable('li')" href="../../../../_variables/li.html">$li</a>.<a class="function" onClick="logFunction('hasClass')" href="../../../../_functions/hasclass.html" onMouseOver="funcPopup(event,'hasclass')">hasClass</a>( &quot;ui-state-processing&quot; ) ||
<a name="l7866"><span class="linenum">7866</span></a>                  self.panels.filter( &quot;:animated&quot; ).length ||
<a name="l7867"><span class="linenum">7867</span></a>                  self._trigger( &quot;select&quot;, null, self._ui( this, <a class="var it8818" onMouseOver="hilite(8818)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../../../_variables/show.html">$show</a>[ 0 ] ) ) === false ) {
<a name="l7868"><span class="linenum">7868</span></a>                  this.blur();
<a name="l7869"><span class="linenum">7869</span></a>                  return false;
<a name="l7870"><span class="linenum">7870</span></a>              }
<a name="l7871"><span class="linenum">7871</span></a>  
<a name="l7872"><span class="linenum">7872</span></a>              o.selected = self.anchors.index( this );
<a name="l7873"><span class="linenum">7873</span></a>  
<a name="l7874"><span class="linenum">7874</span></a>              self.abort();
<a name="l7875"><span class="linenum">7875</span></a>  
<a name="l7876"><span class="linenum">7876</span></a>  <span class="comment">            // if tab may be closed</span>
<a name="l7877"><span class="linenum">7877</span></a>              if ( o.collapsible ) {
<a name="l7878"><span class="linenum">7878</span></a>                  if ( <a class="var it8470" onMouseOver="hilite(8470)" onMouseOut="lolite()" onClick="logVariable('li')" href="../../../../_variables/li.html">$li</a>.<a class="function" onClick="logFunction('hasClass')" href="../../../../_functions/hasclass.html" onMouseOver="funcPopup(event,'hasclass')">hasClass</a>( &quot;ui-tabs-selected&quot; ) ) {
<a name="l7879"><span class="linenum">7879</span></a>                      o.selected = -1;
<a name="l7880"><span class="linenum">7880</span></a>  
<a name="l7881"><span class="linenum">7881</span></a>                      if ( o.cookie ) {
<a name="l7882"><span class="linenum">7882</span></a>                          self._cookie( o.selected, o.cookie );
<a name="l7883"><span class="linenum">7883</span></a>                      }
<a name="l7884"><span class="linenum">7884</span></a>  
<a name="l7885"><span class="linenum">7885</span></a>                      self.element.queue( &quot;tabs&quot;, function() {
<a name="l7886"><span class="linenum">7886</span></a>                          hideTab( el, <a class="var it8819" onMouseOver="hilite(8819)" onMouseOut="lolite()" onClick="logVariable('hide')" href="../../../../_variables/hide.html">$hide</a> );
<a name="l7887"><span class="linenum">7887</span></a>                      }).dequeue( &quot;tabs&quot; );
<a name="l7888"><span class="linenum">7888</span></a>  
<a name="l7889"><span class="linenum">7889</span></a>                      this.blur();
<a name="l7890"><span class="linenum">7890</span></a>                      return false;
<a name="l7891"><span class="linenum">7891</span></a>                  } else if ( !<a class="var it8819" onMouseOver="hilite(8819)" onMouseOut="lolite()" onClick="logVariable('hide')" href="../../../../_variables/hide.html">$hide</a>.length ) {
<a name="l7892"><span class="linenum">7892</span></a>                      if ( o.cookie ) {
<a name="l7893"><span class="linenum">7893</span></a>                          self._cookie( o.selected, o.cookie );
<a name="l7894"><span class="linenum">7894</span></a>                      }
<a name="l7895"><span class="linenum">7895</span></a>  
<a name="l7896"><span class="linenum">7896</span></a>                      self.element.queue( &quot;tabs&quot;, function() {
<a name="l7897"><span class="linenum">7897</span></a>                          showTab( el, <a class="var it8818" onMouseOver="hilite(8818)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../../../_variables/show.html">$show</a> );
<a name="l7898"><span class="linenum">7898</span></a>                      });
<a name="l7899"><span class="linenum">7899</span></a>  
<a name="l7900"><span class="linenum">7900</span></a>  <span class="comment">                    // TODO make passing in node possible, see also http://dev.jqueryui.com/ticket/3171</span>
<a name="l7901"><span class="linenum">7901</span></a>                      self.<a class="function" onClick="logFunction('load')" href="../../../../_functions/load.html" onMouseOver="funcPopup(event,'load')">load</a>( self.anchors.index( this ) );
<a name="l7902"><span class="linenum">7902</span></a>  
<a name="l7903"><span class="linenum">7903</span></a>                      this.blur();
<a name="l7904"><span class="linenum">7904</span></a>                      return false;
<a name="l7905"><span class="linenum">7905</span></a>                  }
<a name="l7906"><span class="linenum">7906</span></a>              }
<a name="l7907"><span class="linenum">7907</span></a>  
<a name="l7908"><span class="linenum">7908</span></a>              if ( o.cookie ) {
<a name="l7909"><span class="linenum">7909</span></a>                  self._cookie( o.selected, o.cookie );
<a name="l7910"><span class="linenum">7910</span></a>              }
<a name="l7911"><span class="linenum">7911</span></a>  
<a name="l7912"><span class="linenum">7912</span></a>  <span class="comment">            // show new tab</span>
<a name="l7913"><span class="linenum">7913</span></a>              if ( <a class="var it8818" onMouseOver="hilite(8818)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../../../_variables/show.html">$show</a>.length ) {
<a name="l7914"><span class="linenum">7914</span></a>                  if ( <a class="var it8819" onMouseOver="hilite(8819)" onMouseOut="lolite()" onClick="logVariable('hide')" href="../../../../_variables/hide.html">$hide</a>.length ) {
<a name="l7915"><span class="linenum">7915</span></a>                      self.element.queue( &quot;tabs&quot;, function() {
<a name="l7916"><span class="linenum">7916</span></a>                          hideTab( el, <a class="var it8819" onMouseOver="hilite(8819)" onMouseOut="lolite()" onClick="logVariable('hide')" href="../../../../_variables/hide.html">$hide</a> );
<a name="l7917"><span class="linenum">7917</span></a>                      });
<a name="l7918"><span class="linenum">7918</span></a>                  }
<a name="l7919"><span class="linenum">7919</span></a>                  self.element.queue( &quot;tabs&quot;, function() {
<a name="l7920"><span class="linenum">7920</span></a>                      showTab( el, <a class="var it8818" onMouseOver="hilite(8818)" onMouseOut="lolite()" onClick="logVariable('show')" href="../../../../_variables/show.html">$show</a> );
<a name="l7921"><span class="linenum">7921</span></a>                  });
<a name="l7922"><span class="linenum">7922</span></a>  
<a name="l7923"><span class="linenum">7923</span></a>                  self.<a class="function" onClick="logFunction('load')" href="../../../../_functions/load.html" onMouseOver="funcPopup(event,'load')">load</a>( self.anchors.index( this ) );
<a name="l7924"><span class="linenum">7924</span></a>              } else {
<a name="l7925"><span class="linenum">7925</span></a>                  throw &quot;jQuery UI Tabs: Mismatching fragment identifier.&quot;;
<a name="l7926"><span class="linenum">7926</span></a>              }
<a name="l7927"><span class="linenum">7927</span></a>  
<a name="l7928"><span class="linenum">7928</span></a>  <span class="comment">            // Prevent IE from keeping other link focussed when using the back button</span>
<a name="l7929"><span class="linenum">7929</span></a>  <span class="comment">            // and remove dotted border from clicked link. This is controlled via CSS</span>
<a name="l7930"><span class="linenum">7930</span></a>  <span class="comment">            // in modern browsers; blur() removes focus from address bar in Firefox</span>
<a name="l7931"><span class="linenum">7931</span></a>  <span class="comment">            // which can become a usability and annoying problem with tabs('rotate').</span>
<a name="l7932"><span class="linenum">7932</span></a>              if ( $.browser.msie ) {
<a name="l7933"><span class="linenum">7933</span></a>                  this.blur();
<a name="l7934"><span class="linenum">7934</span></a>              }
<a name="l7935"><span class="linenum">7935</span></a>          });
<a name="l7936"><span class="linenum">7936</span></a>  
<a name="l7937"><span class="linenum">7937</span></a>  <span class="comment">        // disable click in any case</span>
<a name="l7938"><span class="linenum">7938</span></a>          this.anchors.bind( &quot;click.tabs&quot;, function(){
<a name="l7939"><span class="linenum">7939</span></a>              return false;
<a name="l7940"><span class="linenum">7940</span></a>          });
<a name="l7941"><span class="linenum">7941</span></a>      },
<a name="l7942"><span class="linenum">7942</span></a>  
<a name="l7943"><span class="linenum">7943</span></a>      _getIndex: function( index ) {
<a name="l7944"><span class="linenum">7944</span></a>  <span class="comment">        // meta-function to give users option to provide a href string instead of a numerical index.</span>
<a name="l7945"><span class="linenum">7945</span></a>  <span class="comment">        // also sanitizes numerical indexes to valid values.</span>
<a name="l7946"><span class="linenum">7946</span></a>          if ( typeof index == &quot;string&quot; ) {
<a name="l7947"><span class="linenum">7947</span></a>              index = this.anchors.index( this.anchors.filter( &quot;[href$=&quot; + index + &quot;]&quot; ) );
<a name="l7948"><span class="linenum">7948</span></a>          }
<a name="l7949"><span class="linenum">7949</span></a>  
<a name="l7950"><span class="linenum">7950</span></a>          return index;
<a name="l7951"><span class="linenum">7951</span></a>      },
<a name="l7952"><span class="linenum">7952</span></a>  
<a name="l7953"><span class="linenum">7953</span></a>      destroy: function() {
<a name="l7954"><span class="linenum">7954</span></a>          var o = this.options;
<a name="l7955"><span class="linenum">7955</span></a>  
<a name="l7956"><span class="linenum">7956</span></a>          this.abort();
<a name="l7957"><span class="linenum">7957</span></a>  
<a name="l7958"><span class="linenum">7958</span></a>          this.element
<a name="l7959"><span class="linenum">7959</span></a>              .unbind( &quot;.tabs&quot; )
<a name="l7960"><span class="linenum">7960</span></a>              .removeClass( &quot;ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible&quot; )
<a name="l7961"><span class="linenum">7961</span></a>              .removeData( &quot;tabs&quot; );
<a name="l7962"><span class="linenum">7962</span></a>  
<a name="l7963"><span class="linenum">7963</span></a>          this.list.removeClass( &quot;ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all&quot; );
<a name="l7964"><span class="linenum">7964</span></a>  
<a name="l7965"><span class="linenum">7965</span></a>          this.anchors.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l7966"><span class="linenum">7966</span></a>              var href = $.data( this, &quot;href.tabs&quot; );
<a name="l7967"><span class="linenum">7967</span></a>              if ( href ) {
<a name="l7968"><span class="linenum">7968</span></a>                  this.href = href;
<a name="l7969"><span class="linenum">7969</span></a>              }
<a name="l7970"><span class="linenum">7970</span></a>              var <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a> = $( this ).unbind( &quot;.tabs&quot; );
<a name="l7971"><span class="linenum">7971</span></a>              $.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>( [ &quot;href&quot;, &quot;load&quot;, &quot;cache&quot; ], function( i, prefix ) {
<a name="l7972"><span class="linenum">7972</span></a>                  <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>.removeData( prefix + &quot;.tabs&quot; );
<a name="l7973"><span class="linenum">7973</span></a>              });
<a name="l7974"><span class="linenum">7974</span></a>          });
<a name="l7975"><span class="linenum">7975</span></a>  
<a name="l7976"><span class="linenum">7976</span></a>          this.lis.unbind( &quot;.tabs&quot; ).<a class="function" onClick="logFunction('add')" href="../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>( this.panels ).<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l7977"><span class="linenum">7977</span></a>              if ( $.data( this, &quot;destroy.tabs&quot; ) ) {
<a name="l7978"><span class="linenum">7978</span></a>                  $( this ).<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>();
<a name="l7979"><span class="linenum">7979</span></a>              } else {
<a name="l7980"><span class="linenum">7980</span></a>                  $( this ).removeClass([
<a name="l7981"><span class="linenum">7981</span></a>                      &quot;ui-state-default&quot;,
<a name="l7982"><span class="linenum">7982</span></a>                      &quot;ui-corner-top&quot;,
<a name="l7983"><span class="linenum">7983</span></a>                      &quot;ui-tabs-selected&quot;,
<a name="l7984"><span class="linenum">7984</span></a>                      &quot;ui-state-active&quot;,
<a name="l7985"><span class="linenum">7985</span></a>                      &quot;ui-state-hover&quot;,
<a name="l7986"><span class="linenum">7986</span></a>                      &quot;ui-state-focus&quot;,
<a name="l7987"><span class="linenum">7987</span></a>                      &quot;ui-state-disabled&quot;,
<a name="l7988"><span class="linenum">7988</span></a>                      &quot;ui-tabs-panel&quot;,
<a name="l7989"><span class="linenum">7989</span></a>                      &quot;ui-widget-content&quot;,
<a name="l7990"><span class="linenum">7990</span></a>                      &quot;ui-corner-bottom&quot;,
<a name="l7991"><span class="linenum">7991</span></a>                      &quot;ui-tabs-hide&quot;
<a name="l7992"><span class="linenum">7992</span></a>                  ].join( &quot; &quot; ) );
<a name="l7993"><span class="linenum">7993</span></a>              }
<a name="l7994"><span class="linenum">7994</span></a>          });
<a name="l7995"><span class="linenum">7995</span></a>  
<a name="l7996"><span class="linenum">7996</span></a>          if ( o.cookie ) {
<a name="l7997"><span class="linenum">7997</span></a>              this._cookie( null, o.cookie );
<a name="l7998"><span class="linenum">7998</span></a>          }
<a name="l7999"><span class="linenum">7999</span></a>  
<a name="l8000"><span class="linenum">8000</span></a>          return this;
<a name="l8001"><span class="linenum">8001</span></a>      },
<a name="l8002"><span class="linenum">8002</span></a>  
<a name="l8003"><span class="linenum">8003</span></a>      add: function( url, label, index ) {
<a name="l8004"><span class="linenum">8004</span></a>          if ( index === undefined ) {
<a name="l8005"><span class="linenum">8005</span></a>              index = this.anchors.length;
<a name="l8006"><span class="linenum">8006</span></a>          }
<a name="l8007"><span class="linenum">8007</span></a>  
<a name="l8008"><span class="linenum">8008</span></a>          var self = this,
<a name="l8009"><span class="linenum">8009</span></a>              o = this.options,
<a name="l8010"><span class="linenum">8010</span></a>              <a class="var it8470" onMouseOver="hilite(8470)" onMouseOut="lolite()" onClick="logVariable('li')" href="../../../../_variables/li.html">$li</a> = $( o.tabTemplate.<a class="function" onClick="logFunction('replace')" href="../../../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">replace</a>( /#\{href\}/g, url ).<a class="function" onClick="logFunction('replace')" href="../../../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">replace</a>( /#\{label\}/g, label ) ),
<a name="l8011"><span class="linenum">8011</span></a>              id = !url.indexOf( &quot;#&quot; ) ? url.<a class="function" onClick="logFunction('replace')" href="../../../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">replace</a>( &quot;#&quot;, &quot;&quot; ) : this._tabId( $( &quot;a&quot;, <a class="var it8470" onMouseOver="hilite(8470)" onMouseOut="lolite()" onClick="logVariable('li')" href="../../../../_variables/li.html">$li</a> )[ 0 ] );
<a name="l8012"><span class="linenum">8012</span></a>  
<a name="l8013"><span class="linenum">8013</span></a>          <a class="var it8470" onMouseOver="hilite(8470)" onMouseOut="lolite()" onClick="logVariable('li')" href="../../../../_variables/li.html">$li</a>.addClass( &quot;ui-state-default ui-corner-top&quot; ).data( &quot;destroy.tabs&quot;, true );
<a name="l8014"><span class="linenum">8014</span></a>  
<a name="l8015"><span class="linenum">8015</span></a>  <span class="comment">        // try to find an existing element before creating a new one</span>
<a name="l8016"><span class="linenum">8016</span></a>          var <a class="var it8817" onMouseOver="hilite(8817)" onMouseOut="lolite()" onClick="logVariable('panel')" href="../../../../_variables/panel.html">$panel</a> = self.element.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>( &quot;#&quot; + id );
<a name="l8017"><span class="linenum">8017</span></a>          if ( !<a class="var it8817" onMouseOver="hilite(8817)" onMouseOut="lolite()" onClick="logVariable('panel')" href="../../../../_variables/panel.html">$panel</a>.length ) {
<a name="l8018"><span class="linenum">8018</span></a>              <a class="var it8817" onMouseOver="hilite(8817)" onMouseOut="lolite()" onClick="logVariable('panel')" href="../../../../_variables/panel.html">$panel</a> = $( o.panelTemplate )
<a name="l8019"><span class="linenum">8019</span></a>                  .attr( &quot;id&quot;, id )
<a name="l8020"><span class="linenum">8020</span></a>                  .data( &quot;destroy.tabs&quot;, true );
<a name="l8021"><span class="linenum">8021</span></a>          }
<a name="l8022"><span class="linenum">8022</span></a>          <a class="var it8817" onMouseOver="hilite(8817)" onMouseOut="lolite()" onClick="logVariable('panel')" href="../../../../_variables/panel.html">$panel</a>.addClass( &quot;ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide&quot; );
<a name="l8023"><span class="linenum">8023</span></a>  
<a name="l8024"><span class="linenum">8024</span></a>          if ( index &gt;= this.lis.length ) {
<a name="l8025"><span class="linenum">8025</span></a>              <a class="var it8470" onMouseOver="hilite(8470)" onMouseOut="lolite()" onClick="logVariable('li')" href="../../../../_variables/li.html">$li</a>.appendTo( this.list );
<a name="l8026"><span class="linenum">8026</span></a>              <a class="var it8817" onMouseOver="hilite(8817)" onMouseOut="lolite()" onClick="logVariable('panel')" href="../../../../_variables/panel.html">$panel</a>.appendTo( this.list[ 0 ].parentNode );
<a name="l8027"><span class="linenum">8027</span></a>          } else {
<a name="l8028"><span class="linenum">8028</span></a>              <a class="var it8470" onMouseOver="hilite(8470)" onMouseOut="lolite()" onClick="logVariable('li')" href="../../../../_variables/li.html">$li</a>.insertBefore( this.lis[ index ] );
<a name="l8029"><span class="linenum">8029</span></a>              <a class="var it8817" onMouseOver="hilite(8817)" onMouseOut="lolite()" onClick="logVariable('panel')" href="../../../../_variables/panel.html">$panel</a>.insertBefore( this.panels[ index ] );
<a name="l8030"><span class="linenum">8030</span></a>          }
<a name="l8031"><span class="linenum">8031</span></a>  
<a name="l8032"><span class="linenum">8032</span></a>          o.disabled = $.map( o.disabled, function( n, i ) {
<a name="l8033"><span class="linenum">8033</span></a>              return n &gt;= index ? ++n : n;
<a name="l8034"><span class="linenum">8034</span></a>          });
<a name="l8035"><span class="linenum">8035</span></a>  
<a name="l8036"><span class="linenum">8036</span></a>          this._tabify();
<a name="l8037"><span class="linenum">8037</span></a>  
<a name="l8038"><span class="linenum">8038</span></a>          if ( this.anchors.length == 1 ) {
<a name="l8039"><span class="linenum">8039</span></a>              o.selected = 0;
<a name="l8040"><span class="linenum">8040</span></a>              <a class="var it8470" onMouseOver="hilite(8470)" onMouseOut="lolite()" onClick="logVariable('li')" href="../../../../_variables/li.html">$li</a>.addClass( &quot;ui-tabs-selected ui-state-active&quot; );
<a name="l8041"><span class="linenum">8041</span></a>              <a class="var it8817" onMouseOver="hilite(8817)" onMouseOut="lolite()" onClick="logVariable('panel')" href="../../../../_variables/panel.html">$panel</a>.removeClass( &quot;ui-tabs-hide&quot; );
<a name="l8042"><span class="linenum">8042</span></a>              this.element.queue( &quot;tabs&quot;, function() {
<a name="l8043"><span class="linenum">8043</span></a>                  self._trigger( &quot;show&quot;, null, self._ui( self.anchors[ 0 ], self.panels[ 0 ] ) );
<a name="l8044"><span class="linenum">8044</span></a>              });
<a name="l8045"><span class="linenum">8045</span></a>  
<a name="l8046"><span class="linenum">8046</span></a>              this.<a class="function" onClick="logFunction('load')" href="../../../../_functions/load.html" onMouseOver="funcPopup(event,'load')">load</a>( 0 );
<a name="l8047"><span class="linenum">8047</span></a>          }
<a name="l8048"><span class="linenum">8048</span></a>  
<a name="l8049"><span class="linenum">8049</span></a>          this._trigger( &quot;add&quot;, null, this._ui( this.anchors[ index ], this.panels[ index ] ) );
<a name="l8050"><span class="linenum">8050</span></a>          return this;
<a name="l8051"><span class="linenum">8051</span></a>      },
<a name="l8052"><span class="linenum">8052</span></a>  
<a name="l8053"><span class="linenum">8053</span></a>      remove: function( index ) {
<a name="l8054"><span class="linenum">8054</span></a>          index = this._getIndex( index );
<a name="l8055"><span class="linenum">8055</span></a>          var o = this.options,
<a name="l8056"><span class="linenum">8056</span></a>              <a class="var it8470" onMouseOver="hilite(8470)" onMouseOut="lolite()" onClick="logVariable('li')" href="../../../../_variables/li.html">$li</a> = this.lis.eq( index ).<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>(),
<a name="l8057"><span class="linenum">8057</span></a>              <a class="var it8817" onMouseOver="hilite(8817)" onMouseOut="lolite()" onClick="logVariable('panel')" href="../../../../_variables/panel.html">$panel</a> = this.panels.eq( index ).<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>();
<a name="l8058"><span class="linenum">8058</span></a>  
<a name="l8059"><span class="linenum">8059</span></a>  <span class="comment">        // If selected tab was removed focus tab to the right or</span>
<a name="l8060"><span class="linenum">8060</span></a>  <span class="comment">        // in case the last tab was removed the tab to the left.</span>
<a name="l8061"><span class="linenum">8061</span></a>          if ( <a class="var it8470" onMouseOver="hilite(8470)" onMouseOut="lolite()" onClick="logVariable('li')" href="../../../../_variables/li.html">$li</a>.<a class="function" onClick="logFunction('hasClass')" href="../../../../_functions/hasclass.html" onMouseOver="funcPopup(event,'hasclass')">hasClass</a>( &quot;ui-tabs-selected&quot; ) &amp;&amp; this.anchors.length &gt; 1) {
<a name="l8062"><span class="linenum">8062</span></a>              this.<a class="function" onClick="logFunction('select')" href="../../../../_functions/select.html" onMouseOver="funcPopup(event,'select')">select</a>( index + ( index + 1 &lt; this.anchors.length ? 1 : -1 ) );
<a name="l8063"><span class="linenum">8063</span></a>          }
<a name="l8064"><span class="linenum">8064</span></a>  
<a name="l8065"><span class="linenum">8065</span></a>          o.disabled = $.map(
<a name="l8066"><span class="linenum">8066</span></a>              $.grep( o.disabled, function(n, i) {
<a name="l8067"><span class="linenum">8067</span></a>                  return n != index;
<a name="l8068"><span class="linenum">8068</span></a>              }),
<a name="l8069"><span class="linenum">8069</span></a>              function( n, i ) {
<a name="l8070"><span class="linenum">8070</span></a>                  return n &gt;= index ? --n : n;
<a name="l8071"><span class="linenum">8071</span></a>              });
<a name="l8072"><span class="linenum">8072</span></a>  
<a name="l8073"><span class="linenum">8073</span></a>          this._tabify();
<a name="l8074"><span class="linenum">8074</span></a>  
<a name="l8075"><span class="linenum">8075</span></a>          this._trigger( &quot;remove&quot;, null, this._ui( <a class="var it8470" onMouseOver="hilite(8470)" onMouseOut="lolite()" onClick="logVariable('li')" href="../../../../_variables/li.html">$li</a>.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>( &quot;a&quot; )[ 0 ], <a class="var it8817" onMouseOver="hilite(8817)" onMouseOut="lolite()" onClick="logVariable('panel')" href="../../../../_variables/panel.html">$panel</a>[ 0 ] ) );
<a name="l8076"><span class="linenum">8076</span></a>          return this;
<a name="l8077"><span class="linenum">8077</span></a>      },
<a name="l8078"><span class="linenum">8078</span></a>  
<a name="l8079"><span class="linenum">8079</span></a>      enable: function( index ) {
<a name="l8080"><span class="linenum">8080</span></a>          index = this._getIndex( index );
<a name="l8081"><span class="linenum">8081</span></a>          var o = this.options;
<a name="l8082"><span class="linenum">8082</span></a>          if ( $.inArray( index, o.disabled ) == -1 ) {
<a name="l8083"><span class="linenum">8083</span></a>              return;
<a name="l8084"><span class="linenum">8084</span></a>          }
<a name="l8085"><span class="linenum">8085</span></a>  
<a name="l8086"><span class="linenum">8086</span></a>          this.lis.eq( index ).removeClass( &quot;ui-state-disabled&quot; );
<a name="l8087"><span class="linenum">8087</span></a>          o.disabled = $.grep( o.disabled, function( n, i ) {
<a name="l8088"><span class="linenum">8088</span></a>              return n != index;
<a name="l8089"><span class="linenum">8089</span></a>          });
<a name="l8090"><span class="linenum">8090</span></a>  
<a name="l8091"><span class="linenum">8091</span></a>          this._trigger( &quot;enable&quot;, null, this._ui( this.anchors[ index ], this.panels[ index ] ) );
<a name="l8092"><span class="linenum">8092</span></a>          return this;
<a name="l8093"><span class="linenum">8093</span></a>      },
<a name="l8094"><span class="linenum">8094</span></a>  
<a name="l8095"><span class="linenum">8095</span></a>      disable: function( index ) {
<a name="l8096"><span class="linenum">8096</span></a>          index = this._getIndex( index );
<a name="l8097"><span class="linenum">8097</span></a>          var self = this, o = this.options;
<a name="l8098"><span class="linenum">8098</span></a>  <span class="comment">        // cannot disable already selected tab</span>
<a name="l8099"><span class="linenum">8099</span></a>          if ( index != o.selected ) {
<a name="l8100"><span class="linenum">8100</span></a>              this.lis.eq( index ).addClass( &quot;ui-state-disabled&quot; );
<a name="l8101"><span class="linenum">8101</span></a>  
<a name="l8102"><span class="linenum">8102</span></a>              o.disabled.push( index );
<a name="l8103"><span class="linenum">8103</span></a>              o.disabled.<a class="phpfunction" onClick="logFunction('sort')" href="../../../../_functions/sort.html" onMouseOver="phpfuncPopup(event,'sort')">sort</a>();
<a name="l8104"><span class="linenum">8104</span></a>  
<a name="l8105"><span class="linenum">8105</span></a>              this._trigger( &quot;disable&quot;, null, this._ui( this.anchors[ index ], this.panels[ index ] ) );
<a name="l8106"><span class="linenum">8106</span></a>          }
<a name="l8107"><span class="linenum">8107</span></a>  
<a name="l8108"><span class="linenum">8108</span></a>          return this;
<a name="l8109"><span class="linenum">8109</span></a>      },
<a name="l8110"><span class="linenum">8110</span></a>  
<a name="l8111"><span class="linenum">8111</span></a>      select: function( index ) {
<a name="l8112"><span class="linenum">8112</span></a>          index = this._getIndex( index );
<a name="l8113"><span class="linenum">8113</span></a>          if ( index == -1 ) {
<a name="l8114"><span class="linenum">8114</span></a>              if ( this.options.collapsible &amp;&amp; this.options.selected != -1 ) {
<a name="l8115"><span class="linenum">8115</span></a>                  index = this.options.selected;
<a name="l8116"><span class="linenum">8116</span></a>              } else {
<a name="l8117"><span class="linenum">8117</span></a>                  return this;
<a name="l8118"><span class="linenum">8118</span></a>              }
<a name="l8119"><span class="linenum">8119</span></a>          }
<a name="l8120"><span class="linenum">8120</span></a>          this.anchors.eq( index ).<a class="function" onClick="logFunction('trigger')" href="../../../../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>( this.options.event + &quot;.tabs&quot; );
<a name="l8121"><span class="linenum">8121</span></a>          return this;
<a name="l8122"><span class="linenum">8122</span></a>      },
<a name="l8123"><span class="linenum">8123</span></a>  
<a name="l8124"><span class="linenum">8124</span></a>      load: function( index ) {
<a name="l8125"><span class="linenum">8125</span></a>          index = this._getIndex( index );
<a name="l8126"><span class="linenum">8126</span></a>          var self = this,
<a name="l8127"><span class="linenum">8127</span></a>              o = this.options,
<a name="l8128"><span class="linenum">8128</span></a>              a = this.anchors.eq( index )[ 0 ],
<a name="l8129"><span class="linenum">8129</span></a>              url = $.data( a, &quot;load.tabs&quot; );
<a name="l8130"><span class="linenum">8130</span></a>  
<a name="l8131"><span class="linenum">8131</span></a>          this.abort();
<a name="l8132"><span class="linenum">8132</span></a>  
<a name="l8133"><span class="linenum">8133</span></a>  <span class="comment">        // not remote or from cache</span>
<a name="l8134"><span class="linenum">8134</span></a>          if ( !url || this.element.queue( &quot;tabs&quot; ).length !== 0 &amp;&amp; $.data( a, &quot;cache.tabs&quot; ) ) {
<a name="l8135"><span class="linenum">8135</span></a>              this.element.dequeue( &quot;tabs&quot; );
<a name="l8136"><span class="linenum">8136</span></a>              return;
<a name="l8137"><span class="linenum">8137</span></a>          }
<a name="l8138"><span class="linenum">8138</span></a>  
<a name="l8139"><span class="linenum">8139</span></a>  <span class="comment">        // load remote from here on</span>
<a name="l8140"><span class="linenum">8140</span></a>          this.lis.eq( index ).addClass( &quot;ui-state-processing&quot; );
<a name="l8141"><span class="linenum">8141</span></a>  
<a name="l8142"><span class="linenum">8142</span></a>          if ( o.spinner ) {
<a name="l8143"><span class="linenum">8143</span></a>              var span = $( &quot;span&quot;, a );
<a name="l8144"><span class="linenum">8144</span></a>              span.data( &quot;label.tabs&quot;, span.html() ).html( o.spinner );
<a name="l8145"><span class="linenum">8145</span></a>          }
<a name="l8146"><span class="linenum">8146</span></a>  
<a name="l8147"><span class="linenum">8147</span></a>          this.xhr = $.ajax( $.extend( {}, o.ajaxOptions, {
<a name="l8148"><span class="linenum">8148</span></a>              url: url,
<a name="l8149"><span class="linenum">8149</span></a>              success: function( r, s ) {
<a name="l8150"><span class="linenum">8150</span></a>                  self.element.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>( self._sanitizeSelector( a.hash ) ).html( r );
<a name="l8151"><span class="linenum">8151</span></a>  
<a name="l8152"><span class="linenum">8152</span></a>  <span class="comment">                // take care of tab labels</span>
<a name="l8153"><span class="linenum">8153</span></a>                  self._cleanup();
<a name="l8154"><span class="linenum">8154</span></a>  
<a name="l8155"><span class="linenum">8155</span></a>                  if ( o.cache ) {
<a name="l8156"><span class="linenum">8156</span></a>                      $.data( a, &quot;cache.tabs&quot;, true );
<a name="l8157"><span class="linenum">8157</span></a>                  }
<a name="l8158"><span class="linenum">8158</span></a>  
<a name="l8159"><span class="linenum">8159</span></a>                  self._trigger( &quot;load&quot;, null, self._ui( self.anchors[ index ], self.panels[ index ] ) );
<a name="l8160"><span class="linenum">8160</span></a>                  try {
<a name="l8161"><span class="linenum">8161</span></a>                      o.ajaxOptions.success( r, s );
<a name="l8162"><span class="linenum">8162</span></a>                  }
<a name="l8163"><span class="linenum">8163</span></a>                  catch ( e ) {}
<a name="l8164"><span class="linenum">8164</span></a>              },
<a name="l8165"><span class="linenum">8165</span></a>              error: function( xhr, s, e ) {
<a name="l8166"><span class="linenum">8166</span></a>  <span class="comment">                // take care of tab labels</span>
<a name="l8167"><span class="linenum">8167</span></a>                  self._cleanup();
<a name="l8168"><span class="linenum">8168</span></a>  
<a name="l8169"><span class="linenum">8169</span></a>                  self._trigger( &quot;load&quot;, null, self._ui( self.anchors[ index ], self.panels[ index ] ) );
<a name="l8170"><span class="linenum">8170</span></a>                  try {
<a name="l8171"><span class="linenum">8171</span></a>  <span class="comment">                    // Passing index avoid a race condition when this method is</span>
<a name="l8172"><span class="linenum">8172</span></a>  <span class="comment">                    // called after the user has selected another tab.</span>
<a name="l8173"><span class="linenum">8173</span></a>  <span class="comment">                    // Pass the anchor that initiated this request allows</span>
<a name="l8174"><span class="linenum">8174</span></a>  <span class="comment">                    // loadError to manipulate the tab content panel via $(a.hash)</span>
<a name="l8175"><span class="linenum">8175</span></a>                      o.ajaxOptions.<a class="function" onClick="logFunction('error')" href="../../../../_functions/error.html" onMouseOver="funcPopup(event,'error')">error</a>( xhr, s, index, a );
<a name="l8176"><span class="linenum">8176</span></a>                  }
<a name="l8177"><span class="linenum">8177</span></a>                  catch ( e ) {}
<a name="l8178"><span class="linenum">8178</span></a>              }
<a name="l8179"><span class="linenum">8179</span></a>          } ) );
<a name="l8180"><span class="linenum">8180</span></a>  
<a name="l8181"><span class="linenum">8181</span></a>  <span class="comment">        // last, so that load event is fired before show...</span>
<a name="l8182"><span class="linenum">8182</span></a>          self.element.dequeue( &quot;tabs&quot; );
<a name="l8183"><span class="linenum">8183</span></a>  
<a name="l8184"><span class="linenum">8184</span></a>          return this;
<a name="l8185"><span class="linenum">8185</span></a>      },
<a name="l8186"><span class="linenum">8186</span></a>  
<a name="l8187"><span class="linenum">8187</span></a>      abort: function() {
<a name="l8188"><span class="linenum">8188</span></a>  <span class="comment">        // stop possibly running animations</span>
<a name="l8189"><span class="linenum">8189</span></a>          this.element.queue( [] );
<a name="l8190"><span class="linenum">8190</span></a>          this.panels.<a class="function" onClick="logFunction('stop')" href="../../../../_functions/stop.html" onMouseOver="funcPopup(event,'stop')">stop</a>( false, true );
<a name="l8191"><span class="linenum">8191</span></a>  
<a name="l8192"><span class="linenum">8192</span></a>  <span class="comment">        // &quot;tabs&quot; queue must not contain more than two elements,</span>
<a name="l8193"><span class="linenum">8193</span></a>  <span class="comment">        // which are the callbacks for the latest clicked tab...</span>
<a name="l8194"><span class="linenum">8194</span></a>          this.element.queue( &quot;tabs&quot;, this.element.queue( &quot;tabs&quot; ).splice( -2, 2 ) );
<a name="l8195"><span class="linenum">8195</span></a>  
<a name="l8196"><span class="linenum">8196</span></a>  <span class="comment">        // terminate pending requests from other tabs</span>
<a name="l8197"><span class="linenum">8197</span></a>          if ( this.xhr ) {
<a name="l8198"><span class="linenum">8198</span></a>              this.xhr.abort();
<a name="l8199"><span class="linenum">8199</span></a>              delete this.xhr;
<a name="l8200"><span class="linenum">8200</span></a>          }
<a name="l8201"><span class="linenum">8201</span></a>  
<a name="l8202"><span class="linenum">8202</span></a>  <span class="comment">        // take care of tab labels</span>
<a name="l8203"><span class="linenum">8203</span></a>          this._cleanup();
<a name="l8204"><span class="linenum">8204</span></a>          return this;
<a name="l8205"><span class="linenum">8205</span></a>      },
<a name="l8206"><span class="linenum">8206</span></a>  
<a name="l8207"><span class="linenum">8207</span></a>      url: function( index, url ) {
<a name="l8208"><span class="linenum">8208</span></a>          this.anchors.eq( index ).removeData( &quot;cache.tabs&quot; ).data( &quot;load.tabs&quot;, url );
<a name="l8209"><span class="linenum">8209</span></a>          return this;
<a name="l8210"><span class="linenum">8210</span></a>      },
<a name="l8211"><span class="linenum">8211</span></a>  
<a name="l8212"><span class="linenum">8212</span></a>      length: function() {
<a name="l8213"><span class="linenum">8213</span></a>          return this.anchors.length;
<a name="l8214"><span class="linenum">8214</span></a>      }
<a name="l8215"><span class="linenum">8215</span></a>  });
<a name="l8216"><span class="linenum">8216</span></a>  
<a name="l8217"><span class="linenum">8217</span></a>  $.extend( $.ui.tabs, {
<a name="l8218"><span class="linenum">8218</span></a>      version: &quot;1.8.18&quot;
<a name="l8219"><span class="linenum">8219</span></a>  });
<a name="l8220"><span class="linenum">8220</span></a>  
<a name="l8221"><span class="linenum">8221</span></a>  <span class="comment">/*</span>
<a name="l8222"><span class="linenum">8222</span></a>  <span class="comment"> * Tabs Extensions</span>
<a name="l8223"><span class="linenum">8223</span></a>  <span class="comment"> */</span>
<a name="l8224"><span class="linenum">8224</span></a>  
<a name="l8225"><span class="linenum">8225</span></a>  <span class="comment">/*</span>
<a name="l8226"><span class="linenum">8226</span></a>  <span class="comment"> * Rotate</span>
<a name="l8227"><span class="linenum">8227</span></a>  <span class="comment"> */</span>
<a name="l8228"><span class="linenum">8228</span></a>  $.extend( $.ui.tabs.prototype, {
<a name="l8229"><span class="linenum">8229</span></a>      rotation: null,
<a name="l8230"><span class="linenum">8230</span></a>      rotate: function( ms, continuing ) {
<a name="l8231"><span class="linenum">8231</span></a>          var self = this,
<a name="l8232"><span class="linenum">8232</span></a>              o = this.options;
<a name="l8233"><span class="linenum">8233</span></a>  
<a name="l8234"><span class="linenum">8234</span></a>          var rotate = self._rotate || ( self._rotate = function( e ) {
<a name="l8235"><span class="linenum">8235</span></a>              clearTimeout( self.rotation );
<a name="l8236"><span class="linenum">8236</span></a>              self.rotation = setTimeout(function() {
<a name="l8237"><span class="linenum">8237</span></a>                  var t = o.selected;
<a name="l8238"><span class="linenum">8238</span></a>                  self.<a class="function" onClick="logFunction('select')" href="../../../../_functions/select.html" onMouseOver="funcPopup(event,'select')">select</a>( ++t &lt; self.anchors.length ? t : 0 );
<a name="l8239"><span class="linenum">8239</span></a>              }, ms );
<a name="l8240"><span class="linenum">8240</span></a>              
<a name="l8241"><span class="linenum">8241</span></a>              if ( e ) {
<a name="l8242"><span class="linenum">8242</span></a>                  e.stopPropagation();
<a name="l8243"><span class="linenum">8243</span></a>              }
<a name="l8244"><span class="linenum">8244</span></a>          });
<a name="l8245"><span class="linenum">8245</span></a>  
<a name="l8246"><span class="linenum">8246</span></a>          var stop = self._unrotate || ( self._unrotate = !continuing
<a name="l8247"><span class="linenum">8247</span></a>              ? function(e) {
<a name="l8248"><span class="linenum">8248</span></a>                  if (e.clientX) { // in case of a true click
<a name="l8249"><span class="linenum">8249</span></a>                      self.rotate(null);
<a name="l8250"><span class="linenum">8250</span></a>                  }
<a name="l8251"><span class="linenum">8251</span></a>              }
<a name="l8252"><span class="linenum">8252</span></a>              : function( e ) {
<a name="l8253"><span class="linenum">8253</span></a>                  t = o.selected;
<a name="l8254"><span class="linenum">8254</span></a>                  rotate();
<a name="l8255"><span class="linenum">8255</span></a>              });
<a name="l8256"><span class="linenum">8256</span></a>  
<a name="l8257"><span class="linenum">8257</span></a>  <span class="comment">        // start rotation</span>
<a name="l8258"><span class="linenum">8258</span></a>          if ( ms ) {
<a name="l8259"><span class="linenum">8259</span></a>              this.element.bind( &quot;tabsshow&quot;, rotate );
<a name="l8260"><span class="linenum">8260</span></a>              this.anchors.bind( o.event + &quot;.tabs&quot;, stop );
<a name="l8261"><span class="linenum">8261</span></a>              rotate();
<a name="l8262"><span class="linenum">8262</span></a>  <span class="comment">        // stop rotation</span>
<a name="l8263"><span class="linenum">8263</span></a>          } else {
<a name="l8264"><span class="linenum">8264</span></a>              clearTimeout( self.rotation );
<a name="l8265"><span class="linenum">8265</span></a>              this.element.unbind( &quot;tabsshow&quot;, rotate );
<a name="l8266"><span class="linenum">8266</span></a>              this.anchors.unbind( o.event + &quot;.tabs&quot;, stop );
<a name="l8267"><span class="linenum">8267</span></a>              delete this._rotate;
<a name="l8268"><span class="linenum">8268</span></a>              delete this._unrotate;
<a name="l8269"><span class="linenum">8269</span></a>          }
<a name="l8270"><span class="linenum">8270</span></a>  
<a name="l8271"><span class="linenum">8271</span></a>          return this;
<a name="l8272"><span class="linenum">8272</span></a>      }
<a name="l8273"><span class="linenum">8273</span></a>  });
<a name="l8274"><span class="linenum">8274</span></a>  
<a name="l8275"><span class="linenum">8275</span></a>  })( jQuery );
<a name="l8276"><span class="linenum">8276</span></a>  <span class="comment">/*</span>
<a name="l8277"><span class="linenum">8277</span></a>  <span class="comment"> * jQuery UI Datepicker 1.8.18</span>
<a name="l8278"><span class="linenum">8278</span></a>  <span class="comment"> *</span>
<a name="l8279"><span class="linenum">8279</span></a>  <span class="comment"> * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l8280"><span class="linenum">8280</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l8281"><span class="linenum">8281</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l8282"><span class="linenum">8282</span></a>  <span class="comment"> *</span>
<a name="l8283"><span class="linenum">8283</span></a>  <span class="comment"> * http://docs.jquery.com/UI/Datepicker</span>
<a name="l8284"><span class="linenum">8284</span></a>  <span class="comment"> *</span>
<a name="l8285"><span class="linenum">8285</span></a>  <span class="comment"> * Depends:</span>
<a name="l8286"><span class="linenum">8286</span></a>  <span class="comment"> *    jquery.ui.core.js</span>
<a name="l8287"><span class="linenum">8287</span></a>  <span class="comment"> */</span>
<a name="l8288"><span class="linenum">8288</span></a>  (function( $, undefined ) {
<a name="l8289"><span class="linenum">8289</span></a>  
<a name="l8290"><span class="linenum">8290</span></a>  $.extend($.ui, { datepicker: { version: &quot;1.8.18&quot; } });
<a name="l8291"><span class="linenum">8291</span></a>  
<a name="l8292"><span class="linenum">8292</span></a>  var PROP_NAME = 'datepicker';
<a name="l8293"><span class="linenum">8293</span></a>  var dpuuid = new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>().getTime();
<a name="l8294"><span class="linenum">8294</span></a>  var instActive;
<a name="l8295"><span class="linenum">8295</span></a>  
<a name="l8296"><span class="linenum">8296</span></a>  <span class="comment">/* Date picker manager.</span>
<a name="l8297"><span class="linenum">8297</span></a>  <span class="comment">   Use the singleton instance of this class, $.datepicker, to interact with the date picker.</span>
<a name="l8298"><span class="linenum">8298</span></a>  <span class="comment">   Settings for (groups of) date pickers are maintained in an instance object,</span>
<a name="l8299"><span class="linenum">8299</span></a>  <span class="comment">   allowing multiple different settings on the same page. */</span>
<a name="l8300"><span class="linenum">8300</span></a>  
<a name="l8301"><span class="linenum">8301</span></a>  function <a class="function" onClick="logFunction('Datepicker')" href="../../../../_functions/datepicker.html" onMouseOver="funcPopup(event,'datepicker')">Datepicker</a>() {
<a name="l8302"><span class="linenum">8302</span></a>      this.debug = false; <span class="comment">// Change this to true to start debugging</span>
<a name="l8303"><span class="linenum">8303</span></a>      this._curInst = null; <span class="comment">// The current instance in use</span>
<a name="l8304"><span class="linenum">8304</span></a>      this._keyEvent = false; <span class="comment">// If the last event was a key event</span>
<a name="l8305"><span class="linenum">8305</span></a>      this._disabledInputs = []; <span class="comment">// List of date picker inputs that have been disabled</span>
<a name="l8306"><span class="linenum">8306</span></a>      this._datepickerShowing = false; <span class="comment">// True if the popup picker is showing , false if not</span>
<a name="l8307"><span class="linenum">8307</span></a>      this._inDialog = false; <span class="comment">// True if showing within a &quot;dialog&quot;, false if not</span>
<a name="l8308"><span class="linenum">8308</span></a>      this._mainDivId = 'ui-datepicker-div'; <span class="comment">// The ID of the main datepicker division</span>
<a name="l8309"><span class="linenum">8309</span></a>      this._inlineClass = 'ui-datepicker-inline'; <span class="comment">// The name of the inline marker class</span>
<a name="l8310"><span class="linenum">8310</span></a>      this._appendClass = 'ui-datepicker-append'; <span class="comment">// The name of the append marker class</span>
<a name="l8311"><span class="linenum">8311</span></a>      this._triggerClass = 'ui-datepicker-trigger'; <span class="comment">// The name of the trigger marker class</span>
<a name="l8312"><span class="linenum">8312</span></a>      this._dialogClass = 'ui-datepicker-dialog'; <span class="comment">// The name of the dialog marker class</span>
<a name="l8313"><span class="linenum">8313</span></a>      this._disableClass = 'ui-datepicker-disabled'; <span class="comment">// The name of the disabled covering marker class</span>
<a name="l8314"><span class="linenum">8314</span></a>      this._unselectableClass = 'ui-datepicker-unselectable'; <span class="comment">// The name of the unselectable cell marker class</span>
<a name="l8315"><span class="linenum">8315</span></a>      this._currentClass = 'ui-datepicker-current-day'; <span class="comment">// The name of the current day marker class</span>
<a name="l8316"><span class="linenum">8316</span></a>      this._dayOverClass = 'ui-datepicker-days-cell-over'; <span class="comment">// The name of the day hover marker class</span>
<a name="l8317"><span class="linenum">8317</span></a>      this.regional = []; <span class="comment">// Available regional settings, indexed by language code</span>
<a name="l8318"><span class="linenum">8318</span></a>      this.regional[''] = { // Default regional settings
<a name="l8319"><span class="linenum">8319</span></a>          closeText: 'Done', // Display text for close link
<a name="l8320"><span class="linenum">8320</span></a>          prevText: 'Prev', // Display text for previous month link
<a name="l8321"><span class="linenum">8321</span></a>          nextText: 'Next', // Display text for next month link
<a name="l8322"><span class="linenum">8322</span></a>          currentText: 'Today', // Display text for current month link
<a name="l8323"><span class="linenum">8323</span></a>          monthNames: ['January','February','March','April','May','June',
<a name="l8324"><span class="linenum">8324</span></a>              'July','August','September','October','November','December'], // Names of months for drop-down and formatting
<a name="l8325"><span class="linenum">8325</span></a>          monthNamesShort: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'], // For formatting
<a name="l8326"><span class="linenum">8326</span></a>          dayNames: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'], // For formatting
<a name="l8327"><span class="linenum">8327</span></a>          dayNamesShort: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'], // For formatting
<a name="l8328"><span class="linenum">8328</span></a>          dayNamesMin: ['Su','Mo','Tu','We','Th','Fr','Sa'], // Column headings for days starting at Sunday
<a name="l8329"><span class="linenum">8329</span></a>          weekHeader: 'Wk', // Column header for week of the year
<a name="l8330"><span class="linenum">8330</span></a>          dateFormat: 'mm/dd/yy', // See format options on parseDate
<a name="l8331"><span class="linenum">8331</span></a>          firstDay: 0, // The first day of the week, Sun = 0, Mon = 1, ...
<a name="l8332"><span class="linenum">8332</span></a>          isRTL: false, // True if right-to-left language, false if left-to-right
<a name="l8333"><span class="linenum">8333</span></a>          showMonthAfterYear: false, // True if the year select precedes month, false for month then year
<a name="l8334"><span class="linenum">8334</span></a>          yearSuffix: '' // Additional text to append to the year in the month headers
<a name="l8335"><span class="linenum">8335</span></a>      };
<a name="l8336"><span class="linenum">8336</span></a>      this._defaults = { // Global defaults for all the date picker instances
<a name="l8337"><span class="linenum">8337</span></a>          showOn: 'focus', // 'focus' for popup on focus,
<a name="l8338"><span class="linenum">8338</span></a>  <span class="comment">            // 'button' for trigger button, or 'both' for either</span>
<a name="l8339"><span class="linenum">8339</span></a>          showAnim: 'fadeIn', // Name of jQuery animation for popup
<a name="l8340"><span class="linenum">8340</span></a>          showOptions: {}, // Options for enhanced animations
<a name="l8341"><span class="linenum">8341</span></a>          defaultDate: null, // Used when field is blank: actual date,
<a name="l8342"><span class="linenum">8342</span></a>  <span class="comment">            // +/-number for offset from today, null for today</span>
<a name="l8343"><span class="linenum">8343</span></a>          appendText: '', // Display text following the input box, e.g. showing the format
<a name="l8344"><span class="linenum">8344</span></a>          buttonText: '...', // Text for trigger button
<a name="l8345"><span class="linenum">8345</span></a>          buttonImage: '', // URL for trigger button image
<a name="l8346"><span class="linenum">8346</span></a>          buttonImageOnly: false, // True if the image appears alone, false if it appears on a button
<a name="l8347"><span class="linenum">8347</span></a>          hideIfNoPrevNext: false, // True to hide next/previous month links
<a name="l8348"><span class="linenum">8348</span></a>  <span class="comment">            // if not applicable, false to just disable them</span>
<a name="l8349"><span class="linenum">8349</span></a>          navigationAsDateFormat: false, // True if date formatting applied to prev/today/next links
<a name="l8350"><span class="linenum">8350</span></a>          gotoCurrent: false, // True if today link goes back to current selection instead
<a name="l8351"><span class="linenum">8351</span></a>          changeMonth: false, // True if month can be selected directly, false if only prev/next
<a name="l8352"><span class="linenum">8352</span></a>          changeYear: false, // True if year can be selected directly, false if only prev/next
<a name="l8353"><span class="linenum">8353</span></a>          yearRange: 'c-10:c+10', // Range of years to display in drop-down,
<a name="l8354"><span class="linenum">8354</span></a>  <span class="comment">            // either relative to today's year (-nn:+nn), relative to currently displayed year</span>
<a name="l8355"><span class="linenum">8355</span></a>  <span class="comment">            // (c-nn:c+nn), absolute (nnnn:nnnn), or a combination of the above (nnnn:-n)</span>
<a name="l8356"><span class="linenum">8356</span></a>          showOtherMonths: false, // True to show dates in other months, false to leave blank
<a name="l8357"><span class="linenum">8357</span></a>          selectOtherMonths: false, // True to allow selection of dates in other months, false for unselectable
<a name="l8358"><span class="linenum">8358</span></a>          showWeek: false, // True to show week of the year, false to not show it
<a name="l8359"><span class="linenum">8359</span></a>          calculateWeek: this.iso8601Week, // How to calculate the week of the year,
<a name="l8360"><span class="linenum">8360</span></a>  <span class="comment">            // takes a Date and returns the number of the week for it</span>
<a name="l8361"><span class="linenum">8361</span></a>          shortYearCutoff: '+10', // Short year values &lt; this are in the current century,
<a name="l8362"><span class="linenum">8362</span></a>  <span class="comment">            // &gt; this are in the previous century,</span>
<a name="l8363"><span class="linenum">8363</span></a>  <span class="comment">            // string value starting with '+' for current year + value</span>
<a name="l8364"><span class="linenum">8364</span></a>          minDate: null, // The earliest selectable date, or null for no limit
<a name="l8365"><span class="linenum">8365</span></a>          maxDate: null, // The latest selectable date, or null for no limit
<a name="l8366"><span class="linenum">8366</span></a>          duration: 'fast', // Duration of display/closure
<a name="l8367"><span class="linenum">8367</span></a>          beforeShowDay: null, // Function that takes a date and returns an array with
<a name="l8368"><span class="linenum">8368</span></a>  <span class="comment">            // [0] = true if selectable, false if not, [1] = custom CSS class name(s) or '',</span>
<a name="l8369"><span class="linenum">8369</span></a>  <span class="comment">            // [2] = cell title (optional), e.g. $.datepicker.noWeekends</span>
<a name="l8370"><span class="linenum">8370</span></a>          beforeShow: null, // Function that takes an input field and
<a name="l8371"><span class="linenum">8371</span></a>  <span class="comment">            // returns a set of custom settings for the date picker</span>
<a name="l8372"><span class="linenum">8372</span></a>          onSelect: null, // Define a callback function when a date is selected
<a name="l8373"><span class="linenum">8373</span></a>          onChangeMonthYear: null, // Define a callback function when the month or year is changed
<a name="l8374"><span class="linenum">8374</span></a>          onClose: null, // Define a callback function when the datepicker is closed
<a name="l8375"><span class="linenum">8375</span></a>          numberOfMonths: 1, // Number of months to show at a time
<a name="l8376"><span class="linenum">8376</span></a>          showCurrentAtPos: 0, // The position in multipe months at which to show the current month (starting at 0)
<a name="l8377"><span class="linenum">8377</span></a>          stepMonths: 1, // Number of months to step back/forward
<a name="l8378"><span class="linenum">8378</span></a>          stepBigMonths: 12, // Number of months to step back/forward for the big links
<a name="l8379"><span class="linenum">8379</span></a>          altField: '', // Selector for an alternate field to store selected dates into
<a name="l8380"><span class="linenum">8380</span></a>          altFormat: '', // The date format to use for the alternate field
<a name="l8381"><span class="linenum">8381</span></a>          constrainInput: true, // The input is constrained by the current date format
<a name="l8382"><span class="linenum">8382</span></a>          showButtonPanel: false, // True to show button panel, false to not show it
<a name="l8383"><span class="linenum">8383</span></a>          autoSize: false, // True to size the input for the date format, false to leave as is
<a name="l8384"><span class="linenum">8384</span></a>          disabled: false // The initial disabled state
<a name="l8385"><span class="linenum">8385</span></a>      };
<a name="l8386"><span class="linenum">8386</span></a>      $.extend(this._defaults, this.regional['']);
<a name="l8387"><span class="linenum">8387</span></a>      this.dpDiv = <a class="function" onClick="logFunction('bindHover')" href="../../../../_functions/bindhover.html" onMouseOver="funcPopup(event,'bindhover')">bindHover</a>($('&lt;div id=&quot;' + this._mainDivId + '&quot; class=&quot;ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all&quot;&gt;&lt;/div&gt;'));
<a name="l8388"><span class="linenum">8388</span></a>  }
<a name="l8389"><span class="linenum">8389</span></a>  
<a name="l8390"><span class="linenum">8390</span></a>  $.extend(Datepicker.prototype, {
<a name="l8391"><span class="linenum">8391</span></a>  <span class="comment">    /* Class name added to elements to indicate already configured with a date picker. */</span>
<a name="l8392"><span class="linenum">8392</span></a>      markerClassName: 'hasDatepicker',
<a name="l8393"><span class="linenum">8393</span></a>      
<a name="l8394"><span class="linenum">8394</span></a>  <span class="comment">    //Keep track of the maximum number of rows displayed (see #7043)</span>
<a name="l8395"><span class="linenum">8395</span></a>      maxRows: 4,
<a name="l8396"><span class="linenum">8396</span></a>  
<a name="l8397"><span class="linenum">8397</span></a>  <span class="comment">    /* Debug logging (if enabled). */</span>
<a name="l8398"><span class="linenum">8398</span></a>      log: function () {
<a name="l8399"><span class="linenum">8399</span></a>          if (this.debug)
<a name="l8400"><span class="linenum">8400</span></a>              console.log.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>('', arguments);
<a name="l8401"><span class="linenum">8401</span></a>      },
<a name="l8402"><span class="linenum">8402</span></a>      
<a name="l8403"><span class="linenum">8403</span></a>  <span class="comment">    // TODO rename to &quot;widget&quot; when switching to widget factory</span>
<a name="l8404"><span class="linenum">8404</span></a>      _widgetDatepicker: function() {
<a name="l8405"><span class="linenum">8405</span></a>          return this.dpDiv;
<a name="l8406"><span class="linenum">8406</span></a>      },
<a name="l8407"><span class="linenum">8407</span></a>  
<a name="l8408"><span class="linenum">8408</span></a>      <span class="comment">/* Override the default settings for all instances of the date picker.</span>
<a name="l8409"><span class="linenum">8409</span></a>  <span class="comment">       @param  settings  object - the new settings to use as defaults (anonymous object)</span>
<a name="l8410"><span class="linenum">8410</span></a>  <span class="comment">       @return the manager object */</span>
<a name="l8411"><span class="linenum">8411</span></a>      setDefaults: function(settings) {
<a name="l8412"><span class="linenum">8412</span></a>          <a class="function" onClick="logFunction('extendRemove')" href="../../../../_functions/extendremove.html" onMouseOver="funcPopup(event,'extendremove')">extendRemove</a>(this._defaults, settings || {});
<a name="l8413"><span class="linenum">8413</span></a>          return this;
<a name="l8414"><span class="linenum">8414</span></a>      },
<a name="l8415"><span class="linenum">8415</span></a>  
<a name="l8416"><span class="linenum">8416</span></a>      <span class="comment">/* Attach the date picker to a jQuery selection.</span>
<a name="l8417"><span class="linenum">8417</span></a>  <span class="comment">       @param  target    element - the target input field or division or span</span>
<a name="l8418"><span class="linenum">8418</span></a>  <span class="comment">       @param  settings  object - the new settings to use for this date picker instance (anonymous) */</span>
<a name="l8419"><span class="linenum">8419</span></a>      _attachDatepicker: function(target, settings) {
<a name="l8420"><span class="linenum">8420</span></a>  <span class="comment">        // check for settings on the control itself - in namespace 'date:'</span>
<a name="l8421"><span class="linenum">8421</span></a>          var inlineSettings = null;
<a name="l8422"><span class="linenum">8422</span></a>          for (var attrName in this._defaults) {
<a name="l8423"><span class="linenum">8423</span></a>              var attrValue = target.getAttribute('date:' + attrName);
<a name="l8424"><span class="linenum">8424</span></a>              if (attrValue) {
<a name="l8425"><span class="linenum">8425</span></a>                  inlineSettings = inlineSettings || {};
<a name="l8426"><span class="linenum">8426</span></a>                  try {
<a name="l8427"><span class="linenum">8427</span></a>                      inlineSettings[attrName] = eval(attrValue);
<a name="l8428"><span class="linenum">8428</span></a>                  } catch (err) {
<a name="l8429"><span class="linenum">8429</span></a>                      inlineSettings[attrName] = attrValue;
<a name="l8430"><span class="linenum">8430</span></a>                  }
<a name="l8431"><span class="linenum">8431</span></a>              }
<a name="l8432"><span class="linenum">8432</span></a>          }
<a name="l8433"><span class="linenum">8433</span></a>          var nodeName = target.nodeName.toLowerCase();
<a name="l8434"><span class="linenum">8434</span></a>          var inline = (nodeName == 'div' || nodeName == 'span');
<a name="l8435"><span class="linenum">8435</span></a>          if (!target.id) {
<a name="l8436"><span class="linenum">8436</span></a>              this.uuid += 1;
<a name="l8437"><span class="linenum">8437</span></a>              target.id = 'dp' + this.uuid;
<a name="l8438"><span class="linenum">8438</span></a>          }
<a name="l8439"><span class="linenum">8439</span></a>          var inst = this._newInst($(target), inline);
<a name="l8440"><span class="linenum">8440</span></a>          inst.settings = $.extend({}, settings || {}, inlineSettings || {});
<a name="l8441"><span class="linenum">8441</span></a>          if (nodeName == 'input') {
<a name="l8442"><span class="linenum">8442</span></a>              this._connectDatepicker(target, inst);
<a name="l8443"><span class="linenum">8443</span></a>          } else if (inline) {
<a name="l8444"><span class="linenum">8444</span></a>              this._inlineDatepicker(target, inst);
<a name="l8445"><span class="linenum">8445</span></a>          }
<a name="l8446"><span class="linenum">8446</span></a>      },
<a name="l8447"><span class="linenum">8447</span></a>  
<a name="l8448"><span class="linenum">8448</span></a>  <span class="comment">    /* Create a new instance object. */</span>
<a name="l8449"><span class="linenum">8449</span></a>      _newInst: function(target, inline) {
<a name="l8450"><span class="linenum">8450</span></a>          var id = target[0].id.<a class="function" onClick="logFunction('replace')" href="../../../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">replace</a>(/([^A-Za-z0-9_-])/g, '\\\\<a class="var it108" onMouseOver="hilite(108)" onMouseOut="lolite()" onClick="logVariable('1')" href="../../../../_variables/1.html">$1</a>'); <span class="comment">// escape jQuery meta chars</span>
<a name="l8451"><span class="linenum">8451</span></a>          return {id: id, input: target, // associated target
<a name="l8452"><span class="linenum">8452</span></a>              selectedDay: 0, selectedMonth: 0, selectedYear: 0, // current selection
<a name="l8453"><span class="linenum">8453</span></a>              drawMonth: 0, drawYear: 0, // month being drawn
<a name="l8454"><span class="linenum">8454</span></a>              inline: inline, // is datepicker inline or not
<a name="l8455"><span class="linenum">8455</span></a>              dpDiv: (!inline ? this.dpDiv : // presentation div
<a name="l8456"><span class="linenum">8456</span></a>              <a class="function" onClick="logFunction('bindHover')" href="../../../../_functions/bindhover.html" onMouseOver="funcPopup(event,'bindhover')">bindHover</a>($('&lt;div class=&quot;' + this._inlineClass + ' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all&quot;&gt;&lt;/div&gt;')))};
<a name="l8457"><span class="linenum">8457</span></a>      },
<a name="l8458"><span class="linenum">8458</span></a>  
<a name="l8459"><span class="linenum">8459</span></a>  <span class="comment">    /* Attach the date picker to an input field. */</span>
<a name="l8460"><span class="linenum">8460</span></a>      _connectDatepicker: function(target, inst) {
<a name="l8461"><span class="linenum">8461</span></a>          var input = $(target);
<a name="l8462"><span class="linenum">8462</span></a>          inst.append = $([]);
<a name="l8463"><span class="linenum">8463</span></a>          inst.trigger = $([]);
<a name="l8464"><span class="linenum">8464</span></a>          if (input.<a class="function" onClick="logFunction('hasClass')" href="../../../../_functions/hasclass.html" onMouseOver="funcPopup(event,'hasclass')">hasClass</a>(this.markerClassName))
<a name="l8465"><span class="linenum">8465</span></a>              return;
<a name="l8466"><span class="linenum">8466</span></a>          this._attachments(input, inst);
<a name="l8467"><span class="linenum">8467</span></a>          input.addClass(this.markerClassName).keydown(this._doKeyDown).
<a name="l8468"><span class="linenum">8468</span></a>              keypress(this._doKeyPress).keyup(this._doKeyUp).
<a name="l8469"><span class="linenum">8469</span></a>              bind(&quot;setData.datepicker&quot;, function(event, key, value) {
<a name="l8470"><span class="linenum">8470</span></a>                  inst.settings[key] = value;
<a name="l8471"><span class="linenum">8471</span></a>              }).bind(&quot;getData.datepicker&quot;, function(event, key) {
<a name="l8472"><span class="linenum">8472</span></a>                  return this._get(inst, key);
<a name="l8473"><span class="linenum">8473</span></a>              });
<a name="l8474"><span class="linenum">8474</span></a>          this._autoSize(inst);
<a name="l8475"><span class="linenum">8475</span></a>          $.data(target, PROP_NAME, inst);
<a name="l8476"><span class="linenum">8476</span></a>  <span class="comment">        //If disabled option is true, disable the datepicker once it has been attached to the input (see ticket #5665)</span>
<a name="l8477"><span class="linenum">8477</span></a>          if( inst.settings.disabled ) {
<a name="l8478"><span class="linenum">8478</span></a>              this._disableDatepicker( target );
<a name="l8479"><span class="linenum">8479</span></a>          }
<a name="l8480"><span class="linenum">8480</span></a>      },
<a name="l8481"><span class="linenum">8481</span></a>  
<a name="l8482"><span class="linenum">8482</span></a>  <span class="comment">    /* Make attachments based on settings. */</span>
<a name="l8483"><span class="linenum">8483</span></a>      _attachments: function(input, inst) {
<a name="l8484"><span class="linenum">8484</span></a>          var appendText = this._get(inst, 'appendText');
<a name="l8485"><span class="linenum">8485</span></a>          var isRTL = this._get(inst, 'isRTL');
<a name="l8486"><span class="linenum">8486</span></a>          if (inst.append)
<a name="l8487"><span class="linenum">8487</span></a>              inst.append.<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>();
<a name="l8488"><span class="linenum">8488</span></a>          if (appendText) {
<a name="l8489"><span class="linenum">8489</span></a>              inst.append = $('&lt;span class=&quot;' + this._appendClass + '&quot;&gt;' + appendText + '&lt;/span&gt;');
<a name="l8490"><span class="linenum">8490</span></a>              input[isRTL ? 'before' : 'after'](inst.append);
<a name="l8491"><span class="linenum">8491</span></a>          }
<a name="l8492"><span class="linenum">8492</span></a>          input.unbind('focus', this._showDatepicker);
<a name="l8493"><span class="linenum">8493</span></a>          if (inst.trigger)
<a name="l8494"><span class="linenum">8494</span></a>              inst.trigger.<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>();
<a name="l8495"><span class="linenum">8495</span></a>          var showOn = this._get(inst, 'showOn');
<a name="l8496"><span class="linenum">8496</span></a>          if (showOn == 'focus' || showOn == 'both') // pop-up date picker when in the marked field
<a name="l8497"><span class="linenum">8497</span></a>              input.focus(this._showDatepicker);
<a name="l8498"><span class="linenum">8498</span></a>          if (showOn == 'button' || showOn == 'both') { // pop-up date picker when button clicked
<a name="l8499"><span class="linenum">8499</span></a>              var buttonText = this._get(inst, 'buttonText');
<a name="l8500"><span class="linenum">8500</span></a>              var buttonImage = this._get(inst, 'buttonImage');
<a name="l8501"><span class="linenum">8501</span></a>              inst.trigger = $(this._get(inst, 'buttonImageOnly') ?
<a name="l8502"><span class="linenum">8502</span></a>                  $('&lt;img/&gt;').addClass(this._triggerClass).
<a name="l8503"><span class="linenum">8503</span></a>                      attr({ src: buttonImage, alt: buttonText, title: buttonText }) :
<a name="l8504"><span class="linenum">8504</span></a>                  $('&lt;button type=&quot;button&quot;&gt;&lt;/button&gt;').addClass(this._triggerClass).
<a name="l8505"><span class="linenum">8505</span></a>                      html(buttonImage == '' ? buttonText : $('&lt;img/&gt;').attr(
<a name="l8506"><span class="linenum">8506</span></a>                      { src:buttonImage, alt:buttonText, title:buttonText })));
<a name="l8507"><span class="linenum">8507</span></a>              input[isRTL ? 'before' : 'after'](inst.trigger);
<a name="l8508"><span class="linenum">8508</span></a>              inst.trigger.click(function() {
<a name="l8509"><span class="linenum">8509</span></a>                  if ($.datepicker._datepickerShowing &amp;&amp; $.datepicker._lastInput == input[0])
<a name="l8510"><span class="linenum">8510</span></a>                      $.datepicker._hideDatepicker();
<a name="l8511"><span class="linenum">8511</span></a>                  else if ($.datepicker._datepickerShowing &amp;&amp; $.datepicker._lastInput != input[0]) {
<a name="l8512"><span class="linenum">8512</span></a>                      $.datepicker._hideDatepicker(); 
<a name="l8513"><span class="linenum">8513</span></a>                      $.datepicker._showDatepicker(input[0]);
<a name="l8514"><span class="linenum">8514</span></a>                  } else
<a name="l8515"><span class="linenum">8515</span></a>                      $.datepicker._showDatepicker(input[0]);
<a name="l8516"><span class="linenum">8516</span></a>                  return false;
<a name="l8517"><span class="linenum">8517</span></a>              });
<a name="l8518"><span class="linenum">8518</span></a>          }
<a name="l8519"><span class="linenum">8519</span></a>      },
<a name="l8520"><span class="linenum">8520</span></a>  
<a name="l8521"><span class="linenum">8521</span></a>  <span class="comment">    /* Apply the maximum length for the date format. */</span>
<a name="l8522"><span class="linenum">8522</span></a>      _autoSize: function(inst) {
<a name="l8523"><span class="linenum">8523</span></a>          if (this._get(inst, 'autoSize') &amp;&amp; !inst.inline) {
<a name="l8524"><span class="linenum">8524</span></a>              var date = new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>(2009, 12 - 1, 20); <span class="comment">// Ensure double digits</span>
<a name="l8525"><span class="linenum">8525</span></a>              var dateFormat = this._get(inst, 'dateFormat');
<a name="l8526"><span class="linenum">8526</span></a>              if (dateFormat.<a class="function" onClick="logFunction('match')" href="../../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(/[DM]/)) {
<a name="l8527"><span class="linenum">8527</span></a>                  var findMax = function(names) {
<a name="l8528"><span class="linenum">8528</span></a>                      var max = 0;
<a name="l8529"><span class="linenum">8529</span></a>                      var maxI = 0;
<a name="l8530"><span class="linenum">8530</span></a>                      for (var i = 0; i &lt; names.length; i++) {
<a name="l8531"><span class="linenum">8531</span></a>                          if (names[i].length &gt; max) {
<a name="l8532"><span class="linenum">8532</span></a>                              max = names[i].length;
<a name="l8533"><span class="linenum">8533</span></a>                              maxI = i;
<a name="l8534"><span class="linenum">8534</span></a>                          }
<a name="l8535"><span class="linenum">8535</span></a>                      }
<a name="l8536"><span class="linenum">8536</span></a>                      return maxI;
<a name="l8537"><span class="linenum">8537</span></a>                  };
<a name="l8538"><span class="linenum">8538</span></a>                  date.setMonth(findMax(this._get(inst, (dateFormat.<a class="function" onClick="logFunction('match')" href="../../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(/MM/) ?
<a name="l8539"><span class="linenum">8539</span></a>                      'monthNames' : 'monthNamesShort'))));
<a name="l8540"><span class="linenum">8540</span></a>                  date.setDate(findMax(this._get(inst, (dateFormat.<a class="function" onClick="logFunction('match')" href="../../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(/DD/) ?
<a name="l8541"><span class="linenum">8541</span></a>                      'dayNames' : 'dayNamesShort'))) + 20 - date.getDay());
<a name="l8542"><span class="linenum">8542</span></a>              }
<a name="l8543"><span class="linenum">8543</span></a>              inst.input.attr('size', this._formatDate(inst, date).length);
<a name="l8544"><span class="linenum">8544</span></a>          }
<a name="l8545"><span class="linenum">8545</span></a>      },
<a name="l8546"><span class="linenum">8546</span></a>  
<a name="l8547"><span class="linenum">8547</span></a>  <span class="comment">    /* Attach an inline date picker to a div. */</span>
<a name="l8548"><span class="linenum">8548</span></a>      _inlineDatepicker: function(target, inst) {
<a name="l8549"><span class="linenum">8549</span></a>          var divSpan = $(target);
<a name="l8550"><span class="linenum">8550</span></a>          if (divSpan.<a class="function" onClick="logFunction('hasClass')" href="../../../../_functions/hasclass.html" onMouseOver="funcPopup(event,'hasclass')">hasClass</a>(this.markerClassName))
<a name="l8551"><span class="linenum">8551</span></a>              return;
<a name="l8552"><span class="linenum">8552</span></a>          divSpan.addClass(this.markerClassName).append(inst.dpDiv).
<a name="l8553"><span class="linenum">8553</span></a>              bind(&quot;setData.datepicker&quot;, function(event, key, value){
<a name="l8554"><span class="linenum">8554</span></a>                  inst.settings[key] = value;
<a name="l8555"><span class="linenum">8555</span></a>              }).bind(&quot;getData.datepicker&quot;, function(event, key){
<a name="l8556"><span class="linenum">8556</span></a>                  return this._get(inst, key);
<a name="l8557"><span class="linenum">8557</span></a>              });
<a name="l8558"><span class="linenum">8558</span></a>          $.data(target, PROP_NAME, inst);
<a name="l8559"><span class="linenum">8559</span></a>          this._setDate(inst, this._getDefaultDate(inst), true);
<a name="l8560"><span class="linenum">8560</span></a>          this._updateDatepicker(inst);
<a name="l8561"><span class="linenum">8561</span></a>          this._updateAlternate(inst);
<a name="l8562"><span class="linenum">8562</span></a>  <span class="comment">        //If disabled option is true, disable the datepicker before showing it (see ticket #5665)</span>
<a name="l8563"><span class="linenum">8563</span></a>          if( inst.settings.disabled ) {
<a name="l8564"><span class="linenum">8564</span></a>              this._disableDatepicker( target );
<a name="l8565"><span class="linenum">8565</span></a>          }
<a name="l8566"><span class="linenum">8566</span></a>  <span class="comment">        // Set display:block in place of inst.dpDiv.show() which won't work on disconnected elements</span>
<a name="l8567"><span class="linenum">8567</span></a>  <span class="comment">        // http://bugs.jqueryui.com/ticket/7552 - A Datepicker created on a detached div has zero height</span>
<a name="l8568"><span class="linenum">8568</span></a>          inst.dpDiv.css( &quot;display&quot;, &quot;block&quot; );
<a name="l8569"><span class="linenum">8569</span></a>      },
<a name="l8570"><span class="linenum">8570</span></a>  
<a name="l8571"><span class="linenum">8571</span></a>      <span class="comment">/* Pop-up the date picker in a &quot;dialog&quot; box.</span>
<a name="l8572"><span class="linenum">8572</span></a>  <span class="comment">       @param  input     element - ignored</span>
<a name="l8573"><span class="linenum">8573</span></a>  <span class="comment">       @param  date      string or Date - the initial date to display</span>
<a name="l8574"><span class="linenum">8574</span></a>  <span class="comment">       @param  onSelect  function - the function to call when a date is selected</span>
<a name="l8575"><span class="linenum">8575</span></a>  <span class="comment">       @param  settings  object - update the dialog date picker instance's settings (anonymous object)</span>
<a name="l8576"><span class="linenum">8576</span></a>  <span class="comment">       @param  pos       int[2] - coordinates for the dialog's position within the screen or</span>
<a name="l8577"><span class="linenum">8577</span></a>  <span class="comment">                         event - with x/y coordinates or</span>
<a name="l8578"><span class="linenum">8578</span></a>  <span class="comment">                         leave empty for default (screen centre)</span>
<a name="l8579"><span class="linenum">8579</span></a>  <span class="comment">       @return the manager object */</span>
<a name="l8580"><span class="linenum">8580</span></a>      _dialogDatepicker: function(input, date, onSelect, settings, pos) {
<a name="l8581"><span class="linenum">8581</span></a>          var inst = this._dialogInst; <span class="comment">// internal instance</span>
<a name="l8582"><span class="linenum">8582</span></a>          if (!inst) {
<a name="l8583"><span class="linenum">8583</span></a>              this.uuid += 1;
<a name="l8584"><span class="linenum">8584</span></a>              var id = 'dp' + this.uuid;
<a name="l8585"><span class="linenum">8585</span></a>              this._dialogInput = $('&lt;input type=&quot;text&quot; id=&quot;' + id +
<a name="l8586"><span class="linenum">8586</span></a>                  '&quot; style=&quot;position: absolute; top: -100px; width: 0px; z-index: -10;&quot;/&gt;');
<a name="l8587"><span class="linenum">8587</span></a>              this._dialogInput.keydown(this._doKeyDown);
<a name="l8588"><span class="linenum">8588</span></a>              $('body').append(this._dialogInput);
<a name="l8589"><span class="linenum">8589</span></a>              inst = this._dialogInst = this._newInst(this._dialogInput, false);
<a name="l8590"><span class="linenum">8590</span></a>              inst.settings = {};
<a name="l8591"><span class="linenum">8591</span></a>              $.data(this._dialogInput[0], PROP_NAME, inst);
<a name="l8592"><span class="linenum">8592</span></a>          }
<a name="l8593"><span class="linenum">8593</span></a>          <a class="function" onClick="logFunction('extendRemove')" href="../../../../_functions/extendremove.html" onMouseOver="funcPopup(event,'extendremove')">extendRemove</a>(inst.settings, settings || {});
<a name="l8594"><span class="linenum">8594</span></a>          date = (date &amp;&amp; date.constructor == Date ? this._formatDate(inst, date) : date);
<a name="l8595"><span class="linenum">8595</span></a>          this._dialogInput.val(date);
<a name="l8596"><span class="linenum">8596</span></a>  
<a name="l8597"><span class="linenum">8597</span></a>          this._pos = (pos ? (pos.length ? pos : [pos.pageX, pos.pageY]) : null);
<a name="l8598"><span class="linenum">8598</span></a>          if (!this._pos) {
<a name="l8599"><span class="linenum">8599</span></a>              var browserWidth = document.documentElement.clientWidth;
<a name="l8600"><span class="linenum">8600</span></a>              var browserHeight = document.documentElement.clientHeight;
<a name="l8601"><span class="linenum">8601</span></a>              var scrollX = document.documentElement.scrollLeft || document.body.scrollLeft;
<a name="l8602"><span class="linenum">8602</span></a>              var scrollY = document.documentElement.scrollTop || document.body.scrollTop;
<a name="l8603"><span class="linenum">8603</span></a>              this._pos = // should use actual width/height below
<a name="l8604"><span class="linenum">8604</span></a>                  [(browserWidth / 2) - 100 + scrollX, (browserHeight / 2) - 150 + scrollY];
<a name="l8605"><span class="linenum">8605</span></a>          }
<a name="l8606"><span class="linenum">8606</span></a>  
<a name="l8607"><span class="linenum">8607</span></a>  <span class="comment">        // move input on screen for focus, but hidden behind dialog</span>
<a name="l8608"><span class="linenum">8608</span></a>          this._dialogInput.css('left', (this._pos[0] + 20) + 'px').css('top', this._pos[1] + 'px');
<a name="l8609"><span class="linenum">8609</span></a>          inst.settings.onSelect = onSelect;
<a name="l8610"><span class="linenum">8610</span></a>          this._inDialog = true;
<a name="l8611"><span class="linenum">8611</span></a>          this.dpDiv.addClass(this._dialogClass);
<a name="l8612"><span class="linenum">8612</span></a>          this._showDatepicker(this._dialogInput[0]);
<a name="l8613"><span class="linenum">8613</span></a>          if ($.blockUI)
<a name="l8614"><span class="linenum">8614</span></a>              $.blockUI(this.dpDiv);
<a name="l8615"><span class="linenum">8615</span></a>          $.data(this._dialogInput[0], PROP_NAME, inst);
<a name="l8616"><span class="linenum">8616</span></a>          return this;
<a name="l8617"><span class="linenum">8617</span></a>      },
<a name="l8618"><span class="linenum">8618</span></a>  
<a name="l8619"><span class="linenum">8619</span></a>      <span class="comment">/* Detach a datepicker from its control.</span>
<a name="l8620"><span class="linenum">8620</span></a>  <span class="comment">       @param  target    element - the target input field or division or span */</span>
<a name="l8621"><span class="linenum">8621</span></a>      _destroyDatepicker: function(target) {
<a name="l8622"><span class="linenum">8622</span></a>          var <a class="var it608" onMouseOver="hilite(608)" onMouseOut="lolite()" onClick="logVariable('target')" href="../../../../_variables/target.html">$target</a> = $(target);
<a name="l8623"><span class="linenum">8623</span></a>          var inst = $.data(target, PROP_NAME);
<a name="l8624"><span class="linenum">8624</span></a>          if (!<a class="var it608" onMouseOver="hilite(608)" onMouseOut="lolite()" onClick="logVariable('target')" href="../../../../_variables/target.html">$target</a>.<a class="function" onClick="logFunction('hasClass')" href="../../../../_functions/hasclass.html" onMouseOver="funcPopup(event,'hasclass')">hasClass</a>(this.markerClassName)) {
<a name="l8625"><span class="linenum">8625</span></a>              return;
<a name="l8626"><span class="linenum">8626</span></a>          }
<a name="l8627"><span class="linenum">8627</span></a>          var nodeName = target.nodeName.toLowerCase();
<a name="l8628"><span class="linenum">8628</span></a>          $.removeData(target, PROP_NAME);
<a name="l8629"><span class="linenum">8629</span></a>          if (nodeName == 'input') {
<a name="l8630"><span class="linenum">8630</span></a>              inst.append.<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>();
<a name="l8631"><span class="linenum">8631</span></a>              inst.trigger.<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>();
<a name="l8632"><span class="linenum">8632</span></a>              <a class="var it608" onMouseOver="hilite(608)" onMouseOut="lolite()" onClick="logVariable('target')" href="../../../../_variables/target.html">$target</a>.removeClass(this.markerClassName).
<a name="l8633"><span class="linenum">8633</span></a>                  unbind('focus', this._showDatepicker).
<a name="l8634"><span class="linenum">8634</span></a>                  unbind('keydown', this._doKeyDown).
<a name="l8635"><span class="linenum">8635</span></a>                  unbind('keypress', this._doKeyPress).
<a name="l8636"><span class="linenum">8636</span></a>                  unbind('keyup', this._doKeyUp);
<a name="l8637"><span class="linenum">8637</span></a>          } else if (nodeName == 'div' || nodeName == 'span')
<a name="l8638"><span class="linenum">8638</span></a>              <a class="var it608" onMouseOver="hilite(608)" onMouseOut="lolite()" onClick="logVariable('target')" href="../../../../_variables/target.html">$target</a>.removeClass(this.markerClassName).empty();
<a name="l8639"><span class="linenum">8639</span></a>      },
<a name="l8640"><span class="linenum">8640</span></a>  
<a name="l8641"><span class="linenum">8641</span></a>      <span class="comment">/* Enable the date picker to a jQuery selection.</span>
<a name="l8642"><span class="linenum">8642</span></a>  <span class="comment">       @param  target    element - the target input field or division or span */</span>
<a name="l8643"><span class="linenum">8643</span></a>      _enableDatepicker: function(target) {
<a name="l8644"><span class="linenum">8644</span></a>          var <a class="var it608" onMouseOver="hilite(608)" onMouseOut="lolite()" onClick="logVariable('target')" href="../../../../_variables/target.html">$target</a> = $(target);
<a name="l8645"><span class="linenum">8645</span></a>          var inst = $.data(target, PROP_NAME);
<a name="l8646"><span class="linenum">8646</span></a>          if (!<a class="var it608" onMouseOver="hilite(608)" onMouseOut="lolite()" onClick="logVariable('target')" href="../../../../_variables/target.html">$target</a>.<a class="function" onClick="logFunction('hasClass')" href="../../../../_functions/hasclass.html" onMouseOver="funcPopup(event,'hasclass')">hasClass</a>(this.markerClassName)) {
<a name="l8647"><span class="linenum">8647</span></a>              return;
<a name="l8648"><span class="linenum">8648</span></a>          }
<a name="l8649"><span class="linenum">8649</span></a>          var nodeName = target.nodeName.toLowerCase();
<a name="l8650"><span class="linenum">8650</span></a>          if (nodeName == 'input') {
<a name="l8651"><span class="linenum">8651</span></a>              target.disabled = false;
<a name="l8652"><span class="linenum">8652</span></a>              inst.trigger.filter('button').
<a name="l8653"><span class="linenum">8653</span></a>                  <a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() { this.disabled = false; }).<a class="phpfunction" onClick="logFunction('end')" href="../../../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>().
<a name="l8654"><span class="linenum">8654</span></a>                  filter('img').css({opacity: '1.0', cursor: ''});
<a name="l8655"><span class="linenum">8655</span></a>          }
<a name="l8656"><span class="linenum">8656</span></a>          else if (nodeName == 'div' || nodeName == 'span') {
<a name="l8657"><span class="linenum">8657</span></a>              var inline = <a class="var it608" onMouseOver="hilite(608)" onMouseOut="lolite()" onClick="logVariable('target')" href="../../../../_variables/target.html">$target</a>.children('.' + this._inlineClass);
<a name="l8658"><span class="linenum">8658</span></a>              inline.children().removeClass('ui-state-disabled');
<a name="l8659"><span class="linenum">8659</span></a>              inline.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>(&quot;select.ui-datepicker-month, select.ui-datepicker-year&quot;).
<a name="l8660"><span class="linenum">8660</span></a>                  removeAttr(&quot;disabled&quot;);
<a name="l8661"><span class="linenum">8661</span></a>          }
<a name="l8662"><span class="linenum">8662</span></a>          this._disabledInputs = $.map(this._disabledInputs,
<a name="l8663"><span class="linenum">8663</span></a>              function(value) { return (value == target ? null : value); }); <span class="comment">// delete entry</span>
<a name="l8664"><span class="linenum">8664</span></a>      },
<a name="l8665"><span class="linenum">8665</span></a>  
<a name="l8666"><span class="linenum">8666</span></a>      <span class="comment">/* Disable the date picker to a jQuery selection.</span>
<a name="l8667"><span class="linenum">8667</span></a>  <span class="comment">       @param  target    element - the target input field or division or span */</span>
<a name="l8668"><span class="linenum">8668</span></a>      _disableDatepicker: function(target) {
<a name="l8669"><span class="linenum">8669</span></a>          var <a class="var it608" onMouseOver="hilite(608)" onMouseOut="lolite()" onClick="logVariable('target')" href="../../../../_variables/target.html">$target</a> = $(target);
<a name="l8670"><span class="linenum">8670</span></a>          var inst = $.data(target, PROP_NAME);
<a name="l8671"><span class="linenum">8671</span></a>          if (!<a class="var it608" onMouseOver="hilite(608)" onMouseOut="lolite()" onClick="logVariable('target')" href="../../../../_variables/target.html">$target</a>.<a class="function" onClick="logFunction('hasClass')" href="../../../../_functions/hasclass.html" onMouseOver="funcPopup(event,'hasclass')">hasClass</a>(this.markerClassName)) {
<a name="l8672"><span class="linenum">8672</span></a>              return;
<a name="l8673"><span class="linenum">8673</span></a>          }
<a name="l8674"><span class="linenum">8674</span></a>          var nodeName = target.nodeName.toLowerCase();
<a name="l8675"><span class="linenum">8675</span></a>          if (nodeName == 'input') {
<a name="l8676"><span class="linenum">8676</span></a>              target.disabled = true;
<a name="l8677"><span class="linenum">8677</span></a>              inst.trigger.filter('button').
<a name="l8678"><span class="linenum">8678</span></a>                  <a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() { this.disabled = true; }).<a class="phpfunction" onClick="logFunction('end')" href="../../../../_functions/end.html" onMouseOver="phpfuncPopup(event,'end')">end</a>().
<a name="l8679"><span class="linenum">8679</span></a>                  filter('img').css({opacity: '0.5', cursor: 'default'});
<a name="l8680"><span class="linenum">8680</span></a>          }
<a name="l8681"><span class="linenum">8681</span></a>          else if (nodeName == 'div' || nodeName == 'span') {
<a name="l8682"><span class="linenum">8682</span></a>              var inline = <a class="var it608" onMouseOver="hilite(608)" onMouseOut="lolite()" onClick="logVariable('target')" href="../../../../_variables/target.html">$target</a>.children('.' + this._inlineClass);
<a name="l8683"><span class="linenum">8683</span></a>              inline.children().addClass('ui-state-disabled');
<a name="l8684"><span class="linenum">8684</span></a>              inline.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>(&quot;select.ui-datepicker-month, select.ui-datepicker-year&quot;).
<a name="l8685"><span class="linenum">8685</span></a>                  attr(&quot;disabled&quot;, &quot;disabled&quot;);
<a name="l8686"><span class="linenum">8686</span></a>          }
<a name="l8687"><span class="linenum">8687</span></a>          this._disabledInputs = $.map(this._disabledInputs,
<a name="l8688"><span class="linenum">8688</span></a>              function(value) { return (value == target ? null : value); }); <span class="comment">// delete entry</span>
<a name="l8689"><span class="linenum">8689</span></a>          this._disabledInputs[this._disabledInputs.length] = target;
<a name="l8690"><span class="linenum">8690</span></a>      },
<a name="l8691"><span class="linenum">8691</span></a>  
<a name="l8692"><span class="linenum">8692</span></a>      <span class="comment">/* Is the first field in a jQuery collection disabled as a datepicker?</span>
<a name="l8693"><span class="linenum">8693</span></a>  <span class="comment">       @param  target    element - the target input field or division or span</span>
<a name="l8694"><span class="linenum">8694</span></a>  <span class="comment">       @return boolean - true if disabled, false if enabled */</span>
<a name="l8695"><span class="linenum">8695</span></a>      _isDisabledDatepicker: function(target) {
<a name="l8696"><span class="linenum">8696</span></a>          if (!target) {
<a name="l8697"><span class="linenum">8697</span></a>              return false;
<a name="l8698"><span class="linenum">8698</span></a>          }
<a name="l8699"><span class="linenum">8699</span></a>          for (var i = 0; i &lt; this._disabledInputs.length; i++) {
<a name="l8700"><span class="linenum">8700</span></a>              if (this._disabledInputs[i] == target)
<a name="l8701"><span class="linenum">8701</span></a>                  return true;
<a name="l8702"><span class="linenum">8702</span></a>          }
<a name="l8703"><span class="linenum">8703</span></a>          return false;
<a name="l8704"><span class="linenum">8704</span></a>      },
<a name="l8705"><span class="linenum">8705</span></a>  
<a name="l8706"><span class="linenum">8706</span></a>      <span class="comment">/* Retrieve the instance data for the target control.</span>
<a name="l8707"><span class="linenum">8707</span></a>  <span class="comment">       @param  target  element - the target input field or division or span</span>
<a name="l8708"><span class="linenum">8708</span></a>  <span class="comment">       @return  object - the associated instance data</span>
<a name="l8709"><span class="linenum">8709</span></a>  <span class="comment">       @throws  error if a jQuery problem getting data */</span>
<a name="l8710"><span class="linenum">8710</span></a>      _getInst: function(target) {
<a name="l8711"><span class="linenum">8711</span></a>          try {
<a name="l8712"><span class="linenum">8712</span></a>              return $.data(target, PROP_NAME);
<a name="l8713"><span class="linenum">8713</span></a>          }
<a name="l8714"><span class="linenum">8714</span></a>          catch (err) {
<a name="l8715"><span class="linenum">8715</span></a>              throw 'Missing instance data for this datepicker';
<a name="l8716"><span class="linenum">8716</span></a>          }
<a name="l8717"><span class="linenum">8717</span></a>      },
<a name="l8718"><span class="linenum">8718</span></a>  
<a name="l8719"><span class="linenum">8719</span></a>      <span class="comment">/* Update or retrieve the settings for a date picker attached to an input field or division.</span>
<a name="l8720"><span class="linenum">8720</span></a>  <span class="comment">       @param  target  element - the target input field or division or span</span>
<a name="l8721"><span class="linenum">8721</span></a>  <span class="comment">       @param  name    object - the new settings to update or</span>
<a name="l8722"><span class="linenum">8722</span></a>  <span class="comment">                       string - the name of the setting to change or retrieve,</span>
<a name="l8723"><span class="linenum">8723</span></a>  <span class="comment">                       when retrieving also 'all' for all instance settings or</span>
<a name="l8724"><span class="linenum">8724</span></a>  <span class="comment">                       'defaults' for all global defaults</span>
<a name="l8725"><span class="linenum">8725</span></a>  <span class="comment">       @param  value   any - the new value for the setting</span>
<a name="l8726"><span class="linenum">8726</span></a>  <span class="comment">                       (omit if above is an object or to retrieve a value) */</span>
<a name="l8727"><span class="linenum">8727</span></a>      _optionDatepicker: function(target, name, value) {
<a name="l8728"><span class="linenum">8728</span></a>          var inst = this._getInst(target);
<a name="l8729"><span class="linenum">8729</span></a>          if (arguments.length == 2 &amp;&amp; typeof name == 'string') {
<a name="l8730"><span class="linenum">8730</span></a>              return (name == 'defaults' ? $.extend({}, $.datepicker._defaults) :
<a name="l8731"><span class="linenum">8731</span></a>                  (inst ? (name == 'all' ? $.extend({}, inst.settings) :
<a name="l8732"><span class="linenum">8732</span></a>                  this._get(inst, name)) : null));
<a name="l8733"><span class="linenum">8733</span></a>          }
<a name="l8734"><span class="linenum">8734</span></a>          var settings = name || {};
<a name="l8735"><span class="linenum">8735</span></a>          if (typeof name == 'string') {
<a name="l8736"><span class="linenum">8736</span></a>              settings = {};
<a name="l8737"><span class="linenum">8737</span></a>              settings[name] = value;
<a name="l8738"><span class="linenum">8738</span></a>          }
<a name="l8739"><span class="linenum">8739</span></a>          if (inst) {
<a name="l8740"><span class="linenum">8740</span></a>              if (this._curInst == inst) {
<a name="l8741"><span class="linenum">8741</span></a>                  this._hideDatepicker();
<a name="l8742"><span class="linenum">8742</span></a>              }
<a name="l8743"><span class="linenum">8743</span></a>              var date = this._getDateDatepicker(target, true);
<a name="l8744"><span class="linenum">8744</span></a>              var minDate = this._getMinMaxDate(inst, 'min');
<a name="l8745"><span class="linenum">8745</span></a>              var maxDate = this._getMinMaxDate(inst, 'max');
<a name="l8746"><span class="linenum">8746</span></a>              <a class="function" onClick="logFunction('extendRemove')" href="../../../../_functions/extendremove.html" onMouseOver="funcPopup(event,'extendremove')">extendRemove</a>(inst.settings, settings);
<a name="l8747"><span class="linenum">8747</span></a>  <span class="comment">            // reformat the old minDate/maxDate values if dateFormat changes and a new minDate/maxDate isn't provided</span>
<a name="l8748"><span class="linenum">8748</span></a>              if (minDate !== null &amp;&amp; settings['dateFormat'] !== undefined &amp;&amp; settings['minDate'] === undefined)
<a name="l8749"><span class="linenum">8749</span></a>                  inst.settings.minDate = this._formatDate(inst, minDate);
<a name="l8750"><span class="linenum">8750</span></a>              if (maxDate !== null &amp;&amp; settings['dateFormat'] !== undefined &amp;&amp; settings['maxDate'] === undefined)
<a name="l8751"><span class="linenum">8751</span></a>                  inst.settings.maxDate = this._formatDate(inst, maxDate);
<a name="l8752"><span class="linenum">8752</span></a>              this._attachments($(target), inst);
<a name="l8753"><span class="linenum">8753</span></a>              this._autoSize(inst);
<a name="l8754"><span class="linenum">8754</span></a>              this._setDate(inst, date);
<a name="l8755"><span class="linenum">8755</span></a>              this._updateAlternate(inst);
<a name="l8756"><span class="linenum">8756</span></a>              this._updateDatepicker(inst);
<a name="l8757"><span class="linenum">8757</span></a>          }
<a name="l8758"><span class="linenum">8758</span></a>      },
<a name="l8759"><span class="linenum">8759</span></a>  
<a name="l8760"><span class="linenum">8760</span></a>  <span class="comment">    // change method deprecated</span>
<a name="l8761"><span class="linenum">8761</span></a>      _changeDatepicker: function(target, name, value) {
<a name="l8762"><span class="linenum">8762</span></a>          this._optionDatepicker(target, name, value);
<a name="l8763"><span class="linenum">8763</span></a>      },
<a name="l8764"><span class="linenum">8764</span></a>  
<a name="l8765"><span class="linenum">8765</span></a>      <span class="comment">/* Redraw the date picker attached to an input field or division.</span>
<a name="l8766"><span class="linenum">8766</span></a>  <span class="comment">       @param  target  element - the target input field or division or span */</span>
<a name="l8767"><span class="linenum">8767</span></a>      _refreshDatepicker: function(target) {
<a name="l8768"><span class="linenum">8768</span></a>          var inst = this._getInst(target);
<a name="l8769"><span class="linenum">8769</span></a>          if (inst) {
<a name="l8770"><span class="linenum">8770</span></a>              this._updateDatepicker(inst);
<a name="l8771"><span class="linenum">8771</span></a>          }
<a name="l8772"><span class="linenum">8772</span></a>      },
<a name="l8773"><span class="linenum">8773</span></a>  
<a name="l8774"><span class="linenum">8774</span></a>      <span class="comment">/* Set the dates for a jQuery selection.</span>
<a name="l8775"><span class="linenum">8775</span></a>  <span class="comment">       @param  target   element - the target input field or division or span</span>
<a name="l8776"><span class="linenum">8776</span></a>  <span class="comment">       @param  date     Date - the new date */</span>
<a name="l8777"><span class="linenum">8777</span></a>      _setDateDatepicker: function(target, date) {
<a name="l8778"><span class="linenum">8778</span></a>          var inst = this._getInst(target);
<a name="l8779"><span class="linenum">8779</span></a>          if (inst) {
<a name="l8780"><span class="linenum">8780</span></a>              this._setDate(inst, date);
<a name="l8781"><span class="linenum">8781</span></a>              this._updateDatepicker(inst);
<a name="l8782"><span class="linenum">8782</span></a>              this._updateAlternate(inst);
<a name="l8783"><span class="linenum">8783</span></a>          }
<a name="l8784"><span class="linenum">8784</span></a>      },
<a name="l8785"><span class="linenum">8785</span></a>  
<a name="l8786"><span class="linenum">8786</span></a>      <span class="comment">/* Get the date(s) for the first entry in a jQuery selection.</span>
<a name="l8787"><span class="linenum">8787</span></a>  <span class="comment">       @param  target     element - the target input field or division or span</span>
<a name="l8788"><span class="linenum">8788</span></a>  <span class="comment">       @param  noDefault  boolean - true if no default date is to be used</span>
<a name="l8789"><span class="linenum">8789</span></a>  <span class="comment">       @return Date - the current date */</span>
<a name="l8790"><span class="linenum">8790</span></a>      _getDateDatepicker: function(target, noDefault) {
<a name="l8791"><span class="linenum">8791</span></a>          var inst = this._getInst(target);
<a name="l8792"><span class="linenum">8792</span></a>          if (inst &amp;&amp; !inst.inline)
<a name="l8793"><span class="linenum">8793</span></a>              this._setDateFromField(inst, noDefault);
<a name="l8794"><span class="linenum">8794</span></a>          return (inst ? this._getDate(inst) : null);
<a name="l8795"><span class="linenum">8795</span></a>      },
<a name="l8796"><span class="linenum">8796</span></a>  
<a name="l8797"><span class="linenum">8797</span></a>  <span class="comment">    /* Handle keystrokes. */</span>
<a name="l8798"><span class="linenum">8798</span></a>      _doKeyDown: function(event) {
<a name="l8799"><span class="linenum">8799</span></a>          var inst = $.datepicker._getInst(event.target);
<a name="l8800"><span class="linenum">8800</span></a>          var handled = true;
<a name="l8801"><span class="linenum">8801</span></a>          var isRTL = inst.dpDiv.is('.ui-datepicker-rtl');
<a name="l8802"><span class="linenum">8802</span></a>          inst._keyEvent = true;
<a name="l8803"><span class="linenum">8803</span></a>          if ($.datepicker._datepickerShowing)
<a name="l8804"><span class="linenum">8804</span></a>              switch (event.keyCode) {
<a name="l8805"><span class="linenum">8805</span></a>                  case 9: $.datepicker._hideDatepicker();
<a name="l8806"><span class="linenum">8806</span></a>                          handled = false;
<a name="l8807"><span class="linenum">8807</span></a>                          break; <span class="comment">// hide on tab out</span>
<a name="l8808"><span class="linenum">8808</span></a>                  case 13: var sel = $('td.' + $.datepicker._dayOverClass + ':not(.' + 
<a name="l8809"><span class="linenum">8809</span></a>                                      $.datepicker._currentClass + ')', inst.dpDiv);
<a name="l8810"><span class="linenum">8810</span></a>                          if (sel[0])
<a name="l8811"><span class="linenum">8811</span></a>                              $.datepicker._selectDay(event.target, inst.selectedMonth, inst.selectedYear, sel[0]);
<a name="l8812"><span class="linenum">8812</span></a>                              var onSelect = $.datepicker._get(inst, 'onSelect');
<a name="l8813"><span class="linenum">8813</span></a>                              if (onSelect) {
<a name="l8814"><span class="linenum">8814</span></a>                                  var dateStr = $.datepicker._formatDate(inst);
<a name="l8815"><span class="linenum">8815</span></a>  
<a name="l8816"><span class="linenum">8816</span></a>  <span class="comment">                                // trigger custom callback</span>
<a name="l8817"><span class="linenum">8817</span></a>                                  onSelect.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>((inst.input ? inst.input[0] : null), [dateStr, inst]);
<a name="l8818"><span class="linenum">8818</span></a>                              }
<a name="l8819"><span class="linenum">8819</span></a>                          else
<a name="l8820"><span class="linenum">8820</span></a>                              $.datepicker._hideDatepicker();
<a name="l8821"><span class="linenum">8821</span></a>                          return false; <span class="comment">// don't submit the form</span>
<a name="l8822"><span class="linenum">8822</span></a>                          break; <span class="comment">// select the value on enter</span>
<a name="l8823"><span class="linenum">8823</span></a>                  case 27: $.datepicker._hideDatepicker();
<a name="l8824"><span class="linenum">8824</span></a>                          break; <span class="comment">// hide on escape</span>
<a name="l8825"><span class="linenum">8825</span></a>                  case 33: $.datepicker._adjustDate(event.target, (event.ctrlKey ?
<a name="l8826"><span class="linenum">8826</span></a>                              -$.datepicker._get(inst, 'stepBigMonths') :
<a name="l8827"><span class="linenum">8827</span></a>                              -$.datepicker._get(inst, 'stepMonths')), 'M');
<a name="l8828"><span class="linenum">8828</span></a>                          break; <span class="comment">// previous month/year on page up/+ ctrl</span>
<a name="l8829"><span class="linenum">8829</span></a>                  case 34: $.datepicker._adjustDate(event.target, (event.ctrlKey ?
<a name="l8830"><span class="linenum">8830</span></a>                              +$.datepicker._get(inst, 'stepBigMonths') :
<a name="l8831"><span class="linenum">8831</span></a>                              +$.datepicker._get(inst, 'stepMonths')), 'M');
<a name="l8832"><span class="linenum">8832</span></a>                          break; <span class="comment">// next month/year on page down/+ ctrl</span>
<a name="l8833"><span class="linenum">8833</span></a>                  case 35: if (event.ctrlKey || event.metaKey) $.datepicker._clearDate(event.target);
<a name="l8834"><span class="linenum">8834</span></a>                          handled = event.ctrlKey || event.metaKey;
<a name="l8835"><span class="linenum">8835</span></a>                          break; <span class="comment">// clear on ctrl or command +end</span>
<a name="l8836"><span class="linenum">8836</span></a>                  case 36: if (event.ctrlKey || event.metaKey) $.datepicker._gotoToday(event.target);
<a name="l8837"><span class="linenum">8837</span></a>                          handled = event.ctrlKey || event.metaKey;
<a name="l8838"><span class="linenum">8838</span></a>                          break; <span class="comment">// current on ctrl or command +home</span>
<a name="l8839"><span class="linenum">8839</span></a>                  case 37: if (event.ctrlKey || event.metaKey) $.datepicker._adjustDate(event.target, (isRTL ? +1 : -1), 'D');
<a name="l8840"><span class="linenum">8840</span></a>                          handled = event.ctrlKey || event.metaKey;
<a name="l8841"><span class="linenum">8841</span></a>  <span class="comment">                        // -1 day on ctrl or command +left</span>
<a name="l8842"><span class="linenum">8842</span></a>                          if (event.originalEvent.altKey) $.datepicker._adjustDate(event.target, (event.ctrlKey ?
<a name="l8843"><span class="linenum">8843</span></a>                                      -$.datepicker._get(inst, 'stepBigMonths') :
<a name="l8844"><span class="linenum">8844</span></a>                                      -$.datepicker._get(inst, 'stepMonths')), 'M');
<a name="l8845"><span class="linenum">8845</span></a>  <span class="comment">                        // next month/year on alt +left on Mac</span>
<a name="l8846"><span class="linenum">8846</span></a>                          break;
<a name="l8847"><span class="linenum">8847</span></a>                  case 38: if (event.ctrlKey || event.metaKey) $.datepicker._adjustDate(event.target, -7, 'D');
<a name="l8848"><span class="linenum">8848</span></a>                          handled = event.ctrlKey || event.metaKey;
<a name="l8849"><span class="linenum">8849</span></a>                          break; <span class="comment">// -1 week on ctrl or command +up</span>
<a name="l8850"><span class="linenum">8850</span></a>                  case 39: if (event.ctrlKey || event.metaKey) $.datepicker._adjustDate(event.target, (isRTL ? -1 : +1), 'D');
<a name="l8851"><span class="linenum">8851</span></a>                          handled = event.ctrlKey || event.metaKey;
<a name="l8852"><span class="linenum">8852</span></a>  <span class="comment">                        // +1 day on ctrl or command +right</span>
<a name="l8853"><span class="linenum">8853</span></a>                          if (event.originalEvent.altKey) $.datepicker._adjustDate(event.target, (event.ctrlKey ?
<a name="l8854"><span class="linenum">8854</span></a>                                      +$.datepicker._get(inst, 'stepBigMonths') :
<a name="l8855"><span class="linenum">8855</span></a>                                      +$.datepicker._get(inst, 'stepMonths')), 'M');
<a name="l8856"><span class="linenum">8856</span></a>  <span class="comment">                        // next month/year on alt +right</span>
<a name="l8857"><span class="linenum">8857</span></a>                          break;
<a name="l8858"><span class="linenum">8858</span></a>                  case 40: if (event.ctrlKey || event.metaKey) $.datepicker._adjustDate(event.target, +7, 'D');
<a name="l8859"><span class="linenum">8859</span></a>                          handled = event.ctrlKey || event.metaKey;
<a name="l8860"><span class="linenum">8860</span></a>                          break; <span class="comment">// +1 week on ctrl or command +down</span>
<a name="l8861"><span class="linenum">8861</span></a>                  default: handled = false;
<a name="l8862"><span class="linenum">8862</span></a>              }
<a name="l8863"><span class="linenum">8863</span></a>          else if (event.keyCode == 36 &amp;&amp; event.ctrlKey) // display the date picker on ctrl+home
<a name="l8864"><span class="linenum">8864</span></a>              $.datepicker._showDatepicker(this);
<a name="l8865"><span class="linenum">8865</span></a>          else {
<a name="l8866"><span class="linenum">8866</span></a>              handled = false;
<a name="l8867"><span class="linenum">8867</span></a>          }
<a name="l8868"><span class="linenum">8868</span></a>          if (handled) {
<a name="l8869"><span class="linenum">8869</span></a>              event.preventDefault();
<a name="l8870"><span class="linenum">8870</span></a>              event.stopPropagation();
<a name="l8871"><span class="linenum">8871</span></a>          }
<a name="l8872"><span class="linenum">8872</span></a>      },
<a name="l8873"><span class="linenum">8873</span></a>  
<a name="l8874"><span class="linenum">8874</span></a>  <span class="comment">    /* Filter entered characters - based on date format. */</span>
<a name="l8875"><span class="linenum">8875</span></a>      _doKeyPress: function(event) {
<a name="l8876"><span class="linenum">8876</span></a>          var inst = $.datepicker._getInst(event.target);
<a name="l8877"><span class="linenum">8877</span></a>          if ($.datepicker._get(inst, 'constrainInput')) {
<a name="l8878"><span class="linenum">8878</span></a>              var chars = $.datepicker._possibleChars($.datepicker._get(inst, 'dateFormat'));
<a name="l8879"><span class="linenum">8879</span></a>              var chr = String.fromCharCode(event.charCode == undefined ? event.keyCode : event.charCode);
<a name="l8880"><span class="linenum">8880</span></a>              return event.ctrlKey || event.metaKey || (chr &lt; ' ' || !chars || chars.indexOf(chr) &gt; -1);
<a name="l8881"><span class="linenum">8881</span></a>          }
<a name="l8882"><span class="linenum">8882</span></a>      },
<a name="l8883"><span class="linenum">8883</span></a>  
<a name="l8884"><span class="linenum">8884</span></a>  <span class="comment">    /* Synchronise manual entry and field/alternate field. */</span>
<a name="l8885"><span class="linenum">8885</span></a>      _doKeyUp: function(event) {
<a name="l8886"><span class="linenum">8886</span></a>          var inst = $.datepicker._getInst(event.target);
<a name="l8887"><span class="linenum">8887</span></a>          if (inst.input.val() != inst.lastVal) {
<a name="l8888"><span class="linenum">8888</span></a>              try {
<a name="l8889"><span class="linenum">8889</span></a>                  var date = $.datepicker.parseDate($.datepicker._get(inst, 'dateFormat'),
<a name="l8890"><span class="linenum">8890</span></a>                      (inst.input ? inst.input.val() : null),
<a name="l8891"><span class="linenum">8891</span></a>                      $.datepicker._getFormatConfig(inst));
<a name="l8892"><span class="linenum">8892</span></a>                  if (date) { // only if valid
<a name="l8893"><span class="linenum">8893</span></a>                      $.datepicker._setDateFromField(inst);
<a name="l8894"><span class="linenum">8894</span></a>                      $.datepicker._updateAlternate(inst);
<a name="l8895"><span class="linenum">8895</span></a>                      $.datepicker._updateDatepicker(inst);
<a name="l8896"><span class="linenum">8896</span></a>                  }
<a name="l8897"><span class="linenum">8897</span></a>              }
<a name="l8898"><span class="linenum">8898</span></a>              catch (event) {
<a name="l8899"><span class="linenum">8899</span></a>                  $.datepicker.<a class="phpfunction" onClick="logFunction('log')" href="../../../../_functions/log.html" onMouseOver="phpfuncPopup(event,'log')">log</a>(event);
<a name="l8900"><span class="linenum">8900</span></a>              }
<a name="l8901"><span class="linenum">8901</span></a>          }
<a name="l8902"><span class="linenum">8902</span></a>          return true;
<a name="l8903"><span class="linenum">8903</span></a>      },
<a name="l8904"><span class="linenum">8904</span></a>  
<a name="l8905"><span class="linenum">8905</span></a>      <span class="comment">/* Pop-up the date picker for a given input field.</span>
<a name="l8906"><span class="linenum">8906</span></a>  <span class="comment">       If false returned from beforeShow event handler do not show. </span>
<a name="l8907"><span class="linenum">8907</span></a>  <span class="comment">       @param  input  element - the input field attached to the date picker or</span>
<a name="l8908"><span class="linenum">8908</span></a>  <span class="comment">                      event - if triggered by focus */</span>
<a name="l8909"><span class="linenum">8909</span></a>      _showDatepicker: function(input) {
<a name="l8910"><span class="linenum">8910</span></a>          input = input.target || input;
<a name="l8911"><span class="linenum">8911</span></a>          if (input.nodeName.toLowerCase() != 'input') // find from button/image trigger
<a name="l8912"><span class="linenum">8912</span></a>              input = $('input', input.parentNode)[0];
<a name="l8913"><span class="linenum">8913</span></a>          if ($.datepicker._isDisabledDatepicker(input) || $.datepicker._lastInput == input) // already here
<a name="l8914"><span class="linenum">8914</span></a>              return;
<a name="l8915"><span class="linenum">8915</span></a>          var inst = $.datepicker._getInst(input);
<a name="l8916"><span class="linenum">8916</span></a>          if ($.datepicker._curInst &amp;&amp; $.datepicker._curInst != inst) {
<a name="l8917"><span class="linenum">8917</span></a>              $.datepicker._curInst.dpDiv.<a class="function" onClick="logFunction('stop')" href="../../../../_functions/stop.html" onMouseOver="funcPopup(event,'stop')">stop</a>(true, true);
<a name="l8918"><span class="linenum">8918</span></a>              if ( inst &amp;&amp; $.datepicker._datepickerShowing ) {
<a name="l8919"><span class="linenum">8919</span></a>                  $.datepicker._hideDatepicker( $.datepicker._curInst.input[0] );
<a name="l8920"><span class="linenum">8920</span></a>              }
<a name="l8921"><span class="linenum">8921</span></a>          }
<a name="l8922"><span class="linenum">8922</span></a>          var beforeShow = $.datepicker._get(inst, 'beforeShow');
<a name="l8923"><span class="linenum">8923</span></a>          var beforeShowSettings = beforeShow ? beforeShow.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(input, [input, inst]) : {};
<a name="l8924"><span class="linenum">8924</span></a>          if(beforeShowSettings === false){
<a name="l8925"><span class="linenum">8925</span></a>  <span class="comment">            //false</span>
<a name="l8926"><span class="linenum">8926</span></a>              return;
<a name="l8927"><span class="linenum">8927</span></a>          }
<a name="l8928"><span class="linenum">8928</span></a>          <a class="function" onClick="logFunction('extendRemove')" href="../../../../_functions/extendremove.html" onMouseOver="funcPopup(event,'extendremove')">extendRemove</a>(inst.settings, beforeShowSettings);
<a name="l8929"><span class="linenum">8929</span></a>          inst.lastVal = null;
<a name="l8930"><span class="linenum">8930</span></a>          $.datepicker._lastInput = input;
<a name="l8931"><span class="linenum">8931</span></a>          $.datepicker._setDateFromField(inst);
<a name="l8932"><span class="linenum">8932</span></a>          if ($.datepicker._inDialog) // hide cursor
<a name="l8933"><span class="linenum">8933</span></a>              input.value = '';
<a name="l8934"><span class="linenum">8934</span></a>          if (!$.datepicker._pos) { // position below input
<a name="l8935"><span class="linenum">8935</span></a>              $.datepicker._pos = $.datepicker._findPos(input);
<a name="l8936"><span class="linenum">8936</span></a>              $.datepicker._pos[1] += input.offsetHeight; <span class="comment">// add the height</span>
<a name="l8937"><span class="linenum">8937</span></a>          }
<a name="l8938"><span class="linenum">8938</span></a>          var isFixed = false;
<a name="l8939"><span class="linenum">8939</span></a>          $(input).parents().<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l8940"><span class="linenum">8940</span></a>              isFixed |= $(this).css('position') == 'fixed';
<a name="l8941"><span class="linenum">8941</span></a>              return !isFixed;
<a name="l8942"><span class="linenum">8942</span></a>          });
<a name="l8943"><span class="linenum">8943</span></a>          if (isFixed &amp;&amp; $.browser.opera) { // correction for Opera when fixed and scrolled
<a name="l8944"><span class="linenum">8944</span></a>              $.datepicker._pos[0] -= document.documentElement.scrollLeft;
<a name="l8945"><span class="linenum">8945</span></a>              $.datepicker._pos[1] -= document.documentElement.scrollTop;
<a name="l8946"><span class="linenum">8946</span></a>          }
<a name="l8947"><span class="linenum">8947</span></a>          var offset = {left: $.datepicker._pos[0], top: $.datepicker._pos[1]};
<a name="l8948"><span class="linenum">8948</span></a>          $.datepicker._pos = null;
<a name="l8949"><span class="linenum">8949</span></a>  <span class="comment">        //to avoid flashes on Firefox</span>
<a name="l8950"><span class="linenum">8950</span></a>          inst.dpDiv.empty();
<a name="l8951"><span class="linenum">8951</span></a>  <span class="comment">        // determine sizing offscreen</span>
<a name="l8952"><span class="linenum">8952</span></a>          inst.dpDiv.css({position: 'absolute', display: 'block', top: '-1000px'});
<a name="l8953"><span class="linenum">8953</span></a>          $.datepicker._updateDatepicker(inst);
<a name="l8954"><span class="linenum">8954</span></a>  <span class="comment">        // fix width for dynamic number of date pickers</span>
<a name="l8955"><span class="linenum">8955</span></a>  <span class="comment">        // and adjust position before showing</span>
<a name="l8956"><span class="linenum">8956</span></a>          offset = $.datepicker._checkOffset(inst, offset, isFixed);
<a name="l8957"><span class="linenum">8957</span></a>          inst.dpDiv.css({position: ($.datepicker._inDialog &amp;&amp; $.blockUI ?
<a name="l8958"><span class="linenum">8958</span></a>              'static' : (isFixed ? 'fixed' : 'absolute')), display: 'none',
<a name="l8959"><span class="linenum">8959</span></a>              left: offset.left + 'px', top: offset.top + 'px'});
<a name="l8960"><span class="linenum">8960</span></a>          if (!inst.inline) {
<a name="l8961"><span class="linenum">8961</span></a>              var showAnim = $.datepicker._get(inst, 'showAnim');
<a name="l8962"><span class="linenum">8962</span></a>              var duration = $.datepicker._get(inst, 'duration');
<a name="l8963"><span class="linenum">8963</span></a>              var postProcess = function() {
<a name="l8964"><span class="linenum">8964</span></a>                  var cover = inst.dpDiv.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>('iframe.ui-datepicker-cover'); <span class="comment">// IE6- only</span>
<a name="l8965"><span class="linenum">8965</span></a>                  if( !! cover.length ){
<a name="l8966"><span class="linenum">8966</span></a>                      var borders = $.datepicker._getBorders(inst.dpDiv);
<a name="l8967"><span class="linenum">8967</span></a>                      cover.css({left: -borders[0], top: -borders[1],
<a name="l8968"><span class="linenum">8968</span></a>                          width: inst.dpDiv.outerWidth(), height: inst.dpDiv.outerHeight()});
<a name="l8969"><span class="linenum">8969</span></a>                  }
<a name="l8970"><span class="linenum">8970</span></a>              };
<a name="l8971"><span class="linenum">8971</span></a>              inst.dpDiv.zIndex($(input).zIndex()+1);
<a name="l8972"><span class="linenum">8972</span></a>              $.datepicker._datepickerShowing = true;
<a name="l8973"><span class="linenum">8973</span></a>              if ($.effects &amp;&amp; $.effects[showAnim])
<a name="l8974"><span class="linenum">8974</span></a>                  inst.dpDiv.show(showAnim, $.datepicker._get(inst, 'showOptions'), duration, postProcess);
<a name="l8975"><span class="linenum">8975</span></a>              else
<a name="l8976"><span class="linenum">8976</span></a>                  inst.dpDiv[showAnim || 'show']((showAnim ? duration : null), postProcess);
<a name="l8977"><span class="linenum">8977</span></a>              if (!showAnim || !duration)
<a name="l8978"><span class="linenum">8978</span></a>                  postProcess();
<a name="l8979"><span class="linenum">8979</span></a>              if (inst.input.is(':visible') &amp;&amp; !inst.input.is(':disabled'))
<a name="l8980"><span class="linenum">8980</span></a>                  inst.input.focus();
<a name="l8981"><span class="linenum">8981</span></a>              $.datepicker._curInst = inst;
<a name="l8982"><span class="linenum">8982</span></a>          }
<a name="l8983"><span class="linenum">8983</span></a>      },
<a name="l8984"><span class="linenum">8984</span></a>  
<a name="l8985"><span class="linenum">8985</span></a>  <span class="comment">    /* Generate the date picker content. */</span>
<a name="l8986"><span class="linenum">8986</span></a>      _updateDatepicker: function(inst) {
<a name="l8987"><span class="linenum">8987</span></a>          var self = this;
<a name="l8988"><span class="linenum">8988</span></a>          self.maxRows = 4; <span class="comment">//Reset the max number of rows being displayed (see #7043)</span>
<a name="l8989"><span class="linenum">8989</span></a>          var borders = $.datepicker._getBorders(inst.dpDiv);
<a name="l8990"><span class="linenum">8990</span></a>          instActive = inst; <span class="comment">// for delegate hover events</span>
<a name="l8991"><span class="linenum">8991</span></a>          inst.dpDiv.empty().append(this._generateHTML(inst));
<a name="l8992"><span class="linenum">8992</span></a>          var cover = inst.dpDiv.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>('iframe.ui-datepicker-cover'); <span class="comment">// IE6- only</span>
<a name="l8993"><span class="linenum">8993</span></a>          if( !!cover.length ){ //avoid call to outerXXXX() when not in IE6
<a name="l8994"><span class="linenum">8994</span></a>              cover.css({left: -borders[0], top: -borders[1], width: inst.dpDiv.outerWidth(), height: inst.dpDiv.outerHeight()})
<a name="l8995"><span class="linenum">8995</span></a>          }
<a name="l8996"><span class="linenum">8996</span></a>          inst.dpDiv.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>('.' + this._dayOverClass + ' a').mouseover();
<a name="l8997"><span class="linenum">8997</span></a>          var numMonths = this._getNumberOfMonths(inst);
<a name="l8998"><span class="linenum">8998</span></a>          var cols = numMonths[1];
<a name="l8999"><span class="linenum">8999</span></a>          var width = 17;
<a name="l9000"><span class="linenum">9000</span></a>          inst.dpDiv.removeClass('ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4').width('');
<a name="l9001"><span class="linenum">9001</span></a>          if (cols &gt; 1)
<a name="l9002"><span class="linenum">9002</span></a>              inst.dpDiv.addClass('ui-datepicker-multi-' + cols).css('width', (width * cols) + 'em');
<a name="l9003"><span class="linenum">9003</span></a>          inst.dpDiv[(numMonths[0] != 1 || numMonths[1] != 1 ? 'add' : 'remove') +
<a name="l9004"><span class="linenum">9004</span></a>              'Class']('ui-datepicker-multi');
<a name="l9005"><span class="linenum">9005</span></a>          inst.dpDiv[(this._get(inst, 'isRTL') ? 'add' : 'remove') +
<a name="l9006"><span class="linenum">9006</span></a>              'Class']('ui-datepicker-rtl');
<a name="l9007"><span class="linenum">9007</span></a>          if (inst == $.datepicker._curInst &amp;&amp; $.datepicker._datepickerShowing &amp;&amp; inst.input &amp;&amp;
<a name="l9008"><span class="linenum">9008</span></a>  <span class="comment">                // #6694 - don't focus the input if it's already focused</span>
<a name="l9009"><span class="linenum">9009</span></a>  <span class="comment">                // this breaks the change event in IE</span>
<a name="l9010"><span class="linenum">9010</span></a>                  inst.input.is(':visible') &amp;&amp; !inst.input.is(':disabled') &amp;&amp; inst.input[0] != document.activeElement)
<a name="l9011"><span class="linenum">9011</span></a>              inst.input.focus();
<a name="l9012"><span class="linenum">9012</span></a>  <span class="comment">        // deffered render of the years select (to avoid flashes on Firefox) </span>
<a name="l9013"><span class="linenum">9013</span></a>          if( inst.yearshtml ){
<a name="l9014"><span class="linenum">9014</span></a>              var origyearshtml = inst.yearshtml;
<a name="l9015"><span class="linenum">9015</span></a>              setTimeout(function(){
<a name="l9016"><span class="linenum">9016</span></a>  <span class="comment">                //assure that inst.yearshtml didn't change.</span>
<a name="l9017"><span class="linenum">9017</span></a>                  if( origyearshtml === inst.yearshtml &amp;&amp; inst.yearshtml ){
<a name="l9018"><span class="linenum">9018</span></a>                      inst.dpDiv.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>('select.ui-datepicker-year:first').replaceWith(inst.yearshtml);
<a name="l9019"><span class="linenum">9019</span></a>                  }
<a name="l9020"><span class="linenum">9020</span></a>                  origyearshtml = inst.yearshtml = null;
<a name="l9021"><span class="linenum">9021</span></a>              }, 0);
<a name="l9022"><span class="linenum">9022</span></a>          }
<a name="l9023"><span class="linenum">9023</span></a>      },
<a name="l9024"><span class="linenum">9024</span></a>  
<a name="l9025"><span class="linenum">9025</span></a>      <span class="comment">/* Retrieve the size of left and top borders for an element.</span>
<a name="l9026"><span class="linenum">9026</span></a>  <span class="comment">       @param  elem  (jQuery object) the element of interest</span>
<a name="l9027"><span class="linenum">9027</span></a>  <span class="comment">       @return  (number[2]) the left and top borders */</span>
<a name="l9028"><span class="linenum">9028</span></a>      _getBorders: function(elem) {
<a name="l9029"><span class="linenum">9029</span></a>          var convert = function(value) {
<a name="l9030"><span class="linenum">9030</span></a>              return {thin: 1, medium: 2, thick: 3}[value] || value;
<a name="l9031"><span class="linenum">9031</span></a>          };
<a name="l9032"><span class="linenum">9032</span></a>          return [parseFloat(<a class="function" onClick="logFunction('convert')" href="../../../../_functions/convert.html" onMouseOver="funcPopup(event,'convert')">convert</a>(elem.css('border-left-width'))),
<a name="l9033"><span class="linenum">9033</span></a>              parseFloat(<a class="function" onClick="logFunction('convert')" href="../../../../_functions/convert.html" onMouseOver="funcPopup(event,'convert')">convert</a>(elem.css('border-top-width')))];
<a name="l9034"><span class="linenum">9034</span></a>      },
<a name="l9035"><span class="linenum">9035</span></a>  
<a name="l9036"><span class="linenum">9036</span></a>  <span class="comment">    /* Check positioning to remain on screen. */</span>
<a name="l9037"><span class="linenum">9037</span></a>      _checkOffset: function(inst, offset, isFixed) {
<a name="l9038"><span class="linenum">9038</span></a>          var dpWidth = inst.dpDiv.outerWidth();
<a name="l9039"><span class="linenum">9039</span></a>          var dpHeight = inst.dpDiv.outerHeight();
<a name="l9040"><span class="linenum">9040</span></a>          var inputWidth = inst.input ? inst.input.outerWidth() : 0;
<a name="l9041"><span class="linenum">9041</span></a>          var inputHeight = inst.input ? inst.input.outerHeight() : 0;
<a name="l9042"><span class="linenum">9042</span></a>          var viewWidth = document.documentElement.clientWidth + $(document).scrollLeft();
<a name="l9043"><span class="linenum">9043</span></a>          var viewHeight = document.documentElement.clientHeight + $(document).scrollTop();
<a name="l9044"><span class="linenum">9044</span></a>  
<a name="l9045"><span class="linenum">9045</span></a>          offset.left -= (this._get(inst, 'isRTL') ? (dpWidth - inputWidth) : 0);
<a name="l9046"><span class="linenum">9046</span></a>          offset.left -= (isFixed &amp;&amp; offset.left == inst.input.offset().left) ? $(document).scrollLeft() : 0;
<a name="l9047"><span class="linenum">9047</span></a>          offset.top -= (isFixed &amp;&amp; offset.top == (inst.input.offset().top + inputHeight)) ? $(document).scrollTop() : 0;
<a name="l9048"><span class="linenum">9048</span></a>  
<a name="l9049"><span class="linenum">9049</span></a>  <span class="comment">        // now check if datepicker is showing outside window viewport - move to a better place if so.</span>
<a name="l9050"><span class="linenum">9050</span></a>          offset.left -= Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(offset.left, (offset.left + dpWidth &gt; viewWidth &amp;&amp; viewWidth &gt; dpWidth) ?
<a name="l9051"><span class="linenum">9051</span></a>              Math.<a class="phpfunction" onClick="logFunction('abs')" href="../../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(offset.left + dpWidth - viewWidth) : 0);
<a name="l9052"><span class="linenum">9052</span></a>          offset.top -= Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(offset.top, (offset.top + dpHeight &gt; viewHeight &amp;&amp; viewHeight &gt; dpHeight) ?
<a name="l9053"><span class="linenum">9053</span></a>              Math.<a class="phpfunction" onClick="logFunction('abs')" href="../../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(dpHeight + inputHeight) : 0);
<a name="l9054"><span class="linenum">9054</span></a>  
<a name="l9055"><span class="linenum">9055</span></a>          return offset;
<a name="l9056"><span class="linenum">9056</span></a>      },
<a name="l9057"><span class="linenum">9057</span></a>  
<a name="l9058"><span class="linenum">9058</span></a>  <span class="comment">    /* Find an object's position on the screen. */</span>
<a name="l9059"><span class="linenum">9059</span></a>      _findPos: function(obj) {
<a name="l9060"><span class="linenum">9060</span></a>          var inst = this._getInst(obj);
<a name="l9061"><span class="linenum">9061</span></a>          var isRTL = this._get(inst, 'isRTL');
<a name="l9062"><span class="linenum">9062</span></a>          while (obj &amp;&amp; (obj.type == 'hidden' || obj.nodeType != 1 || $.expr.filters.<a class="function" onClick="logFunction('hidden')" href="../../../../_functions/hidden.html" onMouseOver="funcPopup(event,'hidden')">hidden</a>(obj))) {
<a name="l9063"><span class="linenum">9063</span></a>              obj = obj[isRTL ? 'previousSibling' : 'nextSibling'];
<a name="l9064"><span class="linenum">9064</span></a>          }
<a name="l9065"><span class="linenum">9065</span></a>          var position = $(obj).offset();
<a name="l9066"><span class="linenum">9066</span></a>          return [position.left, position.top];
<a name="l9067"><span class="linenum">9067</span></a>      },
<a name="l9068"><span class="linenum">9068</span></a>  
<a name="l9069"><span class="linenum">9069</span></a>      <span class="comment">/* Hide the date picker from view.</span>
<a name="l9070"><span class="linenum">9070</span></a>  <span class="comment">       @param  input  element - the input field attached to the date picker */</span>
<a name="l9071"><span class="linenum">9071</span></a>      _hideDatepicker: function(input) {
<a name="l9072"><span class="linenum">9072</span></a>          var inst = this._curInst;
<a name="l9073"><span class="linenum">9073</span></a>          if (!inst || (input &amp;&amp; inst != $.data(input, PROP_NAME)))
<a name="l9074"><span class="linenum">9074</span></a>              return;
<a name="l9075"><span class="linenum">9075</span></a>          if (this._datepickerShowing) {
<a name="l9076"><span class="linenum">9076</span></a>              var showAnim = this._get(inst, 'showAnim');
<a name="l9077"><span class="linenum">9077</span></a>              var duration = this._get(inst, 'duration');
<a name="l9078"><span class="linenum">9078</span></a>              var self = this;
<a name="l9079"><span class="linenum">9079</span></a>              var postProcess = function() {
<a name="l9080"><span class="linenum">9080</span></a>                  $.datepicker._tidyDialog(inst);
<a name="l9081"><span class="linenum">9081</span></a>                  self._curInst = null;
<a name="l9082"><span class="linenum">9082</span></a>              };
<a name="l9083"><span class="linenum">9083</span></a>              if ($.effects &amp;&amp; $.effects[showAnim])
<a name="l9084"><span class="linenum">9084</span></a>                  inst.dpDiv.hide(showAnim, $.datepicker._get(inst, 'showOptions'), duration, postProcess);
<a name="l9085"><span class="linenum">9085</span></a>              else
<a name="l9086"><span class="linenum">9086</span></a>                  inst.dpDiv[(showAnim == 'slideDown' ? 'slideUp' :
<a name="l9087"><span class="linenum">9087</span></a>                      (showAnim == 'fadeIn' ? 'fadeOut' : 'hide'))]((showAnim ? duration : null), postProcess);
<a name="l9088"><span class="linenum">9088</span></a>              if (!showAnim)
<a name="l9089"><span class="linenum">9089</span></a>                  postProcess();
<a name="l9090"><span class="linenum">9090</span></a>              this._datepickerShowing = false;
<a name="l9091"><span class="linenum">9091</span></a>              var onClose = this._get(inst, 'onClose');
<a name="l9092"><span class="linenum">9092</span></a>              if (onClose)
<a name="l9093"><span class="linenum">9093</span></a>                  onClose.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>((inst.input ? inst.input[0] : null),
<a name="l9094"><span class="linenum">9094</span></a>                      [(inst.input ? inst.input.val() : ''), inst]);
<a name="l9095"><span class="linenum">9095</span></a>              this._lastInput = null;
<a name="l9096"><span class="linenum">9096</span></a>              if (this._inDialog) {
<a name="l9097"><span class="linenum">9097</span></a>                  this._dialogInput.css({ position: 'absolute', left: '0', top: '-100px' });
<a name="l9098"><span class="linenum">9098</span></a>                  if ($.blockUI) {
<a name="l9099"><span class="linenum">9099</span></a>                      $.unblockUI();
<a name="l9100"><span class="linenum">9100</span></a>                      $('body').append(this.dpDiv);
<a name="l9101"><span class="linenum">9101</span></a>                  }
<a name="l9102"><span class="linenum">9102</span></a>              }
<a name="l9103"><span class="linenum">9103</span></a>              this._inDialog = false;
<a name="l9104"><span class="linenum">9104</span></a>          }
<a name="l9105"><span class="linenum">9105</span></a>      },
<a name="l9106"><span class="linenum">9106</span></a>  
<a name="l9107"><span class="linenum">9107</span></a>  <span class="comment">    /* Tidy up after a dialog display. */</span>
<a name="l9108"><span class="linenum">9108</span></a>      _tidyDialog: function(inst) {
<a name="l9109"><span class="linenum">9109</span></a>          inst.dpDiv.removeClass(this._dialogClass).unbind('.ui-datepicker-calendar');
<a name="l9110"><span class="linenum">9110</span></a>      },
<a name="l9111"><span class="linenum">9111</span></a>  
<a name="l9112"><span class="linenum">9112</span></a>  <span class="comment">    /* Close date picker if clicked elsewhere. */</span>
<a name="l9113"><span class="linenum">9113</span></a>      _checkExternalClick: function(event) {
<a name="l9114"><span class="linenum">9114</span></a>          if (!$.datepicker._curInst)
<a name="l9115"><span class="linenum">9115</span></a>              return;
<a name="l9116"><span class="linenum">9116</span></a>  
<a name="l9117"><span class="linenum">9117</span></a>          var <a class="var it608" onMouseOver="hilite(608)" onMouseOut="lolite()" onClick="logVariable('target')" href="../../../../_variables/target.html">$target</a> = $(event.target),
<a name="l9118"><span class="linenum">9118</span></a>              inst = $.datepicker._getInst(<a class="var it608" onMouseOver="hilite(608)" onMouseOut="lolite()" onClick="logVariable('target')" href="../../../../_variables/target.html">$target</a>[0]);
<a name="l9119"><span class="linenum">9119</span></a>  
<a name="l9120"><span class="linenum">9120</span></a>          if ( ( ( <a class="var it608" onMouseOver="hilite(608)" onMouseOut="lolite()" onClick="logVariable('target')" href="../../../../_variables/target.html">$target</a>[0].id != $.datepicker._mainDivId &amp;&amp;
<a name="l9121"><span class="linenum">9121</span></a>                  <a class="var it608" onMouseOver="hilite(608)" onMouseOut="lolite()" onClick="logVariable('target')" href="../../../../_variables/target.html">$target</a>.parents('#' + $.datepicker._mainDivId).length == 0 &amp;&amp;
<a name="l9122"><span class="linenum">9122</span></a>                  !<a class="var it608" onMouseOver="hilite(608)" onMouseOut="lolite()" onClick="logVariable('target')" href="../../../../_variables/target.html">$target</a>.<a class="function" onClick="logFunction('hasClass')" href="../../../../_functions/hasclass.html" onMouseOver="funcPopup(event,'hasclass')">hasClass</a>($.datepicker.markerClassName) &amp;&amp;
<a name="l9123"><span class="linenum">9123</span></a>                  !<a class="var it608" onMouseOver="hilite(608)" onMouseOut="lolite()" onClick="logVariable('target')" href="../../../../_variables/target.html">$target</a>.closest(&quot;.&quot; + $.datepicker._triggerClass).length &amp;&amp;
<a name="l9124"><span class="linenum">9124</span></a>                  $.datepicker._datepickerShowing &amp;&amp; !($.datepicker._inDialog &amp;&amp; $.blockUI) ) ) ||
<a name="l9125"><span class="linenum">9125</span></a>              ( <a class="var it608" onMouseOver="hilite(608)" onMouseOut="lolite()" onClick="logVariable('target')" href="../../../../_variables/target.html">$target</a>.<a class="function" onClick="logFunction('hasClass')" href="../../../../_functions/hasclass.html" onMouseOver="funcPopup(event,'hasclass')">hasClass</a>($.datepicker.markerClassName) &amp;&amp; $.datepicker._curInst != inst ) )
<a name="l9126"><span class="linenum">9126</span></a>              $.datepicker._hideDatepicker();
<a name="l9127"><span class="linenum">9127</span></a>      },
<a name="l9128"><span class="linenum">9128</span></a>  
<a name="l9129"><span class="linenum">9129</span></a>  <span class="comment">    /* Adjust one of the date sub-fields. */</span>
<a name="l9130"><span class="linenum">9130</span></a>      _adjustDate: function(id, offset, period) {
<a name="l9131"><span class="linenum">9131</span></a>          var target = $(id);
<a name="l9132"><span class="linenum">9132</span></a>          var inst = this._getInst(target[0]);
<a name="l9133"><span class="linenum">9133</span></a>          if (this._isDisabledDatepicker(target[0])) {
<a name="l9134"><span class="linenum">9134</span></a>              return;
<a name="l9135"><span class="linenum">9135</span></a>          }
<a name="l9136"><span class="linenum">9136</span></a>          this._adjustInstDate(inst, offset +
<a name="l9137"><span class="linenum">9137</span></a>              (period == 'M' ? this._get(inst, 'showCurrentAtPos') : 0), // undo positioning
<a name="l9138"><span class="linenum">9138</span></a>              period);
<a name="l9139"><span class="linenum">9139</span></a>          this._updateDatepicker(inst);
<a name="l9140"><span class="linenum">9140</span></a>      },
<a name="l9141"><span class="linenum">9141</span></a>  
<a name="l9142"><span class="linenum">9142</span></a>  <span class="comment">    /* Action for current link. */</span>
<a name="l9143"><span class="linenum">9143</span></a>      _gotoToday: function(id) {
<a name="l9144"><span class="linenum">9144</span></a>          var target = $(id);
<a name="l9145"><span class="linenum">9145</span></a>          var inst = this._getInst(target[0]);
<a name="l9146"><span class="linenum">9146</span></a>          if (this._get(inst, 'gotoCurrent') &amp;&amp; inst.currentDay) {
<a name="l9147"><span class="linenum">9147</span></a>              inst.selectedDay = inst.currentDay;
<a name="l9148"><span class="linenum">9148</span></a>              inst.drawMonth = inst.selectedMonth = inst.currentMonth;
<a name="l9149"><span class="linenum">9149</span></a>              inst.drawYear = inst.selectedYear = inst.currentYear;
<a name="l9150"><span class="linenum">9150</span></a>          }
<a name="l9151"><span class="linenum">9151</span></a>          else {
<a name="l9152"><span class="linenum">9152</span></a>              var date = new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>();
<a name="l9153"><span class="linenum">9153</span></a>              inst.selectedDay = date.<a class="phpfunction" onClick="logFunction('getDate')" href="../../../../_functions/getdate.html" onMouseOver="phpfuncPopup(event,'getdate')">getDate</a>();
<a name="l9154"><span class="linenum">9154</span></a>              inst.drawMonth = inst.selectedMonth = date.getMonth();
<a name="l9155"><span class="linenum">9155</span></a>              inst.drawYear = inst.selectedYear = date.getFullYear();
<a name="l9156"><span class="linenum">9156</span></a>          }
<a name="l9157"><span class="linenum">9157</span></a>          this._notifyChange(inst);
<a name="l9158"><span class="linenum">9158</span></a>          this._adjustDate(target);
<a name="l9159"><span class="linenum">9159</span></a>      },
<a name="l9160"><span class="linenum">9160</span></a>  
<a name="l9161"><span class="linenum">9161</span></a>  <span class="comment">    /* Action for selecting a new month/year. */</span>
<a name="l9162"><span class="linenum">9162</span></a>      _selectMonthYear: function(id, select, period) {
<a name="l9163"><span class="linenum">9163</span></a>          var target = $(id);
<a name="l9164"><span class="linenum">9164</span></a>          var inst = this._getInst(target[0]);
<a name="l9165"><span class="linenum">9165</span></a>          inst['selected' + (period == 'M' ? 'Month' : 'Year')] =
<a name="l9166"><span class="linenum">9166</span></a>          inst['draw' + (period == 'M' ? 'Month' : 'Year')] =
<a name="l9167"><span class="linenum">9167</span></a>              parseInt(select.options[select.selectedIndex].value,10);
<a name="l9168"><span class="linenum">9168</span></a>          this._notifyChange(inst);
<a name="l9169"><span class="linenum">9169</span></a>          this._adjustDate(target);
<a name="l9170"><span class="linenum">9170</span></a>      },
<a name="l9171"><span class="linenum">9171</span></a>  
<a name="l9172"><span class="linenum">9172</span></a>  <span class="comment">    /* Action for selecting a day. */</span>
<a name="l9173"><span class="linenum">9173</span></a>      _selectDay: function(id, month, year, td) {
<a name="l9174"><span class="linenum">9174</span></a>          var target = $(id);
<a name="l9175"><span class="linenum">9175</span></a>          if ($(td).<a class="function" onClick="logFunction('hasClass')" href="../../../../_functions/hasclass.html" onMouseOver="funcPopup(event,'hasclass')">hasClass</a>(this._unselectableClass) || this._isDisabledDatepicker(target[0])) {
<a name="l9176"><span class="linenum">9176</span></a>              return;
<a name="l9177"><span class="linenum">9177</span></a>          }
<a name="l9178"><span class="linenum">9178</span></a>          var inst = this._getInst(target[0]);
<a name="l9179"><span class="linenum">9179</span></a>          inst.selectedDay = inst.currentDay = $('a', td).html();
<a name="l9180"><span class="linenum">9180</span></a>          inst.selectedMonth = inst.currentMonth = month;
<a name="l9181"><span class="linenum">9181</span></a>          inst.selectedYear = inst.currentYear = year;
<a name="l9182"><span class="linenum">9182</span></a>          this._selectDate(id, this._formatDate(inst,
<a name="l9183"><span class="linenum">9183</span></a>              inst.currentDay, inst.currentMonth, inst.currentYear));
<a name="l9184"><span class="linenum">9184</span></a>      },
<a name="l9185"><span class="linenum">9185</span></a>  
<a name="l9186"><span class="linenum">9186</span></a>  <span class="comment">    /* Erase the input field and hide the date picker. */</span>
<a name="l9187"><span class="linenum">9187</span></a>      _clearDate: function(id) {
<a name="l9188"><span class="linenum">9188</span></a>          var target = $(id);
<a name="l9189"><span class="linenum">9189</span></a>          var inst = this._getInst(target[0]);
<a name="l9190"><span class="linenum">9190</span></a>          this._selectDate(target, '');
<a name="l9191"><span class="linenum">9191</span></a>      },
<a name="l9192"><span class="linenum">9192</span></a>  
<a name="l9193"><span class="linenum">9193</span></a>  <span class="comment">    /* Update the input field with the selected date. */</span>
<a name="l9194"><span class="linenum">9194</span></a>      _selectDate: function(id, dateStr) {
<a name="l9195"><span class="linenum">9195</span></a>          var target = $(id);
<a name="l9196"><span class="linenum">9196</span></a>          var inst = this._getInst(target[0]);
<a name="l9197"><span class="linenum">9197</span></a>          dateStr = (dateStr != null ? dateStr : this._formatDate(inst));
<a name="l9198"><span class="linenum">9198</span></a>          if (inst.input)
<a name="l9199"><span class="linenum">9199</span></a>              inst.input.val(dateStr);
<a name="l9200"><span class="linenum">9200</span></a>          this._updateAlternate(inst);
<a name="l9201"><span class="linenum">9201</span></a>          var onSelect = this._get(inst, 'onSelect');
<a name="l9202"><span class="linenum">9202</span></a>          if (onSelect)
<a name="l9203"><span class="linenum">9203</span></a>              onSelect.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>((inst.input ? inst.input[0] : null), [dateStr, inst]);  <span class="comment">// trigger custom callback</span>
<a name="l9204"><span class="linenum">9204</span></a>          else if (inst.input)
<a name="l9205"><span class="linenum">9205</span></a>              inst.input.<a class="function" onClick="logFunction('trigger')" href="../../../../_functions/trigger.html" onMouseOver="funcPopup(event,'trigger')">trigger</a>('change'); <span class="comment">// fire the change event</span>
<a name="l9206"><span class="linenum">9206</span></a>          if (inst.inline)
<a name="l9207"><span class="linenum">9207</span></a>              this._updateDatepicker(inst);
<a name="l9208"><span class="linenum">9208</span></a>          else {
<a name="l9209"><span class="linenum">9209</span></a>              this._hideDatepicker();
<a name="l9210"><span class="linenum">9210</span></a>              this._lastInput = inst.input[0];
<a name="l9211"><span class="linenum">9211</span></a>              if (typeof(inst.input[0]) != 'object')
<a name="l9212"><span class="linenum">9212</span></a>                  inst.input.focus(); <span class="comment">// restore focus</span>
<a name="l9213"><span class="linenum">9213</span></a>              this._lastInput = null;
<a name="l9214"><span class="linenum">9214</span></a>          }
<a name="l9215"><span class="linenum">9215</span></a>      },
<a name="l9216"><span class="linenum">9216</span></a>  
<a name="l9217"><span class="linenum">9217</span></a>  <span class="comment">    /* Update any alternate field to synchronise with the main field. */</span>
<a name="l9218"><span class="linenum">9218</span></a>      _updateAlternate: function(inst) {
<a name="l9219"><span class="linenum">9219</span></a>          var altField = this._get(inst, 'altField');
<a name="l9220"><span class="linenum">9220</span></a>          if (altField) { // update alternate field too
<a name="l9221"><span class="linenum">9221</span></a>              var altFormat = this._get(inst, 'altFormat') || this._get(inst, 'dateFormat');
<a name="l9222"><span class="linenum">9222</span></a>              var date = this._getDate(inst);
<a name="l9223"><span class="linenum">9223</span></a>              var dateStr = this.formatDate(altFormat, date, this._getFormatConfig(inst));
<a name="l9224"><span class="linenum">9224</span></a>              $(altField).<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() { $(this).val(dateStr); });
<a name="l9225"><span class="linenum">9225</span></a>          }
<a name="l9226"><span class="linenum">9226</span></a>      },
<a name="l9227"><span class="linenum">9227</span></a>  
<a name="l9228"><span class="linenum">9228</span></a>      <span class="comment">/* Set as beforeShowDay function to prevent selection of weekends.</span>
<a name="l9229"><span class="linenum">9229</span></a>  <span class="comment">       @param  date  Date - the date to customise</span>
<a name="l9230"><span class="linenum">9230</span></a>  <span class="comment">       @return [boolean, string] - is this date selectable?, what is its CSS class? */</span>
<a name="l9231"><span class="linenum">9231</span></a>      noWeekends: function(date) {
<a name="l9232"><span class="linenum">9232</span></a>          var day = date.getDay();
<a name="l9233"><span class="linenum">9233</span></a>          return [(day &gt; 0 &amp;&amp; day &lt; 6), ''];
<a name="l9234"><span class="linenum">9234</span></a>      },
<a name="l9235"><span class="linenum">9235</span></a>  
<a name="l9236"><span class="linenum">9236</span></a>      <span class="comment">/* Set as calculateWeek to determine the week of the year based on the ISO 8601 definition.</span>
<a name="l9237"><span class="linenum">9237</span></a>  <span class="comment">       @param  date  Date - the date to get the week for</span>
<a name="l9238"><span class="linenum">9238</span></a>  <span class="comment">       @return  number - the number of the week within the year that contains this date */</span>
<a name="l9239"><span class="linenum">9239</span></a>      iso8601Week: function(date) {
<a name="l9240"><span class="linenum">9240</span></a>          var checkDate = new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>(date.getTime());
<a name="l9241"><span class="linenum">9241</span></a>  <span class="comment">        // Find Thursday of this week starting on Monday</span>
<a name="l9242"><span class="linenum">9242</span></a>          checkDate.setDate(checkDate.<a class="phpfunction" onClick="logFunction('getDate')" href="../../../../_functions/getdate.html" onMouseOver="phpfuncPopup(event,'getdate')">getDate</a>() + 4 - (checkDate.getDay() || 7));
<a name="l9243"><span class="linenum">9243</span></a>          var time = checkDate.getTime();
<a name="l9244"><span class="linenum">9244</span></a>          checkDate.setMonth(0); <span class="comment">// Compare with Jan 1</span>
<a name="l9245"><span class="linenum">9245</span></a>          checkDate.setDate(1);
<a name="l9246"><span class="linenum">9246</span></a>          return Math.<a class="phpfunction" onClick="logFunction('floor')" href="../../../../_functions/floor.html" onMouseOver="phpfuncPopup(event,'floor')">floor</a>(Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>((time - checkDate) / 86400000) / 7) + 1;
<a name="l9247"><span class="linenum">9247</span></a>      },
<a name="l9248"><span class="linenum">9248</span></a>  
<a name="l9249"><span class="linenum">9249</span></a>      <span class="comment">/* Parse a string value into a date object.</span>
<a name="l9250"><span class="linenum">9250</span></a>  <span class="comment">       See formatDate below for the possible formats.</span>
<a name="l9251"><span class="linenum">9251</span></a>  <span class="comment"></span>
<a name="l9252"><span class="linenum">9252</span></a>  <span class="comment">       @param  format    string - the expected format of the date</span>
<a name="l9253"><span class="linenum">9253</span></a>  <span class="comment">       @param  value     string - the date in the above format</span>
<a name="l9254"><span class="linenum">9254</span></a>  <span class="comment">       @param  settings  Object - attributes include:</span>
<a name="l9255"><span class="linenum">9255</span></a>  <span class="comment">                         shortYearCutoff  number - the cutoff year for determining the century (optional)</span>
<a name="l9256"><span class="linenum">9256</span></a>  <span class="comment">                         dayNamesShort    string[7] - abbreviated names of the days from Sunday (optional)</span>
<a name="l9257"><span class="linenum">9257</span></a>  <span class="comment">                         dayNames         string[7] - names of the days from Sunday (optional)</span>
<a name="l9258"><span class="linenum">9258</span></a>  <span class="comment">                         monthNamesShort  string[12] - abbreviated names of the months (optional)</span>
<a name="l9259"><span class="linenum">9259</span></a>  <span class="comment">                         monthNames       string[12] - names of the months (optional)</span>
<a name="l9260"><span class="linenum">9260</span></a>  <span class="comment">       @return  Date - the extracted date value or null if value is blank */</span>
<a name="l9261"><span class="linenum">9261</span></a>      parseDate: function (format, value, settings) {
<a name="l9262"><span class="linenum">9262</span></a>          if (format == null || value == null)
<a name="l9263"><span class="linenum">9263</span></a>              throw 'Invalid arguments';
<a name="l9264"><span class="linenum">9264</span></a>          value = (typeof value == 'object' ? value.toString() : value + '');
<a name="l9265"><span class="linenum">9265</span></a>          if (value == '')
<a name="l9266"><span class="linenum">9266</span></a>              return null;
<a name="l9267"><span class="linenum">9267</span></a>          var shortYearCutoff = (settings ? settings.shortYearCutoff : null) || this._defaults.shortYearCutoff;
<a name="l9268"><span class="linenum">9268</span></a>          shortYearCutoff = (typeof shortYearCutoff != 'string' ? shortYearCutoff :
<a name="l9269"><span class="linenum">9269</span></a>                  new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>().getFullYear() % 100 + parseInt(shortYearCutoff, 10));
<a name="l9270"><span class="linenum">9270</span></a>          var dayNamesShort = (settings ? settings.dayNamesShort : null) || this._defaults.dayNamesShort;
<a name="l9271"><span class="linenum">9271</span></a>          var dayNames = (settings ? settings.dayNames : null) || this._defaults.dayNames;
<a name="l9272"><span class="linenum">9272</span></a>          var monthNamesShort = (settings ? settings.monthNamesShort : null) || this._defaults.monthNamesShort;
<a name="l9273"><span class="linenum">9273</span></a>          var monthNames = (settings ? settings.monthNames : null) || this._defaults.monthNames;
<a name="l9274"><span class="linenum">9274</span></a>          var year = -1;
<a name="l9275"><span class="linenum">9275</span></a>          var month = -1;
<a name="l9276"><span class="linenum">9276</span></a>          var day = -1;
<a name="l9277"><span class="linenum">9277</span></a>          var doy = -1;
<a name="l9278"><span class="linenum">9278</span></a>          var literal = false;
<a name="l9279"><span class="linenum">9279</span></a>  <span class="comment">        // Check whether a format character is doubled</span>
<a name="l9280"><span class="linenum">9280</span></a>          var lookAhead = function(match) {
<a name="l9281"><span class="linenum">9281</span></a>              var matches = (iFormat + 1 &lt; format.length &amp;&amp; format.charAt(iFormat + 1) == match);
<a name="l9282"><span class="linenum">9282</span></a>              if (matches)
<a name="l9283"><span class="linenum">9283</span></a>                  iFormat++;
<a name="l9284"><span class="linenum">9284</span></a>              return matches;
<a name="l9285"><span class="linenum">9285</span></a>          };
<a name="l9286"><span class="linenum">9286</span></a>  <span class="comment">        // Extract a number from the string value</span>
<a name="l9287"><span class="linenum">9287</span></a>          var getNumber = function(match) {
<a name="l9288"><span class="linenum">9288</span></a>              var isDoubled = lookAhead(match);
<a name="l9289"><span class="linenum">9289</span></a>              var size = (match == '@' ? 14 : (match == '!' ? 20 :
<a name="l9290"><span class="linenum">9290</span></a>                  (match == 'y' &amp;&amp; isDoubled ? 4 : (match == 'o' ? 3 : 2))));
<a name="l9291"><span class="linenum">9291</span></a>              var digits = new RegExp('^\\d{1,' + size + '}');
<a name="l9292"><span class="linenum">9292</span></a>              var num = value.substring(iValue).<a class="function" onClick="logFunction('match')" href="../../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(digits);
<a name="l9293"><span class="linenum">9293</span></a>              if (!num)
<a name="l9294"><span class="linenum">9294</span></a>                  throw 'Missing number at position ' + iValue;
<a name="l9295"><span class="linenum">9295</span></a>              iValue += num[0].length;
<a name="l9296"><span class="linenum">9296</span></a>              return parseInt(num[0], 10);
<a name="l9297"><span class="linenum">9297</span></a>          };
<a name="l9298"><span class="linenum">9298</span></a>  <span class="comment">        // Extract a name from the string value and convert to an index</span>
<a name="l9299"><span class="linenum">9299</span></a>          var getName = function(match, shortNames, longNames) {
<a name="l9300"><span class="linenum">9300</span></a>              var names = $.map(lookAhead(match) ? longNames : shortNames, function (v, k) {
<a name="l9301"><span class="linenum">9301</span></a>                  return [ [k, v] ];
<a name="l9302"><span class="linenum">9302</span></a>              }).<a class="phpfunction" onClick="logFunction('sort')" href="../../../../_functions/sort.html" onMouseOver="phpfuncPopup(event,'sort')">sort</a>(function (a, b) {
<a name="l9303"><span class="linenum">9303</span></a>                  return -(a[1].length - b[1].length);
<a name="l9304"><span class="linenum">9304</span></a>              });
<a name="l9305"><span class="linenum">9305</span></a>              var index = -1;
<a name="l9306"><span class="linenum">9306</span></a>              $.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(names, function (i, pair) {
<a name="l9307"><span class="linenum">9307</span></a>                  var name = pair[1];
<a name="l9308"><span class="linenum">9308</span></a>                  if (value.<a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(iValue, name.length).toLowerCase() == name.toLowerCase()) {
<a name="l9309"><span class="linenum">9309</span></a>                      index = pair[0];
<a name="l9310"><span class="linenum">9310</span></a>                      iValue += name.length;
<a name="l9311"><span class="linenum">9311</span></a>                      return false;
<a name="l9312"><span class="linenum">9312</span></a>                  }
<a name="l9313"><span class="linenum">9313</span></a>              });
<a name="l9314"><span class="linenum">9314</span></a>              if (index != -1)
<a name="l9315"><span class="linenum">9315</span></a>                  return index + 1;
<a name="l9316"><span class="linenum">9316</span></a>              else
<a name="l9317"><span class="linenum">9317</span></a>                  throw 'Unknown name at position ' + iValue;
<a name="l9318"><span class="linenum">9318</span></a>          };
<a name="l9319"><span class="linenum">9319</span></a>  <span class="comment">        // Confirm that a literal character matches the string value</span>
<a name="l9320"><span class="linenum">9320</span></a>          var checkLiteral = function() {
<a name="l9321"><span class="linenum">9321</span></a>              if (value.charAt(iValue) != format.charAt(iFormat))
<a name="l9322"><span class="linenum">9322</span></a>                  throw 'Unexpected literal at position ' + iValue;
<a name="l9323"><span class="linenum">9323</span></a>              iValue++;
<a name="l9324"><span class="linenum">9324</span></a>          };
<a name="l9325"><span class="linenum">9325</span></a>          var iValue = 0;
<a name="l9326"><span class="linenum">9326</span></a>          for (var iFormat = 0; iFormat &lt; format.length; iFormat++) {
<a name="l9327"><span class="linenum">9327</span></a>              if (literal)
<a name="l9328"><span class="linenum">9328</span></a>                  if (format.charAt(iFormat) == &quot;'&quot; &amp;&amp; !lookAhead(&quot;'&quot;))
<a name="l9329"><span class="linenum">9329</span></a>                      literal = false;
<a name="l9330"><span class="linenum">9330</span></a>                  else
<a name="l9331"><span class="linenum">9331</span></a>                      checkLiteral();
<a name="l9332"><span class="linenum">9332</span></a>              else
<a name="l9333"><span class="linenum">9333</span></a>                  switch (format.charAt(iFormat)) {
<a name="l9334"><span class="linenum">9334</span></a>                      case 'd':
<a name="l9335"><span class="linenum">9335</span></a>                          day = getNumber('d');
<a name="l9336"><span class="linenum">9336</span></a>                          break;
<a name="l9337"><span class="linenum">9337</span></a>                      case 'D':
<a name="l9338"><span class="linenum">9338</span></a>                          <a class="function" onClick="logFunction('getName')" href="../../../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>('D', dayNamesShort, dayNames);
<a name="l9339"><span class="linenum">9339</span></a>                          break;
<a name="l9340"><span class="linenum">9340</span></a>                      case 'o':
<a name="l9341"><span class="linenum">9341</span></a>                          doy = getNumber('o');
<a name="l9342"><span class="linenum">9342</span></a>                          break;
<a name="l9343"><span class="linenum">9343</span></a>                      case 'm':
<a name="l9344"><span class="linenum">9344</span></a>                          month = getNumber('m');
<a name="l9345"><span class="linenum">9345</span></a>                          break;
<a name="l9346"><span class="linenum">9346</span></a>                      case 'M':
<a name="l9347"><span class="linenum">9347</span></a>                          month = <a class="function" onClick="logFunction('getName')" href="../../../../_functions/getname.html" onMouseOver="funcPopup(event,'getname')">getName</a>('M', monthNamesShort, monthNames);
<a name="l9348"><span class="linenum">9348</span></a>                          break;
<a name="l9349"><span class="linenum">9349</span></a>                      case 'y':
<a name="l9350"><span class="linenum">9350</span></a>                          year = getNumber('y');
<a name="l9351"><span class="linenum">9351</span></a>                          break;
<a name="l9352"><span class="linenum">9352</span></a>                      case '@':
<a name="l9353"><span class="linenum">9353</span></a>                          var date = new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>(getNumber('@'));
<a name="l9354"><span class="linenum">9354</span></a>                          year = date.getFullYear();
<a name="l9355"><span class="linenum">9355</span></a>                          month = date.getMonth() + 1;
<a name="l9356"><span class="linenum">9356</span></a>                          day = date.<a class="phpfunction" onClick="logFunction('getDate')" href="../../../../_functions/getdate.html" onMouseOver="phpfuncPopup(event,'getdate')">getDate</a>();
<a name="l9357"><span class="linenum">9357</span></a>                          break;
<a name="l9358"><span class="linenum">9358</span></a>                      case '!':
<a name="l9359"><span class="linenum">9359</span></a>                          var date = new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>((getNumber('!') - this._ticksTo1970) / 10000);
<a name="l9360"><span class="linenum">9360</span></a>                          year = date.getFullYear();
<a name="l9361"><span class="linenum">9361</span></a>                          month = date.getMonth() + 1;
<a name="l9362"><span class="linenum">9362</span></a>                          day = date.<a class="phpfunction" onClick="logFunction('getDate')" href="../../../../_functions/getdate.html" onMouseOver="phpfuncPopup(event,'getdate')">getDate</a>();
<a name="l9363"><span class="linenum">9363</span></a>                          break;
<a name="l9364"><span class="linenum">9364</span></a>                      case &quot;'&quot;:
<a name="l9365"><span class="linenum">9365</span></a>                          if (lookAhead(&quot;'&quot;))
<a name="l9366"><span class="linenum">9366</span></a>                              checkLiteral();
<a name="l9367"><span class="linenum">9367</span></a>                          else
<a name="l9368"><span class="linenum">9368</span></a>                              literal = true;
<a name="l9369"><span class="linenum">9369</span></a>                          break;
<a name="l9370"><span class="linenum">9370</span></a>                      default:
<a name="l9371"><span class="linenum">9371</span></a>                          checkLiteral();
<a name="l9372"><span class="linenum">9372</span></a>                  }
<a name="l9373"><span class="linenum">9373</span></a>          }
<a name="l9374"><span class="linenum">9374</span></a>          if (iValue &lt; value.length){
<a name="l9375"><span class="linenum">9375</span></a>              throw &quot;Extra/unparsed characters found in date: &quot; + value.substring(iValue);
<a name="l9376"><span class="linenum">9376</span></a>          }
<a name="l9377"><span class="linenum">9377</span></a>          if (year == -1)
<a name="l9378"><span class="linenum">9378</span></a>              year = new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>().getFullYear();
<a name="l9379"><span class="linenum">9379</span></a>          else if (year &lt; 100)
<a name="l9380"><span class="linenum">9380</span></a>              year += new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>().getFullYear() - new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>().getFullYear() % 100 +
<a name="l9381"><span class="linenum">9381</span></a>                  (year &lt;= shortYearCutoff ? 0 : -100);
<a name="l9382"><span class="linenum">9382</span></a>          if (doy &gt; -1) {
<a name="l9383"><span class="linenum">9383</span></a>              month = 1;
<a name="l9384"><span class="linenum">9384</span></a>              day = doy;
<a name="l9385"><span class="linenum">9385</span></a>              do {
<a name="l9386"><span class="linenum">9386</span></a>                  var dim = this._getDaysInMonth(year, month - 1);
<a name="l9387"><span class="linenum">9387</span></a>                  if (day &lt;= dim)
<a name="l9388"><span class="linenum">9388</span></a>                      break;
<a name="l9389"><span class="linenum">9389</span></a>                  month++;
<a name="l9390"><span class="linenum">9390</span></a>                  day -= dim;
<a name="l9391"><span class="linenum">9391</span></a>              } while (true);
<a name="l9392"><span class="linenum">9392</span></a>          }
<a name="l9393"><span class="linenum">9393</span></a>          var date = this._daylightSavingAdjust(new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>(year, month - 1, day));
<a name="l9394"><span class="linenum">9394</span></a>          if (date.getFullYear() != year || date.getMonth() + 1 != month || date.<a class="phpfunction" onClick="logFunction('getDate')" href="../../../../_functions/getdate.html" onMouseOver="phpfuncPopup(event,'getdate')">getDate</a>() != day)
<a name="l9395"><span class="linenum">9395</span></a>              throw 'Invalid date'; <span class="comment">// E.g. 31/02/00</span>
<a name="l9396"><span class="linenum">9396</span></a>          return date;
<a name="l9397"><span class="linenum">9397</span></a>      },
<a name="l9398"><span class="linenum">9398</span></a>  
<a name="l9399"><span class="linenum">9399</span></a>  <span class="comment">    /* Standard date formats. */</span>
<a name="l9400"><span class="linenum">9400</span></a>      ATOM: 'yy-mm-dd', // RFC 3339 (ISO 8601)
<a name="l9401"><span class="linenum">9401</span></a>      COOKIE: 'D, dd M yy',
<a name="l9402"><span class="linenum">9402</span></a>      ISO_8601: 'yy-mm-dd',
<a name="l9403"><span class="linenum">9403</span></a>      RFC_822: 'D, d M y',
<a name="l9404"><span class="linenum">9404</span></a>      RFC_850: 'DD, dd-M-y',
<a name="l9405"><span class="linenum">9405</span></a>      RFC_1036: 'D, d M y',
<a name="l9406"><span class="linenum">9406</span></a>      RFC_1123: 'D, d M yy',
<a name="l9407"><span class="linenum">9407</span></a>      RFC_2822: 'D, d M yy',
<a name="l9408"><span class="linenum">9408</span></a>      RSS: 'D, d M y', // RFC 822
<a name="l9409"><span class="linenum">9409</span></a>      TICKS: '!',
<a name="l9410"><span class="linenum">9410</span></a>      TIMESTAMP: '@',
<a name="l9411"><span class="linenum">9411</span></a>      W3C: 'yy-mm-dd', // ISO 8601
<a name="l9412"><span class="linenum">9412</span></a>  
<a name="l9413"><span class="linenum">9413</span></a>      _ticksTo1970: (((1970 - 1) * 365 + Math.<a class="phpfunction" onClick="logFunction('floor')" href="../../../../_functions/floor.html" onMouseOver="phpfuncPopup(event,'floor')">floor</a>(1970 / 4) - Math.<a class="phpfunction" onClick="logFunction('floor')" href="../../../../_functions/floor.html" onMouseOver="phpfuncPopup(event,'floor')">floor</a>(1970 / 100) +
<a name="l9414"><span class="linenum">9414</span></a>          Math.<a class="phpfunction" onClick="logFunction('floor')" href="../../../../_functions/floor.html" onMouseOver="phpfuncPopup(event,'floor')">floor</a>(1970 / 400)) * 24 * 60 * 60 * 10000000),
<a name="l9415"><span class="linenum">9415</span></a>  
<a name="l9416"><span class="linenum">9416</span></a>      <span class="comment">/* Format a date object into a string value.</span>
<a name="l9417"><span class="linenum">9417</span></a>  <span class="comment">       The format can be combinations of the following:</span>
<a name="l9418"><span class="linenum">9418</span></a>  <span class="comment">       d  - day of month (no leading zero)</span>
<a name="l9419"><span class="linenum">9419</span></a>  <span class="comment">       dd - day of month (two digit)</span>
<a name="l9420"><span class="linenum">9420</span></a>  <span class="comment">       o  - day of year (no leading zeros)</span>
<a name="l9421"><span class="linenum">9421</span></a>  <span class="comment">       oo - day of year (three digit)</span>
<a name="l9422"><span class="linenum">9422</span></a>  <span class="comment">       D  - day name short</span>
<a name="l9423"><span class="linenum">9423</span></a>  <span class="comment">       DD - day name long</span>
<a name="l9424"><span class="linenum">9424</span></a>  <span class="comment">       m  - month of year (no leading zero)</span>
<a name="l9425"><span class="linenum">9425</span></a>  <span class="comment">       mm - month of year (two digit)</span>
<a name="l9426"><span class="linenum">9426</span></a>  <span class="comment">       M  - month name short</span>
<a name="l9427"><span class="linenum">9427</span></a>  <span class="comment">       MM - month name long</span>
<a name="l9428"><span class="linenum">9428</span></a>  <span class="comment">       y  - year (two digit)</span>
<a name="l9429"><span class="linenum">9429</span></a>  <span class="comment">       yy - year (four digit)</span>
<a name="l9430"><span class="linenum">9430</span></a>  <span class="comment">       @ - Unix timestamp (ms since 01/01/1970)</span>
<a name="l9431"><span class="linenum">9431</span></a>  <span class="comment">       ! - Windows ticks (100ns since 01/01/0001)</span>
<a name="l9432"><span class="linenum">9432</span></a>  <span class="comment">       '...' - literal text</span>
<a name="l9433"><span class="linenum">9433</span></a>  <span class="comment">       '' - single quote</span>
<a name="l9434"><span class="linenum">9434</span></a>  <span class="comment"></span>
<a name="l9435"><span class="linenum">9435</span></a>  <span class="comment">       @param  format    string - the desired format of the date</span>
<a name="l9436"><span class="linenum">9436</span></a>  <span class="comment">       @param  date      Date - the date value to format</span>
<a name="l9437"><span class="linenum">9437</span></a>  <span class="comment">       @param  settings  Object - attributes include:</span>
<a name="l9438"><span class="linenum">9438</span></a>  <span class="comment">                         dayNamesShort    string[7] - abbreviated names of the days from Sunday (optional)</span>
<a name="l9439"><span class="linenum">9439</span></a>  <span class="comment">                         dayNames         string[7] - names of the days from Sunday (optional)</span>
<a name="l9440"><span class="linenum">9440</span></a>  <span class="comment">                         monthNamesShort  string[12] - abbreviated names of the months (optional)</span>
<a name="l9441"><span class="linenum">9441</span></a>  <span class="comment">                         monthNames       string[12] - names of the months (optional)</span>
<a name="l9442"><span class="linenum">9442</span></a>  <span class="comment">       @return  string - the date in the above format */</span>
<a name="l9443"><span class="linenum">9443</span></a>      formatDate: function (format, date, settings) {
<a name="l9444"><span class="linenum">9444</span></a>          if (!date)
<a name="l9445"><span class="linenum">9445</span></a>              return '';
<a name="l9446"><span class="linenum">9446</span></a>          var dayNamesShort = (settings ? settings.dayNamesShort : null) || this._defaults.dayNamesShort;
<a name="l9447"><span class="linenum">9447</span></a>          var dayNames = (settings ? settings.dayNames : null) || this._defaults.dayNames;
<a name="l9448"><span class="linenum">9448</span></a>          var monthNamesShort = (settings ? settings.monthNamesShort : null) || this._defaults.monthNamesShort;
<a name="l9449"><span class="linenum">9449</span></a>          var monthNames = (settings ? settings.monthNames : null) || this._defaults.monthNames;
<a name="l9450"><span class="linenum">9450</span></a>  <span class="comment">        // Check whether a format character is doubled</span>
<a name="l9451"><span class="linenum">9451</span></a>          var lookAhead = function(match) {
<a name="l9452"><span class="linenum">9452</span></a>              var matches = (iFormat + 1 &lt; format.length &amp;&amp; format.charAt(iFormat + 1) == match);
<a name="l9453"><span class="linenum">9453</span></a>              if (matches)
<a name="l9454"><span class="linenum">9454</span></a>                  iFormat++;
<a name="l9455"><span class="linenum">9455</span></a>              return matches;
<a name="l9456"><span class="linenum">9456</span></a>          };
<a name="l9457"><span class="linenum">9457</span></a>  <span class="comment">        // Format a number, with leading zero if necessary</span>
<a name="l9458"><span class="linenum">9458</span></a>          var formatNumber = function(match, value, len) {
<a name="l9459"><span class="linenum">9459</span></a>              var num = '' + value;
<a name="l9460"><span class="linenum">9460</span></a>              if (lookAhead(match))
<a name="l9461"><span class="linenum">9461</span></a>                  while (num.length &lt; len)
<a name="l9462"><span class="linenum">9462</span></a>                      num = '0' + num;
<a name="l9463"><span class="linenum">9463</span></a>              return num;
<a name="l9464"><span class="linenum">9464</span></a>          };
<a name="l9465"><span class="linenum">9465</span></a>  <span class="comment">        // Format a name, short or long as requested</span>
<a name="l9466"><span class="linenum">9466</span></a>          var formatName = function(match, value, shortNames, longNames) {
<a name="l9467"><span class="linenum">9467</span></a>              return (lookAhead(match) ? longNames[value] : shortNames[value]);
<a name="l9468"><span class="linenum">9468</span></a>          };
<a name="l9469"><span class="linenum">9469</span></a>          var output = '';
<a name="l9470"><span class="linenum">9470</span></a>          var literal = false;
<a name="l9471"><span class="linenum">9471</span></a>          if (date)
<a name="l9472"><span class="linenum">9472</span></a>              for (var iFormat = 0; iFormat &lt; format.length; iFormat++) {
<a name="l9473"><span class="linenum">9473</span></a>                  if (literal)
<a name="l9474"><span class="linenum">9474</span></a>                      if (format.charAt(iFormat) == &quot;'&quot; &amp;&amp; !lookAhead(&quot;'&quot;))
<a name="l9475"><span class="linenum">9475</span></a>                          literal = false;
<a name="l9476"><span class="linenum">9476</span></a>                      else
<a name="l9477"><span class="linenum">9477</span></a>                          output += format.charAt(iFormat);
<a name="l9478"><span class="linenum">9478</span></a>                  else
<a name="l9479"><span class="linenum">9479</span></a>                      switch (format.charAt(iFormat)) {
<a name="l9480"><span class="linenum">9480</span></a>                          case 'd':
<a name="l9481"><span class="linenum">9481</span></a>                              output += formatNumber('d', date.<a class="phpfunction" onClick="logFunction('getDate')" href="../../../../_functions/getdate.html" onMouseOver="phpfuncPopup(event,'getdate')">getDate</a>(), 2);
<a name="l9482"><span class="linenum">9482</span></a>                              break;
<a name="l9483"><span class="linenum">9483</span></a>                          case 'D':
<a name="l9484"><span class="linenum">9484</span></a>                              output += formatName('D', date.getDay(), dayNamesShort, dayNames);
<a name="l9485"><span class="linenum">9485</span></a>                              break;
<a name="l9486"><span class="linenum">9486</span></a>                          case 'o':
<a name="l9487"><span class="linenum">9487</span></a>                              output += formatNumber('o',
<a name="l9488"><span class="linenum">9488</span></a>                                  Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>((new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>(date.getFullYear(), date.getMonth(), date.<a class="phpfunction" onClick="logFunction('getDate')" href="../../../../_functions/getdate.html" onMouseOver="phpfuncPopup(event,'getdate')">getDate</a>()).getTime() - new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>(date.getFullYear(), 0, 0).getTime()) / 86400000), 3);
<a name="l9489"><span class="linenum">9489</span></a>                              break;
<a name="l9490"><span class="linenum">9490</span></a>                          case 'm':
<a name="l9491"><span class="linenum">9491</span></a>                              output += formatNumber('m', date.getMonth() + 1, 2);
<a name="l9492"><span class="linenum">9492</span></a>                              break;
<a name="l9493"><span class="linenum">9493</span></a>                          case 'M':
<a name="l9494"><span class="linenum">9494</span></a>                              output += formatName('M', date.getMonth(), monthNamesShort, monthNames);
<a name="l9495"><span class="linenum">9495</span></a>                              break;
<a name="l9496"><span class="linenum">9496</span></a>                          case 'y':
<a name="l9497"><span class="linenum">9497</span></a>                              output += (lookAhead('y') ? date.getFullYear() :
<a name="l9498"><span class="linenum">9498</span></a>                                  (date.getYear() % 100 &lt; 10 ? '0' : '') + date.getYear() % 100);
<a name="l9499"><span class="linenum">9499</span></a>                              break;
<a name="l9500"><span class="linenum">9500</span></a>                          case '@':
<a name="l9501"><span class="linenum">9501</span></a>                              output += date.getTime();
<a name="l9502"><span class="linenum">9502</span></a>                              break;
<a name="l9503"><span class="linenum">9503</span></a>                          case '!':
<a name="l9504"><span class="linenum">9504</span></a>                              output += date.getTime() * 10000 + this._ticksTo1970;
<a name="l9505"><span class="linenum">9505</span></a>                              break;
<a name="l9506"><span class="linenum">9506</span></a>                          case &quot;'&quot;:
<a name="l9507"><span class="linenum">9507</span></a>                              if (lookAhead(&quot;'&quot;))
<a name="l9508"><span class="linenum">9508</span></a>                                  output += &quot;'&quot;;
<a name="l9509"><span class="linenum">9509</span></a>                              else
<a name="l9510"><span class="linenum">9510</span></a>                                  literal = true;
<a name="l9511"><span class="linenum">9511</span></a>                              break;
<a name="l9512"><span class="linenum">9512</span></a>                          default:
<a name="l9513"><span class="linenum">9513</span></a>                              output += format.charAt(iFormat);
<a name="l9514"><span class="linenum">9514</span></a>                      }
<a name="l9515"><span class="linenum">9515</span></a>              }
<a name="l9516"><span class="linenum">9516</span></a>          return output;
<a name="l9517"><span class="linenum">9517</span></a>      },
<a name="l9518"><span class="linenum">9518</span></a>  
<a name="l9519"><span class="linenum">9519</span></a>  <span class="comment">    /* Extract all possible characters from the date format. */</span>
<a name="l9520"><span class="linenum">9520</span></a>      _possibleChars: function (format) {
<a name="l9521"><span class="linenum">9521</span></a>          var chars = '';
<a name="l9522"><span class="linenum">9522</span></a>          var literal = false;
<a name="l9523"><span class="linenum">9523</span></a>  <span class="comment">        // Check whether a format character is doubled</span>
<a name="l9524"><span class="linenum">9524</span></a>          var lookAhead = function(match) {
<a name="l9525"><span class="linenum">9525</span></a>              var matches = (iFormat + 1 &lt; format.length &amp;&amp; format.charAt(iFormat + 1) == match);
<a name="l9526"><span class="linenum">9526</span></a>              if (matches)
<a name="l9527"><span class="linenum">9527</span></a>                  iFormat++;
<a name="l9528"><span class="linenum">9528</span></a>              return matches;
<a name="l9529"><span class="linenum">9529</span></a>          };
<a name="l9530"><span class="linenum">9530</span></a>          for (var iFormat = 0; iFormat &lt; format.length; iFormat++)
<a name="l9531"><span class="linenum">9531</span></a>              if (literal)
<a name="l9532"><span class="linenum">9532</span></a>                  if (format.charAt(iFormat) == &quot;'&quot; &amp;&amp; !lookAhead(&quot;'&quot;))
<a name="l9533"><span class="linenum">9533</span></a>                      literal = false;
<a name="l9534"><span class="linenum">9534</span></a>                  else
<a name="l9535"><span class="linenum">9535</span></a>                      chars += format.charAt(iFormat);
<a name="l9536"><span class="linenum">9536</span></a>              else
<a name="l9537"><span class="linenum">9537</span></a>                  switch (format.charAt(iFormat)) {
<a name="l9538"><span class="linenum">9538</span></a>                      case 'd': case 'm': case 'y': case '@':
<a name="l9539"><span class="linenum">9539</span></a>                          chars += '0123456789';
<a name="l9540"><span class="linenum">9540</span></a>                          break;
<a name="l9541"><span class="linenum">9541</span></a>                      case 'D': case 'M':
<a name="l9542"><span class="linenum">9542</span></a>                          return null; <span class="comment">// Accept anything</span>
<a name="l9543"><span class="linenum">9543</span></a>                      case &quot;'&quot;:
<a name="l9544"><span class="linenum">9544</span></a>                          if (lookAhead(&quot;'&quot;))
<a name="l9545"><span class="linenum">9545</span></a>                              chars += &quot;'&quot;;
<a name="l9546"><span class="linenum">9546</span></a>                          else
<a name="l9547"><span class="linenum">9547</span></a>                              literal = true;
<a name="l9548"><span class="linenum">9548</span></a>                          break;
<a name="l9549"><span class="linenum">9549</span></a>                      default:
<a name="l9550"><span class="linenum">9550</span></a>                          chars += format.charAt(iFormat);
<a name="l9551"><span class="linenum">9551</span></a>                  }
<a name="l9552"><span class="linenum">9552</span></a>          return chars;
<a name="l9553"><span class="linenum">9553</span></a>      },
<a name="l9554"><span class="linenum">9554</span></a>  
<a name="l9555"><span class="linenum">9555</span></a>  <span class="comment">    /* Get a setting value, defaulting if necessary. */</span>
<a name="l9556"><span class="linenum">9556</span></a>      _get: function(inst, name) {
<a name="l9557"><span class="linenum">9557</span></a>          return inst.settings[name] !== undefined ?
<a name="l9558"><span class="linenum">9558</span></a>              inst.settings[name] : this._defaults[name];
<a name="l9559"><span class="linenum">9559</span></a>      },
<a name="l9560"><span class="linenum">9560</span></a>  
<a name="l9561"><span class="linenum">9561</span></a>  <span class="comment">    /* Parse existing date and initialise date picker. */</span>
<a name="l9562"><span class="linenum">9562</span></a>      _setDateFromField: function(inst, noDefault) {
<a name="l9563"><span class="linenum">9563</span></a>          if (inst.input.val() == inst.lastVal) {
<a name="l9564"><span class="linenum">9564</span></a>              return;
<a name="l9565"><span class="linenum">9565</span></a>          }
<a name="l9566"><span class="linenum">9566</span></a>          var dateFormat = this._get(inst, 'dateFormat');
<a name="l9567"><span class="linenum">9567</span></a>          var dates = inst.lastVal = inst.input ? inst.input.val() : null;
<a name="l9568"><span class="linenum">9568</span></a>          var date, defaultDate;
<a name="l9569"><span class="linenum">9569</span></a>          date = defaultDate = this._getDefaultDate(inst);
<a name="l9570"><span class="linenum">9570</span></a>          var settings = this._getFormatConfig(inst);
<a name="l9571"><span class="linenum">9571</span></a>          try {
<a name="l9572"><span class="linenum">9572</span></a>              date = this.parseDate(dateFormat, dates, settings) || defaultDate;
<a name="l9573"><span class="linenum">9573</span></a>          } catch (event) {
<a name="l9574"><span class="linenum">9574</span></a>              this.<a class="phpfunction" onClick="logFunction('log')" href="../../../../_functions/log.html" onMouseOver="phpfuncPopup(event,'log')">log</a>(event);
<a name="l9575"><span class="linenum">9575</span></a>              dates = (noDefault ? '' : dates);
<a name="l9576"><span class="linenum">9576</span></a>          }
<a name="l9577"><span class="linenum">9577</span></a>          inst.selectedDay = date.<a class="phpfunction" onClick="logFunction('getDate')" href="../../../../_functions/getdate.html" onMouseOver="phpfuncPopup(event,'getdate')">getDate</a>();
<a name="l9578"><span class="linenum">9578</span></a>          inst.drawMonth = inst.selectedMonth = date.getMonth();
<a name="l9579"><span class="linenum">9579</span></a>          inst.drawYear = inst.selectedYear = date.getFullYear();
<a name="l9580"><span class="linenum">9580</span></a>          inst.currentDay = (dates ? date.<a class="phpfunction" onClick="logFunction('getDate')" href="../../../../_functions/getdate.html" onMouseOver="phpfuncPopup(event,'getdate')">getDate</a>() : 0);
<a name="l9581"><span class="linenum">9581</span></a>          inst.currentMonth = (dates ? date.getMonth() : 0);
<a name="l9582"><span class="linenum">9582</span></a>          inst.currentYear = (dates ? date.getFullYear() : 0);
<a name="l9583"><span class="linenum">9583</span></a>          this._adjustInstDate(inst);
<a name="l9584"><span class="linenum">9584</span></a>      },
<a name="l9585"><span class="linenum">9585</span></a>  
<a name="l9586"><span class="linenum">9586</span></a>  <span class="comment">    /* Retrieve the default date shown on opening. */</span>
<a name="l9587"><span class="linenum">9587</span></a>      _getDefaultDate: function(inst) {
<a name="l9588"><span class="linenum">9588</span></a>          return this._restrictMinMax(inst,
<a name="l9589"><span class="linenum">9589</span></a>              this._determineDate(inst, this._get(inst, 'defaultDate'), new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>()));
<a name="l9590"><span class="linenum">9590</span></a>      },
<a name="l9591"><span class="linenum">9591</span></a>  
<a name="l9592"><span class="linenum">9592</span></a>  <span class="comment">    /* A date may be specified as an exact value or a relative one. */</span>
<a name="l9593"><span class="linenum">9593</span></a>      _determineDate: function(inst, date, defaultDate) {
<a name="l9594"><span class="linenum">9594</span></a>          var offsetNumeric = function(offset) {
<a name="l9595"><span class="linenum">9595</span></a>              var date = new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>();
<a name="l9596"><span class="linenum">9596</span></a>              date.setDate(date.<a class="phpfunction" onClick="logFunction('getDate')" href="../../../../_functions/getdate.html" onMouseOver="phpfuncPopup(event,'getdate')">getDate</a>() + offset);
<a name="l9597"><span class="linenum">9597</span></a>              return date;
<a name="l9598"><span class="linenum">9598</span></a>          };
<a name="l9599"><span class="linenum">9599</span></a>          var offsetString = function(offset) {
<a name="l9600"><span class="linenum">9600</span></a>              try {
<a name="l9601"><span class="linenum">9601</span></a>                  return $.datepicker.parseDate($.datepicker._get(inst, 'dateFormat'),
<a name="l9602"><span class="linenum">9602</span></a>                      offset, $.datepicker._getFormatConfig(inst));
<a name="l9603"><span class="linenum">9603</span></a>              }
<a name="l9604"><span class="linenum">9604</span></a>              catch (e) {
<a name="l9605"><span class="linenum">9605</span></a>  <span class="comment">                // Ignore</span>
<a name="l9606"><span class="linenum">9606</span></a>              }
<a name="l9607"><span class="linenum">9607</span></a>              var date = (offset.toLowerCase().<a class="function" onClick="logFunction('match')" href="../../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(/^c/) ?
<a name="l9608"><span class="linenum">9608</span></a>                  $.datepicker._getDate(inst) : null) || new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>();
<a name="l9609"><span class="linenum">9609</span></a>              var year = date.getFullYear();
<a name="l9610"><span class="linenum">9610</span></a>              var month = date.getMonth();
<a name="l9611"><span class="linenum">9611</span></a>              var day = date.<a class="phpfunction" onClick="logFunction('getDate')" href="../../../../_functions/getdate.html" onMouseOver="phpfuncPopup(event,'getdate')">getDate</a>();
<a name="l9612"><span class="linenum">9612</span></a>              var pattern = /([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g;
<a name="l9613"><span class="linenum">9613</span></a>              var matches = pattern.<a class="phpfunction" onClick="logFunction('exec')" href="../../../../_functions/exec.html" onMouseOver="phpfuncPopup(event,'exec')">exec</a>(offset);
<a name="l9614"><span class="linenum">9614</span></a>              while (matches) {
<a name="l9615"><span class="linenum">9615</span></a>                  switch (matches[2] || 'd') {
<a name="l9616"><span class="linenum">9616</span></a>                      case 'd' : case 'D' :
<a name="l9617"><span class="linenum">9617</span></a>                          day += parseInt(matches[1],10); break;
<a name="l9618"><span class="linenum">9618</span></a>                      case 'w' : case 'W' :
<a name="l9619"><span class="linenum">9619</span></a>                          day += parseInt(matches[1],10) * 7; break;
<a name="l9620"><span class="linenum">9620</span></a>                      case 'm' : case 'M' :
<a name="l9621"><span class="linenum">9621</span></a>                          month += parseInt(matches[1],10);
<a name="l9622"><span class="linenum">9622</span></a>                          day = Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(day, $.datepicker._getDaysInMonth(year, month));
<a name="l9623"><span class="linenum">9623</span></a>                          break;
<a name="l9624"><span class="linenum">9624</span></a>                      case 'y': case 'Y' :
<a name="l9625"><span class="linenum">9625</span></a>                          year += parseInt(matches[1],10);
<a name="l9626"><span class="linenum">9626</span></a>                          day = Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(day, $.datepicker._getDaysInMonth(year, month));
<a name="l9627"><span class="linenum">9627</span></a>                          break;
<a name="l9628"><span class="linenum">9628</span></a>                  }
<a name="l9629"><span class="linenum">9629</span></a>                  matches = pattern.<a class="phpfunction" onClick="logFunction('exec')" href="../../../../_functions/exec.html" onMouseOver="phpfuncPopup(event,'exec')">exec</a>(offset);
<a name="l9630"><span class="linenum">9630</span></a>              }
<a name="l9631"><span class="linenum">9631</span></a>              return new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>(year, month, day);
<a name="l9632"><span class="linenum">9632</span></a>          };
<a name="l9633"><span class="linenum">9633</span></a>          var newDate = (date == null || date === '' ? defaultDate : (typeof date == 'string' ? offsetString(date) :
<a name="l9634"><span class="linenum">9634</span></a>              (typeof date == 'number' ? (isNaN(date) ? defaultDate : offsetNumeric(date)) : new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>(date.getTime()))));
<a name="l9635"><span class="linenum">9635</span></a>          newDate = (newDate &amp;&amp; newDate.toString() == 'Invalid Date' ? defaultDate : newDate);
<a name="l9636"><span class="linenum">9636</span></a>          if (newDate) {
<a name="l9637"><span class="linenum">9637</span></a>              newDate.setHours(0);
<a name="l9638"><span class="linenum">9638</span></a>              newDate.setMinutes(0);
<a name="l9639"><span class="linenum">9639</span></a>              newDate.setSeconds(0);
<a name="l9640"><span class="linenum">9640</span></a>              newDate.setMilliseconds(0);
<a name="l9641"><span class="linenum">9641</span></a>          }
<a name="l9642"><span class="linenum">9642</span></a>          return this._daylightSavingAdjust(newDate);
<a name="l9643"><span class="linenum">9643</span></a>      },
<a name="l9644"><span class="linenum">9644</span></a>  
<a name="l9645"><span class="linenum">9645</span></a>      <span class="comment">/* Handle switch to/from daylight saving.</span>
<a name="l9646"><span class="linenum">9646</span></a>  <span class="comment">       Hours may be non-zero on daylight saving cut-over:</span>
<a name="l9647"><span class="linenum">9647</span></a>  <span class="comment">       &gt; 12 when midnight changeover, but then cannot generate</span>
<a name="l9648"><span class="linenum">9648</span></a>  <span class="comment">       midnight datetime, so jump to 1AM, otherwise reset.</span>
<a name="l9649"><span class="linenum">9649</span></a>  <span class="comment">       @param  date  (Date) the date to check</span>
<a name="l9650"><span class="linenum">9650</span></a>  <span class="comment">       @return  (Date) the corrected date */</span>
<a name="l9651"><span class="linenum">9651</span></a>      _daylightSavingAdjust: function(date) {
<a name="l9652"><span class="linenum">9652</span></a>          if (!date) return null;
<a name="l9653"><span class="linenum">9653</span></a>          date.setHours(date.getHours() &gt; 12 ? date.getHours() + 2 : 0);
<a name="l9654"><span class="linenum">9654</span></a>          return date;
<a name="l9655"><span class="linenum">9655</span></a>      },
<a name="l9656"><span class="linenum">9656</span></a>  
<a name="l9657"><span class="linenum">9657</span></a>  <span class="comment">    /* Set the date(s) directly. */</span>
<a name="l9658"><span class="linenum">9658</span></a>      _setDate: function(inst, date, noChange) {
<a name="l9659"><span class="linenum">9659</span></a>          var clear = !date;
<a name="l9660"><span class="linenum">9660</span></a>          var origMonth = inst.selectedMonth;
<a name="l9661"><span class="linenum">9661</span></a>          var origYear = inst.selectedYear;
<a name="l9662"><span class="linenum">9662</span></a>          var newDate = this._restrictMinMax(inst, this._determineDate(inst, date, new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>()));
<a name="l9663"><span class="linenum">9663</span></a>          inst.selectedDay = inst.currentDay = newDate.<a class="phpfunction" onClick="logFunction('getDate')" href="../../../../_functions/getdate.html" onMouseOver="phpfuncPopup(event,'getdate')">getDate</a>();
<a name="l9664"><span class="linenum">9664</span></a>          inst.drawMonth = inst.selectedMonth = inst.currentMonth = newDate.getMonth();
<a name="l9665"><span class="linenum">9665</span></a>          inst.drawYear = inst.selectedYear = inst.currentYear = newDate.getFullYear();
<a name="l9666"><span class="linenum">9666</span></a>          if ((origMonth != inst.selectedMonth || origYear != inst.selectedYear) &amp;&amp; !noChange)
<a name="l9667"><span class="linenum">9667</span></a>              this._notifyChange(inst);
<a name="l9668"><span class="linenum">9668</span></a>          this._adjustInstDate(inst);
<a name="l9669"><span class="linenum">9669</span></a>          if (inst.input) {
<a name="l9670"><span class="linenum">9670</span></a>              inst.input.val(clear ? '' : this._formatDate(inst));
<a name="l9671"><span class="linenum">9671</span></a>          }
<a name="l9672"><span class="linenum">9672</span></a>      },
<a name="l9673"><span class="linenum">9673</span></a>  
<a name="l9674"><span class="linenum">9674</span></a>  <span class="comment">    /* Retrieve the date(s) directly. */</span>
<a name="l9675"><span class="linenum">9675</span></a>      _getDate: function(inst) {
<a name="l9676"><span class="linenum">9676</span></a>          var startDate = (!inst.currentYear || (inst.input &amp;&amp; inst.input.val() == '') ? null :
<a name="l9677"><span class="linenum">9677</span></a>              this._daylightSavingAdjust(new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>(
<a name="l9678"><span class="linenum">9678</span></a>              inst.currentYear, inst.currentMonth, inst.currentDay)));
<a name="l9679"><span class="linenum">9679</span></a>              return startDate;
<a name="l9680"><span class="linenum">9680</span></a>      },
<a name="l9681"><span class="linenum">9681</span></a>  
<a name="l9682"><span class="linenum">9682</span></a>  <span class="comment">    /* Generate the HTML for the current state of the date picker. */</span>
<a name="l9683"><span class="linenum">9683</span></a>      _generateHTML: function(inst) {
<a name="l9684"><span class="linenum">9684</span></a>          var today = new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>();
<a name="l9685"><span class="linenum">9685</span></a>          today = this._daylightSavingAdjust(
<a name="l9686"><span class="linenum">9686</span></a>              new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>(today.getFullYear(), today.getMonth(), today.<a class="phpfunction" onClick="logFunction('getDate')" href="../../../../_functions/getdate.html" onMouseOver="phpfuncPopup(event,'getdate')">getDate</a>())); <span class="comment">// clear time</span>
<a name="l9687"><span class="linenum">9687</span></a>          var isRTL = this._get(inst, 'isRTL');
<a name="l9688"><span class="linenum">9688</span></a>          var showButtonPanel = this._get(inst, 'showButtonPanel');
<a name="l9689"><span class="linenum">9689</span></a>          var hideIfNoPrevNext = this._get(inst, 'hideIfNoPrevNext');
<a name="l9690"><span class="linenum">9690</span></a>          var navigationAsDateFormat = this._get(inst, 'navigationAsDateFormat');
<a name="l9691"><span class="linenum">9691</span></a>          var numMonths = this._getNumberOfMonths(inst);
<a name="l9692"><span class="linenum">9692</span></a>          var showCurrentAtPos = this._get(inst, 'showCurrentAtPos');
<a name="l9693"><span class="linenum">9693</span></a>          var stepMonths = this._get(inst, 'stepMonths');
<a name="l9694"><span class="linenum">9694</span></a>          var isMultiMonth = (numMonths[0] != 1 || numMonths[1] != 1);
<a name="l9695"><span class="linenum">9695</span></a>          var currentDate = this._daylightSavingAdjust((!inst.currentDay ? new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>(9999, 9, 9) :
<a name="l9696"><span class="linenum">9696</span></a>              new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>(inst.currentYear, inst.currentMonth, inst.currentDay)));
<a name="l9697"><span class="linenum">9697</span></a>          var minDate = this._getMinMaxDate(inst, 'min');
<a name="l9698"><span class="linenum">9698</span></a>          var maxDate = this._getMinMaxDate(inst, 'max');
<a name="l9699"><span class="linenum">9699</span></a>          var drawMonth = inst.drawMonth - showCurrentAtPos;
<a name="l9700"><span class="linenum">9700</span></a>          var drawYear = inst.drawYear;
<a name="l9701"><span class="linenum">9701</span></a>          if (drawMonth &lt; 0) {
<a name="l9702"><span class="linenum">9702</span></a>              drawMonth += 12;
<a name="l9703"><span class="linenum">9703</span></a>              drawYear--;
<a name="l9704"><span class="linenum">9704</span></a>          }
<a name="l9705"><span class="linenum">9705</span></a>          if (maxDate) {
<a name="l9706"><span class="linenum">9706</span></a>              var maxDraw = this._daylightSavingAdjust(new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>(maxDate.getFullYear(),
<a name="l9707"><span class="linenum">9707</span></a>                  maxDate.getMonth() - (numMonths[0] * numMonths[1]) + 1, maxDate.<a class="phpfunction" onClick="logFunction('getDate')" href="../../../../_functions/getdate.html" onMouseOver="phpfuncPopup(event,'getdate')">getDate</a>()));
<a name="l9708"><span class="linenum">9708</span></a>              maxDraw = (minDate &amp;&amp; maxDraw &lt; minDate ? minDate : maxDraw);
<a name="l9709"><span class="linenum">9709</span></a>              while (this._daylightSavingAdjust(new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>(drawYear, drawMonth, 1)) &gt; maxDraw) {
<a name="l9710"><span class="linenum">9710</span></a>                  drawMonth--;
<a name="l9711"><span class="linenum">9711</span></a>                  if (drawMonth &lt; 0) {
<a name="l9712"><span class="linenum">9712</span></a>                      drawMonth = 11;
<a name="l9713"><span class="linenum">9713</span></a>                      drawYear--;
<a name="l9714"><span class="linenum">9714</span></a>                  }
<a name="l9715"><span class="linenum">9715</span></a>              }
<a name="l9716"><span class="linenum">9716</span></a>          }
<a name="l9717"><span class="linenum">9717</span></a>          inst.drawMonth = drawMonth;
<a name="l9718"><span class="linenum">9718</span></a>          inst.drawYear = drawYear;
<a name="l9719"><span class="linenum">9719</span></a>          var prevText = this._get(inst, 'prevText');
<a name="l9720"><span class="linenum">9720</span></a>          prevText = (!navigationAsDateFormat ? prevText : this.formatDate(prevText,
<a name="l9721"><span class="linenum">9721</span></a>              this._daylightSavingAdjust(new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>(drawYear, drawMonth - stepMonths, 1)),
<a name="l9722"><span class="linenum">9722</span></a>              this._getFormatConfig(inst)));
<a name="l9723"><span class="linenum">9723</span></a>          var prev = (this._canAdjustMonth(inst, -1, drawYear, drawMonth) ?
<a name="l9724"><span class="linenum">9724</span></a>              '&lt;a class=&quot;ui-datepicker-prev ui-corner-all&quot; onclick=&quot;DP_jQuery_' + dpuuid +
<a name="l9725"><span class="linenum">9725</span></a>              '.datepicker._adjustDate(\'#' + inst.id + '\', -' + stepMonths + ', \'M\');&quot;' +
<a name="l9726"><span class="linenum">9726</span></a>              ' title=&quot;' + prevText + '&quot;&gt;&lt;span class=&quot;ui-icon ui-icon-circle-triangle-' + ( isRTL ? 'e' : 'w') + '&quot;&gt;' + prevText + '&lt;/span&gt;&lt;/a&gt;' :
<a name="l9727"><span class="linenum">9727</span></a>              (hideIfNoPrevNext ? '' : '&lt;a class=&quot;ui-datepicker-prev ui-corner-all ui-state-disabled&quot; title=&quot;'+ prevText +'&quot;&gt;&lt;span class=&quot;ui-icon ui-icon-circle-triangle-' + ( isRTL ? 'e' : 'w') + '&quot;&gt;' + prevText + '&lt;/span&gt;&lt;/a&gt;'));
<a name="l9728"><span class="linenum">9728</span></a>          var nextText = this._get(inst, 'nextText');
<a name="l9729"><span class="linenum">9729</span></a>          nextText = (!navigationAsDateFormat ? nextText : this.formatDate(nextText,
<a name="l9730"><span class="linenum">9730</span></a>              this._daylightSavingAdjust(new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>(drawYear, drawMonth + stepMonths, 1)),
<a name="l9731"><span class="linenum">9731</span></a>              this._getFormatConfig(inst)));
<a name="l9732"><span class="linenum">9732</span></a>          var next = (this._canAdjustMonth(inst, +1, drawYear, drawMonth) ?
<a name="l9733"><span class="linenum">9733</span></a>              '&lt;a class=&quot;ui-datepicker-next ui-corner-all&quot; onclick=&quot;DP_jQuery_' + dpuuid +
<a name="l9734"><span class="linenum">9734</span></a>              '.datepicker._adjustDate(\'#' + inst.id + '\', +' + stepMonths + ', \'M\');&quot;' +
<a name="l9735"><span class="linenum">9735</span></a>              ' title=&quot;' + nextText + '&quot;&gt;&lt;span class=&quot;ui-icon ui-icon-circle-triangle-' + ( isRTL ? 'w' : 'e') + '&quot;&gt;' + nextText + '&lt;/span&gt;&lt;/a&gt;' :
<a name="l9736"><span class="linenum">9736</span></a>              (hideIfNoPrevNext ? '' : '&lt;a class=&quot;ui-datepicker-next ui-corner-all ui-state-disabled&quot; title=&quot;'+ nextText + '&quot;&gt;&lt;span class=&quot;ui-icon ui-icon-circle-triangle-' + ( isRTL ? 'w' : 'e') + '&quot;&gt;' + nextText + '&lt;/span&gt;&lt;/a&gt;'));
<a name="l9737"><span class="linenum">9737</span></a>          var currentText = this._get(inst, 'currentText');
<a name="l9738"><span class="linenum">9738</span></a>          var gotoDate = (this._get(inst, 'gotoCurrent') &amp;&amp; inst.currentDay ? currentDate : today);
<a name="l9739"><span class="linenum">9739</span></a>          currentText = (!navigationAsDateFormat ? currentText :
<a name="l9740"><span class="linenum">9740</span></a>              this.formatDate(currentText, gotoDate, this._getFormatConfig(inst)));
<a name="l9741"><span class="linenum">9741</span></a>          var controls = (!inst.inline ? '&lt;button type=&quot;button&quot; class=&quot;ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all&quot; onclick=&quot;DP_jQuery_' + dpuuid +
<a name="l9742"><span class="linenum">9742</span></a>              '.datepicker._hideDatepicker();&quot;&gt;' + this._get(inst, 'closeText') + '&lt;/button&gt;' : '');
<a name="l9743"><span class="linenum">9743</span></a>          var buttonPanel = (showButtonPanel) ? '&lt;div class=&quot;ui-datepicker-buttonpane ui-widget-content&quot;&gt;' + (isRTL ? controls : '') +
<a name="l9744"><span class="linenum">9744</span></a>              (this._isInRange(inst, gotoDate) ? '&lt;button type=&quot;button&quot; class=&quot;ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all&quot; onclick=&quot;DP_jQuery_' + dpuuid +
<a name="l9745"><span class="linenum">9745</span></a>              '.datepicker._gotoToday(\'#' + inst.id + '\');&quot;' +
<a name="l9746"><span class="linenum">9746</span></a>              '&gt;' + currentText + '&lt;/button&gt;' : '') + (isRTL ? '' : controls) + '&lt;/div&gt;' : '';
<a name="l9747"><span class="linenum">9747</span></a>          var firstDay = parseInt(this._get(inst, 'firstDay'),10);
<a name="l9748"><span class="linenum">9748</span></a>          firstDay = (isNaN(firstDay) ? 0 : firstDay);
<a name="l9749"><span class="linenum">9749</span></a>          var showWeek = this._get(inst, 'showWeek');
<a name="l9750"><span class="linenum">9750</span></a>          var dayNames = this._get(inst, 'dayNames');
<a name="l9751"><span class="linenum">9751</span></a>          var dayNamesShort = this._get(inst, 'dayNamesShort');
<a name="l9752"><span class="linenum">9752</span></a>          var dayNamesMin = this._get(inst, 'dayNamesMin');
<a name="l9753"><span class="linenum">9753</span></a>          var monthNames = this._get(inst, 'monthNames');
<a name="l9754"><span class="linenum">9754</span></a>          var monthNamesShort = this._get(inst, 'monthNamesShort');
<a name="l9755"><span class="linenum">9755</span></a>          var beforeShowDay = this._get(inst, 'beforeShowDay');
<a name="l9756"><span class="linenum">9756</span></a>          var showOtherMonths = this._get(inst, 'showOtherMonths');
<a name="l9757"><span class="linenum">9757</span></a>          var selectOtherMonths = this._get(inst, 'selectOtherMonths');
<a name="l9758"><span class="linenum">9758</span></a>          var calculateWeek = this._get(inst, 'calculateWeek') || this.iso8601Week;
<a name="l9759"><span class="linenum">9759</span></a>          var defaultDate = this._getDefaultDate(inst);
<a name="l9760"><span class="linenum">9760</span></a>          var html = '';
<a name="l9761"><span class="linenum">9761</span></a>          for (var row = 0; row &lt; numMonths[0]; row++) {
<a name="l9762"><span class="linenum">9762</span></a>              var group = '';
<a name="l9763"><span class="linenum">9763</span></a>              this.maxRows = 4;
<a name="l9764"><span class="linenum">9764</span></a>              for (var col = 0; col &lt; numMonths[1]; col++) {
<a name="l9765"><span class="linenum">9765</span></a>                  var selectedDate = this._daylightSavingAdjust(new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>(drawYear, drawMonth, inst.selectedDay));
<a name="l9766"><span class="linenum">9766</span></a>                  var cornerClass = ' ui-corner-all';
<a name="l9767"><span class="linenum">9767</span></a>                  var calender = '';
<a name="l9768"><span class="linenum">9768</span></a>                  if (isMultiMonth) {
<a name="l9769"><span class="linenum">9769</span></a>                      calender += '&lt;div class=&quot;ui-datepicker-group';
<a name="l9770"><span class="linenum">9770</span></a>                      if (numMonths[1] &gt; 1)
<a name="l9771"><span class="linenum">9771</span></a>                          switch (col) {
<a name="l9772"><span class="linenum">9772</span></a>                              case 0: calender += ' ui-datepicker-group-first';
<a name="l9773"><span class="linenum">9773</span></a>                                  cornerClass = ' ui-corner-' + (isRTL ? 'right' : 'left'); break;
<a name="l9774"><span class="linenum">9774</span></a>                              case numMonths[1]-1: calender += ' ui-datepicker-group-last';
<a name="l9775"><span class="linenum">9775</span></a>                                  cornerClass = ' ui-corner-' + (isRTL ? 'left' : 'right'); break;
<a name="l9776"><span class="linenum">9776</span></a>                              default: calender += ' ui-datepicker-group-middle'; cornerClass = ''; break;
<a name="l9777"><span class="linenum">9777</span></a>                          }
<a name="l9778"><span class="linenum">9778</span></a>                      calender += '&quot;&gt;';
<a name="l9779"><span class="linenum">9779</span></a>                  }
<a name="l9780"><span class="linenum">9780</span></a>                  calender += '&lt;div class=&quot;ui-datepicker-header ui-widget-header ui-helper-clearfix' + cornerClass + '&quot;&gt;' +
<a name="l9781"><span class="linenum">9781</span></a>                      (/all|left/.test(cornerClass) &amp;&amp; row == 0 ? (isRTL ? next : prev) : '') +
<a name="l9782"><span class="linenum">9782</span></a>                      (/all|right/.test(cornerClass) &amp;&amp; row == 0 ? (isRTL ? prev : next) : '') +
<a name="l9783"><span class="linenum">9783</span></a>                      this._generateMonthYearHeader(inst, drawMonth, drawYear, minDate, maxDate,
<a name="l9784"><span class="linenum">9784</span></a>                      row &gt; 0 || col &gt; 0, monthNames, monthNamesShort) + // draw month headers
<a name="l9785"><span class="linenum">9785</span></a>                      '&lt;/div&gt;&lt;table class=&quot;ui-datepicker-calendar&quot;&gt;&lt;thead&gt;' +
<a name="l9786"><span class="linenum">9786</span></a>                      '&lt;tr&gt;';
<a name="l9787"><span class="linenum">9787</span></a>                  var thead = (showWeek ? '&lt;th class=&quot;ui-datepicker-week-col&quot;&gt;' + this._get(inst, 'weekHeader') + '&lt;/th&gt;' : '');
<a name="l9788"><span class="linenum">9788</span></a>                  for (var dow = 0; dow &lt; 7; dow++) { // days of the week
<a name="l9789"><span class="linenum">9789</span></a>                      var day = (dow + firstDay) % 7;
<a name="l9790"><span class="linenum">9790</span></a>                      thead += '&lt;th' + ((dow + firstDay + 6) % 7 &gt;= 5 ? ' class=&quot;ui-datepicker-week-end&quot;' : '') + '&gt;' +
<a name="l9791"><span class="linenum">9791</span></a>                          '&lt;span title=&quot;' + dayNames[day] + '&quot;&gt;' + dayNamesMin[day] + '&lt;/span&gt;&lt;/th&gt;';
<a name="l9792"><span class="linenum">9792</span></a>                  }
<a name="l9793"><span class="linenum">9793</span></a>                  calender += thead + '&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;';
<a name="l9794"><span class="linenum">9794</span></a>                  var daysInMonth = this._getDaysInMonth(drawYear, drawMonth);
<a name="l9795"><span class="linenum">9795</span></a>                  if (drawYear == inst.selectedYear &amp;&amp; drawMonth == inst.selectedMonth)
<a name="l9796"><span class="linenum">9796</span></a>                      inst.selectedDay = Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(inst.selectedDay, daysInMonth);
<a name="l9797"><span class="linenum">9797</span></a>                  var leadDays = (this._getFirstDayOfMonth(drawYear, drawMonth) - firstDay + 7) % 7;
<a name="l9798"><span class="linenum">9798</span></a>                  var curRows = Math.<a class="phpfunction" onClick="logFunction('ceil')" href="../../../../_functions/ceil.html" onMouseOver="phpfuncPopup(event,'ceil')">ceil</a>((leadDays + daysInMonth) / 7); <span class="comment">// calculate the number of rows to generate</span>
<a name="l9799"><span class="linenum">9799</span></a>                  var numRows = (isMultiMonth ? this.maxRows &gt; curRows ? this.maxRows : curRows : curRows); <span class="comment">//If multiple months, use the higher number of rows (see #7043)</span>
<a name="l9800"><span class="linenum">9800</span></a>                  this.maxRows = numRows;
<a name="l9801"><span class="linenum">9801</span></a>                  var printDate = this._daylightSavingAdjust(new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>(drawYear, drawMonth, 1 - leadDays));
<a name="l9802"><span class="linenum">9802</span></a>                  for (var dRow = 0; dRow &lt; numRows; dRow++) { // create date picker rows
<a name="l9803"><span class="linenum">9803</span></a>                      calender += '&lt;tr&gt;';
<a name="l9804"><span class="linenum">9804</span></a>                      var tbody = (!showWeek ? '' : '&lt;td class=&quot;ui-datepicker-week-col&quot;&gt;' +
<a name="l9805"><span class="linenum">9805</span></a>                          this._get(inst, 'calculateWeek')(printDate) + '&lt;/td&gt;');
<a name="l9806"><span class="linenum">9806</span></a>                      for (var dow = 0; dow &lt; 7; dow++) { // create date picker days
<a name="l9807"><span class="linenum">9807</span></a>                          var daySettings = (beforeShowDay ?
<a name="l9808"><span class="linenum">9808</span></a>                              beforeShowDay.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>((inst.input ? inst.input[0] : null), [printDate]) : [true, '']);
<a name="l9809"><span class="linenum">9809</span></a>                          var otherMonth = (printDate.getMonth() != drawMonth);
<a name="l9810"><span class="linenum">9810</span></a>                          var unselectable = (otherMonth &amp;&amp; !selectOtherMonths) || !daySettings[0] ||
<a name="l9811"><span class="linenum">9811</span></a>                              (minDate &amp;&amp; printDate &lt; minDate) || (maxDate &amp;&amp; printDate &gt; maxDate);
<a name="l9812"><span class="linenum">9812</span></a>                          tbody += '&lt;td class=&quot;' +
<a name="l9813"><span class="linenum">9813</span></a>                              ((dow + firstDay + 6) % 7 &gt;= 5 ? ' ui-datepicker-week-end' : '') + // highlight weekends
<a name="l9814"><span class="linenum">9814</span></a>                              (otherMonth ? ' ui-datepicker-other-month' : '') + // highlight days from other months
<a name="l9815"><span class="linenum">9815</span></a>                              ((printDate.getTime() == selectedDate.getTime() &amp;&amp; drawMonth == inst.selectedMonth &amp;&amp; inst._keyEvent) || // user pressed key
<a name="l9816"><span class="linenum">9816</span></a>                              (defaultDate.getTime() == printDate.getTime() &amp;&amp; defaultDate.getTime() == selectedDate.getTime()) ?
<a name="l9817"><span class="linenum">9817</span></a>  <span class="comment">                            // or defaultDate is current printedDate and defaultDate is selectedDate</span>
<a name="l9818"><span class="linenum">9818</span></a>                              ' ' + this._dayOverClass : '') + // highlight selected day
<a name="l9819"><span class="linenum">9819</span></a>                              (unselectable ? ' ' + this._unselectableClass + ' ui-state-disabled': '') +  // highlight unselectable days
<a name="l9820"><span class="linenum">9820</span></a>                              (otherMonth &amp;&amp; !showOtherMonths ? '' : ' ' + daySettings[1] + // highlight custom dates
<a name="l9821"><span class="linenum">9821</span></a>                              (printDate.getTime() == currentDate.getTime() ? ' ' + this._currentClass : '') + // highlight selected day
<a name="l9822"><span class="linenum">9822</span></a>                              (printDate.getTime() == today.getTime() ? ' ui-datepicker-today' : '')) + '&quot;' + // highlight today (if different)
<a name="l9823"><span class="linenum">9823</span></a>                              ((!otherMonth || showOtherMonths) &amp;&amp; daySettings[2] ? ' title=&quot;' + daySettings[2] + '&quot;' : '') + // cell title
<a name="l9824"><span class="linenum">9824</span></a>                              (unselectable ? '' : ' onclick=&quot;DP_jQuery_' + dpuuid + '.datepicker._selectDay(\'#' +
<a name="l9825"><span class="linenum">9825</span></a>                              inst.id + '\',' + printDate.getMonth() + ',' + printDate.getFullYear() + ', this);return false;&quot;') + '&gt;' + // actions
<a name="l9826"><span class="linenum">9826</span></a>                              (otherMonth &amp;&amp; !showOtherMonths ? '&amp;#xa0;' : // display for other months
<a name="l9827"><span class="linenum">9827</span></a>                              (unselectable ? '&lt;span class=&quot;ui-state-default&quot;&gt;' + printDate.<a class="phpfunction" onClick="logFunction('getDate')" href="../../../../_functions/getdate.html" onMouseOver="phpfuncPopup(event,'getdate')">getDate</a>() + '&lt;/span&gt;' : '&lt;a class=&quot;ui-state-default' +
<a name="l9828"><span class="linenum">9828</span></a>                              (printDate.getTime() == today.getTime() ? ' ui-state-highlight' : '') +
<a name="l9829"><span class="linenum">9829</span></a>                              (printDate.getTime() == currentDate.getTime() ? ' ui-state-active' : '') + // highlight selected day
<a name="l9830"><span class="linenum">9830</span></a>                              (otherMonth ? ' ui-priority-secondary' : '') + // distinguish dates from other months
<a name="l9831"><span class="linenum">9831</span></a>                              '&quot; href=&quot;#&quot;&gt;' + printDate.<a class="phpfunction" onClick="logFunction('getDate')" href="../../../../_functions/getdate.html" onMouseOver="phpfuncPopup(event,'getdate')">getDate</a>() + '&lt;/a&gt;')) + '&lt;/td&gt;'; <span class="comment">// display selectable date</span>
<a name="l9832"><span class="linenum">9832</span></a>                          printDate.setDate(printDate.<a class="phpfunction" onClick="logFunction('getDate')" href="../../../../_functions/getdate.html" onMouseOver="phpfuncPopup(event,'getdate')">getDate</a>() + 1);
<a name="l9833"><span class="linenum">9833</span></a>                          printDate = this._daylightSavingAdjust(printDate);
<a name="l9834"><span class="linenum">9834</span></a>                      }
<a name="l9835"><span class="linenum">9835</span></a>                      calender += tbody + '&lt;/tr&gt;';
<a name="l9836"><span class="linenum">9836</span></a>                  }
<a name="l9837"><span class="linenum">9837</span></a>                  drawMonth++;
<a name="l9838"><span class="linenum">9838</span></a>                  if (drawMonth &gt; 11) {
<a name="l9839"><span class="linenum">9839</span></a>                      drawMonth = 0;
<a name="l9840"><span class="linenum">9840</span></a>                      drawYear++;
<a name="l9841"><span class="linenum">9841</span></a>                  }
<a name="l9842"><span class="linenum">9842</span></a>                  calender += '&lt;/tbody&gt;&lt;/table&gt;' + (isMultiMonth ? '&lt;/div&gt;' + 
<a name="l9843"><span class="linenum">9843</span></a>                              ((numMonths[0] &gt; 0 &amp;&amp; col == numMonths[1]-1) ? '&lt;div class=&quot;ui-datepicker-row-break&quot;&gt;&lt;/div&gt;' : '') : '');
<a name="l9844"><span class="linenum">9844</span></a>                  group += calender;
<a name="l9845"><span class="linenum">9845</span></a>              }
<a name="l9846"><span class="linenum">9846</span></a>              html += group;
<a name="l9847"><span class="linenum">9847</span></a>          }
<a name="l9848"><span class="linenum">9848</span></a>          html += buttonPanel + ($.browser.msie &amp;&amp; parseInt($.browser.version,10) &lt; 7 &amp;&amp; !inst.inline ?
<a name="l9849"><span class="linenum">9849</span></a>              '&lt;iframe src=&quot;javascript:false;&quot; class=&quot;ui-datepicker-cover&quot; frameborder=&quot;0&quot;&gt;&lt;/iframe&gt;' : '');
<a name="l9850"><span class="linenum">9850</span></a>          inst._keyEvent = false;
<a name="l9851"><span class="linenum">9851</span></a>          return html;
<a name="l9852"><span class="linenum">9852</span></a>      },
<a name="l9853"><span class="linenum">9853</span></a>  
<a name="l9854"><span class="linenum">9854</span></a>  <span class="comment">    /* Generate the month and year header. */</span>
<a name="l9855"><span class="linenum">9855</span></a>      _generateMonthYearHeader: function(inst, drawMonth, drawYear, minDate, maxDate,
<a name="l9856"><span class="linenum">9856</span></a>              secondary, monthNames, monthNamesShort) {
<a name="l9857"><span class="linenum">9857</span></a>          var changeMonth = this._get(inst, 'changeMonth');
<a name="l9858"><span class="linenum">9858</span></a>          var changeYear = this._get(inst, 'changeYear');
<a name="l9859"><span class="linenum">9859</span></a>          var showMonthAfterYear = this._get(inst, 'showMonthAfterYear');
<a name="l9860"><span class="linenum">9860</span></a>          var html = '&lt;div class=&quot;ui-datepicker-title&quot;&gt;';
<a name="l9861"><span class="linenum">9861</span></a>          var monthHtml = '';
<a name="l9862"><span class="linenum">9862</span></a>  <span class="comment">        // month selection</span>
<a name="l9863"><span class="linenum">9863</span></a>          if (secondary || !changeMonth)
<a name="l9864"><span class="linenum">9864</span></a>              monthHtml += '&lt;span class=&quot;ui-datepicker-month&quot;&gt;' + monthNames[drawMonth] + '&lt;/span&gt;';
<a name="l9865"><span class="linenum">9865</span></a>          else {
<a name="l9866"><span class="linenum">9866</span></a>              var inMinYear = (minDate &amp;&amp; minDate.getFullYear() == drawYear);
<a name="l9867"><span class="linenum">9867</span></a>              var inMaxYear = (maxDate &amp;&amp; maxDate.getFullYear() == drawYear);
<a name="l9868"><span class="linenum">9868</span></a>              monthHtml += '&lt;select class=&quot;ui-datepicker-month&quot; ' +
<a name="l9869"><span class="linenum">9869</span></a>                  'onchange=&quot;DP_jQuery_' + dpuuid + '.datepicker._selectMonthYear(\'#' + inst.id + '\', this, \'M\');&quot; ' +
<a name="l9870"><span class="linenum">9870</span></a>                   '&gt;';
<a name="l9871"><span class="linenum">9871</span></a>              for (var month = 0; month &lt; 12; month++) {
<a name="l9872"><span class="linenum">9872</span></a>                  if ((!inMinYear || month &gt;= minDate.getMonth()) &amp;&amp;
<a name="l9873"><span class="linenum">9873</span></a>                          (!inMaxYear || month &lt;= maxDate.getMonth()))
<a name="l9874"><span class="linenum">9874</span></a>                      monthHtml += '&lt;option value=&quot;' + month + '&quot;' +
<a name="l9875"><span class="linenum">9875</span></a>                          (month == drawMonth ? ' selected=&quot;selected&quot;' : '') +
<a name="l9876"><span class="linenum">9876</span></a>                          '&gt;' + monthNamesShort[month] + '&lt;/option&gt;';
<a name="l9877"><span class="linenum">9877</span></a>              }
<a name="l9878"><span class="linenum">9878</span></a>              monthHtml += '&lt;/select&gt;';
<a name="l9879"><span class="linenum">9879</span></a>          }
<a name="l9880"><span class="linenum">9880</span></a>          if (!showMonthAfterYear)
<a name="l9881"><span class="linenum">9881</span></a>              html += monthHtml + (secondary || !(changeMonth &amp;&amp; changeYear) ? '&amp;#xa0;' : '');
<a name="l9882"><span class="linenum">9882</span></a>  <span class="comment">        // year selection</span>
<a name="l9883"><span class="linenum">9883</span></a>          if ( !inst.yearshtml ) {
<a name="l9884"><span class="linenum">9884</span></a>              inst.yearshtml = '';
<a name="l9885"><span class="linenum">9885</span></a>              if (secondary || !changeYear)
<a name="l9886"><span class="linenum">9886</span></a>                  html += '&lt;span class=&quot;ui-datepicker-year&quot;&gt;' + drawYear + '&lt;/span&gt;';
<a name="l9887"><span class="linenum">9887</span></a>              else {
<a name="l9888"><span class="linenum">9888</span></a>  <span class="comment">                // determine range of years to display</span>
<a name="l9889"><span class="linenum">9889</span></a>                  var years = this._get(inst, 'yearRange').<a class="phpfunction" onClick="logFunction('split')" href="../../../../_functions/split.html" onMouseOver="phpfuncPopup(event,'split')">split</a>(':');
<a name="l9890"><span class="linenum">9890</span></a>                  var thisYear = new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>().getFullYear();
<a name="l9891"><span class="linenum">9891</span></a>                  var determineYear = function(value) {
<a name="l9892"><span class="linenum">9892</span></a>                      var year = (value.<a class="function" onClick="logFunction('match')" href="../../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(/c[+-].*/) ? drawYear + parseInt(value.substring(1), 10) :
<a name="l9893"><span class="linenum">9893</span></a>                          (value.<a class="function" onClick="logFunction('match')" href="../../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(/[+-].*/) ? thisYear + parseInt(value, 10) :
<a name="l9894"><span class="linenum">9894</span></a>                          parseInt(value, 10)));
<a name="l9895"><span class="linenum">9895</span></a>                      return (isNaN(year) ? thisYear : year);
<a name="l9896"><span class="linenum">9896</span></a>                  };
<a name="l9897"><span class="linenum">9897</span></a>                  var year = determineYear(years[0]);
<a name="l9898"><span class="linenum">9898</span></a>                  var endYear = Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(year, determineYear(years[1] || ''));
<a name="l9899"><span class="linenum">9899</span></a>                  year = (minDate ? Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(year, minDate.getFullYear()) : year);
<a name="l9900"><span class="linenum">9900</span></a>                  endYear = (maxDate ? Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(endYear, maxDate.getFullYear()) : endYear);
<a name="l9901"><span class="linenum">9901</span></a>                  inst.yearshtml += '&lt;select class=&quot;ui-datepicker-year&quot; ' +
<a name="l9902"><span class="linenum">9902</span></a>                      'onchange=&quot;DP_jQuery_' + dpuuid + '.datepicker._selectMonthYear(\'#' + inst.id + '\', this, \'Y\');&quot; ' +
<a name="l9903"><span class="linenum">9903</span></a>                      '&gt;';
<a name="l9904"><span class="linenum">9904</span></a>                  for (; year &lt;= endYear; year++) {
<a name="l9905"><span class="linenum">9905</span></a>                      inst.yearshtml += '&lt;option value=&quot;' + year + '&quot;' +
<a name="l9906"><span class="linenum">9906</span></a>                          (year == drawYear ? ' selected=&quot;selected&quot;' : '') +
<a name="l9907"><span class="linenum">9907</span></a>                          '&gt;' + year + '&lt;/option&gt;';
<a name="l9908"><span class="linenum">9908</span></a>                  }
<a name="l9909"><span class="linenum">9909</span></a>                  inst.yearshtml += '&lt;/select&gt;';
<a name="l9910"><span class="linenum">9910</span></a>                  
<a name="l9911"><span class="linenum">9911</span></a>                  html += inst.yearshtml;
<a name="l9912"><span class="linenum">9912</span></a>                  inst.yearshtml = null;
<a name="l9913"><span class="linenum">9913</span></a>              }
<a name="l9914"><span class="linenum">9914</span></a>          }
<a name="l9915"><span class="linenum">9915</span></a>          html += this._get(inst, 'yearSuffix');
<a name="l9916"><span class="linenum">9916</span></a>          if (showMonthAfterYear)
<a name="l9917"><span class="linenum">9917</span></a>              html += (secondary || !(changeMonth &amp;&amp; changeYear) ? '&amp;#xa0;' : '') + monthHtml;
<a name="l9918"><span class="linenum">9918</span></a>          html += '&lt;/div&gt;'; <span class="comment">// Close datepicker_header</span>
<a name="l9919"><span class="linenum">9919</span></a>          return html;
<a name="l9920"><span class="linenum">9920</span></a>      },
<a name="l9921"><span class="linenum">9921</span></a>  
<a name="l9922"><span class="linenum">9922</span></a>  <span class="comment">    /* Adjust one of the date sub-fields. */</span>
<a name="l9923"><span class="linenum">9923</span></a>      _adjustInstDate: function(inst, offset, period) {
<a name="l9924"><span class="linenum">9924</span></a>          var year = inst.drawYear + (period == 'Y' ? offset : 0);
<a name="l9925"><span class="linenum">9925</span></a>          var month = inst.drawMonth + (period == 'M' ? offset : 0);
<a name="l9926"><span class="linenum">9926</span></a>          var day = Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(inst.selectedDay, this._getDaysInMonth(year, month)) +
<a name="l9927"><span class="linenum">9927</span></a>              (period == 'D' ? offset : 0);
<a name="l9928"><span class="linenum">9928</span></a>          var date = this._restrictMinMax(inst,
<a name="l9929"><span class="linenum">9929</span></a>              this._daylightSavingAdjust(new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>(year, month, day)));
<a name="l9930"><span class="linenum">9930</span></a>          inst.selectedDay = date.<a class="phpfunction" onClick="logFunction('getDate')" href="../../../../_functions/getdate.html" onMouseOver="phpfuncPopup(event,'getdate')">getDate</a>();
<a name="l9931"><span class="linenum">9931</span></a>          inst.drawMonth = inst.selectedMonth = date.getMonth();
<a name="l9932"><span class="linenum">9932</span></a>          inst.drawYear = inst.selectedYear = date.getFullYear();
<a name="l9933"><span class="linenum">9933</span></a>          if (period == 'M' || period == 'Y')
<a name="l9934"><span class="linenum">9934</span></a>              this._notifyChange(inst);
<a name="l9935"><span class="linenum">9935</span></a>      },
<a name="l9936"><span class="linenum">9936</span></a>  
<a name="l9937"><span class="linenum">9937</span></a>  <span class="comment">    /* Ensure a date is within any min/max bounds. */</span>
<a name="l9938"><span class="linenum">9938</span></a>      _restrictMinMax: function(inst, date) {
<a name="l9939"><span class="linenum">9939</span></a>          var minDate = this._getMinMaxDate(inst, 'min');
<a name="l9940"><span class="linenum">9940</span></a>          var maxDate = this._getMinMaxDate(inst, 'max');
<a name="l9941"><span class="linenum">9941</span></a>          var newDate = (minDate &amp;&amp; date &lt; minDate ? minDate : date);
<a name="l9942"><span class="linenum">9942</span></a>          newDate = (maxDate &amp;&amp; newDate &gt; maxDate ? maxDate : newDate);
<a name="l9943"><span class="linenum">9943</span></a>          return newDate;
<a name="l9944"><span class="linenum">9944</span></a>      },
<a name="l9945"><span class="linenum">9945</span></a>  
<a name="l9946"><span class="linenum">9946</span></a>  <span class="comment">    /* Notify change of month/year. */</span>
<a name="l9947"><span class="linenum">9947</span></a>      _notifyChange: function(inst) {
<a name="l9948"><span class="linenum">9948</span></a>          var onChange = this._get(inst, 'onChangeMonthYear');
<a name="l9949"><span class="linenum">9949</span></a>          if (onChange)
<a name="l9950"><span class="linenum">9950</span></a>              onChange.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>((inst.input ? inst.input[0] : null),
<a name="l9951"><span class="linenum">9951</span></a>                  [inst.selectedYear, inst.selectedMonth + 1, inst]);
<a name="l9952"><span class="linenum">9952</span></a>      },
<a name="l9953"><span class="linenum">9953</span></a>  
<a name="l9954"><span class="linenum">9954</span></a>  <span class="comment">    /* Determine the number of months to show. */</span>
<a name="l9955"><span class="linenum">9955</span></a>      _getNumberOfMonths: function(inst) {
<a name="l9956"><span class="linenum">9956</span></a>          var numMonths = this._get(inst, 'numberOfMonths');
<a name="l9957"><span class="linenum">9957</span></a>          return (numMonths == null ? [1, 1] : (typeof numMonths == 'number' ? [1, numMonths] : numMonths));
<a name="l9958"><span class="linenum">9958</span></a>      },
<a name="l9959"><span class="linenum">9959</span></a>  
<a name="l9960"><span class="linenum">9960</span></a>  <span class="comment">    /* Determine the current maximum date - ensure no time components are set. */</span>
<a name="l9961"><span class="linenum">9961</span></a>      _getMinMaxDate: function(inst, minMax) {
<a name="l9962"><span class="linenum">9962</span></a>          return this._determineDate(inst, this._get(inst, minMax + 'Date'), null);
<a name="l9963"><span class="linenum">9963</span></a>      },
<a name="l9964"><span class="linenum">9964</span></a>  
<a name="l9965"><span class="linenum">9965</span></a>  <span class="comment">    /* Find the number of days in a given month. */</span>
<a name="l9966"><span class="linenum">9966</span></a>      _getDaysInMonth: function(year, month) {
<a name="l9967"><span class="linenum">9967</span></a>          return 32 - this._daylightSavingAdjust(new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>(year, month, 32)).<a class="phpfunction" onClick="logFunction('getDate')" href="../../../../_functions/getdate.html" onMouseOver="phpfuncPopup(event,'getdate')">getDate</a>();
<a name="l9968"><span class="linenum">9968</span></a>      },
<a name="l9969"><span class="linenum">9969</span></a>  
<a name="l9970"><span class="linenum">9970</span></a>  <span class="comment">    /* Find the day of the week of the first of a month. */</span>
<a name="l9971"><span class="linenum">9971</span></a>      _getFirstDayOfMonth: function(year, month) {
<a name="l9972"><span class="linenum">9972</span></a>          return new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>(year, month, 1).getDay();
<a name="l9973"><span class="linenum">9973</span></a>      },
<a name="l9974"><span class="linenum">9974</span></a>  
<a name="l9975"><span class="linenum">9975</span></a>  <span class="comment">    /* Determines if we should allow a &quot;next/prev&quot; month display change. */</span>
<a name="l9976"><span class="linenum">9976</span></a>      _canAdjustMonth: function(inst, offset, curYear, curMonth) {
<a name="l9977"><span class="linenum">9977</span></a>          var numMonths = this._getNumberOfMonths(inst);
<a name="l9978"><span class="linenum">9978</span></a>          var date = this._daylightSavingAdjust(new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>(curYear,
<a name="l9979"><span class="linenum">9979</span></a>              curMonth + (offset &lt; 0 ? offset : numMonths[0] * numMonths[1]), 1));
<a name="l9980"><span class="linenum">9980</span></a>          if (offset &lt; 0)
<a name="l9981"><span class="linenum">9981</span></a>              date.setDate(this._getDaysInMonth(date.getFullYear(), date.getMonth()));
<a name="l9982"><span class="linenum">9982</span></a>          return this._isInRange(inst, date);
<a name="l9983"><span class="linenum">9983</span></a>      },
<a name="l9984"><span class="linenum">9984</span></a>  
<a name="l9985"><span class="linenum">9985</span></a>  <span class="comment">    /* Is the given date in the accepted range? */</span>
<a name="l9986"><span class="linenum">9986</span></a>      _isInRange: function(inst, date) {
<a name="l9987"><span class="linenum">9987</span></a>          var minDate = this._getMinMaxDate(inst, 'min');
<a name="l9988"><span class="linenum">9988</span></a>          var maxDate = this._getMinMaxDate(inst, 'max');
<a name="l9989"><span class="linenum">9989</span></a>          return ((!minDate || date.getTime() &gt;= minDate.getTime()) &amp;&amp;
<a name="l9990"><span class="linenum">9990</span></a>              (!maxDate || date.getTime() &lt;= maxDate.getTime()));
<a name="l9991"><span class="linenum">9991</span></a>      },
<a name="l9992"><span class="linenum">9992</span></a>  
<a name="l9993"><span class="linenum">9993</span></a>  <span class="comment">    /* Provide the configuration settings for formatting/parsing. */</span>
<a name="l9994"><span class="linenum">9994</span></a>      _getFormatConfig: function(inst) {
<a name="l9995"><span class="linenum">9995</span></a>          var shortYearCutoff = this._get(inst, 'shortYearCutoff');
<a name="l9996"><span class="linenum">9996</span></a>          shortYearCutoff = (typeof shortYearCutoff != 'string' ? shortYearCutoff :
<a name="l9997"><span class="linenum">9997</span></a>              new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>().getFullYear() % 100 + parseInt(shortYearCutoff, 10));
<a name="l9998"><span class="linenum">9998</span></a>          return {shortYearCutoff: shortYearCutoff,
<a name="l9999"><span class="linenum">9999</span></a>              dayNamesShort: this._get(inst, 'dayNamesShort'), dayNames: this._get(inst, 'dayNames'),
<a name="l10000"><span class="linenum">10000</span></a>              monthNamesShort: this._get(inst, 'monthNamesShort'), monthNames: this._get(inst, 'monthNames')};
<a name="l10001"><span class="linenum">10001</span></a>      },
<a name="l10002"><span class="linenum">10002</span></a>  
<a name="l10003"><span class="linenum">10003</span></a>  <span class="comment">    /* Format the given date for display. */</span>
<a name="l10004"><span class="linenum">10004</span></a>      _formatDate: function(inst, day, month, year) {
<a name="l10005"><span class="linenum">10005</span></a>          if (!day) {
<a name="l10006"><span class="linenum">10006</span></a>              inst.currentDay = inst.selectedDay;
<a name="l10007"><span class="linenum">10007</span></a>              inst.currentMonth = inst.selectedMonth;
<a name="l10008"><span class="linenum">10008</span></a>              inst.currentYear = inst.selectedYear;
<a name="l10009"><span class="linenum">10009</span></a>          }
<a name="l10010"><span class="linenum">10010</span></a>          var date = (day ? (typeof day == 'object' ? day :
<a name="l10011"><span class="linenum">10011</span></a>              this._daylightSavingAdjust(new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>(year, month, day))) :
<a name="l10012"><span class="linenum">10012</span></a>              this._daylightSavingAdjust(new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>(inst.currentYear, inst.currentMonth, inst.currentDay)));
<a name="l10013"><span class="linenum">10013</span></a>          return this.formatDate(this._get(inst, 'dateFormat'), date, this._getFormatConfig(inst));
<a name="l10014"><span class="linenum">10014</span></a>      }
<a name="l10015"><span class="linenum">10015</span></a>  });
<a name="l10016"><span class="linenum">10016</span></a>  
<a name="l10017"><span class="linenum">10017</span></a>  <span class="comment">/*</span>
<a name="l10018"><span class="linenum">10018</span></a>  <span class="comment"> * Bind hover events for datepicker elements.</span>
<a name="l10019"><span class="linenum">10019</span></a>  <span class="comment"> * Done via delegate so the binding only occurs once in the lifetime of the parent div.</span>
<a name="l10020"><span class="linenum">10020</span></a>  <span class="comment"> * Global instActive, set by _updateDatepicker allows the handlers to find their way back to the active picker.</span>
<a name="l10021"><span class="linenum">10021</span></a>  <span class="comment"> */</span> 
<a name="l10022"><span class="linenum">10022</span></a>  function <a class="function" onClick="logFunction('bindHover')" href="../../../../_functions/bindhover.html" onMouseOver="funcPopup(event,'bindhover')">bindHover</a>(dpDiv) {
<a name="l10023"><span class="linenum">10023</span></a>      var selector = 'button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a';
<a name="l10024"><span class="linenum">10024</span></a>      return dpDiv.bind('mouseout', function(event) {
<a name="l10025"><span class="linenum">10025</span></a>              var elem = $( event.target ).closest( selector );
<a name="l10026"><span class="linenum">10026</span></a>              if ( !elem.length ) {
<a name="l10027"><span class="linenum">10027</span></a>                  return;
<a name="l10028"><span class="linenum">10028</span></a>              }
<a name="l10029"><span class="linenum">10029</span></a>              elem.removeClass( &quot;ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover&quot; );
<a name="l10030"><span class="linenum">10030</span></a>          })
<a name="l10031"><span class="linenum">10031</span></a>          .bind('mouseover', function(event) {
<a name="l10032"><span class="linenum">10032</span></a>              var elem = $( event.target ).closest( selector );
<a name="l10033"><span class="linenum">10033</span></a>              if ($.datepicker._isDisabledDatepicker( instActive.inline ? dpDiv.parent()[0] : instActive.input[0]) ||
<a name="l10034"><span class="linenum">10034</span></a>                      !elem.length ) {
<a name="l10035"><span class="linenum">10035</span></a>                  return;
<a name="l10036"><span class="linenum">10036</span></a>              }
<a name="l10037"><span class="linenum">10037</span></a>              elem.parents('.ui-datepicker-calendar').<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>('a').removeClass('ui-state-hover');
<a name="l10038"><span class="linenum">10038</span></a>              elem.addClass('ui-state-hover');
<a name="l10039"><span class="linenum">10039</span></a>              if (elem.<a class="function" onClick="logFunction('hasClass')" href="../../../../_functions/hasclass.html" onMouseOver="funcPopup(event,'hasclass')">hasClass</a>('ui-datepicker-prev')) elem.addClass('ui-datepicker-prev-hover');
<a name="l10040"><span class="linenum">10040</span></a>              if (elem.<a class="function" onClick="logFunction('hasClass')" href="../../../../_functions/hasclass.html" onMouseOver="funcPopup(event,'hasclass')">hasClass</a>('ui-datepicker-next')) elem.addClass('ui-datepicker-next-hover');
<a name="l10041"><span class="linenum">10041</span></a>          });
<a name="l10042"><span class="linenum">10042</span></a>  }
<a name="l10043"><span class="linenum">10043</span></a>  
<a name="l10044"><span class="linenum">10044</span></a>  <span class="comment">/* jQuery extend now ignores nulls! */</span>
<a name="l10045"><span class="linenum">10045</span></a>  function <a class="function" onClick="logFunction('extendRemove')" href="../../../../_functions/extendremove.html" onMouseOver="funcPopup(event,'extendremove')">extendRemove</a>(target, props) {
<a name="l10046"><span class="linenum">10046</span></a>      $.extend(target, props);
<a name="l10047"><span class="linenum">10047</span></a>      for (var name in props)
<a name="l10048"><span class="linenum">10048</span></a>          if (props[name] == null || props[name] == undefined)
<a name="l10049"><span class="linenum">10049</span></a>              target[name] = props[name];
<a name="l10050"><span class="linenum">10050</span></a>      return target;
<a name="l10051"><span class="linenum">10051</span></a>  };
<a name="l10052"><span class="linenum">10052</span></a>  
<a name="l10053"><span class="linenum">10053</span></a>  <span class="comment">/* Determine whether an object is an array. */</span>
<a name="l10054"><span class="linenum">10054</span></a>  function <a class="function" onClick="logFunction('isArray')" href="../../../../_functions/isarray.html" onMouseOver="funcPopup(event,'isarray')">isArray</a>(a) {
<a name="l10055"><span class="linenum">10055</span></a>      return (a &amp;&amp; (($.browser.safari &amp;&amp; typeof a == 'object' &amp;&amp; a.length) ||
<a name="l10056"><span class="linenum">10056</span></a>          (a.constructor &amp;&amp; a.constructor.toString().<a class="function" onClick="logFunction('match')" href="../../../../_functions/match.html" onMouseOver="funcPopup(event,'match')">match</a>(/\Array\(\)/))));
<a name="l10057"><span class="linenum">10057</span></a>  };
<a name="l10058"><span class="linenum">10058</span></a>  
<a name="l10059"><span class="linenum">10059</span></a>  <span class="comment">/* Invoke the datepicker functionality.</span>
<a name="l10060"><span class="linenum">10060</span></a>  <span class="comment">   @param  options  string - a command, optionally followed by additional parameters or</span>
<a name="l10061"><span class="linenum">10061</span></a>  <span class="comment">                    Object - settings for attaching new datepicker functionality</span>
<a name="l10062"><span class="linenum">10062</span></a>  <span class="comment">   @return  jQuery object */</span>
<a name="l10063"><span class="linenum">10063</span></a>  $.fn.datepicker = function(options){
<a name="l10064"><span class="linenum">10064</span></a>      
<a name="l10065"><span class="linenum">10065</span></a>  <span class="comment">    /* Verify an empty collection wasn't passed - Fixes #6976 */</span>
<a name="l10066"><span class="linenum">10066</span></a>      if ( !this.length ) {
<a name="l10067"><span class="linenum">10067</span></a>          return this;
<a name="l10068"><span class="linenum">10068</span></a>      }
<a name="l10069"><span class="linenum">10069</span></a>      
<a name="l10070"><span class="linenum">10070</span></a>  <span class="comment">    /* Initialise the date picker. */</span>
<a name="l10071"><span class="linenum">10071</span></a>      if (!$.datepicker.initialized) {
<a name="l10072"><span class="linenum">10072</span></a>          $(document).mousedown($.datepicker._checkExternalClick).
<a name="l10073"><span class="linenum">10073</span></a>              <a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>('body').append($.datepicker.dpDiv);
<a name="l10074"><span class="linenum">10074</span></a>          $.datepicker.initialized = true;
<a name="l10075"><span class="linenum">10075</span></a>      }
<a name="l10076"><span class="linenum">10076</span></a>  
<a name="l10077"><span class="linenum">10077</span></a>      var otherArgs = Array.prototype.slice.call(arguments, 1);
<a name="l10078"><span class="linenum">10078</span></a>      if (typeof options == 'string' &amp;&amp; (options == 'isDisabled' || options == 'getDate' || options == 'widget'))
<a name="l10079"><span class="linenum">10079</span></a>          return $.datepicker['_' + options + 'Datepicker'].
<a name="l10080"><span class="linenum">10080</span></a>              <a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>($.datepicker, [this[0]].concat(otherArgs));
<a name="l10081"><span class="linenum">10081</span></a>      if (options == 'option' &amp;&amp; arguments.length == 2 &amp;&amp; typeof arguments[1] == 'string')
<a name="l10082"><span class="linenum">10082</span></a>          return $.datepicker['_' + options + 'Datepicker'].
<a name="l10083"><span class="linenum">10083</span></a>              <a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>($.datepicker, [this[0]].concat(otherArgs));
<a name="l10084"><span class="linenum">10084</span></a>      return this.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l10085"><span class="linenum">10085</span></a>          typeof options == 'string' ?
<a name="l10086"><span class="linenum">10086</span></a>              $.datepicker['_' + options + 'Datepicker'].
<a name="l10087"><span class="linenum">10087</span></a>                  <a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>($.datepicker, [this].concat(otherArgs)) :
<a name="l10088"><span class="linenum">10088</span></a>              $.datepicker._attachDatepicker(this, options);
<a name="l10089"><span class="linenum">10089</span></a>      });
<a name="l10090"><span class="linenum">10090</span></a>  };
<a name="l10091"><span class="linenum">10091</span></a>  
<a name="l10092"><span class="linenum">10092</span></a>  $.datepicker = new <a class="function" onClick="logFunction('Datepicker')" href="../../../../_functions/datepicker.html" onMouseOver="funcPopup(event,'datepicker')">Datepicker</a>(); <span class="comment">// singleton instance</span>
<a name="l10093"><span class="linenum">10093</span></a>  $.datepicker.initialized = false;
<a name="l10094"><span class="linenum">10094</span></a>  $.datepicker.uuid = new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>().getTime();
<a name="l10095"><span class="linenum">10095</span></a>  $.datepicker.version = &quot;1.8.18&quot;;
<a name="l10096"><span class="linenum">10096</span></a>  
<a name="l10097"><span class="linenum">10097</span></a>  <span class="comment">// Workaround for #4055</span>
<a name="l10098"><span class="linenum">10098</span></a>  <span class="comment">// Add another global to avoid noConflict issues with inline event handlers</span>
<a name="l10099"><span class="linenum">10099</span></a>  window['DP_jQuery_' + dpuuid] = $;
<a name="l10100"><span class="linenum">10100</span></a>  
<a name="l10101"><span class="linenum">10101</span></a>  })(jQuery);
<a name="l10102"><span class="linenum">10102</span></a>  <span class="comment">/*</span>
<a name="l10103"><span class="linenum">10103</span></a>  <span class="comment"> * jQuery UI Progressbar 1.8.18</span>
<a name="l10104"><span class="linenum">10104</span></a>  <span class="comment"> *</span>
<a name="l10105"><span class="linenum">10105</span></a>  <span class="comment"> * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l10106"><span class="linenum">10106</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l10107"><span class="linenum">10107</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l10108"><span class="linenum">10108</span></a>  <span class="comment"> *</span>
<a name="l10109"><span class="linenum">10109</span></a>  <span class="comment"> * http://docs.jquery.com/UI/Progressbar</span>
<a name="l10110"><span class="linenum">10110</span></a>  <span class="comment"> *</span>
<a name="l10111"><span class="linenum">10111</span></a>  <span class="comment"> * Depends:</span>
<a name="l10112"><span class="linenum">10112</span></a>  <span class="comment"> *   jquery.ui.core.js</span>
<a name="l10113"><span class="linenum">10113</span></a>  <span class="comment"> *   jquery.ui.widget.js</span>
<a name="l10114"><span class="linenum">10114</span></a>  <span class="comment"> */</span>
<a name="l10115"><span class="linenum">10115</span></a>  (function( $, undefined ) {
<a name="l10116"><span class="linenum">10116</span></a>  
<a name="l10117"><span class="linenum">10117</span></a>  $.<a class="function" onClick="logFunction('widget')" href="../../../../_functions/widget.html" onMouseOver="funcPopup(event,'widget')">widget</a>( &quot;ui.progressbar&quot;, {
<a name="l10118"><span class="linenum">10118</span></a>      options: {
<a name="l10119"><span class="linenum">10119</span></a>          value: 0,
<a name="l10120"><span class="linenum">10120</span></a>          max: 100
<a name="l10121"><span class="linenum">10121</span></a>      },
<a name="l10122"><span class="linenum">10122</span></a>  
<a name="l10123"><span class="linenum">10123</span></a>      min: 0,
<a name="l10124"><span class="linenum">10124</span></a>  
<a name="l10125"><span class="linenum">10125</span></a>      _create: function() {
<a name="l10126"><span class="linenum">10126</span></a>          this.element
<a name="l10127"><span class="linenum">10127</span></a>              .addClass( &quot;ui-progressbar ui-widget ui-widget-content ui-corner-all&quot; )
<a name="l10128"><span class="linenum">10128</span></a>              .attr({
<a name="l10129"><span class="linenum">10129</span></a>                  role: &quot;progressbar&quot;,
<a name="l10130"><span class="linenum">10130</span></a>                  &quot;aria-valuemin&quot;: this.min,
<a name="l10131"><span class="linenum">10131</span></a>                  &quot;aria-valuemax&quot;: this.options.max,
<a name="l10132"><span class="linenum">10132</span></a>                  &quot;aria-valuenow&quot;: this._value()
<a name="l10133"><span class="linenum">10133</span></a>              });
<a name="l10134"><span class="linenum">10134</span></a>  
<a name="l10135"><span class="linenum">10135</span></a>          this.valueDiv = $( &quot;&lt;div class='ui-progressbar-value ui-widget-header ui-corner-left'&gt;&lt;/div&gt;&quot; )
<a name="l10136"><span class="linenum">10136</span></a>              .appendTo( this.element );
<a name="l10137"><span class="linenum">10137</span></a>  
<a name="l10138"><span class="linenum">10138</span></a>          this.oldValue = this._value();
<a name="l10139"><span class="linenum">10139</span></a>          this._refreshValue();
<a name="l10140"><span class="linenum">10140</span></a>      },
<a name="l10141"><span class="linenum">10141</span></a>  
<a name="l10142"><span class="linenum">10142</span></a>      destroy: function() {
<a name="l10143"><span class="linenum">10143</span></a>          this.element
<a name="l10144"><span class="linenum">10144</span></a>              .removeClass( &quot;ui-progressbar ui-widget ui-widget-content ui-corner-all&quot; )
<a name="l10145"><span class="linenum">10145</span></a>              .removeAttr( &quot;role&quot; )
<a name="l10146"><span class="linenum">10146</span></a>              .removeAttr( &quot;aria-valuemin&quot; )
<a name="l10147"><span class="linenum">10147</span></a>              .removeAttr( &quot;aria-valuemax&quot; )
<a name="l10148"><span class="linenum">10148</span></a>              .removeAttr( &quot;aria-valuenow&quot; );
<a name="l10149"><span class="linenum">10149</span></a>  
<a name="l10150"><span class="linenum">10150</span></a>          this.valueDiv.<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>();
<a name="l10151"><span class="linenum">10151</span></a>  
<a name="l10152"><span class="linenum">10152</span></a>          $.Widget.prototype.destroy.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>( this, arguments );
<a name="l10153"><span class="linenum">10153</span></a>      },
<a name="l10154"><span class="linenum">10154</span></a>  
<a name="l10155"><span class="linenum">10155</span></a>      value: function( newValue ) {
<a name="l10156"><span class="linenum">10156</span></a>          if ( newValue === undefined ) {
<a name="l10157"><span class="linenum">10157</span></a>              return this._value();
<a name="l10158"><span class="linenum">10158</span></a>          }
<a name="l10159"><span class="linenum">10159</span></a>  
<a name="l10160"><span class="linenum">10160</span></a>          this._setOption( &quot;value&quot;, newValue );
<a name="l10161"><span class="linenum">10161</span></a>          return this;
<a name="l10162"><span class="linenum">10162</span></a>      },
<a name="l10163"><span class="linenum">10163</span></a>  
<a name="l10164"><span class="linenum">10164</span></a>      _setOption: function( key, value ) {
<a name="l10165"><span class="linenum">10165</span></a>          if ( key === &quot;value&quot; ) {
<a name="l10166"><span class="linenum">10166</span></a>              this.options.value = value;
<a name="l10167"><span class="linenum">10167</span></a>              this._refreshValue();
<a name="l10168"><span class="linenum">10168</span></a>              if ( this._value() === this.options.max ) {
<a name="l10169"><span class="linenum">10169</span></a>                  this._trigger( &quot;complete&quot; );
<a name="l10170"><span class="linenum">10170</span></a>              }
<a name="l10171"><span class="linenum">10171</span></a>          }
<a name="l10172"><span class="linenum">10172</span></a>  
<a name="l10173"><span class="linenum">10173</span></a>          $.Widget.prototype._setOption.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>( this, arguments );
<a name="l10174"><span class="linenum">10174</span></a>      },
<a name="l10175"><span class="linenum">10175</span></a>  
<a name="l10176"><span class="linenum">10176</span></a>      _value: function() {
<a name="l10177"><span class="linenum">10177</span></a>          var val = this.options.value;
<a name="l10178"><span class="linenum">10178</span></a>  <span class="comment">        // normalize invalid value</span>
<a name="l10179"><span class="linenum">10179</span></a>          if ( typeof val !== &quot;number&quot; ) {
<a name="l10180"><span class="linenum">10180</span></a>              val = 0;
<a name="l10181"><span class="linenum">10181</span></a>          }
<a name="l10182"><span class="linenum">10182</span></a>          return Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>( this.options.max, Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>( this.min, val ) );
<a name="l10183"><span class="linenum">10183</span></a>      },
<a name="l10184"><span class="linenum">10184</span></a>  
<a name="l10185"><span class="linenum">10185</span></a>      _percentage: function() {
<a name="l10186"><span class="linenum">10186</span></a>          return 100 * this._value() / this.options.max;
<a name="l10187"><span class="linenum">10187</span></a>      },
<a name="l10188"><span class="linenum">10188</span></a>  
<a name="l10189"><span class="linenum">10189</span></a>      _refreshValue: function() {
<a name="l10190"><span class="linenum">10190</span></a>          var value = this.<a class="function" onClick="logFunction('value')" href="../../../../_functions/value.html" onMouseOver="funcPopup(event,'value')">value</a>();
<a name="l10191"><span class="linenum">10191</span></a>          var percentage = this._percentage();
<a name="l10192"><span class="linenum">10192</span></a>  
<a name="l10193"><span class="linenum">10193</span></a>          if ( this.oldValue !== value ) {
<a name="l10194"><span class="linenum">10194</span></a>              this.oldValue = value;
<a name="l10195"><span class="linenum">10195</span></a>              this._trigger( &quot;change&quot; );
<a name="l10196"><span class="linenum">10196</span></a>          }
<a name="l10197"><span class="linenum">10197</span></a>  
<a name="l10198"><span class="linenum">10198</span></a>          this.valueDiv
<a name="l10199"><span class="linenum">10199</span></a>              .<a class="function" onClick="logFunction('toggle')" href="../../../../_functions/toggle.html" onMouseOver="funcPopup(event,'toggle')">toggle</a>( value &gt; this.min )
<a name="l10200"><span class="linenum">10200</span></a>              .toggleClass( &quot;ui-corner-right&quot;, value === this.options.max )
<a name="l10201"><span class="linenum">10201</span></a>              .width( percentage.toFixed(0) + &quot;%&quot; );
<a name="l10202"><span class="linenum">10202</span></a>          this.element.attr( &quot;aria-valuenow&quot;, value );
<a name="l10203"><span class="linenum">10203</span></a>      }
<a name="l10204"><span class="linenum">10204</span></a>  });
<a name="l10205"><span class="linenum">10205</span></a>  
<a name="l10206"><span class="linenum">10206</span></a>  $.extend( $.ui.progressbar, {
<a name="l10207"><span class="linenum">10207</span></a>      version: &quot;1.8.18&quot;
<a name="l10208"><span class="linenum">10208</span></a>  });
<a name="l10209"><span class="linenum">10209</span></a>  
<a name="l10210"><span class="linenum">10210</span></a>  })( jQuery );
<a name="l10211"><span class="linenum">10211</span></a>  <span class="comment">/*</span>
<a name="l10212"><span class="linenum">10212</span></a>  <span class="comment"> * jQuery UI Effects 1.8.18</span>
<a name="l10213"><span class="linenum">10213</span></a>  <span class="comment"> *</span>
<a name="l10214"><span class="linenum">10214</span></a>  <span class="comment"> * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l10215"><span class="linenum">10215</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l10216"><span class="linenum">10216</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l10217"><span class="linenum">10217</span></a>  <span class="comment"> *</span>
<a name="l10218"><span class="linenum">10218</span></a>  <span class="comment"> * http://docs.jquery.com/UI/Effects/</span>
<a name="l10219"><span class="linenum">10219</span></a>  <span class="comment"> */</span>
<a name="l10220"><span class="linenum">10220</span></a>  ;jQuery.effects || (function($, undefined) {
<a name="l10221"><span class="linenum">10221</span></a>  
<a name="l10222"><span class="linenum">10222</span></a>  $.effects = {};
<a name="l10223"><span class="linenum">10223</span></a>  
<a name="l10224"><span class="linenum">10224</span></a>  
<a name="l10225"><span class="linenum">10225</span></a>  
<a name="l10226"><span class="linenum">10226</span></a>  <span class="comment">/******************************************************************************/</span>
<a name="l10227"><span class="linenum">10227</span></a>  <span class="comment">/****************************** COLOR ANIMATIONS ******************************/</span>
<a name="l10228"><span class="linenum">10228</span></a>  <span class="comment">/******************************************************************************/</span>
<a name="l10229"><span class="linenum">10229</span></a>  
<a name="l10230"><span class="linenum">10230</span></a>  <span class="comment">// override the animation for color styles</span>
<a name="l10231"><span class="linenum">10231</span></a>  $.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(['backgroundColor', 'borderBottomColor', 'borderLeftColor',
<a name="l10232"><span class="linenum">10232</span></a>      'borderRightColor', 'borderTopColor', 'borderColor', 'color', 'outlineColor'],
<a name="l10233"><span class="linenum">10233</span></a>  function(i, attr) {
<a name="l10234"><span class="linenum">10234</span></a>      $.fx.step[attr] = function(fx) {
<a name="l10235"><span class="linenum">10235</span></a>          if (!fx.colorInit) {
<a name="l10236"><span class="linenum">10236</span></a>              fx.start = <a class="function" onClick="logFunction('getColor')" href="../../../../_functions/getcolor.html" onMouseOver="funcPopup(event,'getcolor')">getColor</a>(fx.elem, attr);
<a name="l10237"><span class="linenum">10237</span></a>              fx.end = <a class="function" onClick="logFunction('getRGB')" href="../../../../_functions/getrgb.html" onMouseOver="funcPopup(event,'getrgb')">getRGB</a>(fx.end);
<a name="l10238"><span class="linenum">10238</span></a>              fx.colorInit = true;
<a name="l10239"><span class="linenum">10239</span></a>          }
<a name="l10240"><span class="linenum">10240</span></a>  
<a name="l10241"><span class="linenum">10241</span></a>          fx.elem.style[attr] = 'rgb(' +
<a name="l10242"><span class="linenum">10242</span></a>              Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(parseInt((fx.pos * (fx.end[0] - fx.start[0])) + fx.start[0], 10), 255), 0) + ',' +
<a name="l10243"><span class="linenum">10243</span></a>              Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(parseInt((fx.pos * (fx.end[1] - fx.start[1])) + fx.start[1], 10), 255), 0) + ',' +
<a name="l10244"><span class="linenum">10244</span></a>              Math.<a class="phpfunction" onClick="logFunction('max')" href="../../../../_functions/max.html" onMouseOver="phpfuncPopup(event,'max')">max</a>(Math.<a class="phpfunction" onClick="logFunction('min')" href="../../../../_functions/min.html" onMouseOver="phpfuncPopup(event,'min')">min</a>(parseInt((fx.pos * (fx.end[2] - fx.start[2])) + fx.start[2], 10), 255), 0) + ')';
<a name="l10245"><span class="linenum">10245</span></a>      };
<a name="l10246"><span class="linenum">10246</span></a>  });
<a name="l10247"><span class="linenum">10247</span></a>  
<a name="l10248"><span class="linenum">10248</span></a>  <span class="comment">// Color Conversion functions from highlightFade</span>
<a name="l10249"><span class="linenum">10249</span></a>  <span class="comment">// By Blair Mitchelmore</span>
<a name="l10250"><span class="linenum">10250</span></a>  <span class="comment">// http://jquery.offput.ca/highlightFade/</span>
<a name="l10251"><span class="linenum">10251</span></a>  
<a name="l10252"><span class="linenum">10252</span></a>  <span class="comment">// Parse strings looking for color tuples [255,255,255]</span>
<a name="l10253"><span class="linenum">10253</span></a>  function <a class="function" onClick="logFunction('getRGB')" href="../../../../_functions/getrgb.html" onMouseOver="funcPopup(event,'getrgb')">getRGB</a>(color) {
<a name="l10254"><span class="linenum">10254</span></a>          var result;
<a name="l10255"><span class="linenum">10255</span></a>  
<a name="l10256"><span class="linenum">10256</span></a>  <span class="comment">        // Check if we're already dealing with an array of colors</span>
<a name="l10257"><span class="linenum">10257</span></a>          if ( color &amp;&amp; color.constructor == Array &amp;&amp; color.length == 3 )
<a name="l10258"><span class="linenum">10258</span></a>                  return color;
<a name="l10259"><span class="linenum">10259</span></a>  
<a name="l10260"><span class="linenum">10260</span></a>  <span class="comment">        // Look for rgb(num,num,num)</span>
<a name="l10261"><span class="linenum">10261</span></a>          if (result = /rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.<a class="phpfunction" onClick="logFunction('exec')" href="../../../../_functions/exec.html" onMouseOver="phpfuncPopup(event,'exec')">exec</a>(color))
<a name="l10262"><span class="linenum">10262</span></a>                  return [parseInt(result[1],10), parseInt(result[2],10), parseInt(result[3],10)];
<a name="l10263"><span class="linenum">10263</span></a>  
<a name="l10264"><span class="linenum">10264</span></a>  <span class="comment">        // Look for rgb(num%,num%,num%)</span>
<a name="l10265"><span class="linenum">10265</span></a>          if (result = /rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.<a class="phpfunction" onClick="logFunction('exec')" href="../../../../_functions/exec.html" onMouseOver="phpfuncPopup(event,'exec')">exec</a>(color))
<a name="l10266"><span class="linenum">10266</span></a>                  return [parseFloat(result[1])*2.55, parseFloat(result[2])*2.55, parseFloat(result[3])*2.55];
<a name="l10267"><span class="linenum">10267</span></a>  
<a name="l10268"><span class="linenum">10268</span></a>  <span class="comment">        // Look for #a0b1c2</span>
<a name="l10269"><span class="linenum">10269</span></a>          if (result = /#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.<a class="phpfunction" onClick="logFunction('exec')" href="../../../../_functions/exec.html" onMouseOver="phpfuncPopup(event,'exec')">exec</a>(color))
<a name="l10270"><span class="linenum">10270</span></a>                  return [parseInt(result[1],16), parseInt(result[2],16), parseInt(result[3],16)];
<a name="l10271"><span class="linenum">10271</span></a>  
<a name="l10272"><span class="linenum">10272</span></a>  <span class="comment">        // Look for #fff</span>
<a name="l10273"><span class="linenum">10273</span></a>          if (result = /#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.<a class="phpfunction" onClick="logFunction('exec')" href="../../../../_functions/exec.html" onMouseOver="phpfuncPopup(event,'exec')">exec</a>(color))
<a name="l10274"><span class="linenum">10274</span></a>                  return [parseInt(result[1]+result[1],16), parseInt(result[2]+result[2],16), parseInt(result[3]+result[3],16)];
<a name="l10275"><span class="linenum">10275</span></a>  
<a name="l10276"><span class="linenum">10276</span></a>  <span class="comment">        // Look for rgba(0, 0, 0, 0) == transparent in Safari 3</span>
<a name="l10277"><span class="linenum">10277</span></a>          if (result = /rgba\(0, 0, 0, 0\)/.<a class="phpfunction" onClick="logFunction('exec')" href="../../../../_functions/exec.html" onMouseOver="phpfuncPopup(event,'exec')">exec</a>(color))
<a name="l10278"><span class="linenum">10278</span></a>                  return colors['transparent'];
<a name="l10279"><span class="linenum">10279</span></a>  
<a name="l10280"><span class="linenum">10280</span></a>  <span class="comment">        // Otherwise, we're most likely dealing with a named color</span>
<a name="l10281"><span class="linenum">10281</span></a>          return colors[$.<a class="phpfunction" onClick="logFunction('trim')" href="../../../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(color).toLowerCase()];
<a name="l10282"><span class="linenum">10282</span></a>  }
<a name="l10283"><span class="linenum">10283</span></a>  
<a name="l10284"><span class="linenum">10284</span></a>  function <a class="function" onClick="logFunction('getColor')" href="../../../../_functions/getcolor.html" onMouseOver="funcPopup(event,'getcolor')">getColor</a>(elem, attr) {
<a name="l10285"><span class="linenum">10285</span></a>          var color;
<a name="l10286"><span class="linenum">10286</span></a>  
<a name="l10287"><span class="linenum">10287</span></a>          do {
<a name="l10288"><span class="linenum">10288</span></a>                  color = $.curCSS(elem, attr);
<a name="l10289"><span class="linenum">10289</span></a>  
<a name="l10290"><span class="linenum">10290</span></a>  <span class="comment">                // Keep going until we find an element that has color, or we hit the body</span>
<a name="l10291"><span class="linenum">10291</span></a>                  if ( color != '' &amp;&amp; color != 'transparent' || $.nodeName(elem, &quot;body&quot;) )
<a name="l10292"><span class="linenum">10292</span></a>                          break;
<a name="l10293"><span class="linenum">10293</span></a>  
<a name="l10294"><span class="linenum">10294</span></a>                  attr = &quot;backgroundColor&quot;;
<a name="l10295"><span class="linenum">10295</span></a>          } while ( elem = elem.parentNode );
<a name="l10296"><span class="linenum">10296</span></a>  
<a name="l10297"><span class="linenum">10297</span></a>          return <a class="function" onClick="logFunction('getRGB')" href="../../../../_functions/getrgb.html" onMouseOver="funcPopup(event,'getrgb')">getRGB</a>(color);
<a name="l10298"><span class="linenum">10298</span></a>  };
<a name="l10299"><span class="linenum">10299</span></a>  
<a name="l10300"><span class="linenum">10300</span></a>  <span class="comment">// Some named colors to work with</span>
<a name="l10301"><span class="linenum">10301</span></a>  <span class="comment">// From Interface by Stefan Petre</span>
<a name="l10302"><span class="linenum">10302</span></a>  <span class="comment">// http://interface.eyecon.ro/</span>
<a name="l10303"><span class="linenum">10303</span></a>  
<a name="l10304"><span class="linenum">10304</span></a>  var colors = {
<a name="l10305"><span class="linenum">10305</span></a>      aqua:[0,255,255],
<a name="l10306"><span class="linenum">10306</span></a>      azure:[240,255,255],
<a name="l10307"><span class="linenum">10307</span></a>      beige:[245,245,220],
<a name="l10308"><span class="linenum">10308</span></a>      black:[0,0,0],
<a name="l10309"><span class="linenum">10309</span></a>      blue:[0,0,255],
<a name="l10310"><span class="linenum">10310</span></a>      brown:[165,42,42],
<a name="l10311"><span class="linenum">10311</span></a>      cyan:[0,255,255],
<a name="l10312"><span class="linenum">10312</span></a>      darkblue:[0,0,139],
<a name="l10313"><span class="linenum">10313</span></a>      darkcyan:[0,139,139],
<a name="l10314"><span class="linenum">10314</span></a>      darkgrey:[169,169,169],
<a name="l10315"><span class="linenum">10315</span></a>      darkgreen:[0,100,0],
<a name="l10316"><span class="linenum">10316</span></a>      darkkhaki:[189,183,107],
<a name="l10317"><span class="linenum">10317</span></a>      darkmagenta:[139,0,139],
<a name="l10318"><span class="linenum">10318</span></a>      darkolivegreen:[85,107,47],
<a name="l10319"><span class="linenum">10319</span></a>      darkorange:[255,140,0],
<a name="l10320"><span class="linenum">10320</span></a>      darkorchid:[153,50,204],
<a name="l10321"><span class="linenum">10321</span></a>      darkred:[139,0,0],
<a name="l10322"><span class="linenum">10322</span></a>      darksalmon:[233,150,122],
<a name="l10323"><span class="linenum">10323</span></a>      darkviolet:[148,0,211],
<a name="l10324"><span class="linenum">10324</span></a>      fuchsia:[255,0,255],
<a name="l10325"><span class="linenum">10325</span></a>      gold:[255,215,0],
<a name="l10326"><span class="linenum">10326</span></a>      green:[0,128,0],
<a name="l10327"><span class="linenum">10327</span></a>      indigo:[75,0,130],
<a name="l10328"><span class="linenum">10328</span></a>      khaki:[240,230,140],
<a name="l10329"><span class="linenum">10329</span></a>      lightblue:[173,216,230],
<a name="l10330"><span class="linenum">10330</span></a>      lightcyan:[224,255,255],
<a name="l10331"><span class="linenum">10331</span></a>      lightgreen:[144,238,144],
<a name="l10332"><span class="linenum">10332</span></a>      lightgrey:[211,211,211],
<a name="l10333"><span class="linenum">10333</span></a>      lightpink:[255,182,193],
<a name="l10334"><span class="linenum">10334</span></a>      lightyellow:[255,255,224],
<a name="l10335"><span class="linenum">10335</span></a>      lime:[0,255,0],
<a name="l10336"><span class="linenum">10336</span></a>      magenta:[255,0,255],
<a name="l10337"><span class="linenum">10337</span></a>      maroon:[128,0,0],
<a name="l10338"><span class="linenum">10338</span></a>      navy:[0,0,128],
<a name="l10339"><span class="linenum">10339</span></a>      olive:[128,128,0],
<a name="l10340"><span class="linenum">10340</span></a>      orange:[255,165,0],
<a name="l10341"><span class="linenum">10341</span></a>      pink:[255,192,203],
<a name="l10342"><span class="linenum">10342</span></a>      purple:[128,0,128],
<a name="l10343"><span class="linenum">10343</span></a>      violet:[128,0,128],
<a name="l10344"><span class="linenum">10344</span></a>      red:[255,0,0],
<a name="l10345"><span class="linenum">10345</span></a>      silver:[192,192,192],
<a name="l10346"><span class="linenum">10346</span></a>      white:[255,255,255],
<a name="l10347"><span class="linenum">10347</span></a>      yellow:[255,255,0],
<a name="l10348"><span class="linenum">10348</span></a>      transparent: [255,255,255]
<a name="l10349"><span class="linenum">10349</span></a>  };
<a name="l10350"><span class="linenum">10350</span></a>  
<a name="l10351"><span class="linenum">10351</span></a>  
<a name="l10352"><span class="linenum">10352</span></a>  
<a name="l10353"><span class="linenum">10353</span></a>  <span class="comment">/******************************************************************************/</span>
<a name="l10354"><span class="linenum">10354</span></a>  <span class="comment">/****************************** CLASS ANIMATIONS ******************************/</span>
<a name="l10355"><span class="linenum">10355</span></a>  <span class="comment">/******************************************************************************/</span>
<a name="l10356"><span class="linenum">10356</span></a>  
<a name="l10357"><span class="linenum">10357</span></a>  var classAnimationActions = ['add', 'remove', 'toggle'],
<a name="l10358"><span class="linenum">10358</span></a>      shorthandStyles = {
<a name="l10359"><span class="linenum">10359</span></a>          border: 1,
<a name="l10360"><span class="linenum">10360</span></a>          borderBottom: 1,
<a name="l10361"><span class="linenum">10361</span></a>          borderColor: 1,
<a name="l10362"><span class="linenum">10362</span></a>          borderLeft: 1,
<a name="l10363"><span class="linenum">10363</span></a>          borderRight: 1,
<a name="l10364"><span class="linenum">10364</span></a>          borderTop: 1,
<a name="l10365"><span class="linenum">10365</span></a>          borderWidth: 1,
<a name="l10366"><span class="linenum">10366</span></a>          margin: 1,
<a name="l10367"><span class="linenum">10367</span></a>          padding: 1
<a name="l10368"><span class="linenum">10368</span></a>      };
<a name="l10369"><span class="linenum">10369</span></a>  
<a name="l10370"><span class="linenum">10370</span></a>  function <a class="function" onClick="logFunction('getElementStyles')" href="../../../../_functions/getelementstyles.html" onMouseOver="funcPopup(event,'getelementstyles')">getElementStyles</a>() {
<a name="l10371"><span class="linenum">10371</span></a>      var style = document.defaultView
<a name="l10372"><span class="linenum">10372</span></a>              ? document.defaultView.getComputedStyle(this, null)
<a name="l10373"><span class="linenum">10373</span></a>              : this.currentStyle,
<a name="l10374"><span class="linenum">10374</span></a>          newStyle = {},
<a name="l10375"><span class="linenum">10375</span></a>          key,
<a name="l10376"><span class="linenum">10376</span></a>          camelCase;
<a name="l10377"><span class="linenum">10377</span></a>  
<a name="l10378"><span class="linenum">10378</span></a>  <span class="comment">    // webkit enumerates style porperties</span>
<a name="l10379"><span class="linenum">10379</span></a>      if (style &amp;&amp; style.length &amp;&amp; style[0] &amp;&amp; style[style[0]]) {
<a name="l10380"><span class="linenum">10380</span></a>          var len = style.length;
<a name="l10381"><span class="linenum">10381</span></a>          while (len--) {
<a name="l10382"><span class="linenum">10382</span></a>              key = style[len];
<a name="l10383"><span class="linenum">10383</span></a>              if (typeof style[key] == 'string') {
<a name="l10384"><span class="linenum">10384</span></a>                  camelCase = key.<a class="function" onClick="logFunction('replace')" href="../../../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">replace</a>(/\-(\w)/g, function(all, letter){
<a name="l10385"><span class="linenum">10385</span></a>                      return letter.toUpperCase();
<a name="l10386"><span class="linenum">10386</span></a>                  });
<a name="l10387"><span class="linenum">10387</span></a>                  newStyle[camelCase] = style[key];
<a name="l10388"><span class="linenum">10388</span></a>              }
<a name="l10389"><span class="linenum">10389</span></a>          }
<a name="l10390"><span class="linenum">10390</span></a>      } else {
<a name="l10391"><span class="linenum">10391</span></a>          for (key in style) {
<a name="l10392"><span class="linenum">10392</span></a>              if (typeof style[key] === 'string') {
<a name="l10393"><span class="linenum">10393</span></a>                  newStyle[key] = style[key];
<a name="l10394"><span class="linenum">10394</span></a>              }
<a name="l10395"><span class="linenum">10395</span></a>          }
<a name="l10396"><span class="linenum">10396</span></a>      }
<a name="l10397"><span class="linenum">10397</span></a>      
<a name="l10398"><span class="linenum">10398</span></a>      return newStyle;
<a name="l10399"><span class="linenum">10399</span></a>  }
<a name="l10400"><span class="linenum">10400</span></a>  
<a name="l10401"><span class="linenum">10401</span></a>  function <a class="function" onClick="logFunction('filterStyles')" href="../../../../_functions/filterstyles.html" onMouseOver="funcPopup(event,'filterstyles')">filterStyles</a>(styles) {
<a name="l10402"><span class="linenum">10402</span></a>      var name, value;
<a name="l10403"><span class="linenum">10403</span></a>      for (name in styles) {
<a name="l10404"><span class="linenum">10404</span></a>          value = styles[name];
<a name="l10405"><span class="linenum">10405</span></a>          if (
<a name="l10406"><span class="linenum">10406</span></a>  <span class="comment">            // ignore null and undefined values</span>
<a name="l10407"><span class="linenum">10407</span></a>              value == null ||
<a name="l10408"><span class="linenum">10408</span></a>  <span class="comment">            // ignore functions (when does this occur?)</span>
<a name="l10409"><span class="linenum">10409</span></a>              $.isFunction(value) ||
<a name="l10410"><span class="linenum">10410</span></a>  <span class="comment">            // shorthand styles that need to be expanded</span>
<a name="l10411"><span class="linenum">10411</span></a>              name in shorthandStyles ||
<a name="l10412"><span class="linenum">10412</span></a>  <span class="comment">            // ignore scrollbars (break in IE)</span>
<a name="l10413"><span class="linenum">10413</span></a>              (/scrollbar/).test(name) ||
<a name="l10414"><span class="linenum">10414</span></a>  
<a name="l10415"><span class="linenum">10415</span></a>  <span class="comment">            // only colors or values that can be converted to numbers</span>
<a name="l10416"><span class="linenum">10416</span></a>              (!(/color/i).test(name) &amp;&amp; isNaN(parseFloat(value)))
<a name="l10417"><span class="linenum">10417</span></a>          ) {
<a name="l10418"><span class="linenum">10418</span></a>              delete styles[name];
<a name="l10419"><span class="linenum">10419</span></a>          }
<a name="l10420"><span class="linenum">10420</span></a>      }
<a name="l10421"><span class="linenum">10421</span></a>      
<a name="l10422"><span class="linenum">10422</span></a>      return styles;
<a name="l10423"><span class="linenum">10423</span></a>  }
<a name="l10424"><span class="linenum">10424</span></a>  
<a name="l10425"><span class="linenum">10425</span></a>  function <a class="function" onClick="logFunction('styleDifference')" href="../../../../_functions/styledifference.html" onMouseOver="funcPopup(event,'styledifference')">styleDifference</a>(oldStyle, newStyle) {
<a name="l10426"><span class="linenum">10426</span></a>      var diff = { _: 0 }, // http://dev.jquery.com/ticket/5459
<a name="l10427"><span class="linenum">10427</span></a>          name;
<a name="l10428"><span class="linenum">10428</span></a>  
<a name="l10429"><span class="linenum">10429</span></a>      for (name in newStyle) {
<a name="l10430"><span class="linenum">10430</span></a>          if (oldStyle[name] != newStyle[name]) {
<a name="l10431"><span class="linenum">10431</span></a>              diff[name] = newStyle[name];
<a name="l10432"><span class="linenum">10432</span></a>          }
<a name="l10433"><span class="linenum">10433</span></a>      }
<a name="l10434"><span class="linenum">10434</span></a>  
<a name="l10435"><span class="linenum">10435</span></a>      return diff;
<a name="l10436"><span class="linenum">10436</span></a>  }
<a name="l10437"><span class="linenum">10437</span></a>  
<a name="l10438"><span class="linenum">10438</span></a>  $.effects.animateClass = function(value, duration, easing, callback) {
<a name="l10439"><span class="linenum">10439</span></a>      if ($.isFunction(easing)) {
<a name="l10440"><span class="linenum">10440</span></a>          callback = easing;
<a name="l10441"><span class="linenum">10441</span></a>          easing = null;
<a name="l10442"><span class="linenum">10442</span></a>      }
<a name="l10443"><span class="linenum">10443</span></a>  
<a name="l10444"><span class="linenum">10444</span></a>      return this.queue(function() {
<a name="l10445"><span class="linenum">10445</span></a>          var that = $(this),
<a name="l10446"><span class="linenum">10446</span></a>              originalStyleAttr = that.attr('style') || ' ',
<a name="l10447"><span class="linenum">10447</span></a>              originalStyle = <a class="function" onClick="logFunction('filterStyles')" href="../../../../_functions/filterstyles.html" onMouseOver="funcPopup(event,'filterstyles')">filterStyles</a>(getElementStyles.call(this)),
<a name="l10448"><span class="linenum">10448</span></a>              newStyle,
<a name="l10449"><span class="linenum">10449</span></a>              className = that.attr('class');
<a name="l10450"><span class="linenum">10450</span></a>  
<a name="l10451"><span class="linenum">10451</span></a>          $.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(classAnimationActions, function(i, action) {
<a name="l10452"><span class="linenum">10452</span></a>              if (value[action]) {
<a name="l10453"><span class="linenum">10453</span></a>                  that[action + 'Class'](value[action]);
<a name="l10454"><span class="linenum">10454</span></a>              }
<a name="l10455"><span class="linenum">10455</span></a>          });
<a name="l10456"><span class="linenum">10456</span></a>          newStyle = <a class="function" onClick="logFunction('filterStyles')" href="../../../../_functions/filterstyles.html" onMouseOver="funcPopup(event,'filterstyles')">filterStyles</a>(getElementStyles.call(this));
<a name="l10457"><span class="linenum">10457</span></a>          that.attr('class', className);
<a name="l10458"><span class="linenum">10458</span></a>  
<a name="l10459"><span class="linenum">10459</span></a>          that.animate(<a class="function" onClick="logFunction('styleDifference')" href="../../../../_functions/styledifference.html" onMouseOver="funcPopup(event,'styledifference')">styleDifference</a>(originalStyle, newStyle), {
<a name="l10460"><span class="linenum">10460</span></a>              queue: false,
<a name="l10461"><span class="linenum">10461</span></a>              duration: duration,
<a name="l10462"><span class="linenum">10462</span></a>              easing: easing,
<a name="l10463"><span class="linenum">10463</span></a>              complete: function() {
<a name="l10464"><span class="linenum">10464</span></a>                  $.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(classAnimationActions, function(i, action) {
<a name="l10465"><span class="linenum">10465</span></a>                      if (value[action]) { that[action + 'Class'](value[action]); }
<a name="l10466"><span class="linenum">10466</span></a>                  });
<a name="l10467"><span class="linenum">10467</span></a>  <span class="comment">                // work around bug in IE by clearing the cssText before setting it</span>
<a name="l10468"><span class="linenum">10468</span></a>                  if (typeof that.attr('style') == 'object') {
<a name="l10469"><span class="linenum">10469</span></a>                      that.attr('style').cssText = '';
<a name="l10470"><span class="linenum">10470</span></a>                      that.attr('style').cssText = originalStyleAttr;
<a name="l10471"><span class="linenum">10471</span></a>                  } else {
<a name="l10472"><span class="linenum">10472</span></a>                      that.attr('style', originalStyleAttr);
<a name="l10473"><span class="linenum">10473</span></a>                  }
<a name="l10474"><span class="linenum">10474</span></a>                  if (callback) { callback.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments); }
<a name="l10475"><span class="linenum">10475</span></a>                  $.dequeue( this );
<a name="l10476"><span class="linenum">10476</span></a>              }
<a name="l10477"><span class="linenum">10477</span></a>          });
<a name="l10478"><span class="linenum">10478</span></a>      });
<a name="l10479"><span class="linenum">10479</span></a>  };
<a name="l10480"><span class="linenum">10480</span></a>  
<a name="l10481"><span class="linenum">10481</span></a>  $.fn.extend({
<a name="l10482"><span class="linenum">10482</span></a>      _addClass: $.fn.addClass,
<a name="l10483"><span class="linenum">10483</span></a>      addClass: function(classNames, speed, easing, callback) {
<a name="l10484"><span class="linenum">10484</span></a>          return speed ? $.effects.animateClass.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, [{ add: classNames },speed,easing,callback]) : this._addClass(classNames);
<a name="l10485"><span class="linenum">10485</span></a>      },
<a name="l10486"><span class="linenum">10486</span></a>  
<a name="l10487"><span class="linenum">10487</span></a>      _removeClass: $.fn.removeClass,
<a name="l10488"><span class="linenum">10488</span></a>      removeClass: function(classNames,speed,easing,callback) {
<a name="l10489"><span class="linenum">10489</span></a>          return speed ? $.effects.animateClass.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, [{ remove: classNames },speed,easing,callback]) : this._removeClass(classNames);
<a name="l10490"><span class="linenum">10490</span></a>      },
<a name="l10491"><span class="linenum">10491</span></a>  
<a name="l10492"><span class="linenum">10492</span></a>      _toggleClass: $.fn.toggleClass,
<a name="l10493"><span class="linenum">10493</span></a>      toggleClass: function(classNames, force, speed, easing, callback) {
<a name="l10494"><span class="linenum">10494</span></a>          if ( typeof force == &quot;boolean&quot; || force === undefined ) {
<a name="l10495"><span class="linenum">10495</span></a>              if ( !speed ) {
<a name="l10496"><span class="linenum">10496</span></a>  <span class="comment">                // without speed parameter;</span>
<a name="l10497"><span class="linenum">10497</span></a>                  return this._toggleClass(classNames, force);
<a name="l10498"><span class="linenum">10498</span></a>              } else {
<a name="l10499"><span class="linenum">10499</span></a>                  return $.effects.animateClass.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, [(force?{add:classNames}:{remove:classNames}),speed,easing,callback]);
<a name="l10500"><span class="linenum">10500</span></a>              }
<a name="l10501"><span class="linenum">10501</span></a>          } else {
<a name="l10502"><span class="linenum">10502</span></a>  <span class="comment">            // without switch parameter;</span>
<a name="l10503"><span class="linenum">10503</span></a>              return $.effects.animateClass.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, [{ toggle: classNames },force,speed,easing]);
<a name="l10504"><span class="linenum">10504</span></a>          }
<a name="l10505"><span class="linenum">10505</span></a>      },
<a name="l10506"><span class="linenum">10506</span></a>  
<a name="l10507"><span class="linenum">10507</span></a>      switchClass: function(remove,add,speed,easing,callback) {
<a name="l10508"><span class="linenum">10508</span></a>          return $.effects.animateClass.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, [{ add: add, remove: remove },speed,easing,callback]);
<a name="l10509"><span class="linenum">10509</span></a>      }
<a name="l10510"><span class="linenum">10510</span></a>  });
<a name="l10511"><span class="linenum">10511</span></a>  
<a name="l10512"><span class="linenum">10512</span></a>  
<a name="l10513"><span class="linenum">10513</span></a>  
<a name="l10514"><span class="linenum">10514</span></a>  <span class="comment">/******************************************************************************/</span>
<a name="l10515"><span class="linenum">10515</span></a>  <span class="comment">/*********************************** EFFECTS **********************************/</span>
<a name="l10516"><span class="linenum">10516</span></a>  <span class="comment">/******************************************************************************/</span>
<a name="l10517"><span class="linenum">10517</span></a>  
<a name="l10518"><span class="linenum">10518</span></a>  $.extend($.effects, {
<a name="l10519"><span class="linenum">10519</span></a>      version: &quot;1.8.18&quot;,
<a name="l10520"><span class="linenum">10520</span></a>  
<a name="l10521"><span class="linenum">10521</span></a>  <span class="comment">    // Saves a set of properties in a data storage</span>
<a name="l10522"><span class="linenum">10522</span></a>      save: function(element, set) {
<a name="l10523"><span class="linenum">10523</span></a>          for(var i=0; i &lt; set.length; i++) {
<a name="l10524"><span class="linenum">10524</span></a>              if(set[i] !== null) element.data(&quot;ec.storage.&quot;+set[i], element[0].style[set[i]]);
<a name="l10525"><span class="linenum">10525</span></a>          }
<a name="l10526"><span class="linenum">10526</span></a>      },
<a name="l10527"><span class="linenum">10527</span></a>  
<a name="l10528"><span class="linenum">10528</span></a>  <span class="comment">    // Restores a set of previously saved properties from a data storage</span>
<a name="l10529"><span class="linenum">10529</span></a>      restore: function(element, set) {
<a name="l10530"><span class="linenum">10530</span></a>          for(var i=0; i &lt; set.length; i++) {
<a name="l10531"><span class="linenum">10531</span></a>              if(set[i] !== null) element.css(set[i], element.data(&quot;ec.storage.&quot;+set[i]));
<a name="l10532"><span class="linenum">10532</span></a>          }
<a name="l10533"><span class="linenum">10533</span></a>      },
<a name="l10534"><span class="linenum">10534</span></a>  
<a name="l10535"><span class="linenum">10535</span></a>      setMode: function(el, mode) {
<a name="l10536"><span class="linenum">10536</span></a>          if (mode == 'toggle') mode = el.is(':hidden') ? 'show' : 'hide'; <span class="comment">// Set for toggle</span>
<a name="l10537"><span class="linenum">10537</span></a>          return mode;
<a name="l10538"><span class="linenum">10538</span></a>      },
<a name="l10539"><span class="linenum">10539</span></a>  
<a name="l10540"><span class="linenum">10540</span></a>      getBaseline: function(origin, original) { // Translates a [top,left] array into a baseline value
<a name="l10541"><span class="linenum">10541</span></a>  <span class="comment">        // this should be a little more flexible in the future to handle a string &amp; hash</span>
<a name="l10542"><span class="linenum">10542</span></a>          var y, x;
<a name="l10543"><span class="linenum">10543</span></a>          switch (origin[0]) {
<a name="l10544"><span class="linenum">10544</span></a>              case 'top': y = 0; break;
<a name="l10545"><span class="linenum">10545</span></a>              case 'middle': y = 0.5; break;
<a name="l10546"><span class="linenum">10546</span></a>              case 'bottom': y = 1; break;
<a name="l10547"><span class="linenum">10547</span></a>              default: y = origin[0] / original.height;
<a name="l10548"><span class="linenum">10548</span></a>          };
<a name="l10549"><span class="linenum">10549</span></a>          switch (origin[1]) {
<a name="l10550"><span class="linenum">10550</span></a>              case 'left': x = 0; break;
<a name="l10551"><span class="linenum">10551</span></a>              case 'center': x = 0.5; break;
<a name="l10552"><span class="linenum">10552</span></a>              case 'right': x = 1; break;
<a name="l10553"><span class="linenum">10553</span></a>              default: x = origin[1] / original.width;
<a name="l10554"><span class="linenum">10554</span></a>          };
<a name="l10555"><span class="linenum">10555</span></a>          return {x: x, y: y};
<a name="l10556"><span class="linenum">10556</span></a>      },
<a name="l10557"><span class="linenum">10557</span></a>  
<a name="l10558"><span class="linenum">10558</span></a>  <span class="comment">    // Wraps the element around a wrapper that copies position properties</span>
<a name="l10559"><span class="linenum">10559</span></a>      createWrapper: function(element) {
<a name="l10560"><span class="linenum">10560</span></a>  
<a name="l10561"><span class="linenum">10561</span></a>  <span class="comment">        // if the element is already wrapped, return it</span>
<a name="l10562"><span class="linenum">10562</span></a>          if (element.parent().is('.ui-effects-wrapper')) {
<a name="l10563"><span class="linenum">10563</span></a>              return element.parent();
<a name="l10564"><span class="linenum">10564</span></a>          }
<a name="l10565"><span class="linenum">10565</span></a>  
<a name="l10566"><span class="linenum">10566</span></a>  <span class="comment">        // wrap the element</span>
<a name="l10567"><span class="linenum">10567</span></a>          var props = {
<a name="l10568"><span class="linenum">10568</span></a>                  width: element.outerWidth(true),
<a name="l10569"><span class="linenum">10569</span></a>                  height: element.outerHeight(true),
<a name="l10570"><span class="linenum">10570</span></a>                  'float': element.css('float')
<a name="l10571"><span class="linenum">10571</span></a>              },
<a name="l10572"><span class="linenum">10572</span></a>              wrapper = $('&lt;div&gt;&lt;/div&gt;')
<a name="l10573"><span class="linenum">10573</span></a>                  .addClass('ui-effects-wrapper')
<a name="l10574"><span class="linenum">10574</span></a>                  .css({
<a name="l10575"><span class="linenum">10575</span></a>                      fontSize: '100%',
<a name="l10576"><span class="linenum">10576</span></a>                      background: 'transparent',
<a name="l10577"><span class="linenum">10577</span></a>                      border: 'none',
<a name="l10578"><span class="linenum">10578</span></a>                      margin: 0,
<a name="l10579"><span class="linenum">10579</span></a>                      padding: 0
<a name="l10580"><span class="linenum">10580</span></a>                  }),
<a name="l10581"><span class="linenum">10581</span></a>              active = document.activeElement;
<a name="l10582"><span class="linenum">10582</span></a>  
<a name="l10583"><span class="linenum">10583</span></a>          element.<a class="function" onClick="logFunction('wrap')" href="../../../../_functions/wrap.html" onMouseOver="funcPopup(event,'wrap')">wrap</a>(wrapper);
<a name="l10584"><span class="linenum">10584</span></a>  
<a name="l10585"><span class="linenum">10585</span></a>  <span class="comment">        // Fixes #7595 - Elements lose focus when wrapped.</span>
<a name="l10586"><span class="linenum">10586</span></a>          if ( element[ 0 ] === active || $.<a class="function" onClick="logFunction('contains')" href="../../../../_functions/contains.html" onMouseOver="funcPopup(event,'contains')">contains</a>( element[ 0 ], active ) ) {
<a name="l10587"><span class="linenum">10587</span></a>              $( active ).focus();
<a name="l10588"><span class="linenum">10588</span></a>          }
<a name="l10589"><span class="linenum">10589</span></a>          
<a name="l10590"><span class="linenum">10590</span></a>          wrapper = element.parent(); <span class="comment">//Hotfix for jQuery 1.4 since some change in wrap() seems to actually loose the reference to the wrapped element</span>
<a name="l10591"><span class="linenum">10591</span></a>  
<a name="l10592"><span class="linenum">10592</span></a>  <span class="comment">        // transfer positioning properties to the wrapper</span>
<a name="l10593"><span class="linenum">10593</span></a>          if (element.css('position') == 'static') {
<a name="l10594"><span class="linenum">10594</span></a>              wrapper.css({ position: 'relative' });
<a name="l10595"><span class="linenum">10595</span></a>              element.css({ position: 'relative' });
<a name="l10596"><span class="linenum">10596</span></a>          } else {
<a name="l10597"><span class="linenum">10597</span></a>              $.extend(props, {
<a name="l10598"><span class="linenum">10598</span></a>                  position: element.css('position'),
<a name="l10599"><span class="linenum">10599</span></a>                  zIndex: element.css('z-index')
<a name="l10600"><span class="linenum">10600</span></a>              });
<a name="l10601"><span class="linenum">10601</span></a>              $.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(['top', 'left', 'bottom', 'right'], function(i, pos) {
<a name="l10602"><span class="linenum">10602</span></a>                  props[pos] = element.css(pos);
<a name="l10603"><span class="linenum">10603</span></a>                  if (isNaN(parseInt(props[pos], 10))) {
<a name="l10604"><span class="linenum">10604</span></a>                      props[pos] = 'auto';
<a name="l10605"><span class="linenum">10605</span></a>                  }
<a name="l10606"><span class="linenum">10606</span></a>              });
<a name="l10607"><span class="linenum">10607</span></a>              element.css({position: 'relative', top: 0, left: 0, right: 'auto', bottom: 'auto' });
<a name="l10608"><span class="linenum">10608</span></a>          }
<a name="l10609"><span class="linenum">10609</span></a>  
<a name="l10610"><span class="linenum">10610</span></a>          return wrapper.css(props).show();
<a name="l10611"><span class="linenum">10611</span></a>      },
<a name="l10612"><span class="linenum">10612</span></a>  
<a name="l10613"><span class="linenum">10613</span></a>      removeWrapper: function(element) {
<a name="l10614"><span class="linenum">10614</span></a>          var parent,
<a name="l10615"><span class="linenum">10615</span></a>              active = document.activeElement;
<a name="l10616"><span class="linenum">10616</span></a>          
<a name="l10617"><span class="linenum">10617</span></a>          if (element.parent().is('.ui-effects-wrapper')) {
<a name="l10618"><span class="linenum">10618</span></a>              parent = element.parent().replaceWith(element);
<a name="l10619"><span class="linenum">10619</span></a>  <span class="comment">            // Fixes #7595 - Elements lose focus when wrapped.</span>
<a name="l10620"><span class="linenum">10620</span></a>              if ( element[ 0 ] === active || $.<a class="function" onClick="logFunction('contains')" href="../../../../_functions/contains.html" onMouseOver="funcPopup(event,'contains')">contains</a>( element[ 0 ], active ) ) {
<a name="l10621"><span class="linenum">10621</span></a>                  $( active ).focus();
<a name="l10622"><span class="linenum">10622</span></a>              }
<a name="l10623"><span class="linenum">10623</span></a>              return parent;
<a name="l10624"><span class="linenum">10624</span></a>          }
<a name="l10625"><span class="linenum">10625</span></a>              
<a name="l10626"><span class="linenum">10626</span></a>          return element;
<a name="l10627"><span class="linenum">10627</span></a>      },
<a name="l10628"><span class="linenum">10628</span></a>  
<a name="l10629"><span class="linenum">10629</span></a>      setTransition: function(element, list, factor, value) {
<a name="l10630"><span class="linenum">10630</span></a>          value = value || {};
<a name="l10631"><span class="linenum">10631</span></a>          $.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(list, function(i, x){
<a name="l10632"><span class="linenum">10632</span></a>              unit = element.cssUnit(x);
<a name="l10633"><span class="linenum">10633</span></a>              if (unit[0] &gt; 0) value[x] = unit[0] * factor + unit[1];
<a name="l10634"><span class="linenum">10634</span></a>          });
<a name="l10635"><span class="linenum">10635</span></a>          return value;
<a name="l10636"><span class="linenum">10636</span></a>      }
<a name="l10637"><span class="linenum">10637</span></a>  });
<a name="l10638"><span class="linenum">10638</span></a>  
<a name="l10639"><span class="linenum">10639</span></a>  
<a name="l10640"><span class="linenum">10640</span></a>  function <a class="function" onClick="logFunction('_normalizeArguments')" href="../../../../_functions/_normalizearguments.html" onMouseOver="funcPopup(event,'_normalizearguments')">_normalizeArguments</a>(effect, options, speed, callback) {
<a name="l10641"><span class="linenum">10641</span></a>  <span class="comment">    // shift params for method overloading</span>
<a name="l10642"><span class="linenum">10642</span></a>      if (typeof effect == 'object') {
<a name="l10643"><span class="linenum">10643</span></a>          callback = options;
<a name="l10644"><span class="linenum">10644</span></a>          speed = null;
<a name="l10645"><span class="linenum">10645</span></a>          options = effect;
<a name="l10646"><span class="linenum">10646</span></a>          effect = options.effect;
<a name="l10647"><span class="linenum">10647</span></a>      }
<a name="l10648"><span class="linenum">10648</span></a>      if ($.isFunction(options)) {
<a name="l10649"><span class="linenum">10649</span></a>          callback = options;
<a name="l10650"><span class="linenum">10650</span></a>          speed = null;
<a name="l10651"><span class="linenum">10651</span></a>          options = {};
<a name="l10652"><span class="linenum">10652</span></a>      }
<a name="l10653"><span class="linenum">10653</span></a>          if (typeof options == 'number' || $.fx.speeds[options]) {
<a name="l10654"><span class="linenum">10654</span></a>          callback = speed;
<a name="l10655"><span class="linenum">10655</span></a>          speed = options;
<a name="l10656"><span class="linenum">10656</span></a>          options = {};
<a name="l10657"><span class="linenum">10657</span></a>      }
<a name="l10658"><span class="linenum">10658</span></a>      if ($.isFunction(speed)) {
<a name="l10659"><span class="linenum">10659</span></a>          callback = speed;
<a name="l10660"><span class="linenum">10660</span></a>          speed = null;
<a name="l10661"><span class="linenum">10661</span></a>      }
<a name="l10662"><span class="linenum">10662</span></a>  
<a name="l10663"><span class="linenum">10663</span></a>      options = options || {};
<a name="l10664"><span class="linenum">10664</span></a>  
<a name="l10665"><span class="linenum">10665</span></a>      speed = speed || options.duration;
<a name="l10666"><span class="linenum">10666</span></a>      speed = $.fx.off ? 0 : typeof speed == 'number'
<a name="l10667"><span class="linenum">10667</span></a>          ? speed : speed in $.fx.speeds ? $.fx.speeds[speed] : $.fx.speeds._default;
<a name="l10668"><span class="linenum">10668</span></a>  
<a name="l10669"><span class="linenum">10669</span></a>      callback = callback || options.complete;
<a name="l10670"><span class="linenum">10670</span></a>  
<a name="l10671"><span class="linenum">10671</span></a>      return [effect, options, speed, callback];
<a name="l10672"><span class="linenum">10672</span></a>  }
<a name="l10673"><span class="linenum">10673</span></a>  
<a name="l10674"><span class="linenum">10674</span></a>  function <a class="function" onClick="logFunction('standardSpeed')" href="../../../../_functions/standardspeed.html" onMouseOver="funcPopup(event,'standardspeed')">standardSpeed</a>( speed ) {
<a name="l10675"><span class="linenum">10675</span></a>  <span class="comment">    // valid standard speeds</span>
<a name="l10676"><span class="linenum">10676</span></a>      if ( !speed || typeof speed === &quot;number&quot; || $.fx.speeds[ speed ] ) {
<a name="l10677"><span class="linenum">10677</span></a>          return true;
<a name="l10678"><span class="linenum">10678</span></a>      }
<a name="l10679"><span class="linenum">10679</span></a>      
<a name="l10680"><span class="linenum">10680</span></a>  <span class="comment">    // invalid strings - treat as &quot;normal&quot; speed</span>
<a name="l10681"><span class="linenum">10681</span></a>      if ( typeof speed === &quot;string&quot; &amp;&amp; !$.effects[ speed ] ) {
<a name="l10682"><span class="linenum">10682</span></a>          return true;
<a name="l10683"><span class="linenum">10683</span></a>      }
<a name="l10684"><span class="linenum">10684</span></a>      
<a name="l10685"><span class="linenum">10685</span></a>      return false;
<a name="l10686"><span class="linenum">10686</span></a>  }
<a name="l10687"><span class="linenum">10687</span></a>  
<a name="l10688"><span class="linenum">10688</span></a>  $.fn.extend({
<a name="l10689"><span class="linenum">10689</span></a>      effect: function(effect, options, speed, callback) {
<a name="l10690"><span class="linenum">10690</span></a>          var args = _normalizeArguments.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments),
<a name="l10691"><span class="linenum">10691</span></a>  <span class="comment">            // TODO: make effects take actual parameters instead of a hash</span>
<a name="l10692"><span class="linenum">10692</span></a>              args2 = {
<a name="l10693"><span class="linenum">10693</span></a>                  options: args[1],
<a name="l10694"><span class="linenum">10694</span></a>                  duration: args[2],
<a name="l10695"><span class="linenum">10695</span></a>                  callback: args[3]
<a name="l10696"><span class="linenum">10696</span></a>              },
<a name="l10697"><span class="linenum">10697</span></a>              mode = args2.options.mode,
<a name="l10698"><span class="linenum">10698</span></a>              effectMethod = $.effects[effect];
<a name="l10699"><span class="linenum">10699</span></a>          
<a name="l10700"><span class="linenum">10700</span></a>          if ( $.fx.off || !effectMethod ) {
<a name="l10701"><span class="linenum">10701</span></a>  <span class="comment">            // delegate to the original method (e.g., .show()) if possible</span>
<a name="l10702"><span class="linenum">10702</span></a>              if ( mode ) {
<a name="l10703"><span class="linenum">10703</span></a>                  return this[ mode ]( args2.duration, args2.callback );
<a name="l10704"><span class="linenum">10704</span></a>              } else {
<a name="l10705"><span class="linenum">10705</span></a>                  return this.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function() {
<a name="l10706"><span class="linenum">10706</span></a>                      if ( args2.callback ) {
<a name="l10707"><span class="linenum">10707</span></a>                          args2.callback.call( this );
<a name="l10708"><span class="linenum">10708</span></a>                      }
<a name="l10709"><span class="linenum">10709</span></a>                  });
<a name="l10710"><span class="linenum">10710</span></a>              }
<a name="l10711"><span class="linenum">10711</span></a>          }
<a name="l10712"><span class="linenum">10712</span></a>          
<a name="l10713"><span class="linenum">10713</span></a>          return effectMethod.call(this, args2);
<a name="l10714"><span class="linenum">10714</span></a>      },
<a name="l10715"><span class="linenum">10715</span></a>  
<a name="l10716"><span class="linenum">10716</span></a>      _show: $.fn.show,
<a name="l10717"><span class="linenum">10717</span></a>      show: function(speed) {
<a name="l10718"><span class="linenum">10718</span></a>          if ( <a class="function" onClick="logFunction('standardSpeed')" href="../../../../_functions/standardspeed.html" onMouseOver="funcPopup(event,'standardspeed')">standardSpeed</a>( speed ) ) {
<a name="l10719"><span class="linenum">10719</span></a>              return this._show.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments);
<a name="l10720"><span class="linenum">10720</span></a>          } else {
<a name="l10721"><span class="linenum">10721</span></a>              var args = _normalizeArguments.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments);
<a name="l10722"><span class="linenum">10722</span></a>              args[1].mode = 'show';
<a name="l10723"><span class="linenum">10723</span></a>              return this.effect.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, args);
<a name="l10724"><span class="linenum">10724</span></a>          }
<a name="l10725"><span class="linenum">10725</span></a>      },
<a name="l10726"><span class="linenum">10726</span></a>  
<a name="l10727"><span class="linenum">10727</span></a>      _hide: $.fn.hide,
<a name="l10728"><span class="linenum">10728</span></a>      hide: function(speed) {
<a name="l10729"><span class="linenum">10729</span></a>          if ( <a class="function" onClick="logFunction('standardSpeed')" href="../../../../_functions/standardspeed.html" onMouseOver="funcPopup(event,'standardspeed')">standardSpeed</a>( speed ) ) {
<a name="l10730"><span class="linenum">10730</span></a>              return this._hide.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments);
<a name="l10731"><span class="linenum">10731</span></a>          } else {
<a name="l10732"><span class="linenum">10732</span></a>              var args = _normalizeArguments.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments);
<a name="l10733"><span class="linenum">10733</span></a>              args[1].mode = 'hide';
<a name="l10734"><span class="linenum">10734</span></a>              return this.effect.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, args);
<a name="l10735"><span class="linenum">10735</span></a>          }
<a name="l10736"><span class="linenum">10736</span></a>      },
<a name="l10737"><span class="linenum">10737</span></a>  
<a name="l10738"><span class="linenum">10738</span></a>  <span class="comment">    // jQuery core overloads toggle and creates _toggle</span>
<a name="l10739"><span class="linenum">10739</span></a>      __toggle: $.fn.toggle,
<a name="l10740"><span class="linenum">10740</span></a>      toggle: function(speed) {
<a name="l10741"><span class="linenum">10741</span></a>          if ( <a class="function" onClick="logFunction('standardSpeed')" href="../../../../_functions/standardspeed.html" onMouseOver="funcPopup(event,'standardspeed')">standardSpeed</a>( speed ) || typeof speed === &quot;boolean&quot; || $.isFunction( speed ) ) {
<a name="l10742"><span class="linenum">10742</span></a>              return this.__toggle.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments);
<a name="l10743"><span class="linenum">10743</span></a>          } else {
<a name="l10744"><span class="linenum">10744</span></a>              var args = _normalizeArguments.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments);
<a name="l10745"><span class="linenum">10745</span></a>              args[1].mode = 'toggle';
<a name="l10746"><span class="linenum">10746</span></a>              return this.effect.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, args);
<a name="l10747"><span class="linenum">10747</span></a>          }
<a name="l10748"><span class="linenum">10748</span></a>      },
<a name="l10749"><span class="linenum">10749</span></a>  
<a name="l10750"><span class="linenum">10750</span></a>  <span class="comment">    // helper functions</span>
<a name="l10751"><span class="linenum">10751</span></a>      cssUnit: function(key) {
<a name="l10752"><span class="linenum">10752</span></a>          var style = this.css(key), val = [];
<a name="l10753"><span class="linenum">10753</span></a>          $.<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>( ['em','px','%','pt'], function(i, unit){
<a name="l10754"><span class="linenum">10754</span></a>              if(style.indexOf(unit) &gt; 0)
<a name="l10755"><span class="linenum">10755</span></a>                  val = [parseFloat(style), unit];
<a name="l10756"><span class="linenum">10756</span></a>          });
<a name="l10757"><span class="linenum">10757</span></a>          return val;
<a name="l10758"><span class="linenum">10758</span></a>      }
<a name="l10759"><span class="linenum">10759</span></a>  });
<a name="l10760"><span class="linenum">10760</span></a>  
<a name="l10761"><span class="linenum">10761</span></a>  
<a name="l10762"><span class="linenum">10762</span></a>  
<a name="l10763"><span class="linenum">10763</span></a>  <span class="comment">/******************************************************************************/</span>
<a name="l10764"><span class="linenum">10764</span></a>  <span class="comment">/*********************************** EASING ***********************************/</span>
<a name="l10765"><span class="linenum">10765</span></a>  <span class="comment">/******************************************************************************/</span>
<a name="l10766"><span class="linenum">10766</span></a>  
<a name="l10767"><span class="linenum">10767</span></a>  <span class="comment">/*</span>
<a name="l10768"><span class="linenum">10768</span></a>  <span class="comment"> * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/</span>
<a name="l10769"><span class="linenum">10769</span></a>  <span class="comment"> *</span>
<a name="l10770"><span class="linenum">10770</span></a>  <span class="comment"> * Uses the built in easing capabilities added In jQuery 1.1</span>
<a name="l10771"><span class="linenum">10771</span></a>  <span class="comment"> * to offer multiple easing options</span>
<a name="l10772"><span class="linenum">10772</span></a>  <span class="comment"> *</span>
<a name="l10773"><span class="linenum">10773</span></a>  <span class="comment"> * TERMS OF USE - jQuery Easing</span>
<a name="l10774"><span class="linenum">10774</span></a>  <span class="comment"> *</span>
<a name="l10775"><span class="linenum">10775</span></a>  <span class="comment"> * Open source under the BSD License.</span>
<a name="l10776"><span class="linenum">10776</span></a>  <span class="comment"> *</span>
<a name="l10777"><span class="linenum">10777</span></a>  <span class="comment"> * Copyright 2008 George McGinley Smith</span>
<a name="l10778"><span class="linenum">10778</span></a>  <span class="comment"> * All rights reserved.</span>
<a name="l10779"><span class="linenum">10779</span></a>  <span class="comment"> *</span>
<a name="l10780"><span class="linenum">10780</span></a>  <span class="comment"> * Redistribution and use in source and binary forms, with or without modification,</span>
<a name="l10781"><span class="linenum">10781</span></a>  <span class="comment"> * are permitted provided that the following conditions are met:</span>
<a name="l10782"><span class="linenum">10782</span></a>  <span class="comment"> *</span>
<a name="l10783"><span class="linenum">10783</span></a>  <span class="comment"> * Redistributions of source code must retain the above copyright notice, this list of</span>
<a name="l10784"><span class="linenum">10784</span></a>  <span class="comment"> * conditions and the following disclaimer.</span>
<a name="l10785"><span class="linenum">10785</span></a>  <span class="comment"> * Redistributions in binary form must reproduce the above copyright notice, this list</span>
<a name="l10786"><span class="linenum">10786</span></a>  <span class="comment"> * of conditions and the following disclaimer in the documentation and/or other materials</span>
<a name="l10787"><span class="linenum">10787</span></a>  <span class="comment"> * provided with the distribution.</span>
<a name="l10788"><span class="linenum">10788</span></a>  <span class="comment"> *</span>
<a name="l10789"><span class="linenum">10789</span></a>  <span class="comment"> * Neither the name of the author nor the names of contributors may be used to endorse</span>
<a name="l10790"><span class="linenum">10790</span></a>  <span class="comment"> * or promote products derived from this software without specific prior written permission.</span>
<a name="l10791"><span class="linenum">10791</span></a>  <span class="comment"> *</span>
<a name="l10792"><span class="linenum">10792</span></a>  <span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY</span>
<a name="l10793"><span class="linenum">10793</span></a>  <span class="comment"> * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF</span>
<a name="l10794"><span class="linenum">10794</span></a>  <span class="comment"> * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE</span>
<a name="l10795"><span class="linenum">10795</span></a>  <span class="comment"> * COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,</span>
<a name="l10796"><span class="linenum">10796</span></a>  <span class="comment"> * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE</span>
<a name="l10797"><span class="linenum">10797</span></a>  <span class="comment"> * GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED</span>
<a name="l10798"><span class="linenum">10798</span></a>  <span class="comment"> * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING</span>
<a name="l10799"><span class="linenum">10799</span></a>  <span class="comment"> * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED</span>
<a name="l10800"><span class="linenum">10800</span></a>  <span class="comment"> * OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l10801"><span class="linenum">10801</span></a>  <span class="comment"> *</span>
<a name="l10802"><span class="linenum">10802</span></a>  <span class="comment">*/</span>
<a name="l10803"><span class="linenum">10803</span></a>  
<a name="l10804"><span class="linenum">10804</span></a>  <span class="comment">// t: current time, b: begInnIng value, c: change In value, d: duration</span>
<a name="l10805"><span class="linenum">10805</span></a>  $.easing.jswing = $.easing.swing;
<a name="l10806"><span class="linenum">10806</span></a>  
<a name="l10807"><span class="linenum">10807</span></a>  $.extend($.easing,
<a name="l10808"><span class="linenum">10808</span></a>  {
<a name="l10809"><span class="linenum">10809</span></a>      def: 'easeOutQuad',
<a name="l10810"><span class="linenum">10810</span></a>      swing: function (x, t, b, c, d) {
<a name="l10811"><span class="linenum">10811</span></a>  <span class="comment">        //alert($.easing.default);</span>
<a name="l10812"><span class="linenum">10812</span></a>          return $.easing[$.easing.def](x, t, b, c, d);
<a name="l10813"><span class="linenum">10813</span></a>      },
<a name="l10814"><span class="linenum">10814</span></a>      easeInQuad: function (x, t, b, c, d) {
<a name="l10815"><span class="linenum">10815</span></a>          return c*(t/=d)*t + b;
<a name="l10816"><span class="linenum">10816</span></a>      },
<a name="l10817"><span class="linenum">10817</span></a>      easeOutQuad: function (x, t, b, c, d) {
<a name="l10818"><span class="linenum">10818</span></a>          return -c *(t/=d)*(t-2) + b;
<a name="l10819"><span class="linenum">10819</span></a>      },
<a name="l10820"><span class="linenum">10820</span></a>      easeInOutQuad: function (x, t, b, c, d) {
<a name="l10821"><span class="linenum">10821</span></a>          if ((t/=d/2) &lt; 1) return c/2*t*t + b;
<a name="l10822"><span class="linenum">10822</span></a>          return -c/2 * ((--t)*(t-2) - 1) + b;
<a name="l10823"><span class="linenum">10823</span></a>      },
<a name="l10824"><span class="linenum">10824</span></a>      easeInCubic: function (x, t, b, c, d) {
<a name="l10825"><span class="linenum">10825</span></a>          return c*(t/=d)*t*t + b;
<a name="l10826"><span class="linenum">10826</span></a>      },
<a name="l10827"><span class="linenum">10827</span></a>      easeOutCubic: function (x, t, b, c, d) {
<a name="l10828"><span class="linenum">10828</span></a>          return c*((t=t/d-1)*t*t + 1) + b;
<a name="l10829"><span class="linenum">10829</span></a>      },
<a name="l10830"><span class="linenum">10830</span></a>      easeInOutCubic: function (x, t, b, c, d) {
<a name="l10831"><span class="linenum">10831</span></a>          if ((t/=d/2) &lt; 1) return c/2*t*t*t + b;
<a name="l10832"><span class="linenum">10832</span></a>          return c/2*((t-=2)*t*t + 2) + b;
<a name="l10833"><span class="linenum">10833</span></a>      },
<a name="l10834"><span class="linenum">10834</span></a>      easeInQuart: function (x, t, b, c, d) {
<a name="l10835"><span class="linenum">10835</span></a>          return c*(t/=d)*t*t*t + b;
<a name="l10836"><span class="linenum">10836</span></a>      },
<a name="l10837"><span class="linenum">10837</span></a>      easeOutQuart: function (x, t, b, c, d) {
<a name="l10838"><span class="linenum">10838</span></a>          return -c * ((t=t/d-1)*t*t*t - 1) + b;
<a name="l10839"><span class="linenum">10839</span></a>      },
<a name="l10840"><span class="linenum">10840</span></a>      easeInOutQuart: function (x, t, b, c, d) {
<a name="l10841"><span class="linenum">10841</span></a>          if ((t/=d/2) &lt; 1) return c/2*t*t*t*t + b;
<a name="l10842"><span class="linenum">10842</span></a>          return -c/2 * ((t-=2)*t*t*t - 2) + b;
<a name="l10843"><span class="linenum">10843</span></a>      },
<a name="l10844"><span class="linenum">10844</span></a>      easeInQuint: function (x, t, b, c, d) {
<a name="l10845"><span class="linenum">10845</span></a>          return c*(t/=d)*t*t*t*t + b;
<a name="l10846"><span class="linenum">10846</span></a>      },
<a name="l10847"><span class="linenum">10847</span></a>      easeOutQuint: function (x, t, b, c, d) {
<a name="l10848"><span class="linenum">10848</span></a>          return c*((t=t/d-1)*t*t*t*t + 1) + b;
<a name="l10849"><span class="linenum">10849</span></a>      },
<a name="l10850"><span class="linenum">10850</span></a>      easeInOutQuint: function (x, t, b, c, d) {
<a name="l10851"><span class="linenum">10851</span></a>          if ((t/=d/2) &lt; 1) return c/2*t*t*t*t*t + b;
<a name="l10852"><span class="linenum">10852</span></a>          return c/2*((t-=2)*t*t*t*t + 2) + b;
<a name="l10853"><span class="linenum">10853</span></a>      },
<a name="l10854"><span class="linenum">10854</span></a>      easeInSine: function (x, t, b, c, d) {
<a name="l10855"><span class="linenum">10855</span></a>          return -c * Math.<a class="phpfunction" onClick="logFunction('cos')" href="../../../../_functions/cos.html" onMouseOver="phpfuncPopup(event,'cos')">cos</a>(t/d * (Math.PI/2)) + c + b;
<a name="l10856"><span class="linenum">10856</span></a>      },
<a name="l10857"><span class="linenum">10857</span></a>      easeOutSine: function (x, t, b, c, d) {
<a name="l10858"><span class="linenum">10858</span></a>          return c * Math.<a class="phpfunction" onClick="logFunction('sin')" href="../../../../_functions/sin.html" onMouseOver="phpfuncPopup(event,'sin')">sin</a>(t/d * (Math.PI/2)) + b;
<a name="l10859"><span class="linenum">10859</span></a>      },
<a name="l10860"><span class="linenum">10860</span></a>      easeInOutSine: function (x, t, b, c, d) {
<a name="l10861"><span class="linenum">10861</span></a>          return -c/2 * (Math.<a class="phpfunction" onClick="logFunction('cos')" href="../../../../_functions/cos.html" onMouseOver="phpfuncPopup(event,'cos')">cos</a>(Math.PI*t/d) - 1) + b;
<a name="l10862"><span class="linenum">10862</span></a>      },
<a name="l10863"><span class="linenum">10863</span></a>      easeInExpo: function (x, t, b, c, d) {
<a name="l10864"><span class="linenum">10864</span></a>          return (t==0) ? b : c * Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(2, 10 * (t/d - 1)) + b;
<a name="l10865"><span class="linenum">10865</span></a>      },
<a name="l10866"><span class="linenum">10866</span></a>      easeOutExpo: function (x, t, b, c, d) {
<a name="l10867"><span class="linenum">10867</span></a>          return (t==d) ? b+c : c * (-Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(2, -10 * t/d) + 1) + b;
<a name="l10868"><span class="linenum">10868</span></a>      },
<a name="l10869"><span class="linenum">10869</span></a>      easeInOutExpo: function (x, t, b, c, d) {
<a name="l10870"><span class="linenum">10870</span></a>          if (t==0) return b;
<a name="l10871"><span class="linenum">10871</span></a>          if (t==d) return b+c;
<a name="l10872"><span class="linenum">10872</span></a>          if ((t/=d/2) &lt; 1) return c/2 * Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(2, 10 * (t - 1)) + b;
<a name="l10873"><span class="linenum">10873</span></a>          return c/2 * (-Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(2, -10 * --t) + 2) + b;
<a name="l10874"><span class="linenum">10874</span></a>      },
<a name="l10875"><span class="linenum">10875</span></a>      easeInCirc: function (x, t, b, c, d) {
<a name="l10876"><span class="linenum">10876</span></a>          return -c * (Math.<a class="phpfunction" onClick="logFunction('sqrt')" href="../../../../_functions/sqrt.html" onMouseOver="phpfuncPopup(event,'sqrt')">sqrt</a>(1 - (t/=d)*t) - 1) + b;
<a name="l10877"><span class="linenum">10877</span></a>      },
<a name="l10878"><span class="linenum">10878</span></a>      easeOutCirc: function (x, t, b, c, d) {
<a name="l10879"><span class="linenum">10879</span></a>          return c * Math.<a class="phpfunction" onClick="logFunction('sqrt')" href="../../../../_functions/sqrt.html" onMouseOver="phpfuncPopup(event,'sqrt')">sqrt</a>(1 - (t=t/d-1)*t) + b;
<a name="l10880"><span class="linenum">10880</span></a>      },
<a name="l10881"><span class="linenum">10881</span></a>      easeInOutCirc: function (x, t, b, c, d) {
<a name="l10882"><span class="linenum">10882</span></a>          if ((t/=d/2) &lt; 1) return -c/2 * (Math.<a class="phpfunction" onClick="logFunction('sqrt')" href="../../../../_functions/sqrt.html" onMouseOver="phpfuncPopup(event,'sqrt')">sqrt</a>(1 - t*t) - 1) + b;
<a name="l10883"><span class="linenum">10883</span></a>          return c/2 * (Math.<a class="phpfunction" onClick="logFunction('sqrt')" href="../../../../_functions/sqrt.html" onMouseOver="phpfuncPopup(event,'sqrt')">sqrt</a>(1 - (t-=2)*t) + 1) + b;
<a name="l10884"><span class="linenum">10884</span></a>      },
<a name="l10885"><span class="linenum">10885</span></a>      easeInElastic: function (x, t, b, c, d) {
<a name="l10886"><span class="linenum">10886</span></a>          var s=1.70158;var p=0;var a=c;
<a name="l10887"><span class="linenum">10887</span></a>          if (t==0) return b;  if ((t/=d)==1) return b+c;  if (!p) p=d*.3;
<a name="l10888"><span class="linenum">10888</span></a>          if (a &lt; Math.<a class="phpfunction" onClick="logFunction('abs')" href="../../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(c)) { a=c; var s=p/4; }
<a name="l10889"><span class="linenum">10889</span></a>          else var s = p/(2*Math.PI) * Math.<a class="phpfunction" onClick="logFunction('asin')" href="../../../../_functions/asin.html" onMouseOver="phpfuncPopup(event,'asin')">asin</a> (c/a);
<a name="l10890"><span class="linenum">10890</span></a>          return -(a*Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(2,10*(t-=1)) * Math.<a class="phpfunction" onClick="logFunction('sin')" href="../../../../_functions/sin.html" onMouseOver="phpfuncPopup(event,'sin')">sin</a>( (t*d-s)*(2*Math.PI)/p )) + b;
<a name="l10891"><span class="linenum">10891</span></a>      },
<a name="l10892"><span class="linenum">10892</span></a>      easeOutElastic: function (x, t, b, c, d) {
<a name="l10893"><span class="linenum">10893</span></a>          var s=1.70158;var p=0;var a=c;
<a name="l10894"><span class="linenum">10894</span></a>          if (t==0) return b;  if ((t/=d)==1) return b+c;  if (!p) p=d*.3;
<a name="l10895"><span class="linenum">10895</span></a>          if (a &lt; Math.<a class="phpfunction" onClick="logFunction('abs')" href="../../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(c)) { a=c; var s=p/4; }
<a name="l10896"><span class="linenum">10896</span></a>          else var s = p/(2*Math.PI) * Math.<a class="phpfunction" onClick="logFunction('asin')" href="../../../../_functions/asin.html" onMouseOver="phpfuncPopup(event,'asin')">asin</a> (c/a);
<a name="l10897"><span class="linenum">10897</span></a>          return a*Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(2,-10*t) * Math.<a class="phpfunction" onClick="logFunction('sin')" href="../../../../_functions/sin.html" onMouseOver="phpfuncPopup(event,'sin')">sin</a>( (t*d-s)*(2*Math.PI)/p ) + c + b;
<a name="l10898"><span class="linenum">10898</span></a>      },
<a name="l10899"><span class="linenum">10899</span></a>      easeInOutElastic: function (x, t, b, c, d) {
<a name="l10900"><span class="linenum">10900</span></a>          var s=1.70158;var p=0;var a=c;
<a name="l10901"><span class="linenum">10901</span></a>          if (t==0) return b;  if ((t/=d/2)==2) return b+c;  if (!p) p=d*(.3*1.5);
<a name="l10902"><span class="linenum">10902</span></a>          if (a &lt; Math.<a class="phpfunction" onClick="logFunction('abs')" href="../../../../_functions/abs.html" onMouseOver="phpfuncPopup(event,'abs')">abs</a>(c)) { a=c; var s=p/4; }
<a name="l10903"><span class="linenum">10903</span></a>          else var s = p/(2*Math.PI) * Math.<a class="phpfunction" onClick="logFunction('asin')" href="../../../../_functions/asin.html" onMouseOver="phpfuncPopup(event,'asin')">asin</a> (c/a);
<a name="l10904"><span class="linenum">10904</span></a>          if (t &lt; 1) return -.5*(a*Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(2,10*(t-=1)) * Math.<a class="phpfunction" onClick="logFunction('sin')" href="../../../../_functions/sin.html" onMouseOver="phpfuncPopup(event,'sin')">sin</a>( (t*d-s)*(2*Math.PI)/p )) + b;
<a name="l10905"><span class="linenum">10905</span></a>          return a*Math.<a class="phpfunction" onClick="logFunction('pow')" href="../../../../_functions/pow.html" onMouseOver="phpfuncPopup(event,'pow')">pow</a>(2,-10*(t-=1)) * Math.<a class="phpfunction" onClick="logFunction('sin')" href="../../../../_functions/sin.html" onMouseOver="phpfuncPopup(event,'sin')">sin</a>( (t*d-s)*(2*Math.PI)/p )*.5 + c + b;
<a name="l10906"><span class="linenum">10906</span></a>      },
<a name="l10907"><span class="linenum">10907</span></a>      easeInBack: function (x, t, b, c, d, s) {
<a name="l10908"><span class="linenum">10908</span></a>          if (s == undefined) s = 1.70158;
<a name="l10909"><span class="linenum">10909</span></a>          return c*(t/=d)*t*((s+1)*t - s) + b;
<a name="l10910"><span class="linenum">10910</span></a>      },
<a name="l10911"><span class="linenum">10911</span></a>      easeOutBack: function (x, t, b, c, d, s) {
<a name="l10912"><span class="linenum">10912</span></a>          if (s == undefined) s = 1.70158;
<a name="l10913"><span class="linenum">10913</span></a>          return c*((t=t/d-1)*t*((s+1)*t + s) + 1) + b;
<a name="l10914"><span class="linenum">10914</span></a>      },
<a name="l10915"><span class="linenum">10915</span></a>      easeInOutBack: function (x, t, b, c, d, s) {
<a name="l10916"><span class="linenum">10916</span></a>          if (s == undefined) s = 1.70158;
<a name="l10917"><span class="linenum">10917</span></a>          if ((t/=d/2) &lt; 1) return c/2*(t*t*(((s*=(1.525))+1)*t - s)) + b;
<a name="l10918"><span class="linenum">10918</span></a>          return c/2*((t-=2)*t*(((s*=(1.525))+1)*t + s) + 2) + b;
<a name="l10919"><span class="linenum">10919</span></a>      },
<a name="l10920"><span class="linenum">10920</span></a>      easeInBounce: function (x, t, b, c, d) {
<a name="l10921"><span class="linenum">10921</span></a>          return c - $.easing.easeOutBounce (x, d-t, 0, c, d) + b;
<a name="l10922"><span class="linenum">10922</span></a>      },
<a name="l10923"><span class="linenum">10923</span></a>      easeOutBounce: function (x, t, b, c, d) {
<a name="l10924"><span class="linenum">10924</span></a>          if ((t/=d) &lt; (1/2.75)) {
<a name="l10925"><span class="linenum">10925</span></a>              return c*(7.5625*t*t) + b;
<a name="l10926"><span class="linenum">10926</span></a>          } else if (t &lt; (2/2.75)) {
<a name="l10927"><span class="linenum">10927</span></a>              return c*(7.5625*(t-=(1.5/2.75))*t + .75) + b;
<a name="l10928"><span class="linenum">10928</span></a>          } else if (t &lt; (2.5/2.75)) {
<a name="l10929"><span class="linenum">10929</span></a>              return c*(7.5625*(t-=(2.25/2.75))*t + .9375) + b;
<a name="l10930"><span class="linenum">10930</span></a>          } else {
<a name="l10931"><span class="linenum">10931</span></a>              return c*(7.5625*(t-=(2.625/2.75))*t + .984375) + b;
<a name="l10932"><span class="linenum">10932</span></a>          }
<a name="l10933"><span class="linenum">10933</span></a>      },
<a name="l10934"><span class="linenum">10934</span></a>      easeInOutBounce: function (x, t, b, c, d) {
<a name="l10935"><span class="linenum">10935</span></a>          if (t &lt; d/2) return $.easing.easeInBounce (x, t*2, 0, c, d) * .5 + b;
<a name="l10936"><span class="linenum">10936</span></a>          return $.easing.easeOutBounce (x, t*2-d, 0, c, d) * .5 + c*.5 + b;
<a name="l10937"><span class="linenum">10937</span></a>      }
<a name="l10938"><span class="linenum">10938</span></a>  });
<a name="l10939"><span class="linenum">10939</span></a>  
<a name="l10940"><span class="linenum">10940</span></a>  <span class="comment">/*</span>
<a name="l10941"><span class="linenum">10941</span></a>  <span class="comment"> *</span>
<a name="l10942"><span class="linenum">10942</span></a>  <span class="comment"> * TERMS OF USE - EASING EQUATIONS</span>
<a name="l10943"><span class="linenum">10943</span></a>  <span class="comment"> *</span>
<a name="l10944"><span class="linenum">10944</span></a>  <span class="comment"> * Open source under the BSD License.</span>
<a name="l10945"><span class="linenum">10945</span></a>  <span class="comment"> *</span>
<a name="l10946"><span class="linenum">10946</span></a>  <span class="comment"> * Copyright 2001 Robert Penner</span>
<a name="l10947"><span class="linenum">10947</span></a>  <span class="comment"> * All rights reserved.</span>
<a name="l10948"><span class="linenum">10948</span></a>  <span class="comment"> *</span>
<a name="l10949"><span class="linenum">10949</span></a>  <span class="comment"> * Redistribution and use in source and binary forms, with or without modification,</span>
<a name="l10950"><span class="linenum">10950</span></a>  <span class="comment"> * are permitted provided that the following conditions are met:</span>
<a name="l10951"><span class="linenum">10951</span></a>  <span class="comment"> *</span>
<a name="l10952"><span class="linenum">10952</span></a>  <span class="comment"> * Redistributions of source code must retain the above copyright notice, this list of</span>
<a name="l10953"><span class="linenum">10953</span></a>  <span class="comment"> * conditions and the following disclaimer.</span>
<a name="l10954"><span class="linenum">10954</span></a>  <span class="comment"> * Redistributions in binary form must reproduce the above copyright notice, this list</span>
<a name="l10955"><span class="linenum">10955</span></a>  <span class="comment"> * of conditions and the following disclaimer in the documentation and/or other materials</span>
<a name="l10956"><span class="linenum">10956</span></a>  <span class="comment"> * provided with the distribution.</span>
<a name="l10957"><span class="linenum">10957</span></a>  <span class="comment"> *</span>
<a name="l10958"><span class="linenum">10958</span></a>  <span class="comment"> * Neither the name of the author nor the names of contributors may be used to endorse</span>
<a name="l10959"><span class="linenum">10959</span></a>  <span class="comment"> * or promote products derived from this software without specific prior written permission.</span>
<a name="l10960"><span class="linenum">10960</span></a>  <span class="comment"> *</span>
<a name="l10961"><span class="linenum">10961</span></a>  <span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot; AND ANY</span>
<a name="l10962"><span class="linenum">10962</span></a>  <span class="comment"> * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF</span>
<a name="l10963"><span class="linenum">10963</span></a>  <span class="comment"> * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE</span>
<a name="l10964"><span class="linenum">10964</span></a>  <span class="comment"> * COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,</span>
<a name="l10965"><span class="linenum">10965</span></a>  <span class="comment"> * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE</span>
<a name="l10966"><span class="linenum">10966</span></a>  <span class="comment"> * GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED</span>
<a name="l10967"><span class="linenum">10967</span></a>  <span class="comment"> * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING</span>
<a name="l10968"><span class="linenum">10968</span></a>  <span class="comment"> * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED</span>
<a name="l10969"><span class="linenum">10969</span></a>  <span class="comment"> * OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l10970"><span class="linenum">10970</span></a>  <span class="comment"> *</span>
<a name="l10971"><span class="linenum">10971</span></a>  <span class="comment"> */</span>
<a name="l10972"><span class="linenum">10972</span></a>  
<a name="l10973"><span class="linenum">10973</span></a>  })(jQuery);
<a name="l10974"><span class="linenum">10974</span></a>  <span class="comment">/*</span>
<a name="l10975"><span class="linenum">10975</span></a>  <span class="comment"> * jQuery UI Effects Blind 1.8.18</span>
<a name="l10976"><span class="linenum">10976</span></a>  <span class="comment"> *</span>
<a name="l10977"><span class="linenum">10977</span></a>  <span class="comment"> * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l10978"><span class="linenum">10978</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l10979"><span class="linenum">10979</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l10980"><span class="linenum">10980</span></a>  <span class="comment"> *</span>
<a name="l10981"><span class="linenum">10981</span></a>  <span class="comment"> * http://docs.jquery.com/UI/Effects/Blind</span>
<a name="l10982"><span class="linenum">10982</span></a>  <span class="comment"> *</span>
<a name="l10983"><span class="linenum">10983</span></a>  <span class="comment"> * Depends:</span>
<a name="l10984"><span class="linenum">10984</span></a>  <span class="comment"> *    jquery.effects.core.js</span>
<a name="l10985"><span class="linenum">10985</span></a>  <span class="comment"> */</span>
<a name="l10986"><span class="linenum">10986</span></a>  (function( $, undefined ) {
<a name="l10987"><span class="linenum">10987</span></a>  
<a name="l10988"><span class="linenum">10988</span></a>  $.effects.blind = function(o) {
<a name="l10989"><span class="linenum">10989</span></a>  
<a name="l10990"><span class="linenum">10990</span></a>      return this.queue(function() {
<a name="l10991"><span class="linenum">10991</span></a>  
<a name="l10992"><span class="linenum">10992</span></a>  <span class="comment">        // Create element</span>
<a name="l10993"><span class="linenum">10993</span></a>          var el = $(this), props = ['position','top','bottom','left','right'];
<a name="l10994"><span class="linenum">10994</span></a>  
<a name="l10995"><span class="linenum">10995</span></a>  <span class="comment">        // Set options</span>
<a name="l10996"><span class="linenum">10996</span></a>          var mode = $.effects.setMode(el, o.options.mode || 'hide'); <span class="comment">// Set Mode</span>
<a name="l10997"><span class="linenum">10997</span></a>          var direction = o.options.direction || 'vertical'; <span class="comment">// Default direction</span>
<a name="l10998"><span class="linenum">10998</span></a>  
<a name="l10999"><span class="linenum">10999</span></a>  <span class="comment">        // Adjust</span>
<a name="l11000"><span class="linenum">11000</span></a>          $.effects.<a class="function" onClick="logFunction('save')" href="../../../../_functions/save.html" onMouseOver="funcPopup(event,'save')">save</a>(el, props); el.show(); <span class="comment">// Save &amp; Show</span>
<a name="l11001"><span class="linenum">11001</span></a>          var wrapper = $.effects.createWrapper(el).css({overflow:'hidden'}); <span class="comment">// Create Wrapper</span>
<a name="l11002"><span class="linenum">11002</span></a>          var ref = (direction == 'vertical') ? 'height' : 'width';
<a name="l11003"><span class="linenum">11003</span></a>          var distance = (direction == 'vertical') ? wrapper.height() : wrapper.width();
<a name="l11004"><span class="linenum">11004</span></a>          if(mode == 'show') wrapper.css(ref, 0); <span class="comment">// Shift</span>
<a name="l11005"><span class="linenum">11005</span></a>  
<a name="l11006"><span class="linenum">11006</span></a>  <span class="comment">        // Animation</span>
<a name="l11007"><span class="linenum">11007</span></a>          var animation = {};
<a name="l11008"><span class="linenum">11008</span></a>          animation[ref] = mode == 'show' ? distance : 0;
<a name="l11009"><span class="linenum">11009</span></a>  
<a name="l11010"><span class="linenum">11010</span></a>  <span class="comment">        // Animate</span>
<a name="l11011"><span class="linenum">11011</span></a>          wrapper.animate(animation, o.duration, o.options.easing, function() {
<a name="l11012"><span class="linenum">11012</span></a>              if(mode == 'hide') el.hide(); <span class="comment">// Hide</span>
<a name="l11013"><span class="linenum">11013</span></a>              $.effects.restore(el, props); $.effects.removeWrapper(el); <span class="comment">// Restore</span>
<a name="l11014"><span class="linenum">11014</span></a>              if(o.callback) o.callback.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(el[0], arguments); <span class="comment">// Callback</span>
<a name="l11015"><span class="linenum">11015</span></a>              el.dequeue();
<a name="l11016"><span class="linenum">11016</span></a>          });
<a name="l11017"><span class="linenum">11017</span></a>  
<a name="l11018"><span class="linenum">11018</span></a>      });
<a name="l11019"><span class="linenum">11019</span></a>  
<a name="l11020"><span class="linenum">11020</span></a>  };
<a name="l11021"><span class="linenum">11021</span></a>  
<a name="l11022"><span class="linenum">11022</span></a>  })(jQuery);
<a name="l11023"><span class="linenum">11023</span></a>  <span class="comment">/*</span>
<a name="l11024"><span class="linenum">11024</span></a>  <span class="comment"> * jQuery UI Effects Bounce 1.8.18</span>
<a name="l11025"><span class="linenum">11025</span></a>  <span class="comment"> *</span>
<a name="l11026"><span class="linenum">11026</span></a>  <span class="comment"> * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l11027"><span class="linenum">11027</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l11028"><span class="linenum">11028</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l11029"><span class="linenum">11029</span></a>  <span class="comment"> *</span>
<a name="l11030"><span class="linenum">11030</span></a>  <span class="comment"> * http://docs.jquery.com/UI/Effects/Bounce</span>
<a name="l11031"><span class="linenum">11031</span></a>  <span class="comment"> *</span>
<a name="l11032"><span class="linenum">11032</span></a>  <span class="comment"> * Depends:</span>
<a name="l11033"><span class="linenum">11033</span></a>  <span class="comment"> *    jquery.effects.core.js</span>
<a name="l11034"><span class="linenum">11034</span></a>  <span class="comment"> */</span>
<a name="l11035"><span class="linenum">11035</span></a>  (function( $, undefined ) {
<a name="l11036"><span class="linenum">11036</span></a>  
<a name="l11037"><span class="linenum">11037</span></a>  $.effects.bounce = function(o) {
<a name="l11038"><span class="linenum">11038</span></a>  
<a name="l11039"><span class="linenum">11039</span></a>      return this.queue(function() {
<a name="l11040"><span class="linenum">11040</span></a>  
<a name="l11041"><span class="linenum">11041</span></a>  <span class="comment">        // Create element</span>
<a name="l11042"><span class="linenum">11042</span></a>          var el = $(this), props = ['position','top','bottom','left','right'];
<a name="l11043"><span class="linenum">11043</span></a>  
<a name="l11044"><span class="linenum">11044</span></a>  <span class="comment">        // Set options</span>
<a name="l11045"><span class="linenum">11045</span></a>          var mode = $.effects.setMode(el, o.options.mode || 'effect'); <span class="comment">// Set Mode</span>
<a name="l11046"><span class="linenum">11046</span></a>          var direction = o.options.direction || 'up'; <span class="comment">// Default direction</span>
<a name="l11047"><span class="linenum">11047</span></a>          var distance = o.options.distance || 20; <span class="comment">// Default distance</span>
<a name="l11048"><span class="linenum">11048</span></a>          var times = o.options.times || 5; <span class="comment">// Default # of times</span>
<a name="l11049"><span class="linenum">11049</span></a>          var speed = o.duration || 250; <span class="comment">// Default speed per bounce</span>
<a name="l11050"><span class="linenum">11050</span></a>          if (/show|hide/.test(mode)) props.push('opacity'); <span class="comment">// Avoid touching opacity to prevent clearType and PNG issues in IE</span>
<a name="l11051"><span class="linenum">11051</span></a>  
<a name="l11052"><span class="linenum">11052</span></a>  <span class="comment">        // Adjust</span>
<a name="l11053"><span class="linenum">11053</span></a>          $.effects.<a class="function" onClick="logFunction('save')" href="../../../../_functions/save.html" onMouseOver="funcPopup(event,'save')">save</a>(el, props); el.show(); <span class="comment">// Save &amp; Show</span>
<a name="l11054"><span class="linenum">11054</span></a>          $.effects.createWrapper(el); <span class="comment">// Create Wrapper</span>
<a name="l11055"><span class="linenum">11055</span></a>          var ref = (direction == 'up' || direction == 'down') ? 'top' : 'left';
<a name="l11056"><span class="linenum">11056</span></a>          var motion = (direction == 'up' || direction == 'left') ? 'pos' : 'neg';
<a name="l11057"><span class="linenum">11057</span></a>          var distance = o.options.distance || (ref == 'top' ? el.outerHeight({margin:true}) / 3 : el.outerWidth({margin:true}) / 3);
<a name="l11058"><span class="linenum">11058</span></a>          if (mode == 'show') el.css('opacity', 0).css(ref, motion == 'pos' ? -distance : distance); <span class="comment">// Shift</span>
<a name="l11059"><span class="linenum">11059</span></a>          if (mode == 'hide') distance = distance / (times * 2);
<a name="l11060"><span class="linenum">11060</span></a>          if (mode != 'hide') times--;
<a name="l11061"><span class="linenum">11061</span></a>  
<a name="l11062"><span class="linenum">11062</span></a>  <span class="comment">        // Animate</span>
<a name="l11063"><span class="linenum">11063</span></a>          if (mode == 'show') { // Show Bounce
<a name="l11064"><span class="linenum">11064</span></a>              var animation = {opacity: 1};
<a name="l11065"><span class="linenum">11065</span></a>              animation[ref] = (motion == 'pos' ? '+=' : '-=') + distance;
<a name="l11066"><span class="linenum">11066</span></a>              el.animate(animation, speed / 2, o.options.easing);
<a name="l11067"><span class="linenum">11067</span></a>              distance = distance / 2;
<a name="l11068"><span class="linenum">11068</span></a>              times--;
<a name="l11069"><span class="linenum">11069</span></a>          };
<a name="l11070"><span class="linenum">11070</span></a>          for (var i = 0; i &lt; times; i++) { // Bounces
<a name="l11071"><span class="linenum">11071</span></a>              var animation1 = {}, animation2 = {};
<a name="l11072"><span class="linenum">11072</span></a>              animation1[ref] = (motion == 'pos' ? '-=' : '+=') + distance;
<a name="l11073"><span class="linenum">11073</span></a>              animation2[ref] = (motion == 'pos' ? '+=' : '-=') + distance;
<a name="l11074"><span class="linenum">11074</span></a>              el.animate(animation1, speed / 2, o.options.easing).animate(animation2, speed / 2, o.options.easing);
<a name="l11075"><span class="linenum">11075</span></a>              distance = (mode == 'hide') ? distance * 2 : distance / 2;
<a name="l11076"><span class="linenum">11076</span></a>          };
<a name="l11077"><span class="linenum">11077</span></a>          if (mode == 'hide') { // Last Bounce
<a name="l11078"><span class="linenum">11078</span></a>              var animation = {opacity: 0};
<a name="l11079"><span class="linenum">11079</span></a>              animation[ref] = (motion == 'pos' ? '-=' : '+=')  + distance;
<a name="l11080"><span class="linenum">11080</span></a>              el.animate(animation, speed / 2, o.options.easing, function(){
<a name="l11081"><span class="linenum">11081</span></a>                  el.hide(); <span class="comment">// Hide</span>
<a name="l11082"><span class="linenum">11082</span></a>                  $.effects.restore(el, props); $.effects.removeWrapper(el); <span class="comment">// Restore</span>
<a name="l11083"><span class="linenum">11083</span></a>                  if(o.callback) o.callback.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments); <span class="comment">// Callback</span>
<a name="l11084"><span class="linenum">11084</span></a>              });
<a name="l11085"><span class="linenum">11085</span></a>          } else {
<a name="l11086"><span class="linenum">11086</span></a>              var animation1 = {}, animation2 = {};
<a name="l11087"><span class="linenum">11087</span></a>              animation1[ref] = (motion == 'pos' ? '-=' : '+=') + distance;
<a name="l11088"><span class="linenum">11088</span></a>              animation2[ref] = (motion == 'pos' ? '+=' : '-=') + distance;
<a name="l11089"><span class="linenum">11089</span></a>              el.animate(animation1, speed / 2, o.options.easing).animate(animation2, speed / 2, o.options.easing, function(){
<a name="l11090"><span class="linenum">11090</span></a>                  $.effects.restore(el, props); $.effects.removeWrapper(el); <span class="comment">// Restore</span>
<a name="l11091"><span class="linenum">11091</span></a>                  if(o.callback) o.callback.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments); <span class="comment">// Callback</span>
<a name="l11092"><span class="linenum">11092</span></a>              });
<a name="l11093"><span class="linenum">11093</span></a>          };
<a name="l11094"><span class="linenum">11094</span></a>          el.queue('fx', function() { el.dequeue(); });
<a name="l11095"><span class="linenum">11095</span></a>          el.dequeue();
<a name="l11096"><span class="linenum">11096</span></a>      });
<a name="l11097"><span class="linenum">11097</span></a>  
<a name="l11098"><span class="linenum">11098</span></a>  };
<a name="l11099"><span class="linenum">11099</span></a>  
<a name="l11100"><span class="linenum">11100</span></a>  })(jQuery);
<a name="l11101"><span class="linenum">11101</span></a>  <span class="comment">/*</span>
<a name="l11102"><span class="linenum">11102</span></a>  <span class="comment"> * jQuery UI Effects Clip 1.8.18</span>
<a name="l11103"><span class="linenum">11103</span></a>  <span class="comment"> *</span>
<a name="l11104"><span class="linenum">11104</span></a>  <span class="comment"> * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l11105"><span class="linenum">11105</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l11106"><span class="linenum">11106</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l11107"><span class="linenum">11107</span></a>  <span class="comment"> *</span>
<a name="l11108"><span class="linenum">11108</span></a>  <span class="comment"> * http://docs.jquery.com/UI/Effects/Clip</span>
<a name="l11109"><span class="linenum">11109</span></a>  <span class="comment"> *</span>
<a name="l11110"><span class="linenum">11110</span></a>  <span class="comment"> * Depends:</span>
<a name="l11111"><span class="linenum">11111</span></a>  <span class="comment"> *    jquery.effects.core.js</span>
<a name="l11112"><span class="linenum">11112</span></a>  <span class="comment"> */</span>
<a name="l11113"><span class="linenum">11113</span></a>  (function( $, undefined ) {
<a name="l11114"><span class="linenum">11114</span></a>  
<a name="l11115"><span class="linenum">11115</span></a>  $.effects.clip = function(o) {
<a name="l11116"><span class="linenum">11116</span></a>  
<a name="l11117"><span class="linenum">11117</span></a>      return this.queue(function() {
<a name="l11118"><span class="linenum">11118</span></a>  
<a name="l11119"><span class="linenum">11119</span></a>  <span class="comment">        // Create element</span>
<a name="l11120"><span class="linenum">11120</span></a>          var el = $(this), props = ['position','top','bottom','left','right','height','width'];
<a name="l11121"><span class="linenum">11121</span></a>  
<a name="l11122"><span class="linenum">11122</span></a>  <span class="comment">        // Set options</span>
<a name="l11123"><span class="linenum">11123</span></a>          var mode = $.effects.setMode(el, o.options.mode || 'hide'); <span class="comment">// Set Mode</span>
<a name="l11124"><span class="linenum">11124</span></a>          var direction = o.options.direction || 'vertical'; <span class="comment">// Default direction</span>
<a name="l11125"><span class="linenum">11125</span></a>  
<a name="l11126"><span class="linenum">11126</span></a>  <span class="comment">        // Adjust</span>
<a name="l11127"><span class="linenum">11127</span></a>          $.effects.<a class="function" onClick="logFunction('save')" href="../../../../_functions/save.html" onMouseOver="funcPopup(event,'save')">save</a>(el, props); el.show(); <span class="comment">// Save &amp; Show</span>
<a name="l11128"><span class="linenum">11128</span></a>          var wrapper = $.effects.createWrapper(el).css({overflow:'hidden'}); <span class="comment">// Create Wrapper</span>
<a name="l11129"><span class="linenum">11129</span></a>          var animate = el[0].tagName == 'IMG' ? wrapper : el;
<a name="l11130"><span class="linenum">11130</span></a>          var ref = {
<a name="l11131"><span class="linenum">11131</span></a>              size: (direction == 'vertical') ? 'height' : 'width',
<a name="l11132"><span class="linenum">11132</span></a>              position: (direction == 'vertical') ? 'top' : 'left'
<a name="l11133"><span class="linenum">11133</span></a>          };
<a name="l11134"><span class="linenum">11134</span></a>          var distance = (direction == 'vertical') ? animate.height() : animate.width();
<a name="l11135"><span class="linenum">11135</span></a>          if(mode == 'show') { animate.css(ref.size, 0); animate.css(ref.position, distance / 2); } <span class="comment">// Shift</span>
<a name="l11136"><span class="linenum">11136</span></a>  
<a name="l11137"><span class="linenum">11137</span></a>  <span class="comment">        // Animation</span>
<a name="l11138"><span class="linenum">11138</span></a>          var animation = {};
<a name="l11139"><span class="linenum">11139</span></a>          animation[ref.size] = mode == 'show' ? distance : 0;
<a name="l11140"><span class="linenum">11140</span></a>          animation[ref.position] = mode == 'show' ? 0 : distance / 2;
<a name="l11141"><span class="linenum">11141</span></a>  
<a name="l11142"><span class="linenum">11142</span></a>  <span class="comment">        // Animate</span>
<a name="l11143"><span class="linenum">11143</span></a>          animate.animate(animation, { queue: false, duration: o.duration, easing: o.options.easing, complete: function() {
<a name="l11144"><span class="linenum">11144</span></a>              if(mode == 'hide') el.hide(); <span class="comment">// Hide</span>
<a name="l11145"><span class="linenum">11145</span></a>              $.effects.restore(el, props); $.effects.removeWrapper(el); <span class="comment">// Restore</span>
<a name="l11146"><span class="linenum">11146</span></a>              if(o.callback) o.callback.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(el[0], arguments); <span class="comment">// Callback</span>
<a name="l11147"><span class="linenum">11147</span></a>              el.dequeue();
<a name="l11148"><span class="linenum">11148</span></a>          }});
<a name="l11149"><span class="linenum">11149</span></a>  
<a name="l11150"><span class="linenum">11150</span></a>      });
<a name="l11151"><span class="linenum">11151</span></a>  
<a name="l11152"><span class="linenum">11152</span></a>  };
<a name="l11153"><span class="linenum">11153</span></a>  
<a name="l11154"><span class="linenum">11154</span></a>  })(jQuery);
<a name="l11155"><span class="linenum">11155</span></a>  <span class="comment">/*</span>
<a name="l11156"><span class="linenum">11156</span></a>  <span class="comment"> * jQuery UI Effects Drop 1.8.18</span>
<a name="l11157"><span class="linenum">11157</span></a>  <span class="comment"> *</span>
<a name="l11158"><span class="linenum">11158</span></a>  <span class="comment"> * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l11159"><span class="linenum">11159</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l11160"><span class="linenum">11160</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l11161"><span class="linenum">11161</span></a>  <span class="comment"> *</span>
<a name="l11162"><span class="linenum">11162</span></a>  <span class="comment"> * http://docs.jquery.com/UI/Effects/Drop</span>
<a name="l11163"><span class="linenum">11163</span></a>  <span class="comment"> *</span>
<a name="l11164"><span class="linenum">11164</span></a>  <span class="comment"> * Depends:</span>
<a name="l11165"><span class="linenum">11165</span></a>  <span class="comment"> *    jquery.effects.core.js</span>
<a name="l11166"><span class="linenum">11166</span></a>  <span class="comment"> */</span>
<a name="l11167"><span class="linenum">11167</span></a>  (function( $, undefined ) {
<a name="l11168"><span class="linenum">11168</span></a>  
<a name="l11169"><span class="linenum">11169</span></a>  $.effects.drop = function(o) {
<a name="l11170"><span class="linenum">11170</span></a>  
<a name="l11171"><span class="linenum">11171</span></a>      return this.queue(function() {
<a name="l11172"><span class="linenum">11172</span></a>  
<a name="l11173"><span class="linenum">11173</span></a>  <span class="comment">        // Create element</span>
<a name="l11174"><span class="linenum">11174</span></a>          var el = $(this), props = ['position','top','bottom','left','right','opacity'];
<a name="l11175"><span class="linenum">11175</span></a>  
<a name="l11176"><span class="linenum">11176</span></a>  <span class="comment">        // Set options</span>
<a name="l11177"><span class="linenum">11177</span></a>          var mode = $.effects.setMode(el, o.options.mode || 'hide'); <span class="comment">// Set Mode</span>
<a name="l11178"><span class="linenum">11178</span></a>          var direction = o.options.direction || 'left'; <span class="comment">// Default Direction</span>
<a name="l11179"><span class="linenum">11179</span></a>  
<a name="l11180"><span class="linenum">11180</span></a>  <span class="comment">        // Adjust</span>
<a name="l11181"><span class="linenum">11181</span></a>          $.effects.<a class="function" onClick="logFunction('save')" href="../../../../_functions/save.html" onMouseOver="funcPopup(event,'save')">save</a>(el, props); el.show(); <span class="comment">// Save &amp; Show</span>
<a name="l11182"><span class="linenum">11182</span></a>          $.effects.createWrapper(el); <span class="comment">// Create Wrapper</span>
<a name="l11183"><span class="linenum">11183</span></a>          var ref = (direction == 'up' || direction == 'down') ? 'top' : 'left';
<a name="l11184"><span class="linenum">11184</span></a>          var motion = (direction == 'up' || direction == 'left') ? 'pos' : 'neg';
<a name="l11185"><span class="linenum">11185</span></a>          var distance = o.options.distance || (ref == 'top' ? el.outerHeight({margin:true}) / 2 : el.outerWidth({margin:true}) / 2);
<a name="l11186"><span class="linenum">11186</span></a>          if (mode == 'show') el.css('opacity', 0).css(ref, motion == 'pos' ? -distance : distance); <span class="comment">// Shift</span>
<a name="l11187"><span class="linenum">11187</span></a>  
<a name="l11188"><span class="linenum">11188</span></a>  <span class="comment">        // Animation</span>
<a name="l11189"><span class="linenum">11189</span></a>          var animation = {opacity: mode == 'show' ? 1 : 0};
<a name="l11190"><span class="linenum">11190</span></a>          animation[ref] = (mode == 'show' ? (motion == 'pos' ? '+=' : '-=') : (motion == 'pos' ? '-=' : '+=')) + distance;
<a name="l11191"><span class="linenum">11191</span></a>  
<a name="l11192"><span class="linenum">11192</span></a>  <span class="comment">        // Animate</span>
<a name="l11193"><span class="linenum">11193</span></a>          el.animate(animation, { queue: false, duration: o.duration, easing: o.options.easing, complete: function() {
<a name="l11194"><span class="linenum">11194</span></a>              if(mode == 'hide') el.hide(); <span class="comment">// Hide</span>
<a name="l11195"><span class="linenum">11195</span></a>              $.effects.restore(el, props); $.effects.removeWrapper(el); <span class="comment">// Restore</span>
<a name="l11196"><span class="linenum">11196</span></a>              if(o.callback) o.callback.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments); <span class="comment">// Callback</span>
<a name="l11197"><span class="linenum">11197</span></a>              el.dequeue();
<a name="l11198"><span class="linenum">11198</span></a>          }});
<a name="l11199"><span class="linenum">11199</span></a>  
<a name="l11200"><span class="linenum">11200</span></a>      });
<a name="l11201"><span class="linenum">11201</span></a>  
<a name="l11202"><span class="linenum">11202</span></a>  };
<a name="l11203"><span class="linenum">11203</span></a>  
<a name="l11204"><span class="linenum">11204</span></a>  })(jQuery);
<a name="l11205"><span class="linenum">11205</span></a>  <span class="comment">/*</span>
<a name="l11206"><span class="linenum">11206</span></a>  <span class="comment"> * jQuery UI Effects Explode 1.8.18</span>
<a name="l11207"><span class="linenum">11207</span></a>  <span class="comment"> *</span>
<a name="l11208"><span class="linenum">11208</span></a>  <span class="comment"> * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l11209"><span class="linenum">11209</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l11210"><span class="linenum">11210</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l11211"><span class="linenum">11211</span></a>  <span class="comment"> *</span>
<a name="l11212"><span class="linenum">11212</span></a>  <span class="comment"> * http://docs.jquery.com/UI/Effects/Explode</span>
<a name="l11213"><span class="linenum">11213</span></a>  <span class="comment"> *</span>
<a name="l11214"><span class="linenum">11214</span></a>  <span class="comment"> * Depends:</span>
<a name="l11215"><span class="linenum">11215</span></a>  <span class="comment"> *    jquery.effects.core.js</span>
<a name="l11216"><span class="linenum">11216</span></a>  <span class="comment"> */</span>
<a name="l11217"><span class="linenum">11217</span></a>  (function( $, undefined ) {
<a name="l11218"><span class="linenum">11218</span></a>  
<a name="l11219"><span class="linenum">11219</span></a>  $.effects.explode = function(o) {
<a name="l11220"><span class="linenum">11220</span></a>  
<a name="l11221"><span class="linenum">11221</span></a>      return this.queue(function() {
<a name="l11222"><span class="linenum">11222</span></a>  
<a name="l11223"><span class="linenum">11223</span></a>      var rows = o.options.pieces ? Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(Math.<a class="phpfunction" onClick="logFunction('sqrt')" href="../../../../_functions/sqrt.html" onMouseOver="phpfuncPopup(event,'sqrt')">sqrt</a>(o.options.pieces)) : 3;
<a name="l11224"><span class="linenum">11224</span></a>      var cells = o.options.pieces ? Math.<a class="phpfunction" onClick="logFunction('round')" href="../../../../_functions/round.html" onMouseOver="phpfuncPopup(event,'round')">round</a>(Math.<a class="phpfunction" onClick="logFunction('sqrt')" href="../../../../_functions/sqrt.html" onMouseOver="phpfuncPopup(event,'sqrt')">sqrt</a>(o.options.pieces)) : 3;
<a name="l11225"><span class="linenum">11225</span></a>  
<a name="l11226"><span class="linenum">11226</span></a>      o.options.mode = o.options.mode == 'toggle' ? ($(this).is(':visible') ? 'hide' : 'show') : o.options.mode;
<a name="l11227"><span class="linenum">11227</span></a>      var el = $(this).show().css('visibility', 'hidden');
<a name="l11228"><span class="linenum">11228</span></a>      var offset = el.offset();
<a name="l11229"><span class="linenum">11229</span></a>  
<a name="l11230"><span class="linenum">11230</span></a>  <span class="comment">    //Substract the margins - not fixing the problem yet.</span>
<a name="l11231"><span class="linenum">11231</span></a>      offset.top -= parseInt(el.css(&quot;marginTop&quot;),10) || 0;
<a name="l11232"><span class="linenum">11232</span></a>      offset.left -= parseInt(el.css(&quot;marginLeft&quot;),10) || 0;
<a name="l11233"><span class="linenum">11233</span></a>  
<a name="l11234"><span class="linenum">11234</span></a>      var width = el.outerWidth(true);
<a name="l11235"><span class="linenum">11235</span></a>      var height = el.outerHeight(true);
<a name="l11236"><span class="linenum">11236</span></a>  
<a name="l11237"><span class="linenum">11237</span></a>      for(var i=0;i&lt;rows;i++) { // =
<a name="l11238"><span class="linenum">11238</span></a>          for(var j=0;j&lt;cells;j++) { // ||
<a name="l11239"><span class="linenum">11239</span></a>              el
<a name="l11240"><span class="linenum">11240</span></a>                  .<a class="function" onClick="logFunction('clone')" href="../../../../_functions/clone.html" onMouseOver="funcPopup(event,'clone')">clone</a>()
<a name="l11241"><span class="linenum">11241</span></a>                  .appendTo('body')
<a name="l11242"><span class="linenum">11242</span></a>                  .<a class="function" onClick="logFunction('wrap')" href="../../../../_functions/wrap.html" onMouseOver="funcPopup(event,'wrap')">wrap</a>('&lt;div&gt;&lt;/div&gt;')
<a name="l11243"><span class="linenum">11243</span></a>                  .css({
<a name="l11244"><span class="linenum">11244</span></a>                      position: 'absolute',
<a name="l11245"><span class="linenum">11245</span></a>                      visibility: 'visible',
<a name="l11246"><span class="linenum">11246</span></a>                      left: -j*(width/cells),
<a name="l11247"><span class="linenum">11247</span></a>                      top: -i*(height/rows)
<a name="l11248"><span class="linenum">11248</span></a>                  })
<a name="l11249"><span class="linenum">11249</span></a>                  .parent()
<a name="l11250"><span class="linenum">11250</span></a>                  .addClass('ui-effects-explode')
<a name="l11251"><span class="linenum">11251</span></a>                  .css({
<a name="l11252"><span class="linenum">11252</span></a>                      position: 'absolute',
<a name="l11253"><span class="linenum">11253</span></a>                      overflow: 'hidden',
<a name="l11254"><span class="linenum">11254</span></a>                      width: width/cells,
<a name="l11255"><span class="linenum">11255</span></a>                      height: height/rows,
<a name="l11256"><span class="linenum">11256</span></a>                      left: offset.left + j*(width/cells) + (o.options.mode == 'show' ? (j-Math.<a class="phpfunction" onClick="logFunction('floor')" href="../../../../_functions/floor.html" onMouseOver="phpfuncPopup(event,'floor')">floor</a>(cells/2))*(width/cells) : 0),
<a name="l11257"><span class="linenum">11257</span></a>                      top: offset.top + i*(height/rows) + (o.options.mode == 'show' ? (i-Math.<a class="phpfunction" onClick="logFunction('floor')" href="../../../../_functions/floor.html" onMouseOver="phpfuncPopup(event,'floor')">floor</a>(rows/2))*(height/rows) : 0),
<a name="l11258"><span class="linenum">11258</span></a>                      opacity: o.options.mode == 'show' ? 0 : 1
<a name="l11259"><span class="linenum">11259</span></a>                  }).animate({
<a name="l11260"><span class="linenum">11260</span></a>                      left: offset.left + j*(width/cells) + (o.options.mode == 'show' ? 0 : (j-Math.<a class="phpfunction" onClick="logFunction('floor')" href="../../../../_functions/floor.html" onMouseOver="phpfuncPopup(event,'floor')">floor</a>(cells/2))*(width/cells)),
<a name="l11261"><span class="linenum">11261</span></a>                      top: offset.top + i*(height/rows) + (o.options.mode == 'show' ? 0 : (i-Math.<a class="phpfunction" onClick="logFunction('floor')" href="../../../../_functions/floor.html" onMouseOver="phpfuncPopup(event,'floor')">floor</a>(rows/2))*(height/rows)),
<a name="l11262"><span class="linenum">11262</span></a>                      opacity: o.options.mode == 'show' ? 1 : 0
<a name="l11263"><span class="linenum">11263</span></a>                  }, o.duration || 500);
<a name="l11264"><span class="linenum">11264</span></a>          }
<a name="l11265"><span class="linenum">11265</span></a>      }
<a name="l11266"><span class="linenum">11266</span></a>  
<a name="l11267"><span class="linenum">11267</span></a>  <span class="comment">    // Set a timeout, to call the callback approx. when the other animations have finished</span>
<a name="l11268"><span class="linenum">11268</span></a>      setTimeout(function() {
<a name="l11269"><span class="linenum">11269</span></a>  
<a name="l11270"><span class="linenum">11270</span></a>          o.options.mode == 'show' ? el.css({ visibility: 'visible' }) : el.css({ visibility: 'visible' }).hide();
<a name="l11271"><span class="linenum">11271</span></a>                  if(o.callback) o.callback.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(el[0]); <span class="comment">// Callback</span>
<a name="l11272"><span class="linenum">11272</span></a>                  el.dequeue();
<a name="l11273"><span class="linenum">11273</span></a>  
<a name="l11274"><span class="linenum">11274</span></a>                  $('div.ui-effects-explode').<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>();
<a name="l11275"><span class="linenum">11275</span></a>  
<a name="l11276"><span class="linenum">11276</span></a>      }, o.duration || 500);
<a name="l11277"><span class="linenum">11277</span></a>  
<a name="l11278"><span class="linenum">11278</span></a>  
<a name="l11279"><span class="linenum">11279</span></a>      });
<a name="l11280"><span class="linenum">11280</span></a>  
<a name="l11281"><span class="linenum">11281</span></a>  };
<a name="l11282"><span class="linenum">11282</span></a>  
<a name="l11283"><span class="linenum">11283</span></a>  })(jQuery);
<a name="l11284"><span class="linenum">11284</span></a>  <span class="comment">/*</span>
<a name="l11285"><span class="linenum">11285</span></a>  <span class="comment"> * jQuery UI Effects Fade 1.8.18</span>
<a name="l11286"><span class="linenum">11286</span></a>  <span class="comment"> *</span>
<a name="l11287"><span class="linenum">11287</span></a>  <span class="comment"> * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l11288"><span class="linenum">11288</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l11289"><span class="linenum">11289</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l11290"><span class="linenum">11290</span></a>  <span class="comment"> *</span>
<a name="l11291"><span class="linenum">11291</span></a>  <span class="comment"> * http://docs.jquery.com/UI/Effects/Fade</span>
<a name="l11292"><span class="linenum">11292</span></a>  <span class="comment"> *</span>
<a name="l11293"><span class="linenum">11293</span></a>  <span class="comment"> * Depends:</span>
<a name="l11294"><span class="linenum">11294</span></a>  <span class="comment"> *    jquery.effects.core.js</span>
<a name="l11295"><span class="linenum">11295</span></a>  <span class="comment"> */</span>
<a name="l11296"><span class="linenum">11296</span></a>  (function( $, undefined ) {
<a name="l11297"><span class="linenum">11297</span></a>  
<a name="l11298"><span class="linenum">11298</span></a>  $.effects.fade = function(o) {
<a name="l11299"><span class="linenum">11299</span></a>      return this.queue(function() {
<a name="l11300"><span class="linenum">11300</span></a>          var elem = $(this),
<a name="l11301"><span class="linenum">11301</span></a>              mode = $.effects.setMode(elem, o.options.mode || 'hide');
<a name="l11302"><span class="linenum">11302</span></a>  
<a name="l11303"><span class="linenum">11303</span></a>          elem.animate({ opacity: mode }, {
<a name="l11304"><span class="linenum">11304</span></a>              queue: false,
<a name="l11305"><span class="linenum">11305</span></a>              duration: o.duration,
<a name="l11306"><span class="linenum">11306</span></a>              easing: o.options.easing,
<a name="l11307"><span class="linenum">11307</span></a>              complete: function() {
<a name="l11308"><span class="linenum">11308</span></a>                  (o.callback &amp;&amp; o.callback.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments));
<a name="l11309"><span class="linenum">11309</span></a>                  elem.dequeue();
<a name="l11310"><span class="linenum">11310</span></a>              }
<a name="l11311"><span class="linenum">11311</span></a>          });
<a name="l11312"><span class="linenum">11312</span></a>      });
<a name="l11313"><span class="linenum">11313</span></a>  };
<a name="l11314"><span class="linenum">11314</span></a>  
<a name="l11315"><span class="linenum">11315</span></a>  })(jQuery);
<a name="l11316"><span class="linenum">11316</span></a>  <span class="comment">/*</span>
<a name="l11317"><span class="linenum">11317</span></a>  <span class="comment"> * jQuery UI Effects Fold 1.8.18</span>
<a name="l11318"><span class="linenum">11318</span></a>  <span class="comment"> *</span>
<a name="l11319"><span class="linenum">11319</span></a>  <span class="comment"> * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l11320"><span class="linenum">11320</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l11321"><span class="linenum">11321</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l11322"><span class="linenum">11322</span></a>  <span class="comment"> *</span>
<a name="l11323"><span class="linenum">11323</span></a>  <span class="comment"> * http://docs.jquery.com/UI/Effects/Fold</span>
<a name="l11324"><span class="linenum">11324</span></a>  <span class="comment"> *</span>
<a name="l11325"><span class="linenum">11325</span></a>  <span class="comment"> * Depends:</span>
<a name="l11326"><span class="linenum">11326</span></a>  <span class="comment"> *    jquery.effects.core.js</span>
<a name="l11327"><span class="linenum">11327</span></a>  <span class="comment"> */</span>
<a name="l11328"><span class="linenum">11328</span></a>  (function( $, undefined ) {
<a name="l11329"><span class="linenum">11329</span></a>  
<a name="l11330"><span class="linenum">11330</span></a>  $.effects.fold = function(o) {
<a name="l11331"><span class="linenum">11331</span></a>  
<a name="l11332"><span class="linenum">11332</span></a>      return this.queue(function() {
<a name="l11333"><span class="linenum">11333</span></a>  
<a name="l11334"><span class="linenum">11334</span></a>  <span class="comment">        // Create element</span>
<a name="l11335"><span class="linenum">11335</span></a>          var el = $(this), props = ['position','top','bottom','left','right'];
<a name="l11336"><span class="linenum">11336</span></a>  
<a name="l11337"><span class="linenum">11337</span></a>  <span class="comment">        // Set options</span>
<a name="l11338"><span class="linenum">11338</span></a>          var mode = $.effects.setMode(el, o.options.mode || 'hide'); <span class="comment">// Set Mode</span>
<a name="l11339"><span class="linenum">11339</span></a>          var size = o.options.size || 15; <span class="comment">// Default fold size</span>
<a name="l11340"><span class="linenum">11340</span></a>          var horizFirst = !(!o.options.horizFirst); <span class="comment">// Ensure a boolean value</span>
<a name="l11341"><span class="linenum">11341</span></a>          var duration = o.duration ? o.duration / 2 : $.fx.speeds._default / 2;
<a name="l11342"><span class="linenum">11342</span></a>  
<a name="l11343"><span class="linenum">11343</span></a>  <span class="comment">        // Adjust</span>
<a name="l11344"><span class="linenum">11344</span></a>          $.effects.<a class="function" onClick="logFunction('save')" href="../../../../_functions/save.html" onMouseOver="funcPopup(event,'save')">save</a>(el, props); el.show(); <span class="comment">// Save &amp; Show</span>
<a name="l11345"><span class="linenum">11345</span></a>          var wrapper = $.effects.createWrapper(el).css({overflow:'hidden'}); <span class="comment">// Create Wrapper</span>
<a name="l11346"><span class="linenum">11346</span></a>          var widthFirst = ((mode == 'show') != horizFirst);
<a name="l11347"><span class="linenum">11347</span></a>          var ref = widthFirst ? ['width', 'height'] : ['height', 'width'];
<a name="l11348"><span class="linenum">11348</span></a>          var distance = widthFirst ? [wrapper.width(), wrapper.height()] : [wrapper.height(), wrapper.width()];
<a name="l11349"><span class="linenum">11349</span></a>          var percent = /([0-9]+)%/.<a class="phpfunction" onClick="logFunction('exec')" href="../../../../_functions/exec.html" onMouseOver="phpfuncPopup(event,'exec')">exec</a>(size);
<a name="l11350"><span class="linenum">11350</span></a>          if(percent) size = parseInt(percent[1],10) / 100 * distance[mode == 'hide' ? 0 : 1];
<a name="l11351"><span class="linenum">11351</span></a>          if(mode == 'show') wrapper.css(horizFirst ? {height: 0, width: size} : {height: size, width: 0}); <span class="comment">// Shift</span>
<a name="l11352"><span class="linenum">11352</span></a>  
<a name="l11353"><span class="linenum">11353</span></a>  <span class="comment">        // Animation</span>
<a name="l11354"><span class="linenum">11354</span></a>          var animation1 = {}, animation2 = {};
<a name="l11355"><span class="linenum">11355</span></a>          animation1[ref[0]] = mode == 'show' ? distance[0] : size;
<a name="l11356"><span class="linenum">11356</span></a>          animation2[ref[1]] = mode == 'show' ? distance[1] : 0;
<a name="l11357"><span class="linenum">11357</span></a>  
<a name="l11358"><span class="linenum">11358</span></a>  <span class="comment">        // Animate</span>
<a name="l11359"><span class="linenum">11359</span></a>          wrapper.animate(animation1, duration, o.options.easing)
<a name="l11360"><span class="linenum">11360</span></a>          .animate(animation2, duration, o.options.easing, function() {
<a name="l11361"><span class="linenum">11361</span></a>              if(mode == 'hide') el.hide(); <span class="comment">// Hide</span>
<a name="l11362"><span class="linenum">11362</span></a>              $.effects.restore(el, props); $.effects.removeWrapper(el); <span class="comment">// Restore</span>
<a name="l11363"><span class="linenum">11363</span></a>              if(o.callback) o.callback.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(el[0], arguments); <span class="comment">// Callback</span>
<a name="l11364"><span class="linenum">11364</span></a>              el.dequeue();
<a name="l11365"><span class="linenum">11365</span></a>          });
<a name="l11366"><span class="linenum">11366</span></a>  
<a name="l11367"><span class="linenum">11367</span></a>      });
<a name="l11368"><span class="linenum">11368</span></a>  
<a name="l11369"><span class="linenum">11369</span></a>  };
<a name="l11370"><span class="linenum">11370</span></a>  
<a name="l11371"><span class="linenum">11371</span></a>  })(jQuery);
<a name="l11372"><span class="linenum">11372</span></a>  <span class="comment">/*</span>
<a name="l11373"><span class="linenum">11373</span></a>  <span class="comment"> * jQuery UI Effects Highlight 1.8.18</span>
<a name="l11374"><span class="linenum">11374</span></a>  <span class="comment"> *</span>
<a name="l11375"><span class="linenum">11375</span></a>  <span class="comment"> * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l11376"><span class="linenum">11376</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l11377"><span class="linenum">11377</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l11378"><span class="linenum">11378</span></a>  <span class="comment"> *</span>
<a name="l11379"><span class="linenum">11379</span></a>  <span class="comment"> * http://docs.jquery.com/UI/Effects/Highlight</span>
<a name="l11380"><span class="linenum">11380</span></a>  <span class="comment"> *</span>
<a name="l11381"><span class="linenum">11381</span></a>  <span class="comment"> * Depends:</span>
<a name="l11382"><span class="linenum">11382</span></a>  <span class="comment"> *    jquery.effects.core.js</span>
<a name="l11383"><span class="linenum">11383</span></a>  <span class="comment"> */</span>
<a name="l11384"><span class="linenum">11384</span></a>  (function( $, undefined ) {
<a name="l11385"><span class="linenum">11385</span></a>  
<a name="l11386"><span class="linenum">11386</span></a>  $.effects.highlight = function(o) {
<a name="l11387"><span class="linenum">11387</span></a>      return this.queue(function() {
<a name="l11388"><span class="linenum">11388</span></a>          var elem = $(this),
<a name="l11389"><span class="linenum">11389</span></a>              props = ['backgroundImage', 'backgroundColor', 'opacity'],
<a name="l11390"><span class="linenum">11390</span></a>              mode = $.effects.setMode(elem, o.options.mode || 'show'),
<a name="l11391"><span class="linenum">11391</span></a>              animation = {
<a name="l11392"><span class="linenum">11392</span></a>                  backgroundColor: elem.css('backgroundColor')
<a name="l11393"><span class="linenum">11393</span></a>              };
<a name="l11394"><span class="linenum">11394</span></a>  
<a name="l11395"><span class="linenum">11395</span></a>          if (mode == 'hide') {
<a name="l11396"><span class="linenum">11396</span></a>              animation.opacity = 0;
<a name="l11397"><span class="linenum">11397</span></a>          }
<a name="l11398"><span class="linenum">11398</span></a>  
<a name="l11399"><span class="linenum">11399</span></a>          $.effects.<a class="function" onClick="logFunction('save')" href="../../../../_functions/save.html" onMouseOver="funcPopup(event,'save')">save</a>(elem, props);
<a name="l11400"><span class="linenum">11400</span></a>          elem
<a name="l11401"><span class="linenum">11401</span></a>              .show()
<a name="l11402"><span class="linenum">11402</span></a>              .css({
<a name="l11403"><span class="linenum">11403</span></a>                  backgroundImage: 'none',
<a name="l11404"><span class="linenum">11404</span></a>                  backgroundColor: o.options.color || '#ffff99'
<a name="l11405"><span class="linenum">11405</span></a>              })
<a name="l11406"><span class="linenum">11406</span></a>              .animate(animation, {
<a name="l11407"><span class="linenum">11407</span></a>                  queue: false,
<a name="l11408"><span class="linenum">11408</span></a>                  duration: o.duration,
<a name="l11409"><span class="linenum">11409</span></a>                  easing: o.options.easing,
<a name="l11410"><span class="linenum">11410</span></a>                  complete: function() {
<a name="l11411"><span class="linenum">11411</span></a>                      (mode == 'hide' &amp;&amp; elem.hide());
<a name="l11412"><span class="linenum">11412</span></a>                      $.effects.restore(elem, props);
<a name="l11413"><span class="linenum">11413</span></a>                      (mode == 'show' &amp;&amp; !$.support.opacity &amp;&amp; this.style.removeAttribute('filter'));
<a name="l11414"><span class="linenum">11414</span></a>                      (o.callback &amp;&amp; o.callback.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments));
<a name="l11415"><span class="linenum">11415</span></a>                      elem.dequeue();
<a name="l11416"><span class="linenum">11416</span></a>                  }
<a name="l11417"><span class="linenum">11417</span></a>              });
<a name="l11418"><span class="linenum">11418</span></a>      });
<a name="l11419"><span class="linenum">11419</span></a>  };
<a name="l11420"><span class="linenum">11420</span></a>  
<a name="l11421"><span class="linenum">11421</span></a>  })(jQuery);
<a name="l11422"><span class="linenum">11422</span></a>  <span class="comment">/*</span>
<a name="l11423"><span class="linenum">11423</span></a>  <span class="comment"> * jQuery UI Effects Pulsate 1.8.18</span>
<a name="l11424"><span class="linenum">11424</span></a>  <span class="comment"> *</span>
<a name="l11425"><span class="linenum">11425</span></a>  <span class="comment"> * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l11426"><span class="linenum">11426</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l11427"><span class="linenum">11427</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l11428"><span class="linenum">11428</span></a>  <span class="comment"> *</span>
<a name="l11429"><span class="linenum">11429</span></a>  <span class="comment"> * http://docs.jquery.com/UI/Effects/Pulsate</span>
<a name="l11430"><span class="linenum">11430</span></a>  <span class="comment"> *</span>
<a name="l11431"><span class="linenum">11431</span></a>  <span class="comment"> * Depends:</span>
<a name="l11432"><span class="linenum">11432</span></a>  <span class="comment"> *    jquery.effects.core.js</span>
<a name="l11433"><span class="linenum">11433</span></a>  <span class="comment"> */</span>
<a name="l11434"><span class="linenum">11434</span></a>  (function( $, undefined ) {
<a name="l11435"><span class="linenum">11435</span></a>  
<a name="l11436"><span class="linenum">11436</span></a>  $.effects.pulsate = function(o) {
<a name="l11437"><span class="linenum">11437</span></a>      return this.queue(function() {
<a name="l11438"><span class="linenum">11438</span></a>          var elem = $(this),
<a name="l11439"><span class="linenum">11439</span></a>              mode = $.effects.setMode(elem, o.options.mode || 'show');
<a name="l11440"><span class="linenum">11440</span></a>              times = ((o.options.times || 5) * 2) - 1;
<a name="l11441"><span class="linenum">11441</span></a>              duration = o.duration ? o.duration / 2 : $.fx.speeds._default / 2,
<a name="l11442"><span class="linenum">11442</span></a>              isVisible = elem.is(':visible'),
<a name="l11443"><span class="linenum">11443</span></a>              animateTo = 0;
<a name="l11444"><span class="linenum">11444</span></a>  
<a name="l11445"><span class="linenum">11445</span></a>          if (!isVisible) {
<a name="l11446"><span class="linenum">11446</span></a>              elem.css('opacity', 0).show();
<a name="l11447"><span class="linenum">11447</span></a>              animateTo = 1;
<a name="l11448"><span class="linenum">11448</span></a>          }
<a name="l11449"><span class="linenum">11449</span></a>  
<a name="l11450"><span class="linenum">11450</span></a>          if ((mode == 'hide' &amp;&amp; isVisible) || (mode == 'show' &amp;&amp; !isVisible)) {
<a name="l11451"><span class="linenum">11451</span></a>              times--;
<a name="l11452"><span class="linenum">11452</span></a>          }
<a name="l11453"><span class="linenum">11453</span></a>  
<a name="l11454"><span class="linenum">11454</span></a>          for (var i = 0; i &lt; times; i++) {
<a name="l11455"><span class="linenum">11455</span></a>              elem.animate({ opacity: animateTo }, duration, o.options.easing);
<a name="l11456"><span class="linenum">11456</span></a>              animateTo = (animateTo + 1) % 2;
<a name="l11457"><span class="linenum">11457</span></a>          }
<a name="l11458"><span class="linenum">11458</span></a>  
<a name="l11459"><span class="linenum">11459</span></a>          elem.animate({ opacity: animateTo }, duration, o.options.easing, function() {
<a name="l11460"><span class="linenum">11460</span></a>              if (animateTo == 0) {
<a name="l11461"><span class="linenum">11461</span></a>                  elem.hide();
<a name="l11462"><span class="linenum">11462</span></a>              }
<a name="l11463"><span class="linenum">11463</span></a>              (o.callback &amp;&amp; o.callback.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments));
<a name="l11464"><span class="linenum">11464</span></a>          });
<a name="l11465"><span class="linenum">11465</span></a>  
<a name="l11466"><span class="linenum">11466</span></a>          elem
<a name="l11467"><span class="linenum">11467</span></a>              .queue('fx', function() { elem.dequeue(); })
<a name="l11468"><span class="linenum">11468</span></a>              .dequeue();
<a name="l11469"><span class="linenum">11469</span></a>      });
<a name="l11470"><span class="linenum">11470</span></a>  };
<a name="l11471"><span class="linenum">11471</span></a>  
<a name="l11472"><span class="linenum">11472</span></a>  })(jQuery);
<a name="l11473"><span class="linenum">11473</span></a>  <span class="comment">/*</span>
<a name="l11474"><span class="linenum">11474</span></a>  <span class="comment"> * jQuery UI Effects Scale 1.8.18</span>
<a name="l11475"><span class="linenum">11475</span></a>  <span class="comment"> *</span>
<a name="l11476"><span class="linenum">11476</span></a>  <span class="comment"> * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l11477"><span class="linenum">11477</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l11478"><span class="linenum">11478</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l11479"><span class="linenum">11479</span></a>  <span class="comment"> *</span>
<a name="l11480"><span class="linenum">11480</span></a>  <span class="comment"> * http://docs.jquery.com/UI/Effects/Scale</span>
<a name="l11481"><span class="linenum">11481</span></a>  <span class="comment"> *</span>
<a name="l11482"><span class="linenum">11482</span></a>  <span class="comment"> * Depends:</span>
<a name="l11483"><span class="linenum">11483</span></a>  <span class="comment"> *    jquery.effects.core.js</span>
<a name="l11484"><span class="linenum">11484</span></a>  <span class="comment"> */</span>
<a name="l11485"><span class="linenum">11485</span></a>  (function( $, undefined ) {
<a name="l11486"><span class="linenum">11486</span></a>  
<a name="l11487"><span class="linenum">11487</span></a>  $.effects.puff = function(o) {
<a name="l11488"><span class="linenum">11488</span></a>      return this.queue(function() {
<a name="l11489"><span class="linenum">11489</span></a>          var elem = $(this),
<a name="l11490"><span class="linenum">11490</span></a>              mode = $.effects.setMode(elem, o.options.mode || 'hide'),
<a name="l11491"><span class="linenum">11491</span></a>              percent = parseInt(o.options.percent, 10) || 150,
<a name="l11492"><span class="linenum">11492</span></a>              factor = percent / 100,
<a name="l11493"><span class="linenum">11493</span></a>              original = { height: elem.height(), width: elem.width() };
<a name="l11494"><span class="linenum">11494</span></a>  
<a name="l11495"><span class="linenum">11495</span></a>          $.extend(o.options, {
<a name="l11496"><span class="linenum">11496</span></a>              fade: true,
<a name="l11497"><span class="linenum">11497</span></a>              mode: mode,
<a name="l11498"><span class="linenum">11498</span></a>              percent: mode == 'hide' ? percent : 100,
<a name="l11499"><span class="linenum">11499</span></a>              from: mode == 'hide'
<a name="l11500"><span class="linenum">11500</span></a>                  ? original
<a name="l11501"><span class="linenum">11501</span></a>                  : {
<a name="l11502"><span class="linenum">11502</span></a>                      height: original.height * factor,
<a name="l11503"><span class="linenum">11503</span></a>                      width: original.width * factor
<a name="l11504"><span class="linenum">11504</span></a>                  }
<a name="l11505"><span class="linenum">11505</span></a>          });
<a name="l11506"><span class="linenum">11506</span></a>  
<a name="l11507"><span class="linenum">11507</span></a>          elem.effect('scale', o.options, o.duration, o.callback);
<a name="l11508"><span class="linenum">11508</span></a>          elem.dequeue();
<a name="l11509"><span class="linenum">11509</span></a>      });
<a name="l11510"><span class="linenum">11510</span></a>  };
<a name="l11511"><span class="linenum">11511</span></a>  
<a name="l11512"><span class="linenum">11512</span></a>  $.effects.scale = function(o) {
<a name="l11513"><span class="linenum">11513</span></a>  
<a name="l11514"><span class="linenum">11514</span></a>      return this.queue(function() {
<a name="l11515"><span class="linenum">11515</span></a>  
<a name="l11516"><span class="linenum">11516</span></a>  <span class="comment">        // Create element</span>
<a name="l11517"><span class="linenum">11517</span></a>          var el = $(this);
<a name="l11518"><span class="linenum">11518</span></a>  
<a name="l11519"><span class="linenum">11519</span></a>  <span class="comment">        // Set options</span>
<a name="l11520"><span class="linenum">11520</span></a>          var options = $.extend(true, {}, o.options);
<a name="l11521"><span class="linenum">11521</span></a>          var mode = $.effects.setMode(el, o.options.mode || 'effect'); <span class="comment">// Set Mode</span>
<a name="l11522"><span class="linenum">11522</span></a>          var percent = parseInt(o.options.percent,10) || (parseInt(o.options.percent,10) == 0 ? 0 : (mode == 'hide' ? 0 : 100)); <span class="comment">// Set default scaling percent</span>
<a name="l11523"><span class="linenum">11523</span></a>          var direction = o.options.direction || 'both'; <span class="comment">// Set default axis</span>
<a name="l11524"><span class="linenum">11524</span></a>          var origin = o.options.origin; <span class="comment">// The origin of the scaling</span>
<a name="l11525"><span class="linenum">11525</span></a>          if (mode != 'effect') { // Set default origin and restore for show/hide
<a name="l11526"><span class="linenum">11526</span></a>              options.origin = origin || ['middle','center'];
<a name="l11527"><span class="linenum">11527</span></a>              options.restore = true;
<a name="l11528"><span class="linenum">11528</span></a>          }
<a name="l11529"><span class="linenum">11529</span></a>          var original = {height: el.height(), width: el.width()}; <span class="comment">// Save original</span>
<a name="l11530"><span class="linenum">11530</span></a>          el.from = o.options.from || (mode == 'show' ? {height: 0, width: 0} : original); <span class="comment">// Default from state</span>
<a name="l11531"><span class="linenum">11531</span></a>  
<a name="l11532"><span class="linenum">11532</span></a>  <span class="comment">        // Adjust</span>
<a name="l11533"><span class="linenum">11533</span></a>          var factor = { // Set scaling factor
<a name="l11534"><span class="linenum">11534</span></a>              y: direction != 'horizontal' ? (percent / 100) : 1,
<a name="l11535"><span class="linenum">11535</span></a>              x: direction != 'vertical' ? (percent / 100) : 1
<a name="l11536"><span class="linenum">11536</span></a>          };
<a name="l11537"><span class="linenum">11537</span></a>          el.to = {height: original.height * factor.y, width: original.width * factor.x}; <span class="comment">// Set to state</span>
<a name="l11538"><span class="linenum">11538</span></a>  
<a name="l11539"><span class="linenum">11539</span></a>          if (o.options.fade) { // Fade option to support puff
<a name="l11540"><span class="linenum">11540</span></a>              if (mode == 'show') {el.from.opacity = 0; el.to.opacity = 1;};
<a name="l11541"><span class="linenum">11541</span></a>              if (mode == 'hide') {el.from.opacity = 1; el.to.opacity = 0;};
<a name="l11542"><span class="linenum">11542</span></a>          };
<a name="l11543"><span class="linenum">11543</span></a>  
<a name="l11544"><span class="linenum">11544</span></a>  <span class="comment">        // Animation</span>
<a name="l11545"><span class="linenum">11545</span></a>          options.from = el.from; options.to = el.to; options.mode = mode;
<a name="l11546"><span class="linenum">11546</span></a>  
<a name="l11547"><span class="linenum">11547</span></a>  <span class="comment">        // Animate</span>
<a name="l11548"><span class="linenum">11548</span></a>          el.effect('size', options, o.duration, o.callback);
<a name="l11549"><span class="linenum">11549</span></a>          el.dequeue();
<a name="l11550"><span class="linenum">11550</span></a>      });
<a name="l11551"><span class="linenum">11551</span></a>  
<a name="l11552"><span class="linenum">11552</span></a>  };
<a name="l11553"><span class="linenum">11553</span></a>  
<a name="l11554"><span class="linenum">11554</span></a>  $.effects.size = function(o) {
<a name="l11555"><span class="linenum">11555</span></a>  
<a name="l11556"><span class="linenum">11556</span></a>      return this.queue(function() {
<a name="l11557"><span class="linenum">11557</span></a>  
<a name="l11558"><span class="linenum">11558</span></a>  <span class="comment">        // Create element</span>
<a name="l11559"><span class="linenum">11559</span></a>          var el = $(this), props = ['position','top','bottom','left','right','width','height','overflow','opacity'];
<a name="l11560"><span class="linenum">11560</span></a>          var props1 = ['position','top','bottom','left','right','overflow','opacity']; <span class="comment">// Always restore</span>
<a name="l11561"><span class="linenum">11561</span></a>          var props2 = ['width','height','overflow']; <span class="comment">// Copy for children</span>
<a name="l11562"><span class="linenum">11562</span></a>          var cProps = ['fontSize'];
<a name="l11563"><span class="linenum">11563</span></a>          var vProps = ['borderTopWidth', 'borderBottomWidth', 'paddingTop', 'paddingBottom'];
<a name="l11564"><span class="linenum">11564</span></a>          var hProps = ['borderLeftWidth', 'borderRightWidth', 'paddingLeft', 'paddingRight'];
<a name="l11565"><span class="linenum">11565</span></a>  
<a name="l11566"><span class="linenum">11566</span></a>  <span class="comment">        // Set options</span>
<a name="l11567"><span class="linenum">11567</span></a>          var mode = $.effects.setMode(el, o.options.mode || 'effect'); <span class="comment">// Set Mode</span>
<a name="l11568"><span class="linenum">11568</span></a>          var restore = o.options.restore || false; <span class="comment">// Default restore</span>
<a name="l11569"><span class="linenum">11569</span></a>          var scale = o.options.scale || 'both'; <span class="comment">// Default scale mode</span>
<a name="l11570"><span class="linenum">11570</span></a>          var origin = o.options.origin; <span class="comment">// The origin of the sizing</span>
<a name="l11571"><span class="linenum">11571</span></a>          var original = {height: el.height(), width: el.width()}; <span class="comment">// Save original</span>
<a name="l11572"><span class="linenum">11572</span></a>          el.from = o.options.from || original; <span class="comment">// Default from state</span>
<a name="l11573"><span class="linenum">11573</span></a>          el.to = o.options.to || original; <span class="comment">// Default to state</span>
<a name="l11574"><span class="linenum">11574</span></a>  <span class="comment">        // Adjust</span>
<a name="l11575"><span class="linenum">11575</span></a>          if (origin) { // Calculate baseline shifts
<a name="l11576"><span class="linenum">11576</span></a>              var baseline = $.effects.getBaseline(origin, original);
<a name="l11577"><span class="linenum">11577</span></a>              el.from.top = (original.height - el.from.height) * baseline.y;
<a name="l11578"><span class="linenum">11578</span></a>              el.from.left = (original.width - el.from.width) * baseline.x;
<a name="l11579"><span class="linenum">11579</span></a>              el.to.top = (original.height - el.to.height) * baseline.y;
<a name="l11580"><span class="linenum">11580</span></a>              el.to.left = (original.width - el.to.width) * baseline.x;
<a name="l11581"><span class="linenum">11581</span></a>          };
<a name="l11582"><span class="linenum">11582</span></a>          var factor = { // Set scaling factor
<a name="l11583"><span class="linenum">11583</span></a>              from: {y: el.from.height / original.height, x: el.from.width / original.width},
<a name="l11584"><span class="linenum">11584</span></a>              to: {y: el.to.height / original.height, x: el.to.width / original.width}
<a name="l11585"><span class="linenum">11585</span></a>          };
<a name="l11586"><span class="linenum">11586</span></a>          if (scale == 'box' || scale == 'both') { // Scale the css box
<a name="l11587"><span class="linenum">11587</span></a>              if (factor.from.y != factor.to.y) { // Vertical props scaling
<a name="l11588"><span class="linenum">11588</span></a>                  props = props.concat(vProps);
<a name="l11589"><span class="linenum">11589</span></a>                  el.from = $.effects.setTransition(el, vProps, factor.from.y, el.from);
<a name="l11590"><span class="linenum">11590</span></a>                  el.to = $.effects.setTransition(el, vProps, factor.to.y, el.to);
<a name="l11591"><span class="linenum">11591</span></a>              };
<a name="l11592"><span class="linenum">11592</span></a>              if (factor.from.x != factor.to.x) { // Horizontal props scaling
<a name="l11593"><span class="linenum">11593</span></a>                  props = props.concat(hProps);
<a name="l11594"><span class="linenum">11594</span></a>                  el.from = $.effects.setTransition(el, hProps, factor.from.x, el.from);
<a name="l11595"><span class="linenum">11595</span></a>                  el.to = $.effects.setTransition(el, hProps, factor.to.x, el.to);
<a name="l11596"><span class="linenum">11596</span></a>              };
<a name="l11597"><span class="linenum">11597</span></a>          };
<a name="l11598"><span class="linenum">11598</span></a>          if (scale == 'content' || scale == 'both') { // Scale the content
<a name="l11599"><span class="linenum">11599</span></a>              if (factor.from.y != factor.to.y) { // Vertical props scaling
<a name="l11600"><span class="linenum">11600</span></a>                  props = props.concat(cProps);
<a name="l11601"><span class="linenum">11601</span></a>                  el.from = $.effects.setTransition(el, cProps, factor.from.y, el.from);
<a name="l11602"><span class="linenum">11602</span></a>                  el.to = $.effects.setTransition(el, cProps, factor.to.y, el.to);
<a name="l11603"><span class="linenum">11603</span></a>              };
<a name="l11604"><span class="linenum">11604</span></a>          };
<a name="l11605"><span class="linenum">11605</span></a>          $.effects.<a class="function" onClick="logFunction('save')" href="../../../../_functions/save.html" onMouseOver="funcPopup(event,'save')">save</a>(el, restore ? props : props1); el.show(); <span class="comment">// Save &amp; Show</span>
<a name="l11606"><span class="linenum">11606</span></a>          $.effects.createWrapper(el); <span class="comment">// Create Wrapper</span>
<a name="l11607"><span class="linenum">11607</span></a>          el.css('overflow','hidden').css(el.from); <span class="comment">// Shift</span>
<a name="l11608"><span class="linenum">11608</span></a>  
<a name="l11609"><span class="linenum">11609</span></a>  <span class="comment">        // Animate</span>
<a name="l11610"><span class="linenum">11610</span></a>          if (scale == 'content' || scale == 'both') { // Scale the children
<a name="l11611"><span class="linenum">11611</span></a>              vProps = vProps.concat(['marginTop','marginBottom']).concat(cProps); <span class="comment">// Add margins/font-size</span>
<a name="l11612"><span class="linenum">11612</span></a>              hProps = hProps.concat(['marginLeft','marginRight']); <span class="comment">// Add margins</span>
<a name="l11613"><span class="linenum">11613</span></a>              props2 = props.concat(vProps).concat(hProps); <span class="comment">// Concat</span>
<a name="l11614"><span class="linenum">11614</span></a>              el.<a class="function" onClick="logFunction('find')" href="../../../../_functions/find.html" onMouseOver="funcPopup(event,'find')">find</a>(&quot;*[width]&quot;).<a class="phpfunction" onClick="logFunction('each')" href="../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(function(){
<a name="l11615"><span class="linenum">11615</span></a>                  child = $(this);
<a name="l11616"><span class="linenum">11616</span></a>                  if (restore) $.effects.<a class="function" onClick="logFunction('save')" href="../../../../_functions/save.html" onMouseOver="funcPopup(event,'save')">save</a>(child, props2);
<a name="l11617"><span class="linenum">11617</span></a>                  var c_original = {height: child.height(), width: child.width()}; <span class="comment">// Save original</span>
<a name="l11618"><span class="linenum">11618</span></a>                  child.from = {height: c_original.height * factor.from.y, width: c_original.width * factor.from.x};
<a name="l11619"><span class="linenum">11619</span></a>                  child.to = {height: c_original.height * factor.to.y, width: c_original.width * factor.to.x};
<a name="l11620"><span class="linenum">11620</span></a>                  if (factor.from.y != factor.to.y) { // Vertical props scaling
<a name="l11621"><span class="linenum">11621</span></a>                      child.from = $.effects.setTransition(child, vProps, factor.from.y, child.from);
<a name="l11622"><span class="linenum">11622</span></a>                      child.to = $.effects.setTransition(child, vProps, factor.to.y, child.to);
<a name="l11623"><span class="linenum">11623</span></a>                  };
<a name="l11624"><span class="linenum">11624</span></a>                  if (factor.from.x != factor.to.x) { // Horizontal props scaling
<a name="l11625"><span class="linenum">11625</span></a>                      child.from = $.effects.setTransition(child, hProps, factor.from.x, child.from);
<a name="l11626"><span class="linenum">11626</span></a>                      child.to = $.effects.setTransition(child, hProps, factor.to.x, child.to);
<a name="l11627"><span class="linenum">11627</span></a>                  };
<a name="l11628"><span class="linenum">11628</span></a>                  child.css(child.from); <span class="comment">// Shift children</span>
<a name="l11629"><span class="linenum">11629</span></a>                  child.animate(child.to, o.duration, o.options.easing, function(){
<a name="l11630"><span class="linenum">11630</span></a>                      if (restore) $.effects.restore(child, props2); <span class="comment">// Restore children</span>
<a name="l11631"><span class="linenum">11631</span></a>                  }); <span class="comment">// Animate children</span>
<a name="l11632"><span class="linenum">11632</span></a>              });
<a name="l11633"><span class="linenum">11633</span></a>          };
<a name="l11634"><span class="linenum">11634</span></a>  
<a name="l11635"><span class="linenum">11635</span></a>  <span class="comment">        // Animate</span>
<a name="l11636"><span class="linenum">11636</span></a>          el.animate(el.to, { queue: false, duration: o.duration, easing: o.options.easing, complete: function() {
<a name="l11637"><span class="linenum">11637</span></a>              if (el.to.opacity === 0) {
<a name="l11638"><span class="linenum">11638</span></a>                  el.css('opacity', el.from.opacity);
<a name="l11639"><span class="linenum">11639</span></a>              }
<a name="l11640"><span class="linenum">11640</span></a>              if(mode == 'hide') el.hide(); <span class="comment">// Hide</span>
<a name="l11641"><span class="linenum">11641</span></a>              $.effects.restore(el, restore ? props : props1); $.effects.removeWrapper(el); <span class="comment">// Restore</span>
<a name="l11642"><span class="linenum">11642</span></a>              if(o.callback) o.callback.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments); <span class="comment">// Callback</span>
<a name="l11643"><span class="linenum">11643</span></a>              el.dequeue();
<a name="l11644"><span class="linenum">11644</span></a>          }});
<a name="l11645"><span class="linenum">11645</span></a>  
<a name="l11646"><span class="linenum">11646</span></a>      });
<a name="l11647"><span class="linenum">11647</span></a>  
<a name="l11648"><span class="linenum">11648</span></a>  };
<a name="l11649"><span class="linenum">11649</span></a>  
<a name="l11650"><span class="linenum">11650</span></a>  })(jQuery);
<a name="l11651"><span class="linenum">11651</span></a>  <span class="comment">/*</span>
<a name="l11652"><span class="linenum">11652</span></a>  <span class="comment"> * jQuery UI Effects Shake 1.8.18</span>
<a name="l11653"><span class="linenum">11653</span></a>  <span class="comment"> *</span>
<a name="l11654"><span class="linenum">11654</span></a>  <span class="comment"> * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l11655"><span class="linenum">11655</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l11656"><span class="linenum">11656</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l11657"><span class="linenum">11657</span></a>  <span class="comment"> *</span>
<a name="l11658"><span class="linenum">11658</span></a>  <span class="comment"> * http://docs.jquery.com/UI/Effects/Shake</span>
<a name="l11659"><span class="linenum">11659</span></a>  <span class="comment"> *</span>
<a name="l11660"><span class="linenum">11660</span></a>  <span class="comment"> * Depends:</span>
<a name="l11661"><span class="linenum">11661</span></a>  <span class="comment"> *    jquery.effects.core.js</span>
<a name="l11662"><span class="linenum">11662</span></a>  <span class="comment"> */</span>
<a name="l11663"><span class="linenum">11663</span></a>  (function( $, undefined ) {
<a name="l11664"><span class="linenum">11664</span></a>  
<a name="l11665"><span class="linenum">11665</span></a>  $.effects.shake = function(o) {
<a name="l11666"><span class="linenum">11666</span></a>  
<a name="l11667"><span class="linenum">11667</span></a>      return this.queue(function() {
<a name="l11668"><span class="linenum">11668</span></a>  
<a name="l11669"><span class="linenum">11669</span></a>  <span class="comment">        // Create element</span>
<a name="l11670"><span class="linenum">11670</span></a>          var el = $(this), props = ['position','top','bottom','left','right'];
<a name="l11671"><span class="linenum">11671</span></a>  
<a name="l11672"><span class="linenum">11672</span></a>  <span class="comment">        // Set options</span>
<a name="l11673"><span class="linenum">11673</span></a>          var mode = $.effects.setMode(el, o.options.mode || 'effect'); <span class="comment">// Set Mode</span>
<a name="l11674"><span class="linenum">11674</span></a>          var direction = o.options.direction || 'left'; <span class="comment">// Default direction</span>
<a name="l11675"><span class="linenum">11675</span></a>          var distance = o.options.distance || 20; <span class="comment">// Default distance</span>
<a name="l11676"><span class="linenum">11676</span></a>          var times = o.options.times || 3; <span class="comment">// Default # of times</span>
<a name="l11677"><span class="linenum">11677</span></a>          var speed = o.duration || o.options.duration || 140; <span class="comment">// Default speed per shake</span>
<a name="l11678"><span class="linenum">11678</span></a>  
<a name="l11679"><span class="linenum">11679</span></a>  <span class="comment">        // Adjust</span>
<a name="l11680"><span class="linenum">11680</span></a>          $.effects.<a class="function" onClick="logFunction('save')" href="../../../../_functions/save.html" onMouseOver="funcPopup(event,'save')">save</a>(el, props); el.show(); <span class="comment">// Save &amp; Show</span>
<a name="l11681"><span class="linenum">11681</span></a>          $.effects.createWrapper(el); <span class="comment">// Create Wrapper</span>
<a name="l11682"><span class="linenum">11682</span></a>          var ref = (direction == 'up' || direction == 'down') ? 'top' : 'left';
<a name="l11683"><span class="linenum">11683</span></a>          var motion = (direction == 'up' || direction == 'left') ? 'pos' : 'neg';
<a name="l11684"><span class="linenum">11684</span></a>  
<a name="l11685"><span class="linenum">11685</span></a>  <span class="comment">        // Animation</span>
<a name="l11686"><span class="linenum">11686</span></a>          var animation = {}, animation1 = {}, animation2 = {};
<a name="l11687"><span class="linenum">11687</span></a>          animation[ref] = (motion == 'pos' ? '-=' : '+=')  + distance;
<a name="l11688"><span class="linenum">11688</span></a>          animation1[ref] = (motion == 'pos' ? '+=' : '-=')  + distance * 2;
<a name="l11689"><span class="linenum">11689</span></a>          animation2[ref] = (motion == 'pos' ? '-=' : '+=')  + distance * 2;
<a name="l11690"><span class="linenum">11690</span></a>  
<a name="l11691"><span class="linenum">11691</span></a>  <span class="comment">        // Animate</span>
<a name="l11692"><span class="linenum">11692</span></a>          el.animate(animation, speed, o.options.easing);
<a name="l11693"><span class="linenum">11693</span></a>          for (var i = 1; i &lt; times; i++) { // Shakes
<a name="l11694"><span class="linenum">11694</span></a>              el.animate(animation1, speed, o.options.easing).animate(animation2, speed, o.options.easing);
<a name="l11695"><span class="linenum">11695</span></a>          };
<a name="l11696"><span class="linenum">11696</span></a>          el.animate(animation1, speed, o.options.easing).
<a name="l11697"><span class="linenum">11697</span></a>          animate(animation, speed / 2, o.options.easing, function(){ // Last shake
<a name="l11698"><span class="linenum">11698</span></a>              $.effects.restore(el, props); $.effects.removeWrapper(el); <span class="comment">// Restore</span>
<a name="l11699"><span class="linenum">11699</span></a>              if(o.callback) o.callback.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments); <span class="comment">// Callback</span>
<a name="l11700"><span class="linenum">11700</span></a>          });
<a name="l11701"><span class="linenum">11701</span></a>          el.queue('fx', function() { el.dequeue(); });
<a name="l11702"><span class="linenum">11702</span></a>          el.dequeue();
<a name="l11703"><span class="linenum">11703</span></a>      });
<a name="l11704"><span class="linenum">11704</span></a>  
<a name="l11705"><span class="linenum">11705</span></a>  };
<a name="l11706"><span class="linenum">11706</span></a>  
<a name="l11707"><span class="linenum">11707</span></a>  })(jQuery);
<a name="l11708"><span class="linenum">11708</span></a>  <span class="comment">/*</span>
<a name="l11709"><span class="linenum">11709</span></a>  <span class="comment"> * jQuery UI Effects Slide 1.8.18</span>
<a name="l11710"><span class="linenum">11710</span></a>  <span class="comment"> *</span>
<a name="l11711"><span class="linenum">11711</span></a>  <span class="comment"> * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l11712"><span class="linenum">11712</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l11713"><span class="linenum">11713</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l11714"><span class="linenum">11714</span></a>  <span class="comment"> *</span>
<a name="l11715"><span class="linenum">11715</span></a>  <span class="comment"> * http://docs.jquery.com/UI/Effects/Slide</span>
<a name="l11716"><span class="linenum">11716</span></a>  <span class="comment"> *</span>
<a name="l11717"><span class="linenum">11717</span></a>  <span class="comment"> * Depends:</span>
<a name="l11718"><span class="linenum">11718</span></a>  <span class="comment"> *    jquery.effects.core.js</span>
<a name="l11719"><span class="linenum">11719</span></a>  <span class="comment"> */</span>
<a name="l11720"><span class="linenum">11720</span></a>  (function( $, undefined ) {
<a name="l11721"><span class="linenum">11721</span></a>  
<a name="l11722"><span class="linenum">11722</span></a>  $.effects.slide = function(o) {
<a name="l11723"><span class="linenum">11723</span></a>  
<a name="l11724"><span class="linenum">11724</span></a>      return this.queue(function() {
<a name="l11725"><span class="linenum">11725</span></a>  
<a name="l11726"><span class="linenum">11726</span></a>  <span class="comment">        // Create element</span>
<a name="l11727"><span class="linenum">11727</span></a>          var el = $(this), props = ['position','top','bottom','left','right'];
<a name="l11728"><span class="linenum">11728</span></a>  
<a name="l11729"><span class="linenum">11729</span></a>  <span class="comment">        // Set options</span>
<a name="l11730"><span class="linenum">11730</span></a>          var mode = $.effects.setMode(el, o.options.mode || 'show'); <span class="comment">// Set Mode</span>
<a name="l11731"><span class="linenum">11731</span></a>          var direction = o.options.direction || 'left'; <span class="comment">// Default Direction</span>
<a name="l11732"><span class="linenum">11732</span></a>  
<a name="l11733"><span class="linenum">11733</span></a>  <span class="comment">        // Adjust</span>
<a name="l11734"><span class="linenum">11734</span></a>          $.effects.<a class="function" onClick="logFunction('save')" href="../../../../_functions/save.html" onMouseOver="funcPopup(event,'save')">save</a>(el, props); el.show(); <span class="comment">// Save &amp; Show</span>
<a name="l11735"><span class="linenum">11735</span></a>          $.effects.createWrapper(el).css({overflow:'hidden'}); <span class="comment">// Create Wrapper</span>
<a name="l11736"><span class="linenum">11736</span></a>          var ref = (direction == 'up' || direction == 'down') ? 'top' : 'left';
<a name="l11737"><span class="linenum">11737</span></a>          var motion = (direction == 'up' || direction == 'left') ? 'pos' : 'neg';
<a name="l11738"><span class="linenum">11738</span></a>          var distance = o.options.distance || (ref == 'top' ? el.outerHeight({margin:true}) : el.outerWidth({margin:true}));
<a name="l11739"><span class="linenum">11739</span></a>          if (mode == 'show') el.css(ref, motion == 'pos' ? (isNaN(distance) ? &quot;-&quot; + distance : -distance) : distance); <span class="comment">// Shift</span>
<a name="l11740"><span class="linenum">11740</span></a>  
<a name="l11741"><span class="linenum">11741</span></a>  <span class="comment">        // Animation</span>
<a name="l11742"><span class="linenum">11742</span></a>          var animation = {};
<a name="l11743"><span class="linenum">11743</span></a>          animation[ref] = (mode == 'show' ? (motion == 'pos' ? '+=' : '-=') : (motion == 'pos' ? '-=' : '+=')) + distance;
<a name="l11744"><span class="linenum">11744</span></a>  
<a name="l11745"><span class="linenum">11745</span></a>  <span class="comment">        // Animate</span>
<a name="l11746"><span class="linenum">11746</span></a>          el.animate(animation, { queue: false, duration: o.duration, easing: o.options.easing, complete: function() {
<a name="l11747"><span class="linenum">11747</span></a>              if(mode == 'hide') el.hide(); <span class="comment">// Hide</span>
<a name="l11748"><span class="linenum">11748</span></a>              $.effects.restore(el, props); $.effects.removeWrapper(el); <span class="comment">// Restore</span>
<a name="l11749"><span class="linenum">11749</span></a>              if(o.callback) o.callback.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(this, arguments); <span class="comment">// Callback</span>
<a name="l11750"><span class="linenum">11750</span></a>              el.dequeue();
<a name="l11751"><span class="linenum">11751</span></a>          }});
<a name="l11752"><span class="linenum">11752</span></a>  
<a name="l11753"><span class="linenum">11753</span></a>      });
<a name="l11754"><span class="linenum">11754</span></a>  
<a name="l11755"><span class="linenum">11755</span></a>  };
<a name="l11756"><span class="linenum">11756</span></a>  
<a name="l11757"><span class="linenum">11757</span></a>  })(jQuery);
<a name="l11758"><span class="linenum">11758</span></a>  <span class="comment">/*</span>
<a name="l11759"><span class="linenum">11759</span></a>  <span class="comment"> * jQuery UI Effects Transfer 1.8.18</span>
<a name="l11760"><span class="linenum">11760</span></a>  <span class="comment"> *</span>
<a name="l11761"><span class="linenum">11761</span></a>  <span class="comment"> * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)</span>
<a name="l11762"><span class="linenum">11762</span></a>  <span class="comment"> * Dual licensed under the MIT or GPL Version 2 licenses.</span>
<a name="l11763"><span class="linenum">11763</span></a>  <span class="comment"> * http://jquery.org/license</span>
<a name="l11764"><span class="linenum">11764</span></a>  <span class="comment"> *</span>
<a name="l11765"><span class="linenum">11765</span></a>  <span class="comment"> * http://docs.jquery.com/UI/Effects/Transfer</span>
<a name="l11766"><span class="linenum">11766</span></a>  <span class="comment"> *</span>
<a name="l11767"><span class="linenum">11767</span></a>  <span class="comment"> * Depends:</span>
<a name="l11768"><span class="linenum">11768</span></a>  <span class="comment"> *    jquery.effects.core.js</span>
<a name="l11769"><span class="linenum">11769</span></a>  <span class="comment"> */</span>
<a name="l11770"><span class="linenum">11770</span></a>  (function( $, undefined ) {
<a name="l11771"><span class="linenum">11771</span></a>  
<a name="l11772"><span class="linenum">11772</span></a>  $.effects.transfer = function(o) {
<a name="l11773"><span class="linenum">11773</span></a>      return this.queue(function() {
<a name="l11774"><span class="linenum">11774</span></a>          var elem = $(this),
<a name="l11775"><span class="linenum">11775</span></a>              target = $(o.options.to),
<a name="l11776"><span class="linenum">11776</span></a>              endPosition = target.offset(),
<a name="l11777"><span class="linenum">11777</span></a>              animation = {
<a name="l11778"><span class="linenum">11778</span></a>                  top: endPosition.top,
<a name="l11779"><span class="linenum">11779</span></a>                  left: endPosition.left,
<a name="l11780"><span class="linenum">11780</span></a>                  height: target.innerHeight(),
<a name="l11781"><span class="linenum">11781</span></a>                  width: target.innerWidth()
<a name="l11782"><span class="linenum">11782</span></a>              },
<a name="l11783"><span class="linenum">11783</span></a>              startPosition = elem.offset(),
<a name="l11784"><span class="linenum">11784</span></a>              transfer = $('&lt;div class=&quot;ui-effects-transfer&quot;&gt;&lt;/div&gt;')
<a name="l11785"><span class="linenum">11785</span></a>                  .appendTo(document.body)
<a name="l11786"><span class="linenum">11786</span></a>                  .addClass(o.options.className)
<a name="l11787"><span class="linenum">11787</span></a>                  .css({
<a name="l11788"><span class="linenum">11788</span></a>                      top: startPosition.top,
<a name="l11789"><span class="linenum">11789</span></a>                      left: startPosition.left,
<a name="l11790"><span class="linenum">11790</span></a>                      height: elem.innerHeight(),
<a name="l11791"><span class="linenum">11791</span></a>                      width: elem.innerWidth(),
<a name="l11792"><span class="linenum">11792</span></a>                      position: 'absolute'
<a name="l11793"><span class="linenum">11793</span></a>                  })
<a name="l11794"><span class="linenum">11794</span></a>                  .animate(animation, o.duration, o.options.easing, function() {
<a name="l11795"><span class="linenum">11795</span></a>                      transfer.<a class="function" onClick="logFunction('remove')" href="../../../../_functions/remove.html" onMouseOver="funcPopup(event,'remove')">remove</a>();
<a name="l11796"><span class="linenum">11796</span></a>                      (o.callback &amp;&amp; o.callback.<a class="function" onClick="logFunction('apply')" href="../../../../_functions/apply.html" onMouseOver="funcPopup(event,'apply')">apply</a>(elem[0], arguments));
<a name="l11797"><span class="linenum">11797</span></a>                      elem.dequeue();
<a name="l11798"><span class="linenum">11798</span></a>                  });
<a name="l11799"><span class="linenum">11799</span></a>      });
<a name="l11800"><span class="linenum">11800</span></a>  };
<a name="l11801"><span class="linenum">11801</span></a>  
<a name="l11802"><span class="linenum">11802</span></a>  })(jQuery);
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'getcolor': ['getcolor', '', [['blogs/rsc/js/jquery','jquery.ui.all.js',10284]], 0],
'text': ['text', 'Builds a text (or password) input field. ', [['blogs/inc/_core/ui/forms','_form.class.php',721]], 135],
'filteredui': ['filteredui', '', [['blogs/rsc/js/jquery','jquery.ui.all.js',6397],['blogs/rsc/js/jquery','jquery.ui.all.js',6438]], 6],
'extendremove': ['extendremove', '', [['blogs/rsc/js/jquery','jquery.ui.all.js',10045]], 7],
'styledifference': ['styledifference', '', [['blogs/rsc/js/jquery','jquery.ui.all.js',10425]], 1],
'load': ['load', 'Loads or reloads the filelist entries. ', [['blogs/inc/files/model','_filelist.class.php',300],['blogs/plugins/tinymce_plugin/tiny_mce','tiny_mce_gzip.js',88],['blogs/inc/users/model','_groupsettings.class.php',45]], 47],
'convert': ['convert', '', [['blogs/plugins/tinymce_plugin/tiny_mce','tiny_mce_src.js',16784]], 2],
'resetstyle': ['resetstyle', '', [['blogs/rsc/js/jquery','jquery.ui.all.js',7813]], 2],
'triggerhandler': ['triggerhandler', 'Trigger the relevant event handler The handlers are passed the original event, the element that was swiped, and in the case of the catch all handler, the direction that was swiped, "left", "right", "up", or "down" ', [['blogs/rsc/js/jquery','jquery.touchswipe.js',855]], 20],
'visible': ['visible', '', [['blogs/rsc/js/jquery','jquery.ui.all.js',200]], 2],
'select': ['select', 'Set SELECT clause ', [['blogs/inc/_core/model/db','_sql.class.php',194],['blogs/inc/_core/model/db','_db.class.php',466],['blogs/inc/_core/ui/forms','_form.class.php',1820]], 461],
'focusable': ['focusable', '', [['blogs/rsc/js/jquery','jquery.ui.all.js',179]], 2],
'open': ['open', '', [['blogs/inc/_ext/phpsvnclient','http.php',516]], 70],
'apply': ['apply', '', [['blogs/plugins/tinymce_plugin/tiny_mce','tiny_mce_src.js',15078]], 232],
'getname': ['getname', '', [['blogs/htsrv','quick_upload.php',83],['blogs/htsrv','quick_upload.php',115]], 8],
'widget': ['widget', 'Constructor ', [['blogs/inc/_core/ui','_uiwidget.class.php',73]], 45],
'value': ['value', 'Returns the value received by the server. ', [['blogs/inc/_ext/xmlrpc','_xmlrpc.inc.php',2013]], 33],
'add': ['add', 'Add object to cache, handling our own indices. ', [['blogs/inc/collections/model','_blogcache.class.php',69],['blogs/inc/users/model','_usercache.class.php',231],['blogs/inc/files/model','_filelist.class.php',392],['blogs/inc/_core/model','_log.class.php',124],['blogs/inc/_core/model','_log.class.php',593],['blogs/inc/files/model','_filetypecache.class.php',57],['blogs/inc/_ext/pclzip','pclzip.lib.php',455],['blogs/inc/_core/model/dataobjects','_dataobjectcache.class.php',356],['blogs/inc/users/model','_groupsettings.class.php',103],['blogs/inc/links/model','_linkcache.class.php',101],['blogs/inc/skins/model','_skincache.class.php',62],['blogs/inc/generic/model','_genericcategorycache.class.php',113],['blogs/inc/_core/model','_messages.class.php',121]], 2022],
'complete': ['complete', '', [['blogs/rsc/js/bootstrap','bootstrap.js',1336]], 4],
'remove': ['remove', '', [['blogs/plugins/tinymce_plugin/tiny_mce','tiny_mce_src.js',15439],['blogs/inc/files/model','_filelist.class.php',1063],['blogs/inc/links/model','_linkcache.class.php',152]], 350],
'datepicker': ['datepicker', '', [['blogs/rsc/js/jquery','jquery.ui.all.js',8301]], 5],
'create': ['create', 'Create a new blog... ', [['blogs/inc/collections/model','_blog.class.php',2207],['blogs/inc/_ext/pclzip','pclzip.lib.php',272],['blogs/inc/files/model','_file.class.php',339]], 157],
'contains': ['contains', 'Does the list contain a specific File? ', [['blogs/inc/files/model','_filelist.class.php',786]], 32],
'getnextlistid': ['getnextlistid', '', [['blogs/rsc/js/jquery','jquery.ui.all.js',7540]], 1],
'option': ['option', '', [['blogs/plugins/tinymce_plugin/tiny_mce/plugins/media/js','media.js',430]], 27],
'filterstyles': ['filterstyles', '', [['blogs/rsc/js/jquery','jquery.ui.all.js',10401]], 2],
'_init': ['_init', '', [['blogs/inc/_ext/phpsvnclient/ext/Diff','Diff3.php',267],['blogs/inc/_ext/phpsvnclient/ext/Diff/Diff','ThreeWay.php',267]], 10],
'size': ['size', '', [['blogs/rsc/js/multiupload','quick_upload.js',16]], 12],
'_normalizearguments': ['_normalizearguments', '', [['blogs/rsc/js/jquery','jquery.ui.all.js',10640]], 0],
'trigger': ['trigger', '', [['blogs/rsc/js/colorbox','jquery.colorbox.js',160],['blogs/rsc/js/bootstrap','typeahead.bundle.js',773]], 163],
'isarray': ['isarray', '', [['blogs/plugins/tinymce_plugin/tiny_mce','tiny_mce_src.js',14997],['blogs/rsc/js/jquery','jquery.ui.all.js',10054]], 38],
'match': ['match', '', [['blogs/plugins/tinymce_plugin/tiny_mce','tiny_mce_src.js',15692]], 153],
'unique': ['unique', '', [['blogs/rsc/js/bootstrap','typeahead.bundle.js',417]], 10],
'error': ['error', '', [['blogs/plugins/tinymce_plugin/tiny_mce','tiny_mce_src.js',8636],['blogs/plugins/tinymce_plugin/tiny_mce/plugins/spellchecker/includes','general.php',77],['blogs/plugins/tinymce_plugin/tiny_mce/plugins/spellchecker/classes/utils','Logger.php',156]], 81],
'reduce': ['reduce', '', [['blogs/rsc/js/jquery','jquery.ui.all.js',144]], 2],
'save': ['save', 'Save the file to the specified path ', [['blogs/htsrv','quick_upload.php',31],['blogs/htsrv','quick_upload.php',102]], 24],
'find': ['find', '', [['blogs/plugins/tinymce_plugin/tiny_mce','tiny_mce_src.js',12955],['blogs/plugins/tinymce_plugin/tiny_mce','tiny_mce_src.js',16252]], 285],
'stop': ['stop', '', [['blogs/plugins/tinymce_plugin/tiny_mce','tiny_mce_src.js',387],['blogs/inc/_core/model','_timer.class.php',96]], 166],
'button': ['button', 'Builds a button. ', [['blogs/inc/_core/ui/forms','_form.class.php',2592]], 29],
'hasclass': ['hasclass', '', [['blogs/plugins/tinymce_plugin/tiny_mce','tiny_mce_src.js',10995]], 173],
'toggle': ['toggle', '', [['blogs/plugins/tinymce_plugin/tiny_mce','tiny_mce_src.js',15621]], 16],
'replace': ['replace', '', [['blogs/plugins/tinymce_plugin/tiny_mce','tiny_mce_src.js',1682],['blogs/plugins/tinymce_plugin/tiny_mce/plugins/searchreplace/js','searchreplace.js',64]], 612],
'get': ['get', '', [['blogs/plugins/tinymce_plugin/tiny_mce','tiny_mce_src.js',941],['blogs/plugins/tinymce_plugin/tiny_mce','tiny_mce_src.js',15011],['blogs/plugins/tinymce_plugin/tiny_mce/plugins/media/js','media.js',7],['blogs/inc/links/model','_linkowner.class.php',221],['blogs/inc/_core/model/db','_sql.class.php',64],['blogs/inc/plugins/model','_pluginsettings.class.php',58],['blogs/inc/collections/model','_blog.class.php',1822],['blogs/inc/settings/model','_generalsettings.class.php',383],['blogs/inc/settings/model','_abstractsettings.class.php',271],['blogs/inc/plugins/model','_pluginusersettings.class.php',58],['blogs/inc/users/model','_user.class.php',1126],['blogs/plugins/tinymce_plugin/tiny_mce','tiny_mce_gzip.js',38],['blogs/inc/users/model','_usersettings.class.php',151],['blogs/inc/comments/model','_comment.class.php',301],['blogs/inc/users/model','_groupsettings.class.php',124],['blogs/inc/cron/model','_cronjob.class.php',104],['blogs/inc/items/model','_item.class.php',5742],['blogs/inc/sessions/model','_session.class.php',397],['blogs/inc/links/model','_linkuser.class.php',141],['blogs/inc/links/model','_linkitem.class.php',155],['blogs/inc/slugs/model','_slug.class.php',68],['blogs/inc/_core/model/dataobjects','_dataobject.class.php',574],['blogs/plugins/twitter_plugin/twitteroauth','twitteroauth.php',146],['blogs/inc/antispam/model','_iprange.class.php',69],['blogs/inc/links/model','_linkcomment.class.php',132],['blogs/inc/files/model','_file.class.php',532]], 2417],
'wrap': ['wrap', '', [['blogs/plugins/tinymce_plugin/tiny_mce','tiny_mce_src.js',15838]], 14],
'standardspeed': ['standardspeed', '', [['blogs/rsc/js/jquery','jquery.ui.all.js',10674]], 3],
'last': ['last', 'returns the last page number to be displayed in the list ', [['blogs/inc/_core/ui/results','_results.class.php',1874]], 8],
'hidden': ['hidden', 'Builds an hidden input tag, overwriting any previous hidden values (except for "foo[]"). ', [['blogs/inc/_core/ui/forms','_form.class.php',2657]], 600],
'first': ['first', 'Returns the first page number to be displayed in the list ', [['blogs/inc/_core/ui/results','_results.class.php',1854]], 15],
'getnexttabid': ['getnexttabid', '', [['blogs/rsc/js/jquery','jquery.ui.all.js',7536]], 1],
'getelementstyles': ['getelementstyles', '', [['blogs/rsc/js/jquery','jquery.ui.all.js',10370]], 0],
'bindhover': ['bindhover', '', [['blogs/rsc/js/jquery','jquery.ui.all.js',10022]], 5],
'getrgb': ['getrgb', '', [['blogs/rsc/js/jquery','jquery.ui.all.js',10253]], 1],
'close': ['close', '', [['blogs/inc/_ext/phpsvnclient','http.php',612]], 97],
'clone': ['clone', '', [['blogs/plugins/tinymce_plugin/tiny_mce/plugins/media/js','media.js',11]], 32],
'log': ['log', '', [], 56],
'substr': ['substr', '', [], 657],
'split': ['split', '', [], 314],
'floor': ['floor', '', [], 79],
'getdate': ['getdate', '', [], 21],
'trim': ['trim', '', [], 351],
'date': ['date', '', [], 361],
'pow': ['pow', '', [], 23],
'ceil': ['ceil', '', [], 36],
'cos': ['cos', '', [], 8],
'sin': ['sin', '', [], 9],
'round': ['round', '', [], 59],
'max': ['max', '', [], 97],
'prev': ['prev', '', [], 33],
'sort': ['sort', '', [], 34],
'end': ['end', '', [], 32],
'exec': ['exec', '', [], 108],
'asin': ['asin', '', [], 3],
'min': ['min', '', [], 79],
'abs': ['abs', '', [], 48],
'each': ['each', '', [], 579],
'next': ['next', '', [], 106],
'sqrt': ['sqrt', '', [], 13]};
CLASS_DATA={
};
CONST_DATA={
};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Sat Jul  5 12:18:44 2014</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
