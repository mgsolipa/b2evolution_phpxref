<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /blogs/inc/items/model/_itemquery.class.php source</title>
    <link rel="stylesheet" href="../../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Sat Jul  5 12:18:44 2014 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../../';
subdir='blogs/inc/items/model';
filename='_itemquery.class.php.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/blogs/inc/items/model/</a> -> <a href="_itemquery.class.php.html">_itemquery.class.php</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="_itemquery.class.php.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="_itemquery.class.php.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">/**</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment"> * This file implements the ItemQuery class.</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment"> *</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment"> * This file is part of the evoCore framework - {@link http://evocore.net/}</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment"> * See also {@link http://sourceforge.net/projects/evocms/}.</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment"> *</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment"> * @copyright (c)2003-2014 by Francois Planque - {@link http://fplanque.com/}</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment"> *</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment"> * {@internal License choice</span>
<a name="l11"><span class="linenum">  11</span></a>  <span class="comment"> * - If you have received this file as part of a package, please find the license.txt file in</span>
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment"> *   the same folder or the closest folder above for complete license terms.</span>
<a name="l13"><span class="linenum">  13</span></a>  <span class="comment"> * - If you have received this file individually (e-g: from http://evocms.cvs.sourceforge.net/)</span>
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment"> *   then you must choose one of the following licenses before using the file:</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment"> *   - GNU General Public License 2 (GPL) - http://www.opensource.org/licenses/gpl-license.php</span>
<a name="l16"><span class="linenum">  16</span></a>  <span class="comment"> *   - Mozilla Public License 1.1 (MPL) - http://www.opensource.org/licenses/mozilla1.1.php</span>
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment"> * }}</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment"> *</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment"> * {@internal Open Source relicensing agreement:</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment"> * }}</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment"> *</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment"> * @package evocore</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment"> *</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment"> * {@internal Below is a list of authors who have contributed to design/coding of this file: }}</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment"> * @author fplanque: Francois PLANQUE.</span>
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment"> *</span>
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment"> * @version $Id: _itemquery.class.php 6135 2014-03-08 07:54:05Z manuel $</span>
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment"> */</span>
<a name="l29"><span class="linenum">  29</span></a>  if( !<a class="phpfunction" onClick="logFunction('defined')" href="../../../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('EVO_MAIN_INIT')" href="../../../../_constants/EVO_MAIN_INIT.html" onMouseOver="constPopup(event,'EVO_MAIN_INIT')">EVO_MAIN_INIT</a>') ) die( 'Please, do not access this page directly.' );
<a name="l30"><span class="linenum">  30</span></a>  
<a name="l31"><span class="linenum">  31</span></a>  <a class="function" onClick="logFunction('load_class')" href="../../../../_functions/load_class.html" onMouseOver="funcPopup(event,'load_class')">load_class</a>( '_core/model/db/_sql.class.php', 'SQL' );
<a name="l32"><span class="linenum">  32</span></a>  
<a name="l33"><span class="linenum">  33</span></a>  <span class="comment">/**</span>
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment"> * ItemQuery: help constructing queries on Items</span>
<a name="l35"><span class="linenum">  35</span></a>  <span class="comment"> * @package evocore</span>
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment"> */</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('ItemQuery')" href="../../../../_classes/itemquery.html" onMouseOver="classPopup(event,'itemquery')">ItemQuery</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('SQL')" href="../../../../_classes/sql.html" onMouseOver="classPopup(event,'sql')">SQL</a>
<a name="l38"><span class="linenum">  38</span></a>  {
<a name="l39"><span class="linenum">  39</span></a>      var <a class="var it658" onMouseOver="hilite(658)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../../../_variables/p.html">$p</a>;
<a name="l40"><span class="linenum">  40</span></a>      var <a class="var it7363" onMouseOver="hilite(7363)" onMouseOut="lolite()" onClick="logVariable('pl')" href="../../../../_variables/pl.html">$pl</a>;
<a name="l41"><span class="linenum">  41</span></a>      var <a class="var it79" onMouseOver="hilite(79)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../../../_variables/title.html">$title</a>;
<a name="l42"><span class="linenum">  42</span></a>      var <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('blog')" href="../../../../_variables/blog.html">$blog</a>;
<a name="l43"><span class="linenum">  43</span></a>      var <a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('cat')" href="../../../../_variables/cat.html">$cat</a>;
<a name="l44"><span class="linenum">  44</span></a>      var <a class="var it563" onMouseOver="hilite(563)" onMouseOut="lolite()" onClick="logVariable('catsel')" href="../../../../_variables/catsel.html">$catsel</a>;
<a name="l45"><span class="linenum">  45</span></a>      var <a class="var it245" onMouseOver="hilite(245)" onMouseOut="lolite()" onClick="logVariable('show_statuses')" href="../../../../_variables/show_statuses.html">$show_statuses</a>;
<a name="l46"><span class="linenum">  46</span></a>      var <a class="var it791" onMouseOver="hilite(791)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../../../../_variables/tags.html">$tags</a>;
<a name="l47"><span class="linenum">  47</span></a>      var <a class="var it250" onMouseOver="hilite(250)" onMouseOut="lolite()" onClick="logVariable('author')" href="../../../../_variables/author.html">$author</a>;
<a name="l48"><span class="linenum">  48</span></a>      var <a class="var it823" onMouseOver="hilite(823)" onMouseOut="lolite()" onClick="logVariable('author_login')" href="../../../../_variables/author_login.html">$author_login</a>;
<a name="l49"><span class="linenum">  49</span></a>      var <a class="var it518" onMouseOver="hilite(518)" onMouseOut="lolite()" onClick="logVariable('assignees')" href="../../../../_variables/assignees.html">$assignees</a>;
<a name="l50"><span class="linenum">  50</span></a>      var <a class="var it7364" onMouseOver="hilite(7364)" onMouseOut="lolite()" onClick="logVariable('assignees_login')" href="../../../../_variables/assignees_login.html">$assignees_login</a>;
<a name="l51"><span class="linenum">  51</span></a>      var <a class="var it522" onMouseOver="hilite(522)" onMouseOut="lolite()" onClick="logVariable('statuses')" href="../../../../_variables/statuses.html">$statuses</a>;
<a name="l52"><span class="linenum">  52</span></a>      var <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('types')" href="../../../../_variables/types.html">$types</a>;
<a name="l53"><span class="linenum">  53</span></a>      var <a class="var it7365" onMouseOver="hilite(7365)" onMouseOut="lolite()" onClick="logVariable('dstart')" href="../../../../_variables/dstart.html">$dstart</a>;
<a name="l54"><span class="linenum">  54</span></a>      var <a class="var it7366" onMouseOver="hilite(7366)" onMouseOut="lolite()" onClick="logVariable('dstop')" href="../../../../_variables/dstop.html">$dstop</a>;
<a name="l55"><span class="linenum">  55</span></a>      var <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('timestamp_min')" href="../../../../_variables/timestamp_min.html">$timestamp_min</a>;
<a name="l56"><span class="linenum">  56</span></a>      var <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('timestamp_max')" href="../../../../_variables/timestamp_max.html">$timestamp_max</a>;
<a name="l57"><span class="linenum">  57</span></a>      var <a class="var it511" onMouseOver="hilite(511)" onMouseOut="lolite()" onClick="logVariable('keywords')" href="../../../../_variables/keywords.html">$keywords</a>;
<a name="l58"><span class="linenum">  58</span></a>      var <a class="var it3359" onMouseOver="hilite(3359)" onMouseOut="lolite()" onClick="logVariable('phrase')" href="../../../../_variables/phrase.html">$phrase</a>;
<a name="l59"><span class="linenum">  59</span></a>      var <a class="var it3360" onMouseOver="hilite(3360)" onMouseOut="lolite()" onClick="logVariable('exact')" href="../../../../_variables/exact.html">$exact</a>;
<a name="l60"><span class="linenum">  60</span></a>      var <a class="var it91" onMouseOver="hilite(91)" onMouseOut="lolite()" onClick="logVariable('featured')" href="../../../../_variables/featured.html">$featured</a>;
<a name="l61"><span class="linenum">  61</span></a>  
<a name="l62"><span class="linenum">  62</span></a>  
<a name="l63"><span class="linenum">  63</span></a>      <span class="comment">/**</span>
<a name="l64"><span class="linenum">  64</span></a>  <span class="comment">     * Constructor.</span>
<a name="l65"><span class="linenum">  65</span></a>  <span class="comment">     *</span>
<a name="l66"><span class="linenum">  66</span></a>  <span class="comment">     * @param string Name of table in database</span>
<a name="l67"><span class="linenum">  67</span></a>  <span class="comment">     * @param string Prefix of fields in the table</span>
<a name="l68"><span class="linenum">  68</span></a>  <span class="comment">     * @param string Name of the ID field (including prefix)</span>
<a name="l69"><span class="linenum">  69</span></a>  <span class="comment">     */</span>
<a name="l70"><span class="linenum">  70</span></a>  	function <a class="function" onClick="logFunction('ItemQuery')" href="../../../../_functions/itemquery.html" onMouseOver="funcPopup(event,'itemquery')">ItemQuery</a>( <a class="var it117" onMouseOver="hilite(117)" onMouseOut="lolite()" onClick="logVariable('dbtablename')" href="../../../../_variables/dbtablename.html">$dbtablename</a>, <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('dbprefix')" href="../../../../_variables/dbprefix.html">$dbprefix</a> = '', <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('dbIDname')" href="../../../../_variables/dbIDname.html">$dbIDname</a> )
<a name="l71"><span class="linenum">  71</span></a>      {
<a name="l72"><span class="linenum">  72</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbtablename')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbtablename.html">dbtablename</a> = <a class="var it117" onMouseOver="hilite(117)" onMouseOut="lolite()" onClick="logVariable('dbtablename')" href="../../../../_variables/dbtablename.html">$dbtablename</a>;
<a name="l73"><span class="linenum">  73</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a> = <a class="var it118" onMouseOver="hilite(118)" onMouseOut="lolite()" onClick="logVariable('dbprefix')" href="../../../../_variables/dbprefix.html">$dbprefix</a>;
<a name="l74"><span class="linenum">  74</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbIDname')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbIDname.html">dbIDname</a> = <a class="var it119" onMouseOver="hilite(119)" onMouseOut="lolite()" onClick="logVariable('dbIDname')" href="../../../../_variables/dbIDname.html">$dbIDname</a>;
<a name="l75"><span class="linenum">  75</span></a>  
<a name="l76"><span class="linenum">  76</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('FROM')" href="../../../../_functions/from.html" onMouseOver="funcPopup(event,'from')">FROM</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbtablename')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbtablename.html">dbtablename</a> );
<a name="l77"><span class="linenum">  77</span></a>      }
<a name="l78"><span class="linenum">  78</span></a>  
<a name="l79"><span class="linenum">  79</span></a>  
<a name="l80"><span class="linenum">  80</span></a>      <span class="comment">/**</span>
<a name="l81"><span class="linenum">  81</span></a>  <span class="comment">     * Restrict to a specific post</span>
<a name="l82"><span class="linenum">  82</span></a>  <span class="comment">     */</span>
<a name="l83"><span class="linenum">  83</span></a>  	function <a class="function" onClick="logFunction('where_ID')" href="../../../../_functions/where_id.html" onMouseOver="funcPopup(event,'where_id')">where_ID</a>( <a class="var it658" onMouseOver="hilite(658)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../../../_variables/p.html">$p</a> = '', <a class="var it79" onMouseOver="hilite(79)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../../../_variables/title.html">$title</a> = '' )
<a name="l84"><span class="linenum">  84</span></a>      {
<a name="l85"><span class="linenum">  85</span></a>          <a class="var it65" onMouseOver="hilite(65)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../../_variables/r.html">$r</a> = false;
<a name="l86"><span class="linenum">  86</span></a>  
<a name="l87"><span class="linenum">  87</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('p')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/p.html">p</a> = <a class="var it658" onMouseOver="hilite(658)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../../../_variables/p.html">$p</a>;
<a name="l88"><span class="linenum">  88</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('title')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/title.html">title</a> = <a class="var it79" onMouseOver="hilite(79)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../../../_variables/title.html">$title</a>;
<a name="l89"><span class="linenum">  89</span></a>  
<a name="l90"><span class="linenum">  90</span></a>  <span class="comment">        // if a post number is specified, load that post</span>
<a name="l91"><span class="linenum">  91</span></a>          if( !empty(<a class="var it658" onMouseOver="hilite(658)" onMouseOut="lolite()" onClick="logVariable('p')" href="../../../../_variables/p.html">$p</a>) )
<a name="l92"><span class="linenum">  92</span></a>          {
<a name="l93"><span class="linenum">  93</span></a>              if( <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('p')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/p.html">p</a>, 0, 1 ) == '-' )
<a name="l94"><span class="linenum">  94</span></a>              {    // Starts with MINUS sign:
<a name="l95"><span class="linenum">  95</span></a>                  <a class="var it7367" onMouseOver="hilite(7367)" onMouseOut="lolite()" onClick="logVariable('eq_p')" href="../../../../_variables/eq_p.html">$eq_p</a> = ' &lt;&gt; ';
<a name="l96"><span class="linenum">  96</span></a>                  <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('p')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/p.html">p</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('p')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/p.html">p</a>, 1 );
<a name="l97"><span class="linenum">  97</span></a>              }
<a name="l98"><span class="linenum">  98</span></a>              else
<a name="l99"><span class="linenum">  99</span></a>              {
<a name="l100"><span class="linenum"> 100</span></a>                  <a class="var it7367" onMouseOver="hilite(7367)" onMouseOut="lolite()" onClick="logVariable('eq_p')" href="../../../../_variables/eq_p.html">$eq_p</a> = ' = ';
<a name="l101"><span class="linenum"> 101</span></a>              }
<a name="l102"><span class="linenum"> 102</span></a>  
<a name="l103"><span class="linenum"> 103</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbIDname')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbIDname.html">dbIDname</a>.<a class="var it7367" onMouseOver="hilite(7367)" onMouseOut="lolite()" onClick="logVariable('eq_p')" href="../../../../_variables/eq_p.html">$eq_p</a>.<a class="phpfunction" onClick="logFunction('intval')" href="../../../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('p')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/p.html">p</a>) );
<a name="l104"><span class="linenum"> 104</span></a>              <a class="var it65" onMouseOver="hilite(65)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../../_variables/r.html">$r</a> = true;
<a name="l105"><span class="linenum"> 105</span></a>          }
<a name="l106"><span class="linenum"> 106</span></a>  
<a name="l107"><span class="linenum"> 107</span></a>  <span class="comment">        // if a post urltitle is specified, load that post</span>
<a name="l108"><span class="linenum"> 108</span></a>          if( !empty( <a class="var it79" onMouseOver="hilite(79)" onMouseOut="lolite()" onClick="logVariable('title')" href="../../../../_variables/title.html">$title</a> ) )
<a name="l109"><span class="linenum"> 109</span></a>          {
<a name="l110"><span class="linenum"> 110</span></a>              if( <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('title')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/title.html">title</a>, 0, 1 ) == '-' )
<a name="l111"><span class="linenum"> 111</span></a>              {    // Starts with MINUS sign:
<a name="l112"><span class="linenum"> 112</span></a>                  <a class="var it7368" onMouseOver="hilite(7368)" onMouseOut="lolite()" onClick="logVariable('eq_title')" href="../../../../_variables/eq_title.html">$eq_title</a> = ' &lt;&gt; ';
<a name="l113"><span class="linenum"> 113</span></a>                  <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('title')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/title.html">title</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('title')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/title.html">title</a>, 1 );
<a name="l114"><span class="linenum"> 114</span></a>              }
<a name="l115"><span class="linenum"> 115</span></a>              else
<a name="l116"><span class="linenum"> 116</span></a>              {
<a name="l117"><span class="linenum"> 117</span></a>                  <a class="var it7368" onMouseOver="hilite(7368)" onMouseOut="lolite()" onClick="logVariable('eq_title')" href="../../../../_variables/eq_title.html">$eq_title</a> = ' = ';
<a name="l118"><span class="linenum"> 118</span></a>              }
<a name="l119"><span class="linenum"> 119</span></a>  
<a name="l120"><span class="linenum"> 120</span></a>              global <a class="var it12" onMouseOver="hilite(12)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>;
<a name="l121"><span class="linenum"> 121</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'urltitle'.<a class="var it7368" onMouseOver="hilite(7368)" onMouseOut="lolite()" onClick="logVariable('eq_title')" href="../../../../_variables/eq_title.html">$eq_title</a>.<a class="var it12" onMouseOver="hilite(12)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('quote')" href="../../../../_functions/quote.html" onMouseOver="funcPopup(event,'quote')">quote</a>(<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('title')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/title.html">title</a>) );
<a name="l122"><span class="linenum"> 122</span></a>              <a class="var it65" onMouseOver="hilite(65)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../../_variables/r.html">$r</a> = true;
<a name="l123"><span class="linenum"> 123</span></a>          }
<a name="l124"><span class="linenum"> 124</span></a>  
<a name="l125"><span class="linenum"> 125</span></a>          return <a class="var it65" onMouseOver="hilite(65)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../../_variables/r.html">$r</a>;
<a name="l126"><span class="linenum"> 126</span></a>      }
<a name="l127"><span class="linenum"> 127</span></a>  
<a name="l128"><span class="linenum"> 128</span></a>  
<a name="l129"><span class="linenum"> 129</span></a>      <span class="comment">/**</span>
<a name="l130"><span class="linenum"> 130</span></a>  <span class="comment">     * Restrict to a specific list of posts</span>
<a name="l131"><span class="linenum"> 131</span></a>  <span class="comment">     */</span>
<a name="l132"><span class="linenum"> 132</span></a>  	function <a class="function" onClick="logFunction('where_ID_list')" href="../../../../_functions/where_id_list.html" onMouseOver="funcPopup(event,'where_id_list')">where_ID_list</a>( <a class="var it7363" onMouseOver="hilite(7363)" onMouseOut="lolite()" onClick="logVariable('pl')" href="../../../../_variables/pl.html">$pl</a> = '' )
<a name="l133"><span class="linenum"> 133</span></a>      {
<a name="l134"><span class="linenum"> 134</span></a>          <a class="var it65" onMouseOver="hilite(65)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../../_variables/r.html">$r</a> = false;
<a name="l135"><span class="linenum"> 135</span></a>  
<a name="l136"><span class="linenum"> 136</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('pl')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/pl.html">pl</a> = <a class="var it7363" onMouseOver="hilite(7363)" onMouseOut="lolite()" onClick="logVariable('pl')" href="../../../../_variables/pl.html">$pl</a>;
<a name="l137"><span class="linenum"> 137</span></a>  
<a name="l138"><span class="linenum"> 138</span></a>          if( empty( <a class="var it7363" onMouseOver="hilite(7363)" onMouseOut="lolite()" onClick="logVariable('pl')" href="../../../../_variables/pl.html">$pl</a> ) ) return <a class="var it65" onMouseOver="hilite(65)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../../_variables/r.html">$r</a>; <span class="comment">// nothing to do</span>
<a name="l139"><span class="linenum"> 139</span></a>  
<a name="l140"><span class="linenum"> 140</span></a>          if( <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('pl')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/pl.html">pl</a>, 0, 1 ) == '-' )
<a name="l141"><span class="linenum"> 141</span></a>          {    // List starts with MINUS sign:
<a name="l142"><span class="linenum"> 142</span></a>              <a class="var it3361" onMouseOver="hilite(3361)" onMouseOut="lolite()" onClick="logVariable('eq')" href="../../../../_variables/eq.html">$eq</a> = 'NOT IN';
<a name="l143"><span class="linenum"> 143</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('pl')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/pl.html">pl</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('pl')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/pl.html">pl</a>, 1 );
<a name="l144"><span class="linenum"> 144</span></a>          }
<a name="l145"><span class="linenum"> 145</span></a>          else
<a name="l146"><span class="linenum"> 146</span></a>          {
<a name="l147"><span class="linenum"> 147</span></a>              <a class="var it3361" onMouseOver="hilite(3361)" onMouseOut="lolite()" onClick="logVariable('eq')" href="../../../../_variables/eq.html">$eq</a> = 'IN';
<a name="l148"><span class="linenum"> 148</span></a>          }
<a name="l149"><span class="linenum"> 149</span></a>  
<a name="l150"><span class="linenum"> 150</span></a>          <a class="var it7369" onMouseOver="hilite(7369)" onMouseOut="lolite()" onClick="logVariable('p_ID_array')" href="../../../../_variables/p_ID_array.html">$p_ID_array</a> = array();
<a name="l151"><span class="linenum"> 151</span></a>          <a class="var it7370" onMouseOver="hilite(7370)" onMouseOut="lolite()" onClick="logVariable('p_id_list')" href="../../../../_variables/p_id_list.html">$p_id_list</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>( ',', <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('pl')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/pl.html">pl</a> );
<a name="l152"><span class="linenum"> 152</span></a>          foreach( <a class="var it7370" onMouseOver="hilite(7370)" onMouseOut="lolite()" onClick="logVariable('p_id_list')" href="../../../../_variables/p_id_list.html">$p_id_list</a> as <a class="var it3367" onMouseOver="hilite(3367)" onMouseOut="lolite()" onClick="logVariable('p_id')" href="../../../../_variables/p_id.html">$p_id</a> )
<a name="l153"><span class="linenum"> 153</span></a>          {
<a name="l154"><span class="linenum"> 154</span></a>              <a class="var it7369" onMouseOver="hilite(7369)" onMouseOut="lolite()" onClick="logVariable('p_ID_array')" href="../../../../_variables/p_ID_array.html">$p_ID_array</a>[] = <a class="phpfunction" onClick="logFunction('intval')" href="../../../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>( <a class="var it3367" onMouseOver="hilite(3367)" onMouseOut="lolite()" onClick="logVariable('p_id')" href="../../../../_variables/p_id.html">$p_id</a> );<span class="comment">// make sure they're all numbers</span>
<a name="l155"><span class="linenum"> 155</span></a>          }
<a name="l156"><span class="linenum"> 156</span></a>  
<a name="l157"><span class="linenum"> 157</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('pl')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/pl.html">pl</a> = <a class="phpfunction" onClick="logFunction('implode')" href="../../../../_functions/implode.html" onMouseOver="phpfuncPopup(event,'implode')">implode</a>( ',', <a class="var it7369" onMouseOver="hilite(7369)" onMouseOut="lolite()" onClick="logVariable('p_ID_array')" href="../../../../_variables/p_ID_array.html">$p_ID_array</a> );
<a name="l158"><span class="linenum"> 158</span></a>  
<a name="l159"><span class="linenum"> 159</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbIDname')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbIDname.html">dbIDname</a>.' '.<a class="var it3361" onMouseOver="hilite(3361)" onMouseOut="lolite()" onClick="logVariable('eq')" href="../../../../_variables/eq.html">$eq</a>.'( '.<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('pl')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/pl.html">pl</a>.' )' );
<a name="l160"><span class="linenum"> 160</span></a>          <a class="var it65" onMouseOver="hilite(65)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../../_variables/r.html">$r</a> = true;
<a name="l161"><span class="linenum"> 161</span></a>  
<a name="l162"><span class="linenum"> 162</span></a>          return <a class="var it65" onMouseOver="hilite(65)" onMouseOut="lolite()" onClick="logVariable('r')" href="../../../../_variables/r.html">$r</a>;
<a name="l163"><span class="linenum"> 163</span></a>      }
<a name="l164"><span class="linenum"> 164</span></a>  
<a name="l165"><span class="linenum"> 165</span></a>  
<a name="l166"><span class="linenum"> 166</span></a>      <span class="comment">/**</span>
<a name="l167"><span class="linenum"> 167</span></a>  <span class="comment">     * Restrict to specific collection/chapters (blog/categories)</span>
<a name="l168"><span class="linenum"> 168</span></a>  <span class="comment">     *</span>
<a name="l169"><span class="linenum"> 169</span></a>  <span class="comment">     * @param integer</span>
<a name="l170"><span class="linenum"> 170</span></a>  <span class="comment">     * @param string List of cats to restrict to</span>
<a name="l171"><span class="linenum"> 171</span></a>  <span class="comment">     * @param array Array of cats to restrict to</span>
<a name="l172"><span class="linenum"> 172</span></a>  <span class="comment">     */</span>
<a name="l173"><span class="linenum"> 173</span></a>  	function <a class="function" onClick="logFunction('where_chapter')" href="../../../../_functions/where_chapter.html" onMouseOver="funcPopup(event,'where_chapter')">where_chapter</a>( <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('blog')" href="../../../../_variables/blog.html">$blog</a>, <a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('cat')" href="../../../../_variables/cat.html">$cat</a> = '', <a class="var it563" onMouseOver="hilite(563)" onMouseOut="lolite()" onClick="logVariable('catsel')" href="../../../../_variables/catsel.html">$catsel</a> = array() )
<a name="l174"><span class="linenum"> 174</span></a>      {
<a name="l175"><span class="linenum"> 175</span></a>          global <a class="var it1161" onMouseOver="hilite(1161)" onMouseOut="lolite()" onClick="logVariable('cat_array')" href="../../../../_variables/cat_array.html">$cat_array</a>; <span class="comment">// this is required for the cat_req() callback in compile_cat_array()</span>
<a name="l176"><span class="linenum"> 176</span></a>  
<a name="l177"><span class="linenum"> 177</span></a>          <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('blog')" href="../../../../_variables/blog.html">$blog</a> = <a class="phpfunction" onClick="logFunction('intval')" href="../../../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('blog')" href="../../../../_variables/blog.html">$blog</a>);    <span class="comment">// Extra security</span>
<a name="l178"><span class="linenum"> 178</span></a>  
<a name="l179"><span class="linenum"> 179</span></a>  <span class="comment">        // Save for future use (permission checks..)</span>
<a name="l180"><span class="linenum"> 180</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('blog')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/blog.html">blog</a> = <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('blog')" href="../../../../_variables/blog.html">$blog</a>;
<a name="l181"><span class="linenum"> 181</span></a>  
<a name="l182"><span class="linenum"> 182</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('FROM_add')" href="../../../../_functions/from_add.html" onMouseOver="funcPopup(event,'from_add')">FROM_add</a>( 'INNER JOIN T_postcats ON '.<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbIDname')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbIDname.html">dbIDname</a>.' = postcat_post_ID
<a name="l183"><span class="linenum"> 183</span></a>                                              INNER JOIN T_categories ON postcat_cat_ID = cat_ID' );
<a name="l184"><span class="linenum"> 184</span></a>  
<a name="l185"><span class="linenum"> 185</span></a>          <a class="var it15" onMouseOver="hilite(15)" onMouseOut="lolite()" onClick="logVariable('BlogCache')" href="../../../../_variables/BlogCache.html">$BlogCache</a> = &amp; get_BlogCache();
<a name="l186"><span class="linenum"> 186</span></a>          <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('current_Blog')" href="../../../../_variables/current_Blog.html">$current_Blog</a> = <a class="var it15" onMouseOver="hilite(15)" onMouseOut="lolite()" onClick="logVariable('BlogCache')" href="../../../../_variables/BlogCache.html">$BlogCache</a>-&gt;get_by_ID( <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('blog')" href="../../../../_variables/blog.html">$blog</a> );
<a name="l187"><span class="linenum"> 187</span></a>  
<a name="l188"><span class="linenum"> 188</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( <a class="var it327" onMouseOver="hilite(327)" onMouseOut="lolite()" onClick="logVariable('current_Blog')" href="../../../../_variables/current_Blog.html">$current_Blog</a>-&gt;<a class="function" onClick="logFunction('get_sql_where_aggregate_coll_IDs')" href="../../../../_functions/get_sql_where_aggregate_coll_ids.html" onMouseOver="funcPopup(event,'get_sql_where_aggregate_coll_ids')">get_sql_where_aggregate_coll_IDs</a>('cat_blog_ID') );
<a name="l189"><span class="linenum"> 189</span></a>  
<a name="l190"><span class="linenum"> 190</span></a>  
<a name="l191"><span class="linenum"> 191</span></a>          <a class="var it1161" onMouseOver="hilite(1161)" onMouseOut="lolite()" onClick="logVariable('cat_array')" href="../../../../_variables/cat_array.html">$cat_array</a> = NULL;
<a name="l192"><span class="linenum"> 192</span></a>          <a class="var it1162" onMouseOver="hilite(1162)" onMouseOut="lolite()" onClick="logVariable('cat_modifier')" href="../../../../_variables/cat_modifier.html">$cat_modifier</a> = NULL;
<a name="l193"><span class="linenum"> 193</span></a>  
<a name="l194"><span class="linenum"> 194</span></a>  <span class="comment">        // Compile the real category list to use:</span>
<a name="l195"><span class="linenum"> 195</span></a>  <span class="comment">        // TODO: allow to pass the compiled vars directly to this class</span>
<a name="l196"><span class="linenum"> 196</span></a>          <a class="function" onClick="logFunction('compile_cat_array')" href="../../../../_functions/compile_cat_array.html" onMouseOver="funcPopup(event,'compile_cat_array')">compile_cat_array</a>( <a class="var it482" onMouseOver="hilite(482)" onMouseOut="lolite()" onClick="logVariable('cat')" href="../../../../_variables/cat.html">$cat</a>, <a class="var it563" onMouseOver="hilite(563)" onMouseOut="lolite()" onClick="logVariable('catsel')" href="../../../../_variables/catsel.html">$catsel</a>, <span class="comment">/* by ref */</span> <a class="var it1161" onMouseOver="hilite(1161)" onMouseOut="lolite()" onClick="logVariable('cat_array')" href="../../../../_variables/cat_array.html">$cat_array</a>, <span class="comment">/* by ref */</span> <a class="var it1162" onMouseOver="hilite(1162)" onMouseOut="lolite()" onClick="logVariable('cat_modifier')" href="../../../../_variables/cat_modifier.html">$cat_modifier</a>, <span class="comment">/* TODO $blog == 1 ? 0 : */</span> <a class="var it231" onMouseOver="hilite(231)" onMouseOut="lolite()" onClick="logVariable('blog')" href="../../../../_variables/blog.html">$blog</a> );
<a name="l197"><span class="linenum"> 197</span></a>  
<a name="l198"><span class="linenum"> 198</span></a>          if( ! empty(<a class="var it1161" onMouseOver="hilite(1161)" onMouseOut="lolite()" onClick="logVariable('cat_array')" href="../../../../_variables/cat_array.html">$cat_array</a>) )
<a name="l199"><span class="linenum"> 199</span></a>          {    // We want to restict to some cats:
<a name="l200"><span class="linenum"> 200</span></a>              global <a class="var it12" onMouseOver="hilite(12)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>;
<a name="l201"><span class="linenum"> 201</span></a>  
<a name="l202"><span class="linenum"> 202</span></a>              if( <a class="var it1162" onMouseOver="hilite(1162)" onMouseOut="lolite()" onClick="logVariable('cat_modifier')" href="../../../../_variables/cat_modifier.html">$cat_modifier</a> == '-' )
<a name="l203"><span class="linenum"> 203</span></a>              {
<a name="l204"><span class="linenum"> 204</span></a>                  <a class="var it3361" onMouseOver="hilite(3361)" onMouseOut="lolite()" onClick="logVariable('eq')" href="../../../../_variables/eq.html">$eq</a> = 'NOT IN';
<a name="l205"><span class="linenum"> 205</span></a>              }
<a name="l206"><span class="linenum"> 206</span></a>              else
<a name="l207"><span class="linenum"> 207</span></a>              {
<a name="l208"><span class="linenum"> 208</span></a>                  <a class="var it3361" onMouseOver="hilite(3361)" onMouseOut="lolite()" onClick="logVariable('eq')" href="../../../../_variables/eq.html">$eq</a> = 'IN';
<a name="l209"><span class="linenum"> 209</span></a>              }
<a name="l210"><span class="linenum"> 210</span></a>              <a class="var it7371" onMouseOver="hilite(7371)" onMouseOut="lolite()" onClick="logVariable('whichcat')" href="../../../../_variables/whichcat.html">$whichcat</a> = 'postcat_cat_ID '. <a class="var it3361" onMouseOver="hilite(3361)" onMouseOut="lolite()" onClick="logVariable('eq')" href="../../../../_variables/eq.html">$eq</a>.' ('.<a class="var it12" onMouseOver="hilite(12)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('quote')" href="../../../../_functions/quote.html" onMouseOver="funcPopup(event,'quote')">quote</a>( <a class="var it1161" onMouseOver="hilite(1161)" onMouseOut="lolite()" onClick="logVariable('cat_array')" href="../../../../_variables/cat_array.html">$cat_array</a> ). ') ';
<a name="l211"><span class="linenum"> 211</span></a>  
<a name="l212"><span class="linenum"> 212</span></a>  <span class="comment">            // echo $whichcat;</span>
<a name="l213"><span class="linenum"> 213</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( <a class="var it7371" onMouseOver="hilite(7371)" onMouseOut="lolite()" onClick="logVariable('whichcat')" href="../../../../_variables/whichcat.html">$whichcat</a> );
<a name="l214"><span class="linenum"> 214</span></a>  
<a name="l215"><span class="linenum"> 215</span></a>              if( <a class="var it1162" onMouseOver="hilite(1162)" onMouseOut="lolite()" onClick="logVariable('cat_modifier')" href="../../../../_variables/cat_modifier.html">$cat_modifier</a> == '*' )
<a name="l216"><span class="linenum"> 216</span></a>              { // We want the categories combined! (i-e posts must be in ALL requested cats)
<a name="l217"><span class="linenum"> 217</span></a>                  <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('GROUP_BY')" href="../../../../_functions/group_by.html" onMouseOver="funcPopup(event,'group_by')">GROUP_BY</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbIDname')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbIDname.html">dbIDname</a>.' HAVING <a class="phpfunction" onClick="logFunction('COUNT')" href="../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">COUNT</a>(postcat_cat_ID) = '.<a class="phpfunction" onClick="logFunction('count')" href="../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it1161" onMouseOver="hilite(1161)" onMouseOut="lolite()" onClick="logVariable('cat_array')" href="../../../../_variables/cat_array.html">$cat_array</a>) );
<a name="l218"><span class="linenum"> 218</span></a>              }
<a name="l219"><span class="linenum"> 219</span></a>          }
<a name="l220"><span class="linenum"> 220</span></a>      }
<a name="l221"><span class="linenum"> 221</span></a>  
<a name="l222"><span class="linenum"> 222</span></a>  
<a name="l223"><span class="linenum"> 223</span></a>      <span class="comment">/**</span>
<a name="l224"><span class="linenum"> 224</span></a>  <span class="comment">     * Restrict to specific collection/chapters (blog/categories)</span>
<a name="l225"><span class="linenum"> 225</span></a>  <span class="comment">     *</span>
<a name="l226"><span class="linenum"> 226</span></a>  <span class="comment">     * @param Blog</span>
<a name="l227"><span class="linenum"> 227</span></a>  <span class="comment">     * @param array</span>
<a name="l228"><span class="linenum"> 228</span></a>  <span class="comment">     * @param string</span>
<a name="l229"><span class="linenum"> 229</span></a>  <span class="comment">     * @param string 'wide' to search in extra cats too</span>
<a name="l230"><span class="linenum"> 230</span></a>  <span class="comment">     *               'main' for main cat only</span>
<a name="l231"><span class="linenum"> 231</span></a>  <span class="comment">     *               'extra' for extra cats only</span>
<a name="l232"><span class="linenum"> 232</span></a>  <span class="comment">     */</span>
<a name="l233"><span class="linenum"> 233</span></a>  	function <a class="function" onClick="logFunction('where_chapter2')" href="../../../../_functions/where_chapter2.html" onMouseOver="funcPopup(event,'where_chapter2')">where_chapter2</a>( &amp; <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('Blog')" href="../../../../_variables/Blog.html">$Blog</a>, <a class="var it1161" onMouseOver="hilite(1161)" onMouseOut="lolite()" onClick="logVariable('cat_array')" href="../../../../_variables/cat_array.html">$cat_array</a>, <a class="var it1162" onMouseOver="hilite(1162)" onMouseOut="lolite()" onClick="logVariable('cat_modifier')" href="../../../../_variables/cat_modifier.html">$cat_modifier</a>, <a class="var it7372" onMouseOver="hilite(7372)" onMouseOut="lolite()" onClick="logVariable('cat_focus')" href="../../../../_variables/cat_focus.html">$cat_focus</a> = 'wide' )
<a name="l234"><span class="linenum"> 234</span></a>      {
<a name="l235"><span class="linenum"> 235</span></a>  <span class="comment">        // Save for future use (permission checks..)</span>
<a name="l236"><span class="linenum"> 236</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('blog')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/blog.html">blog</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('Blog')" href="../../../../_variables/Blog.html">$Blog</a>-&gt;<a onClick="logVariable('ID')" class="var it8952" onMouseOver="hilite(8952)" onMouseOut="lolite()" href="../../../../_variables/ID.html">ID</a>;
<a name="l237"><span class="linenum"> 237</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('Blog')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/Blog.html">Blog</a> = <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('Blog')" href="../../../../_variables/Blog.html">$Blog</a>;
<a name="l238"><span class="linenum"> 238</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('cat_array')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/cat_array.html">cat_array</a> = <a class="var it1161" onMouseOver="hilite(1161)" onMouseOut="lolite()" onClick="logVariable('cat_array')" href="../../../../_variables/cat_array.html">$cat_array</a>;
<a name="l239"><span class="linenum"> 239</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('cat_modifier')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/cat_modifier.html">cat_modifier</a> = <a class="var it1162" onMouseOver="hilite(1162)" onMouseOut="lolite()" onClick="logVariable('cat_modifier')" href="../../../../_variables/cat_modifier.html">$cat_modifier</a>;
<a name="l240"><span class="linenum"> 240</span></a>  
<a name="l241"><span class="linenum"> 241</span></a>          if( <a class="var it7372" onMouseOver="hilite(7372)" onMouseOut="lolite()" onClick="logVariable('cat_focus')" href="../../../../_variables/cat_focus.html">$cat_focus</a> == 'wide' || <a class="var it7372" onMouseOver="hilite(7372)" onMouseOut="lolite()" onClick="logVariable('cat_focus')" href="../../../../_variables/cat_focus.html">$cat_focus</a> == 'extra' )
<a name="l242"><span class="linenum"> 242</span></a>          {
<a name="l243"><span class="linenum"> 243</span></a>              <a class="var it7373" onMouseOver="hilite(7373)" onMouseOut="lolite()" onClick="logVariable('sql_join_categories')" href="../../../../_variables/sql_join_categories.html">$sql_join_categories</a> = ( <a class="var it7372" onMouseOver="hilite(7372)" onMouseOut="lolite()" onClick="logVariable('cat_focus')" href="../../../../_variables/cat_focus.html">$cat_focus</a> == 'extra' ) ? ' AND post_main_cat_ID != cat_ID' : '';
<a name="l244"><span class="linenum"> 244</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('FROM_add')" href="../../../../_functions/from_add.html" onMouseOver="funcPopup(event,'from_add')">FROM_add</a>( 'INNER JOIN T_postcats ON '.<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbIDname')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbIDname.html">dbIDname</a>.' = postcat_post_ID
<a name="l245"><span class="linenum"> 245</span></a>                                                  INNER JOIN T_categories ON postcat_cat_ID = cat_ID'.<a class="var it7373" onMouseOver="hilite(7373)" onMouseOut="lolite()" onClick="logVariable('sql_join_categories')" href="../../../../_variables/sql_join_categories.html">$sql_join_categories</a> );
<a name="l246"><span class="linenum"> 246</span></a>  <span class="comment">            // fp&gt; we try to restrict as close as possible to the posts but I don't know if it matters</span>
<a name="l247"><span class="linenum"> 247</span></a>              <a class="var it7374" onMouseOver="hilite(7374)" onMouseOut="lolite()" onClick="logVariable('cat_ID_field')" href="../../../../_variables/cat_ID_field.html">$cat_ID_field</a> = 'postcat_cat_ID';
<a name="l248"><span class="linenum"> 248</span></a>          }
<a name="l249"><span class="linenum"> 249</span></a>          else
<a name="l250"><span class="linenum"> 250</span></a>          {
<a name="l251"><span class="linenum"> 251</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('FROM_add')" href="../../../../_functions/from_add.html" onMouseOver="funcPopup(event,'from_add')">FROM_add</a>( 'INNER JOIN T_categories ON post_main_cat_ID = cat_ID' );
<a name="l252"><span class="linenum"> 252</span></a>              <a class="var it7374" onMouseOver="hilite(7374)" onMouseOut="lolite()" onClick="logVariable('cat_ID_field')" href="../../../../_variables/cat_ID_field.html">$cat_ID_field</a> = 'post_main_cat_ID';
<a name="l253"><span class="linenum"> 253</span></a>          }
<a name="l254"><span class="linenum"> 254</span></a>  
<a name="l255"><span class="linenum"> 255</span></a>          if( <a class="var it7372" onMouseOver="hilite(7372)" onMouseOut="lolite()" onClick="logVariable('cat_focus')" href="../../../../_variables/cat_focus.html">$cat_focus</a> == 'main' )
<a name="l256"><span class="linenum"> 256</span></a>          { // We are requesting a narrow search
<a name="l257"><span class="linenum"> 257</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( 'cat_blog_ID = '.<a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('Blog')" href="../../../../_variables/Blog.html">$Blog</a>-&gt;<a onClick="logVariable('ID')" class="var it8952" onMouseOver="hilite(8952)" onMouseOut="lolite()" href="../../../../_variables/ID.html">ID</a> );
<a name="l258"><span class="linenum"> 258</span></a>          }
<a name="l259"><span class="linenum"> 259</span></a>          else
<a name="l260"><span class="linenum"> 260</span></a>          {
<a name="l261"><span class="linenum"> 261</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( <a class="var it3" onMouseOver="hilite(3)" onMouseOut="lolite()" onClick="logVariable('Blog')" href="../../../../_variables/Blog.html">$Blog</a>-&gt;<a class="function" onClick="logFunction('get_sql_where_aggregate_coll_IDs')" href="../../../../_functions/get_sql_where_aggregate_coll_ids.html" onMouseOver="funcPopup(event,'get_sql_where_aggregate_coll_ids')">get_sql_where_aggregate_coll_IDs</a>('cat_blog_ID') );
<a name="l262"><span class="linenum"> 262</span></a>          }
<a name="l263"><span class="linenum"> 263</span></a>  
<a name="l264"><span class="linenum"> 264</span></a>  
<a name="l265"><span class="linenum"> 265</span></a>          if( ! empty(<a class="var it1161" onMouseOver="hilite(1161)" onMouseOut="lolite()" onClick="logVariable('cat_array')" href="../../../../_variables/cat_array.html">$cat_array</a>) )
<a name="l266"><span class="linenum"> 266</span></a>          {    // We want to restict to some cats:
<a name="l267"><span class="linenum"> 267</span></a>              global <a class="var it12" onMouseOver="hilite(12)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>;
<a name="l268"><span class="linenum"> 268</span></a>  
<a name="l269"><span class="linenum"> 269</span></a>              if( <a class="var it1162" onMouseOver="hilite(1162)" onMouseOut="lolite()" onClick="logVariable('cat_modifier')" href="../../../../_variables/cat_modifier.html">$cat_modifier</a> == '-' )
<a name="l270"><span class="linenum"> 270</span></a>              {
<a name="l271"><span class="linenum"> 271</span></a>                  <a class="var it3361" onMouseOver="hilite(3361)" onMouseOut="lolite()" onClick="logVariable('eq')" href="../../../../_variables/eq.html">$eq</a> = 'NOT IN';
<a name="l272"><span class="linenum"> 272</span></a>              }
<a name="l273"><span class="linenum"> 273</span></a>              else
<a name="l274"><span class="linenum"> 274</span></a>              {
<a name="l275"><span class="linenum"> 275</span></a>                  <a class="var it3361" onMouseOver="hilite(3361)" onMouseOut="lolite()" onClick="logVariable('eq')" href="../../../../_variables/eq.html">$eq</a> = 'IN';
<a name="l276"><span class="linenum"> 276</span></a>              }
<a name="l277"><span class="linenum"> 277</span></a>              <a class="var it7371" onMouseOver="hilite(7371)" onMouseOut="lolite()" onClick="logVariable('whichcat')" href="../../../../_variables/whichcat.html">$whichcat</a> = <a class="var it7374" onMouseOver="hilite(7374)" onMouseOut="lolite()" onClick="logVariable('cat_ID_field')" href="../../../../_variables/cat_ID_field.html">$cat_ID_field</a>.' '.<a class="var it3361" onMouseOver="hilite(3361)" onMouseOut="lolite()" onClick="logVariable('eq')" href="../../../../_variables/eq.html">$eq</a>.' ('.<a class="var it12" onMouseOver="hilite(12)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('quote')" href="../../../../_functions/quote.html" onMouseOver="funcPopup(event,'quote')">quote</a>( <a class="var it1161" onMouseOver="hilite(1161)" onMouseOut="lolite()" onClick="logVariable('cat_array')" href="../../../../_variables/cat_array.html">$cat_array</a> ). ') ';
<a name="l278"><span class="linenum"> 278</span></a>  
<a name="l279"><span class="linenum"> 279</span></a>  <span class="comment">            // echo $whichcat;</span>
<a name="l280"><span class="linenum"> 280</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( <a class="var it7371" onMouseOver="hilite(7371)" onMouseOut="lolite()" onClick="logVariable('whichcat')" href="../../../../_variables/whichcat.html">$whichcat</a> );
<a name="l281"><span class="linenum"> 281</span></a>  
<a name="l282"><span class="linenum"> 282</span></a>              if( <a class="var it1162" onMouseOver="hilite(1162)" onMouseOut="lolite()" onClick="logVariable('cat_modifier')" href="../../../../_variables/cat_modifier.html">$cat_modifier</a> == '*' )
<a name="l283"><span class="linenum"> 283</span></a>              { // We want the categories combined! (i-e posts must be in ALL requested cats)
<a name="l284"><span class="linenum"> 284</span></a>                  <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('GROUP_BY')" href="../../../../_functions/group_by.html" onMouseOver="funcPopup(event,'group_by')">GROUP_BY</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbIDname')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbIDname.html">dbIDname</a>.' HAVING <a class="phpfunction" onClick="logFunction('COUNT')" href="../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">COUNT</a>('.<a class="var it7374" onMouseOver="hilite(7374)" onMouseOut="lolite()" onClick="logVariable('cat_ID_field')" href="../../../../_variables/cat_ID_field.html">$cat_ID_field</a>.') = '.<a class="phpfunction" onClick="logFunction('count')" href="../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it1161" onMouseOver="hilite(1161)" onMouseOut="lolite()" onClick="logVariable('cat_array')" href="../../../../_variables/cat_array.html">$cat_array</a>) );
<a name="l285"><span class="linenum"> 285</span></a>              }
<a name="l286"><span class="linenum"> 286</span></a>          }
<a name="l287"><span class="linenum"> 287</span></a>      }
<a name="l288"><span class="linenum"> 288</span></a>  
<a name="l289"><span class="linenum"> 289</span></a>  
<a name="l290"><span class="linenum"> 290</span></a>      <span class="comment">/**</span>
<a name="l291"><span class="linenum"> 291</span></a>  <span class="comment">     * Restrict to the visibility/sharing statuses we want to show</span>
<a name="l292"><span class="linenum"> 292</span></a>  <span class="comment">     *</span>
<a name="l293"><span class="linenum"> 293</span></a>  <span class="comment">     * @param array Restrict to these statuses</span>
<a name="l294"><span class="linenum"> 294</span></a>  <span class="comment">     */</span>
<a name="l295"><span class="linenum"> 295</span></a>  	function <a class="function" onClick="logFunction('where_visibility')" href="../../../../_functions/where_visibility.html" onMouseOver="funcPopup(event,'where_visibility')">where_visibility</a>( <a class="var it245" onMouseOver="hilite(245)" onMouseOut="lolite()" onClick="logVariable('show_statuses')" href="../../../../_variables/show_statuses.html">$show_statuses</a> )
<a name="l296"><span class="linenum"> 296</span></a>      {
<a name="l297"><span class="linenum"> 297</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('show_statuses')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/show_statuses.html">show_statuses</a> = <a class="var it245" onMouseOver="hilite(245)" onMouseOut="lolite()" onClick="logVariable('show_statuses')" href="../../../../_variables/show_statuses.html">$show_statuses</a>;
<a name="l298"><span class="linenum"> 298</span></a>  
<a name="l299"><span class="linenum"> 299</span></a>          if( !isset( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('blog')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/blog.html">blog</a> ) )
<a name="l300"><span class="linenum"> 300</span></a>          {
<a name="l301"><span class="linenum"> 301</span></a>              <a class="function" onClick="logFunction('debug_die')" href="../../../../_functions/debug_die.html" onMouseOver="funcPopup(event,'debug_die')">debug_die</a>( 'Status restriction requires to work with a specific blog first.' );
<a name="l302"><span class="linenum"> 302</span></a>          }
<a name="l303"><span class="linenum"> 303</span></a>  
<a name="l304"><span class="linenum"> 304</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( <a class="function" onClick="logFunction('statuses_where_clause')" href="../../../../_functions/statuses_where_clause.html" onMouseOver="funcPopup(event,'statuses_where_clause')">statuses_where_clause</a>( <a class="var it245" onMouseOver="hilite(245)" onMouseOut="lolite()" onClick="logVariable('show_statuses')" href="../../../../_variables/show_statuses.html">$show_statuses</a>, <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>, <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('blog')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/blog.html">blog</a>, 'blog_post!', true, <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('author')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/author.html">author</a> ) );
<a name="l305"><span class="linenum"> 305</span></a>      }
<a name="l306"><span class="linenum"> 306</span></a>  
<a name="l307"><span class="linenum"> 307</span></a>  
<a name="l308"><span class="linenum"> 308</span></a>      <span class="comment">/**</span>
<a name="l309"><span class="linenum"> 309</span></a>  <span class="comment">     * Restrict to the featured/non featured posts if requested</span>
<a name="l310"><span class="linenum"> 310</span></a>  <span class="comment">     *</span>
<a name="l311"><span class="linenum"> 311</span></a>  <span class="comment">     * @param boolean|NULL Restrict to featured</span>
<a name="l312"><span class="linenum"> 312</span></a>  <span class="comment">     */</span>
<a name="l313"><span class="linenum"> 313</span></a>  	function <a class="function" onClick="logFunction('where_featured')" href="../../../../_functions/where_featured.html" onMouseOver="funcPopup(event,'where_featured')">where_featured</a>( <a class="var it91" onMouseOver="hilite(91)" onMouseOut="lolite()" onClick="logVariable('featured')" href="../../../../_variables/featured.html">$featured</a> = NULL )
<a name="l314"><span class="linenum"> 314</span></a>      {
<a name="l315"><span class="linenum"> 315</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('featured')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/featured.html">featured</a> = <a class="var it91" onMouseOver="hilite(91)" onMouseOut="lolite()" onClick="logVariable('featured')" href="../../../../_variables/featured.html">$featured</a>;
<a name="l316"><span class="linenum"> 316</span></a>  
<a name="l317"><span class="linenum"> 317</span></a>          if( <a class="phpfunction" onClick="logFunction('is_null')" href="../../../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('featured')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/featured.html">featured</a> ) )
<a name="l318"><span class="linenum"> 318</span></a>          { // no restriction
<a name="l319"><span class="linenum"> 319</span></a>              return;
<a name="l320"><span class="linenum"> 320</span></a>          }
<a name="l321"><span class="linenum"> 321</span></a>          elseif( !empty( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('featured')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/featured.html">featured</a> ) )
<a name="l322"><span class="linenum"> 322</span></a>          { // restrict to featured
<a name="l323"><span class="linenum"> 323</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'featured &lt;&gt; 0' );
<a name="l324"><span class="linenum"> 324</span></a>          }
<a name="l325"><span class="linenum"> 325</span></a>          else
<a name="l326"><span class="linenum"> 326</span></a>          { // restrict to NON featured
<a name="l327"><span class="linenum"> 327</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'featured = 0' );
<a name="l328"><span class="linenum"> 328</span></a>          }
<a name="l329"><span class="linenum"> 329</span></a>      }
<a name="l330"><span class="linenum"> 330</span></a>  
<a name="l331"><span class="linenum"> 331</span></a>  
<a name="l332"><span class="linenum"> 332</span></a>      <span class="comment">/**</span>
<a name="l333"><span class="linenum"> 333</span></a>  <span class="comment">     * Restrict to specific tags</span>
<a name="l334"><span class="linenum"> 334</span></a>  <span class="comment">     *</span>
<a name="l335"><span class="linenum"> 335</span></a>  <span class="comment">     * @param string List of tags to restrict to</span>
<a name="l336"><span class="linenum"> 336</span></a>  <span class="comment">     */</span>
<a name="l337"><span class="linenum"> 337</span></a>  	function <a class="function" onClick="logFunction('where_tags')" href="../../../../_functions/where_tags.html" onMouseOver="funcPopup(event,'where_tags')">where_tags</a>( <a class="var it791" onMouseOver="hilite(791)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../../../../_variables/tags.html">$tags</a> )
<a name="l338"><span class="linenum"> 338</span></a>      {
<a name="l339"><span class="linenum"> 339</span></a>          global <a class="var it12" onMouseOver="hilite(12)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>;
<a name="l340"><span class="linenum"> 340</span></a>  
<a name="l341"><span class="linenum"> 341</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('tags')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/tags.html">tags</a> = <a class="var it791" onMouseOver="hilite(791)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../../../../_variables/tags.html">$tags</a>;
<a name="l342"><span class="linenum"> 342</span></a>  
<a name="l343"><span class="linenum"> 343</span></a>          if( empty( <a class="var it791" onMouseOver="hilite(791)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../../../../_variables/tags.html">$tags</a> ) )
<a name="l344"><span class="linenum"> 344</span></a>          {
<a name="l345"><span class="linenum"> 345</span></a>              return;
<a name="l346"><span class="linenum"> 346</span></a>          }
<a name="l347"><span class="linenum"> 347</span></a>  
<a name="l348"><span class="linenum"> 348</span></a>          <a class="var it791" onMouseOver="hilite(791)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../../../../_variables/tags.html">$tags</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>( ',', <a class="var it791" onMouseOver="hilite(791)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../../../../_variables/tags.html">$tags</a> );
<a name="l349"><span class="linenum"> 349</span></a>  
<a name="l350"><span class="linenum"> 350</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('FROM_add')" href="../../../../_functions/from_add.html" onMouseOver="funcPopup(event,'from_add')">FROM_add</a>( 'INNER JOIN T_items__itemtag ON post_ID = itag_itm_ID
<a name="l351"><span class="linenum"> 351</span></a>                                              INNER JOIN T_items__tag <a class="function" onClick="logFunction('ON')" href="../../../../_functions/on.html" onMouseOver="funcPopup(event,'on')">ON</a> (itag_tag_ID = tag_ID AND tag_name IN ('.<a class="var it12" onMouseOver="hilite(12)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('quote')" href="../../../../_functions/quote.html" onMouseOver="funcPopup(event,'quote')">quote</a>(<a class="var it791" onMouseOver="hilite(791)" onMouseOut="lolite()" onClick="logVariable('tags')" href="../../../../_variables/tags.html">$tags</a>).') )' );
<a name="l352"><span class="linenum"> 352</span></a>      }
<a name="l353"><span class="linenum"> 353</span></a>  
<a name="l354"><span class="linenum"> 354</span></a>  
<a name="l355"><span class="linenum"> 355</span></a>      <span class="comment">/**</span>
<a name="l356"><span class="linenum"> 356</span></a>  <span class="comment">     * Restrict to specific authors by users IDs</span>
<a name="l357"><span class="linenum"> 357</span></a>  <span class="comment">     *</span>
<a name="l358"><span class="linenum"> 358</span></a>  <span class="comment">     * @param string List of authors IDs to restrict to (must have been previously validated)</span>
<a name="l359"><span class="linenum"> 359</span></a>  <span class="comment">     */</span>
<a name="l360"><span class="linenum"> 360</span></a>  	function <a class="function" onClick="logFunction('where_author')" href="../../../../_functions/where_author.html" onMouseOver="funcPopup(event,'where_author')">where_author</a>( <a class="var it7375" onMouseOver="hilite(7375)" onMouseOut="lolite()" onClick="logVariable('author_IDs')" href="../../../../_variables/author_IDs.html">$author_IDs</a> )
<a name="l361"><span class="linenum"> 361</span></a>      {
<a name="l362"><span class="linenum"> 362</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('author')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/author.html">author</a> = <a class="var it7375" onMouseOver="hilite(7375)" onMouseOut="lolite()" onClick="logVariable('author_IDs')" href="../../../../_variables/author_IDs.html">$author_IDs</a>;
<a name="l363"><span class="linenum"> 363</span></a>  
<a name="l364"><span class="linenum"> 364</span></a>          if( empty( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('author')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/author.html">author</a> ) )
<a name="l365"><span class="linenum"> 365</span></a>          {
<a name="l366"><span class="linenum"> 366</span></a>              return;
<a name="l367"><span class="linenum"> 367</span></a>          }
<a name="l368"><span class="linenum"> 368</span></a>  
<a name="l369"><span class="linenum"> 369</span></a>          if( <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('author')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/author.html">author</a>, 0, 1 ) == '-' )
<a name="l370"><span class="linenum"> 370</span></a>          { // Exclude the users IF a list starts with MINUS sign:
<a name="l371"><span class="linenum"> 371</span></a>              <a class="var it3361" onMouseOver="hilite(3361)" onMouseOut="lolite()" onClick="logVariable('eq')" href="../../../../_variables/eq.html">$eq</a> = 'NOT IN';
<a name="l372"><span class="linenum"> 372</span></a>              <a class="var it5617" onMouseOver="hilite(5617)" onMouseOut="lolite()" onClick="logVariable('users_IDs')" href="../../../../_variables/users_IDs.html">$users_IDs</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('author')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/author.html">author</a>, 1 );
<a name="l373"><span class="linenum"> 373</span></a>          }
<a name="l374"><span class="linenum"> 374</span></a>          else
<a name="l375"><span class="linenum"> 375</span></a>          { // Include the users:
<a name="l376"><span class="linenum"> 376</span></a>              <a class="var it3361" onMouseOver="hilite(3361)" onMouseOut="lolite()" onClick="logVariable('eq')" href="../../../../_variables/eq.html">$eq</a> = 'IN';
<a name="l377"><span class="linenum"> 377</span></a>              <a class="var it5617" onMouseOver="hilite(5617)" onMouseOut="lolite()" onClick="logVariable('users_IDs')" href="../../../../_variables/users_IDs.html">$users_IDs</a> = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('author')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/author.html">author</a>;
<a name="l378"><span class="linenum"> 378</span></a>          }
<a name="l379"><span class="linenum"> 379</span></a>  
<a name="l380"><span class="linenum"> 380</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'creator_user_ID '.<a class="var it3361" onMouseOver="hilite(3361)" onMouseOut="lolite()" onClick="logVariable('eq')" href="../../../../_variables/eq.html">$eq</a>.' ( '.<a class="var it5617" onMouseOver="hilite(5617)" onMouseOut="lolite()" onClick="logVariable('users_IDs')" href="../../../../_variables/users_IDs.html">$users_IDs</a>.' )' );
<a name="l381"><span class="linenum"> 381</span></a>      }
<a name="l382"><span class="linenum"> 382</span></a>  
<a name="l383"><span class="linenum"> 383</span></a>  
<a name="l384"><span class="linenum"> 384</span></a>      <span class="comment">/**</span>
<a name="l385"><span class="linenum"> 385</span></a>  <span class="comment">     * Restrict to specific authors by users logins</span>
<a name="l386"><span class="linenum"> 386</span></a>  <span class="comment">     *</span>
<a name="l387"><span class="linenum"> 387</span></a>  <span class="comment">     * @param string List of authors logins to restrict to (must have been previously validated)</span>
<a name="l388"><span class="linenum"> 388</span></a>  <span class="comment">     */</span>
<a name="l389"><span class="linenum"> 389</span></a>  	function <a class="function" onClick="logFunction('where_author_logins')" href="../../../../_functions/where_author_logins.html" onMouseOver="funcPopup(event,'where_author_logins')">where_author_logins</a>( <a class="var it7376" onMouseOver="hilite(7376)" onMouseOut="lolite()" onClick="logVariable('author_logins')" href="../../../../_variables/author_logins.html">$author_logins</a> )
<a name="l390"><span class="linenum"> 390</span></a>      {
<a name="l391"><span class="linenum"> 391</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('author_login')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/author_login.html">author_login</a> = <a class="var it7376" onMouseOver="hilite(7376)" onMouseOut="lolite()" onClick="logVariable('author_logins')" href="../../../../_variables/author_logins.html">$author_logins</a>;
<a name="l392"><span class="linenum"> 392</span></a>  
<a name="l393"><span class="linenum"> 393</span></a>          if( empty( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('author_login')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/author_login.html">author_login</a> ) )
<a name="l394"><span class="linenum"> 394</span></a>          {
<a name="l395"><span class="linenum"> 395</span></a>              return;
<a name="l396"><span class="linenum"> 396</span></a>          }
<a name="l397"><span class="linenum"> 397</span></a>  
<a name="l398"><span class="linenum"> 398</span></a>          if( <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('author_login')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/author_login.html">author_login</a>, 0, 1 ) == '-' )
<a name="l399"><span class="linenum"> 399</span></a>          { // Exclude the users IF a list starts with MINUS sign:
<a name="l400"><span class="linenum"> 400</span></a>              <a class="var it3361" onMouseOver="hilite(3361)" onMouseOut="lolite()" onClick="logVariable('eq')" href="../../../../_variables/eq.html">$eq</a> = 'NOT IN';
<a name="l401"><span class="linenum"> 401</span></a>              <a class="var it5617" onMouseOver="hilite(5617)" onMouseOut="lolite()" onClick="logVariable('users_IDs')" href="../../../../_variables/users_IDs.html">$users_IDs</a> = <a class="function" onClick="logFunction('get_users_IDs_by_logins')" href="../../../../_functions/get_users_ids_by_logins.html" onMouseOver="funcPopup(event,'get_users_ids_by_logins')">get_users_IDs_by_logins</a>( <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('author_login')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/author_login.html">author_login</a>, 1 ) );
<a name="l402"><span class="linenum"> 402</span></a>          }
<a name="l403"><span class="linenum"> 403</span></a>          else
<a name="l404"><span class="linenum"> 404</span></a>          { // Include the users:
<a name="l405"><span class="linenum"> 405</span></a>              <a class="var it3361" onMouseOver="hilite(3361)" onMouseOut="lolite()" onClick="logVariable('eq')" href="../../../../_variables/eq.html">$eq</a> = 'IN';
<a name="l406"><span class="linenum"> 406</span></a>              <a class="var it5617" onMouseOver="hilite(5617)" onMouseOut="lolite()" onClick="logVariable('users_IDs')" href="../../../../_variables/users_IDs.html">$users_IDs</a> = <a class="function" onClick="logFunction('get_users_IDs_by_logins')" href="../../../../_functions/get_users_ids_by_logins.html" onMouseOver="funcPopup(event,'get_users_ids_by_logins')">get_users_IDs_by_logins</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('author_login')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/author_login.html">author_login</a> );
<a name="l407"><span class="linenum"> 407</span></a>          }
<a name="l408"><span class="linenum"> 408</span></a>  
<a name="l409"><span class="linenum"> 409</span></a>          if( ! empty( <a class="var it5617" onMouseOver="hilite(5617)" onMouseOut="lolite()" onClick="logVariable('users_IDs')" href="../../../../_variables/users_IDs.html">$users_IDs</a> ) )
<a name="l410"><span class="linenum"> 410</span></a>          {
<a name="l411"><span class="linenum"> 411</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'creator_user_ID '.<a class="var it3361" onMouseOver="hilite(3361)" onMouseOut="lolite()" onClick="logVariable('eq')" href="../../../../_variables/eq.html">$eq</a>.' ( '.<a class="var it5617" onMouseOver="hilite(5617)" onMouseOut="lolite()" onClick="logVariable('users_IDs')" href="../../../../_variables/users_IDs.html">$users_IDs</a>.' )' );
<a name="l412"><span class="linenum"> 412</span></a>          }
<a name="l413"><span class="linenum"> 413</span></a>      }
<a name="l414"><span class="linenum"> 414</span></a>  
<a name="l415"><span class="linenum"> 415</span></a>  
<a name="l416"><span class="linenum"> 416</span></a>      <span class="comment">/**</span>
<a name="l417"><span class="linenum"> 417</span></a>  <span class="comment">     * Restrict to specific assignees by users IDs</span>
<a name="l418"><span class="linenum"> 418</span></a>  <span class="comment">     *</span>
<a name="l419"><span class="linenum"> 419</span></a>  <span class="comment">     * @param string List of assignees IDs to restrict to (must have been previously validated)</span>
<a name="l420"><span class="linenum"> 420</span></a>  <span class="comment">     * @param string List of assignees logins to restrict to (must have been previously validated)</span>
<a name="l421"><span class="linenum"> 421</span></a>  <span class="comment">     */</span>
<a name="l422"><span class="linenum"> 422</span></a>  	function <a class="function" onClick="logFunction('where_assignees')" href="../../../../_functions/where_assignees.html" onMouseOver="funcPopup(event,'where_assignees')">where_assignees</a>( <a class="var it518" onMouseOver="hilite(518)" onMouseOut="lolite()" onClick="logVariable('assignees')" href="../../../../_variables/assignees.html">$assignees</a>, <a class="var it7377" onMouseOver="hilite(7377)" onMouseOut="lolite()" onClick="logVariable('assignees_logins')" href="../../../../_variables/assignees_logins.html">$assignees_logins</a> = '' )
<a name="l423"><span class="linenum"> 423</span></a>      {
<a name="l424"><span class="linenum"> 424</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('assignees')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/assignees.html">assignees</a> = <a class="var it518" onMouseOver="hilite(518)" onMouseOut="lolite()" onClick="logVariable('assignees')" href="../../../../_variables/assignees.html">$assignees</a>;
<a name="l425"><span class="linenum"> 425</span></a>  
<a name="l426"><span class="linenum"> 426</span></a>          if( empty( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('assignees')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/assignees.html">assignees</a> ) )
<a name="l427"><span class="linenum"> 427</span></a>          {
<a name="l428"><span class="linenum"> 428</span></a>              return;
<a name="l429"><span class="linenum"> 429</span></a>          }
<a name="l430"><span class="linenum"> 430</span></a>  
<a name="l431"><span class="linenum"> 431</span></a>          if( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('assignees')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/assignees.html">assignees</a> == '-' )
<a name="l432"><span class="linenum"> 432</span></a>          {    // List is ONLY a MINUS sign (we want only those not assigned)
<a name="l433"><span class="linenum"> 433</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'assigned_user_ID IS NULL' );
<a name="l434"><span class="linenum"> 434</span></a>          }
<a name="l435"><span class="linenum"> 435</span></a>          elseif( <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('assignees')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/assignees.html">assignees</a>, 0, 1 ) == '-' )
<a name="l436"><span class="linenum"> 436</span></a>          {    // List starts with MINUS sign:
<a name="l437"><span class="linenum"> 437</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( '( '.<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'assigned_user_ID IS NULL
<a name="l438"><span class="linenum"> 438</span></a>                                OR '.<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'assigned_user_ID NOT IN ('.<a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('assignees')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/assignees.html">assignees</a>, 1 ).') )' );
<a name="l439"><span class="linenum"> 439</span></a>          }
<a name="l440"><span class="linenum"> 440</span></a>          else
<a name="l441"><span class="linenum"> 441</span></a>          {
<a name="l442"><span class="linenum"> 442</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'assigned_user_ID IN ('.<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('assignees')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/assignees.html">assignees</a>.')' );
<a name="l443"><span class="linenum"> 443</span></a>          }
<a name="l444"><span class="linenum"> 444</span></a>      }
<a name="l445"><span class="linenum"> 445</span></a>  
<a name="l446"><span class="linenum"> 446</span></a>  
<a name="l447"><span class="linenum"> 447</span></a>      <span class="comment">/**</span>
<a name="l448"><span class="linenum"> 448</span></a>  <span class="comment">     * Restrict to specific assignees by users logins</span>
<a name="l449"><span class="linenum"> 449</span></a>  <span class="comment">     *</span>
<a name="l450"><span class="linenum"> 450</span></a>  <span class="comment">     * @param string List of assignees logins to restrict to (must have been previously validated)</span>
<a name="l451"><span class="linenum"> 451</span></a>  <span class="comment">     */</span>
<a name="l452"><span class="linenum"> 452</span></a>  	function <a class="function" onClick="logFunction('where_assignees_logins')" href="../../../../_functions/where_assignees_logins.html" onMouseOver="funcPopup(event,'where_assignees_logins')">where_assignees_logins</a>( <a class="var it7377" onMouseOver="hilite(7377)" onMouseOut="lolite()" onClick="logVariable('assignees_logins')" href="../../../../_variables/assignees_logins.html">$assignees_logins</a> )
<a name="l453"><span class="linenum"> 453</span></a>      {
<a name="l454"><span class="linenum"> 454</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('assignees_logins')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/assignees_logins.html">assignees_logins</a> = <a class="var it7377" onMouseOver="hilite(7377)" onMouseOut="lolite()" onClick="logVariable('assignees_logins')" href="../../../../_variables/assignees_logins.html">$assignees_logins</a>;
<a name="l455"><span class="linenum"> 455</span></a>  
<a name="l456"><span class="linenum"> 456</span></a>          if( empty( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('assignees_logins')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/assignees_logins.html">assignees_logins</a> ) )
<a name="l457"><span class="linenum"> 457</span></a>          {
<a name="l458"><span class="linenum"> 458</span></a>              return;
<a name="l459"><span class="linenum"> 459</span></a>          }
<a name="l460"><span class="linenum"> 460</span></a>  
<a name="l461"><span class="linenum"> 461</span></a>          if( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('assignees_logins')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/assignees_logins.html">assignees_logins</a> == '-' )
<a name="l462"><span class="linenum"> 462</span></a>          {    // List is ONLY a MINUS sign (we want only those not assigned)
<a name="l463"><span class="linenum"> 463</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'assigned_user_ID IS NULL' );
<a name="l464"><span class="linenum"> 464</span></a>          }
<a name="l465"><span class="linenum"> 465</span></a>          elseif( <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('assignees_logins')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/assignees_logins.html">assignees_logins</a>, 0, 1 ) == '-' )
<a name="l466"><span class="linenum"> 466</span></a>          {    // List starts with MINUS sign:
<a name="l467"><span class="linenum"> 467</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( '( '.<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'assigned_user_ID IS NULL
<a name="l468"><span class="linenum"> 468</span></a>                                OR '.<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'assigned_user_ID NOT IN ('.<a class="function" onClick="logFunction('get_users_IDs_by_logins')" href="../../../../_functions/get_users_ids_by_logins.html" onMouseOver="funcPopup(event,'get_users_ids_by_logins')">get_users_IDs_by_logins</a>( <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('assignees_logins')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/assignees_logins.html">assignees_logins</a>, 1 ) ).') )' );
<a name="l469"><span class="linenum"> 469</span></a>          }
<a name="l470"><span class="linenum"> 470</span></a>          else
<a name="l471"><span class="linenum"> 471</span></a>          {
<a name="l472"><span class="linenum"> 472</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'assigned_user_ID IN ('.<a class="function" onClick="logFunction('get_users_IDs_by_logins')" href="../../../../_functions/get_users_ids_by_logins.html" onMouseOver="funcPopup(event,'get_users_ids_by_logins')">get_users_IDs_by_logins</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('assignees_logins')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/assignees_logins.html">assignees_logins</a> ).')' );
<a name="l473"><span class="linenum"> 473</span></a>          }
<a name="l474"><span class="linenum"> 474</span></a>      }
<a name="l475"><span class="linenum"> 475</span></a>  
<a name="l476"><span class="linenum"> 476</span></a>  
<a name="l477"><span class="linenum"> 477</span></a>      <span class="comment">/**</span>
<a name="l478"><span class="linenum"> 478</span></a>  <span class="comment">     * Restrict to specific assignee or author</span>
<a name="l479"><span class="linenum"> 479</span></a>  <span class="comment">     *</span>
<a name="l480"><span class="linenum"> 480</span></a>  <span class="comment">     * @param integer assignee or author to restrict to (must have been previously validated)</span>
<a name="l481"><span class="linenum"> 481</span></a>  <span class="comment">     */</span>
<a name="l482"><span class="linenum"> 482</span></a>  	function <a class="function" onClick="logFunction('where_author_assignee')" href="../../../../_functions/where_author_assignee.html" onMouseOver="funcPopup(event,'where_author_assignee')">where_author_assignee</a>( <a class="var it7378" onMouseOver="hilite(7378)" onMouseOut="lolite()" onClick="logVariable('author_assignee')" href="../../../../_variables/author_assignee.html">$author_assignee</a> )
<a name="l483"><span class="linenum"> 483</span></a>      {
<a name="l484"><span class="linenum"> 484</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('author_assignee')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/author_assignee.html">author_assignee</a> = <a class="var it7378" onMouseOver="hilite(7378)" onMouseOut="lolite()" onClick="logVariable('author_assignee')" href="../../../../_variables/author_assignee.html">$author_assignee</a>;
<a name="l485"><span class="linenum"> 485</span></a>  
<a name="l486"><span class="linenum"> 486</span></a>          if( empty( <a class="var it7378" onMouseOver="hilite(7378)" onMouseOut="lolite()" onClick="logVariable('author_assignee')" href="../../../../_variables/author_assignee.html">$author_assignee</a> ) )
<a name="l487"><span class="linenum"> 487</span></a>          {
<a name="l488"><span class="linenum"> 488</span></a>              return;
<a name="l489"><span class="linenum"> 489</span></a>          }
<a name="l490"><span class="linenum"> 490</span></a>  
<a name="l491"><span class="linenum"> 491</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( '( '.<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'creator_user_ID = '. <a class="var it7378" onMouseOver="hilite(7378)" onMouseOut="lolite()" onClick="logVariable('author_assignee')" href="../../../../_variables/author_assignee.html">$author_assignee</a>.' OR '.
<a name="l492"><span class="linenum"> 492</span></a>                                              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'assigned_user_ID = '.<a class="var it7378" onMouseOver="hilite(7378)" onMouseOut="lolite()" onClick="logVariable('author_assignee')" href="../../../../_variables/author_assignee.html">$author_assignee</a>.' )' );
<a name="l493"><span class="linenum"> 493</span></a>      }
<a name="l494"><span class="linenum"> 494</span></a>  
<a name="l495"><span class="linenum"> 495</span></a>  
<a name="l496"><span class="linenum"> 496</span></a>      <span class="comment">/**</span>
<a name="l497"><span class="linenum"> 497</span></a>  <span class="comment">     * Restrict to specific locale</span>
<a name="l498"><span class="linenum"> 498</span></a>  <span class="comment">     *</span>
<a name="l499"><span class="linenum"> 499</span></a>  <span class="comment">     * @param string locale to restrict to ('all' if you don't want to restrict)</span>
<a name="l500"><span class="linenum"> 500</span></a>  <span class="comment">     */</span>
<a name="l501"><span class="linenum"> 501</span></a>  	function <a class="function" onClick="logFunction('where_locale')" href="../../../../_functions/where_locale.html" onMouseOver="funcPopup(event,'where_locale')">where_locale</a>( <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('locale')" href="../../../../_variables/locale.html">$locale</a> )
<a name="l502"><span class="linenum"> 502</span></a>      {
<a name="l503"><span class="linenum"> 503</span></a>          global <a class="var it12" onMouseOver="hilite(12)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>;
<a name="l504"><span class="linenum"> 504</span></a>  
<a name="l505"><span class="linenum"> 505</span></a>          if( <a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('locale')" href="../../../../_variables/locale.html">$locale</a> == 'all' )
<a name="l506"><span class="linenum"> 506</span></a>          {
<a name="l507"><span class="linenum"> 507</span></a>              return;
<a name="l508"><span class="linenum"> 508</span></a>          }
<a name="l509"><span class="linenum"> 509</span></a>  
<a name="l510"><span class="linenum"> 510</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'locale LIKE '.<a class="var it12" onMouseOver="hilite(12)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('quote')" href="../../../../_functions/quote.html" onMouseOver="funcPopup(event,'quote')">quote</a>(<a class="var it22" onMouseOver="hilite(22)" onMouseOut="lolite()" onClick="logVariable('locale')" href="../../../../_variables/locale.html">$locale</a>.'%') );
<a name="l511"><span class="linenum"> 511</span></a>      }
<a name="l512"><span class="linenum"> 512</span></a>  
<a name="l513"><span class="linenum"> 513</span></a>  
<a name="l514"><span class="linenum"> 514</span></a>      <span class="comment">/**</span>
<a name="l515"><span class="linenum"> 515</span></a>  <span class="comment">     * Restrict to specific (exetnded) statuses</span>
<a name="l516"><span class="linenum"> 516</span></a>  <span class="comment">     *</span>
<a name="l517"><span class="linenum"> 517</span></a>  <span class="comment">     * @param string List of assignees to restrict to (must have been previously validated)</span>
<a name="l518"><span class="linenum"> 518</span></a>  <span class="comment">     */</span>
<a name="l519"><span class="linenum"> 519</span></a>  	function <a class="function" onClick="logFunction('where_statuses')" href="../../../../_functions/where_statuses.html" onMouseOver="funcPopup(event,'where_statuses')">where_statuses</a>( <a class="var it522" onMouseOver="hilite(522)" onMouseOut="lolite()" onClick="logVariable('statuses')" href="../../../../_variables/statuses.html">$statuses</a> )
<a name="l520"><span class="linenum"> 520</span></a>      {
<a name="l521"><span class="linenum"> 521</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('statuses')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/statuses.html">statuses</a> = <a class="var it522" onMouseOver="hilite(522)" onMouseOut="lolite()" onClick="logVariable('statuses')" href="../../../../_variables/statuses.html">$statuses</a>;
<a name="l522"><span class="linenum"> 522</span></a>  
<a name="l523"><span class="linenum"> 523</span></a>          if( empty( <a class="var it522" onMouseOver="hilite(522)" onMouseOut="lolite()" onClick="logVariable('statuses')" href="../../../../_variables/statuses.html">$statuses</a> ) )
<a name="l524"><span class="linenum"> 524</span></a>          {
<a name="l525"><span class="linenum"> 525</span></a>              return;
<a name="l526"><span class="linenum"> 526</span></a>          }
<a name="l527"><span class="linenum"> 527</span></a>  
<a name="l528"><span class="linenum"> 528</span></a>          if( <a class="var it522" onMouseOver="hilite(522)" onMouseOut="lolite()" onClick="logVariable('statuses')" href="../../../../_variables/statuses.html">$statuses</a> == '-' )
<a name="l529"><span class="linenum"> 529</span></a>          {    // List is ONLY a MINUS sign (we want only those not assigned)
<a name="l530"><span class="linenum"> 530</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'pst_ID IS NULL' );
<a name="l531"><span class="linenum"> 531</span></a>          }
<a name="l532"><span class="linenum"> 532</span></a>          elseif( <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>( <a class="var it522" onMouseOver="hilite(522)" onMouseOut="lolite()" onClick="logVariable('statuses')" href="../../../../_variables/statuses.html">$statuses</a>, 0, 1 ) == '-' )
<a name="l533"><span class="linenum"> 533</span></a>          {    // List starts with MINUS sign:
<a name="l534"><span class="linenum"> 534</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( '( '.<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'pst_ID IS NULL
<a name="l535"><span class="linenum"> 535</span></a>                                OR '.<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'pst_ID NOT IN ('.<a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>( <a class="var it522" onMouseOver="hilite(522)" onMouseOut="lolite()" onClick="logVariable('statuses')" href="../../../../_variables/statuses.html">$statuses</a>, 1 ).') )' );
<a name="l536"><span class="linenum"> 536</span></a>          }
<a name="l537"><span class="linenum"> 537</span></a>          else
<a name="l538"><span class="linenum"> 538</span></a>          {
<a name="l539"><span class="linenum"> 539</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'pst_ID IN ('.<a class="var it522" onMouseOver="hilite(522)" onMouseOut="lolite()" onClick="logVariable('statuses')" href="../../../../_variables/statuses.html">$statuses</a>.')' );
<a name="l540"><span class="linenum"> 540</span></a>          }
<a name="l541"><span class="linenum"> 541</span></a>      }
<a name="l542"><span class="linenum"> 542</span></a>  
<a name="l543"><span class="linenum"> 543</span></a>  
<a name="l544"><span class="linenum"> 544</span></a>      <span class="comment">/**</span>
<a name="l545"><span class="linenum"> 545</span></a>  <span class="comment">     * Restrict to specific item types</span>
<a name="l546"><span class="linenum"> 546</span></a>  <span class="comment">     *</span>
<a name="l547"><span class="linenum"> 547</span></a>  <span class="comment">     * @param string List of types to restrict to (must have been previously validated)</span>
<a name="l548"><span class="linenum"> 548</span></a>  <span class="comment">     */</span>
<a name="l549"><span class="linenum"> 549</span></a>  	function <a class="function" onClick="logFunction('where_types')" href="../../../../_functions/where_types.html" onMouseOver="funcPopup(event,'where_types')">where_types</a>( <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('types')" href="../../../../_variables/types.html">$types</a> )
<a name="l550"><span class="linenum"> 550</span></a>      {
<a name="l551"><span class="linenum"> 551</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('types')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/types.html">types</a> = <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('types')" href="../../../../_variables/types.html">$types</a>;
<a name="l552"><span class="linenum"> 552</span></a>  
<a name="l553"><span class="linenum"> 553</span></a>          if( empty( <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('types')" href="../../../../_variables/types.html">$types</a> ) )
<a name="l554"><span class="linenum"> 554</span></a>          {
<a name="l555"><span class="linenum"> 555</span></a>              return;
<a name="l556"><span class="linenum"> 556</span></a>          }
<a name="l557"><span class="linenum"> 557</span></a>  
<a name="l558"><span class="linenum"> 558</span></a>          if( <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('types')" href="../../../../_variables/types.html">$types</a> == '-' )
<a name="l559"><span class="linenum"> 559</span></a>          {    // List is ONLY a MINUS sign (we want only those not assigned)
<a name="l560"><span class="linenum"> 560</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'ptyp_ID IS NULL' );
<a name="l561"><span class="linenum"> 561</span></a>          }
<a name="l562"><span class="linenum"> 562</span></a>          elseif( <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>( <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('types')" href="../../../../_variables/types.html">$types</a>, 0, 1 ) == '-' )
<a name="l563"><span class="linenum"> 563</span></a>          {    // List starts with MINUS sign:
<a name="l564"><span class="linenum"> 564</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( '( '.<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'ptyp_ID IS NULL
<a name="l565"><span class="linenum"> 565</span></a>                                OR '.<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'ptyp_ID NOT IN ('.<a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>( <a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('types')" href="../../../../_variables/types.html">$types</a>, 1 ).') )' );
<a name="l566"><span class="linenum"> 566</span></a>          }
<a name="l567"><span class="linenum"> 567</span></a>          else
<a name="l568"><span class="linenum"> 568</span></a>          {
<a name="l569"><span class="linenum"> 569</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'ptyp_ID IN ('.<a class="var it90" onMouseOver="hilite(90)" onMouseOut="lolite()" onClick="logVariable('types')" href="../../../../_variables/types.html">$types</a>.')' );
<a name="l570"><span class="linenum"> 570</span></a>          }
<a name="l571"><span class="linenum"> 571</span></a>      }
<a name="l572"><span class="linenum"> 572</span></a>  
<a name="l573"><span class="linenum"> 573</span></a>  
<a name="l574"><span class="linenum"> 574</span></a>      <span class="comment">/**</span>
<a name="l575"><span class="linenum"> 575</span></a>  <span class="comment">     * Restricts the datestart param to a specific date range.</span>
<a name="l576"><span class="linenum"> 576</span></a>  <span class="comment">     *</span>
<a name="l577"><span class="linenum"> 577</span></a>  <span class="comment">     * Start date gets restricted to minutes only (to make the query more</span>
<a name="l578"><span class="linenum"> 578</span></a>  <span class="comment">     * cachable).</span>
<a name="l579"><span class="linenum"> 579</span></a>  <span class="comment">     *</span>
<a name="l580"><span class="linenum"> 580</span></a>  <span class="comment">     * Priorities:</span>
<a name="l581"><span class="linenum"> 581</span></a>  <span class="comment">     *  -dstart and/or dstop</span>
<a name="l582"><span class="linenum"> 582</span></a>  <span class="comment">     *  -week + m</span>
<a name="l583"><span class="linenum"> 583</span></a>  <span class="comment">     *  -m</span>
<a name="l584"><span class="linenum"> 584</span></a>  <span class="comment">     * @todo  -dstart + x days</span>
<a name="l585"><span class="linenum"> 585</span></a>  <span class="comment">     * @see ItemList2::get_advertised_start_date()</span>
<a name="l586"><span class="linenum"> 586</span></a>  <span class="comment">     *</span>
<a name="l587"><span class="linenum"> 587</span></a>  <span class="comment">     * @param string YYYYMMDDHHMMSS (everything after YYYY is optional) or ''</span>
<a name="l588"><span class="linenum"> 588</span></a>  <span class="comment">     * @param integer week number or ''</span>
<a name="l589"><span class="linenum"> 589</span></a>  <span class="comment">     * @param string YYYYMMDDHHMMSS to start at, '' for first available</span>
<a name="l590"><span class="linenum"> 590</span></a>  <span class="comment">     * @param string YYYYMMDDHHMMSS to stop at</span>
<a name="l591"><span class="linenum"> 591</span></a>  <span class="comment">     * @param mixed Do not show posts before this timestamp, can be 'now'</span>
<a name="l592"><span class="linenum"> 592</span></a>  <span class="comment">     * @param mixed Do not show posts after this timestamp, can be 'now'</span>
<a name="l593"><span class="linenum"> 593</span></a>  <span class="comment">     */</span>
<a name="l594"><span class="linenum"> 594</span></a>  	function <a class="function" onClick="logFunction('where_datestart')" href="../../../../_functions/where_datestart.html" onMouseOver="funcPopup(event,'where_datestart')">where_datestart</a>( <a class="var it526" onMouseOver="hilite(526)" onMouseOut="lolite()" onClick="logVariable('m')" href="../../../../_variables/m.html">$m</a> = '', <a class="var it418" onMouseOver="hilite(418)" onMouseOut="lolite()" onClick="logVariable('w')" href="../../../../_variables/w.html">$w</a> = '', <a class="var it7365" onMouseOver="hilite(7365)" onMouseOut="lolite()" onClick="logVariable('dstart')" href="../../../../_variables/dstart.html">$dstart</a> = '', <a class="var it7366" onMouseOver="hilite(7366)" onMouseOut="lolite()" onClick="logVariable('dstop')" href="../../../../_variables/dstop.html">$dstop</a> = '', <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('timestamp_min')" href="../../../../_variables/timestamp_min.html">$timestamp_min</a> = '', <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('timestamp_max')" href="../../../../_variables/timestamp_max.html">$timestamp_max</a> = 'now' )
<a name="l595"><span class="linenum"> 595</span></a>      {
<a name="l596"><span class="linenum"> 596</span></a>          global <a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('time_difference')" href="../../../../_variables/time_difference.html">$time_difference</a>, <a class="var it12" onMouseOver="hilite(12)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>;
<a name="l597"><span class="linenum"> 597</span></a>  
<a name="l598"><span class="linenum"> 598</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('m')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/m.html">m</a> = <a class="var it526" onMouseOver="hilite(526)" onMouseOut="lolite()" onClick="logVariable('m')" href="../../../../_variables/m.html">$m</a>;
<a name="l599"><span class="linenum"> 599</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('w')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/w.html">w</a> = <a class="var it418" onMouseOver="hilite(418)" onMouseOut="lolite()" onClick="logVariable('w')" href="../../../../_variables/w.html">$w</a>;
<a name="l600"><span class="linenum"> 600</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dstart')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dstart.html">dstart</a> = <a class="var it7365" onMouseOver="hilite(7365)" onMouseOut="lolite()" onClick="logVariable('dstart')" href="../../../../_variables/dstart.html">$dstart</a>;
<a name="l601"><span class="linenum"> 601</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dstop')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dstop.html">dstop</a> = <a class="var it7366" onMouseOver="hilite(7366)" onMouseOut="lolite()" onClick="logVariable('dstop')" href="../../../../_variables/dstop.html">$dstop</a>;
<a name="l602"><span class="linenum"> 602</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('timestamp_min')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/timestamp_min.html">timestamp_min</a> = <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('timestamp_min')" href="../../../../_variables/timestamp_min.html">$timestamp_min</a>;
<a name="l603"><span class="linenum"> 603</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('timestamp_max')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/timestamp_max.html">timestamp_max</a> = <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('timestamp_max')" href="../../../../_variables/timestamp_max.html">$timestamp_max</a>;
<a name="l604"><span class="linenum"> 604</span></a>  
<a name="l605"><span class="linenum"> 605</span></a>  
<a name="l606"><span class="linenum"> 606</span></a>          <a class="var it7379" onMouseOver="hilite(7379)" onMouseOut="lolite()" onClick="logVariable('start_is_set')" href="../../../../_variables/start_is_set.html">$start_is_set</a> = false;
<a name="l607"><span class="linenum"> 607</span></a>          <a class="var it7380" onMouseOver="hilite(7380)" onMouseOut="lolite()" onClick="logVariable('stop_is_set')" href="../../../../_variables/stop_is_set.html">$stop_is_set</a> = false;
<a name="l608"><span class="linenum"> 608</span></a>  
<a name="l609"><span class="linenum"> 609</span></a>  
<a name="l610"><span class="linenum"> 610</span></a>  <span class="comment">        // if a start date is specified in the querystring, crop anything before</span>
<a name="l611"><span class="linenum"> 611</span></a>          if( !empty(<a class="var it7365" onMouseOver="hilite(7365)" onMouseOut="lolite()" onClick="logVariable('dstart')" href="../../../../_variables/dstart.html">$dstart</a>) )
<a name="l612"><span class="linenum"> 612</span></a>          {
<a name="l613"><span class="linenum"> 613</span></a>  <span class="comment">            // Add trailing 0s: YYYYMMDDHHMMSS</span>
<a name="l614"><span class="linenum"> 614</span></a>              <a class="var it493" onMouseOver="hilite(493)" onMouseOut="lolite()" onClick="logVariable('dstart0')" href="../../../../_variables/dstart0.html">$dstart0</a> = <a class="var it7365" onMouseOver="hilite(7365)" onMouseOut="lolite()" onClick="logVariable('dstart')" href="../../../../_variables/dstart.html">$dstart</a>.'00000000000000';  <span class="comment">// TODO: this is NOT correct, should be 0101 for month</span>
<a name="l615"><span class="linenum"> 615</span></a>  
<a name="l616"><span class="linenum"> 616</span></a>  <span class="comment">            // Start date in MySQL format: seconds get omitted (rounded to lower to minute for caching purposes)</span>
<a name="l617"><span class="linenum"> 617</span></a>              <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('dstart_mysql')" href="../../../../_variables/dstart_mysql.html">$dstart_mysql</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it493" onMouseOver="hilite(493)" onMouseOut="lolite()" onClick="logVariable('dstart0')" href="../../../../_variables/dstart0.html">$dstart0</a>,0,4).'-'.<a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it493" onMouseOver="hilite(493)" onMouseOut="lolite()" onClick="logVariable('dstart0')" href="../../../../_variables/dstart0.html">$dstart0</a>,4,2).'-'.<a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it493" onMouseOver="hilite(493)" onMouseOut="lolite()" onClick="logVariable('dstart0')" href="../../../../_variables/dstart0.html">$dstart0</a>,6,2).' '
<a name="l618"><span class="linenum"> 618</span></a>                                              .<a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it493" onMouseOver="hilite(493)" onMouseOut="lolite()" onClick="logVariable('dstart0')" href="../../../../_variables/dstart0.html">$dstart0</a>,8,2).':'.<a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it493" onMouseOver="hilite(493)" onMouseOut="lolite()" onClick="logVariable('dstart0')" href="../../../../_variables/dstart0.html">$dstart0</a>,10,2);
<a name="l619"><span class="linenum"> 619</span></a>  
<a name="l620"><span class="linenum"> 620</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'datestart &gt;= '.<a class="var it12" onMouseOver="hilite(12)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('quote')" href="../../../../_functions/quote.html" onMouseOver="funcPopup(event,'quote')">quote</a>( <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('dstart_mysql')" href="../../../../_variables/dstart_mysql.html">$dstart_mysql</a> ).'
<a name="l621"><span class="linenum"> 621</span></a>                                                      OR ( '.<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'datedeadline IS NULL AND '.<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'datestart &gt;= '.<a class="var it12" onMouseOver="hilite(12)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('quote')" href="../../../../_functions/quote.html" onMouseOver="funcPopup(event,'quote')">quote</a>( <a class="var it494" onMouseOver="hilite(494)" onMouseOut="lolite()" onClick="logVariable('dstart_mysql')" href="../../../../_variables/dstart_mysql.html">$dstart_mysql</a> ).' )' );
<a name="l622"><span class="linenum"> 622</span></a>  
<a name="l623"><span class="linenum"> 623</span></a>              <a class="var it7379" onMouseOver="hilite(7379)" onMouseOut="lolite()" onClick="logVariable('start_is_set')" href="../../../../_variables/start_is_set.html">$start_is_set</a> = true;
<a name="l624"><span class="linenum"> 624</span></a>          }
<a name="l625"><span class="linenum"> 625</span></a>  
<a name="l626"><span class="linenum"> 626</span></a>  
<a name="l627"><span class="linenum"> 627</span></a>  <span class="comment">        // if a stop date is specified in the querystring, crop anything before</span>
<a name="l628"><span class="linenum"> 628</span></a>          if( !empty(<a class="var it7366" onMouseOver="hilite(7366)" onMouseOut="lolite()" onClick="logVariable('dstop')" href="../../../../_variables/dstop.html">$dstop</a>) )
<a name="l629"><span class="linenum"> 629</span></a>          {
<a name="l630"><span class="linenum"> 630</span></a>              switch( strlen( <a class="var it7366" onMouseOver="hilite(7366)" onMouseOut="lolite()" onClick="logVariable('dstop')" href="../../../../_variables/dstop.html">$dstop</a> ) )
<a name="l631"><span class="linenum"> 631</span></a>              {
<a name="l632"><span class="linenum"> 632</span></a>                  case '4':
<a name="l633"><span class="linenum"> 633</span></a>  <span class="comment">                    // We have only year, add one to year</span>
<a name="l634"><span class="linenum"> 634</span></a>                      <a class="var it7381" onMouseOver="hilite(7381)" onMouseOut="lolite()" onClick="logVariable('dstop_mysql')" href="../../../../_variables/dstop_mysql.html">$dstop_mysql</a> = (<a class="var it7366" onMouseOver="hilite(7366)" onMouseOut="lolite()" onClick="logVariable('dstop')" href="../../../../_variables/dstop.html">$dstop</a>+1).'-01-01 00:00:00';
<a name="l635"><span class="linenum"> 635</span></a>                      break;
<a name="l636"><span class="linenum"> 636</span></a>  
<a name="l637"><span class="linenum"> 637</span></a>                  case '6':
<a name="l638"><span class="linenum"> 638</span></a>  <span class="comment">                    // We have year month, add one to month</span>
<a name="l639"><span class="linenum"> 639</span></a>                      <a class="var it7381" onMouseOver="hilite(7381)" onMouseOut="lolite()" onClick="logVariable('dstop_mysql')" href="../../../../_variables/dstop_mysql.html">$dstop_mysql</a> = <a class="phpfunction" onClick="logFunction('date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">date</a>(&quot;Y-m-d H:i:s &quot;, <a class="phpfunction" onClick="logFunction('mktime')" href="../../../../_functions/mktime.html" onMouseOver="phpfuncPopup(event,'mktime')">mktime</a>(0, 0, 0, <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it7366" onMouseOver="hilite(7366)" onMouseOut="lolite()" onClick="logVariable('dstop')" href="../../../../_variables/dstop.html">$dstop</a>,4,2)+1, 01, <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it7366" onMouseOver="hilite(7366)" onMouseOut="lolite()" onClick="logVariable('dstop')" href="../../../../_variables/dstop.html">$dstop</a>,0,4)));
<a name="l640"><span class="linenum"> 640</span></a>                      break;
<a name="l641"><span class="linenum"> 641</span></a>  
<a name="l642"><span class="linenum"> 642</span></a>                  case '8':
<a name="l643"><span class="linenum"> 643</span></a>  <span class="comment">                    // We have year mounth day, add one to day</span>
<a name="l644"><span class="linenum"> 644</span></a>                      <a class="var it7381" onMouseOver="hilite(7381)" onMouseOut="lolite()" onClick="logVariable('dstop_mysql')" href="../../../../_variables/dstop_mysql.html">$dstop_mysql</a> = <a class="phpfunction" onClick="logFunction('date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">date</a>(&quot;Y-m-d H:i:s &quot;, <a class="phpfunction" onClick="logFunction('mktime')" href="../../../../_functions/mktime.html" onMouseOver="phpfuncPopup(event,'mktime')">mktime</a>(0, 0, 0, <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it7366" onMouseOver="hilite(7366)" onMouseOut="lolite()" onClick="logVariable('dstop')" href="../../../../_variables/dstop.html">$dstop</a>,4,2), (<a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it7366" onMouseOver="hilite(7366)" onMouseOut="lolite()" onClick="logVariable('dstop')" href="../../../../_variables/dstop.html">$dstop</a>,6,2) + 1 ), <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it7366" onMouseOver="hilite(7366)" onMouseOut="lolite()" onClick="logVariable('dstop')" href="../../../../_variables/dstop.html">$dstop</a>,0,4)));
<a name="l645"><span class="linenum"> 645</span></a>                      break;
<a name="l646"><span class="linenum"> 646</span></a>  
<a name="l647"><span class="linenum"> 647</span></a>                  case '10':
<a name="l648"><span class="linenum"> 648</span></a>  <span class="comment">                    // We have year mounth day hour, add one to hour</span>
<a name="l649"><span class="linenum"> 649</span></a>                      <a class="var it7381" onMouseOver="hilite(7381)" onMouseOut="lolite()" onClick="logVariable('dstop_mysql')" href="../../../../_variables/dstop_mysql.html">$dstop_mysql</a> = <a class="phpfunction" onClick="logFunction('date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">date</a>(&quot;Y-m-d H:i:s &quot;, <a class="phpfunction" onClick="logFunction('mktime')" href="../../../../_functions/mktime.html" onMouseOver="phpfuncPopup(event,'mktime')">mktime</a>( ( <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it7366" onMouseOver="hilite(7366)" onMouseOut="lolite()" onClick="logVariable('dstop')" href="../../../../_variables/dstop.html">$dstop</a>,8,2) + 1 ), 0, 0, <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it7366" onMouseOver="hilite(7366)" onMouseOut="lolite()" onClick="logVariable('dstop')" href="../../../../_variables/dstop.html">$dstop</a>,4,2), <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it7366" onMouseOver="hilite(7366)" onMouseOut="lolite()" onClick="logVariable('dstop')" href="../../../../_variables/dstop.html">$dstop</a>,6,2), <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it7366" onMouseOver="hilite(7366)" onMouseOut="lolite()" onClick="logVariable('dstop')" href="../../../../_variables/dstop.html">$dstop</a>,0,4)));
<a name="l650"><span class="linenum"> 650</span></a>                      break;
<a name="l651"><span class="linenum"> 651</span></a>  
<a name="l652"><span class="linenum"> 652</span></a>                  case '12':
<a name="l653"><span class="linenum"> 653</span></a>  <span class="comment">                    // We have year mounth day hour minute, add one to minute</span>
<a name="l654"><span class="linenum"> 654</span></a>                      <a class="var it7381" onMouseOver="hilite(7381)" onMouseOut="lolite()" onClick="logVariable('dstop_mysql')" href="../../../../_variables/dstop_mysql.html">$dstop_mysql</a> = <a class="phpfunction" onClick="logFunction('date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">date</a>(&quot;Y-m-d H:i:s &quot;, <a class="phpfunction" onClick="logFunction('mktime')" href="../../../../_functions/mktime.html" onMouseOver="phpfuncPopup(event,'mktime')">mktime</a>( <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it7366" onMouseOver="hilite(7366)" onMouseOut="lolite()" onClick="logVariable('dstop')" href="../../../../_variables/dstop.html">$dstop</a>,8,2), ( <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it7366" onMouseOver="hilite(7366)" onMouseOut="lolite()" onClick="logVariable('dstop')" href="../../../../_variables/dstop.html">$dstop</a>,8,2) + 1 ), 0, <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it7366" onMouseOver="hilite(7366)" onMouseOut="lolite()" onClick="logVariable('dstop')" href="../../../../_variables/dstop.html">$dstop</a>,4,2), <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it7366" onMouseOver="hilite(7366)" onMouseOut="lolite()" onClick="logVariable('dstop')" href="../../../../_variables/dstop.html">$dstop</a>,6,2), <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it7366" onMouseOver="hilite(7366)" onMouseOut="lolite()" onClick="logVariable('dstop')" href="../../../../_variables/dstop.html">$dstop</a>,0,4)));
<a name="l655"><span class="linenum"> 655</span></a>                      break;
<a name="l656"><span class="linenum"> 656</span></a>  
<a name="l657"><span class="linenum"> 657</span></a>                  default:
<a name="l658"><span class="linenum"> 658</span></a>  <span class="comment">                    // add one to second</span>
<a name="l659"><span class="linenum"> 659</span></a>  <span class="comment">                    // Stop date in MySQL format: seconds get omitted (rounded to lower to minute for caching purposes)</span>
<a name="l660"><span class="linenum"> 660</span></a>                      <a class="var it7381" onMouseOver="hilite(7381)" onMouseOut="lolite()" onClick="logVariable('dstop_mysql')" href="../../../../_variables/dstop_mysql.html">$dstop_mysql</a> = <a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it7366" onMouseOver="hilite(7366)" onMouseOut="lolite()" onClick="logVariable('dstop')" href="../../../../_variables/dstop.html">$dstop</a>,0,4).'-'.<a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it7366" onMouseOver="hilite(7366)" onMouseOut="lolite()" onClick="logVariable('dstop')" href="../../../../_variables/dstop.html">$dstop</a>,4,2).'-'.<a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it7366" onMouseOver="hilite(7366)" onMouseOut="lolite()" onClick="logVariable('dstop')" href="../../../../_variables/dstop.html">$dstop</a>,6,2).' '
<a name="l661"><span class="linenum"> 661</span></a>                                              .<a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it7366" onMouseOver="hilite(7366)" onMouseOut="lolite()" onClick="logVariable('dstop')" href="../../../../_variables/dstop.html">$dstop</a>,8,2).':'.<a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it7366" onMouseOver="hilite(7366)" onMouseOut="lolite()" onClick="logVariable('dstop')" href="../../../../_variables/dstop.html">$dstop</a>,10,2);
<a name="l662"><span class="linenum"> 662</span></a>              }
<a name="l663"><span class="linenum"> 663</span></a>  
<a name="l664"><span class="linenum"> 664</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'datestart &lt; '.<a class="var it12" onMouseOver="hilite(12)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('quote')" href="../../../../_functions/quote.html" onMouseOver="funcPopup(event,'quote')">quote</a>( <a class="var it7381" onMouseOver="hilite(7381)" onMouseOut="lolite()" onClick="logVariable('dstop_mysql')" href="../../../../_variables/dstop_mysql.html">$dstop_mysql</a> ) ); <span class="comment">// NOT &lt;= comparator because we compare to the superior stop date</span>
<a name="l665"><span class="linenum"> 665</span></a>  
<a name="l666"><span class="linenum"> 666</span></a>              <a class="var it7380" onMouseOver="hilite(7380)" onMouseOut="lolite()" onClick="logVariable('stop_is_set')" href="../../../../_variables/stop_is_set.html">$stop_is_set</a> = true;
<a name="l667"><span class="linenum"> 667</span></a>          }
<a name="l668"><span class="linenum"> 668</span></a>  
<a name="l669"><span class="linenum"> 669</span></a>  
<a name="l670"><span class="linenum"> 670</span></a>          if( !<a class="var it7379" onMouseOver="hilite(7379)" onMouseOut="lolite()" onClick="logVariable('start_is_set')" href="../../../../_variables/start_is_set.html">$start_is_set</a> || !<a class="var it7380" onMouseOver="hilite(7380)" onMouseOut="lolite()" onClick="logVariable('stop_is_set')" href="../../../../_variables/stop_is_set.html">$stop_is_set</a> )
<a name="l671"><span class="linenum"> 671</span></a>          {
<a name="l672"><span class="linenum"> 672</span></a>  
<a name="l673"><span class="linenum"> 673</span></a>              if( !<a class="phpfunction" onClick="logFunction('is_null')" href="../../../../_functions/is_null.html" onMouseOver="phpfuncPopup(event,'is_null')">is_null</a>(<a class="var it418" onMouseOver="hilite(418)" onMouseOut="lolite()" onClick="logVariable('w')" href="../../../../_variables/w.html">$w</a>)  // Note: week # can be 0
<a name="l674"><span class="linenum"> 674</span></a>                      &amp;&amp; strlen(<a class="var it526" onMouseOver="hilite(526)" onMouseOut="lolite()" onClick="logVariable('m')" href="../../../../_variables/m.html">$m</a>) == 4 )
<a name="l675"><span class="linenum"> 675</span></a>              { // If a week number is specified (with a year)
<a name="l676"><span class="linenum"> 676</span></a>  
<a name="l677"><span class="linenum"> 677</span></a>  <span class="comment">                // Note: we use PHP to calculate week boundaries in order to handle weeks</span>
<a name="l678"><span class="linenum"> 678</span></a>  <span class="comment">                // that overlap 2 years properly, even when start on week is monday (which MYSQL won't handle properly)</span>
<a name="l679"><span class="linenum"> 679</span></a>                  <a class="var it7382" onMouseOver="hilite(7382)" onMouseOut="lolite()" onClick="logVariable('start_date_for_week')" href="../../../../_variables/start_date_for_week.html">$start_date_for_week</a> = <a class="function" onClick="logFunction('get_start_date_for_week')" href="../../../../_functions/get_start_date_for_week.html" onMouseOver="funcPopup(event,'get_start_date_for_week')">get_start_date_for_week</a>( <a class="var it526" onMouseOver="hilite(526)" onMouseOut="lolite()" onClick="logVariable('m')" href="../../../../_variables/m.html">$m</a>, <a class="var it418" onMouseOver="hilite(418)" onMouseOut="lolite()" onClick="logVariable('w')" href="../../../../_variables/w.html">$w</a>, <a class="function" onClick="logFunction('locale_startofweek')" href="../../../../_functions/locale_startofweek.html" onMouseOver="funcPopup(event,'locale_startofweek')">locale_startofweek</a>() );
<a name="l680"><span class="linenum"> 680</span></a>  
<a name="l681"><span class="linenum"> 681</span></a>                  <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.&quot;datestart &gt;= '&quot;.<a class="phpfunction" onClick="logFunction('date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">date</a>('Y-m-d',<a class="var it7382" onMouseOver="hilite(7382)" onMouseOut="lolite()" onClick="logVariable('start_date_for_week')" href="../../../../_variables/start_date_for_week.html">$start_date_for_week</a>).&quot;'&quot; );
<a name="l682"><span class="linenum"> 682</span></a>                  <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.&quot;datestart &lt; '&quot;.<a class="phpfunction" onClick="logFunction('date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">date</a>('Y-m-d',<a class="var it7382" onMouseOver="hilite(7382)" onMouseOut="lolite()" onClick="logVariable('start_date_for_week')" href="../../../../_variables/start_date_for_week.html">$start_date_for_week</a>+604800 ).&quot;'&quot; ); <span class="comment">// + 7 days</span>
<a name="l683"><span class="linenum"> 683</span></a>  
<a name="l684"><span class="linenum"> 684</span></a>                  <a class="var it7379" onMouseOver="hilite(7379)" onMouseOut="lolite()" onClick="logVariable('start_is_set')" href="../../../../_variables/start_is_set.html">$start_is_set</a> = true;
<a name="l685"><span class="linenum"> 685</span></a>                  <a class="var it7380" onMouseOver="hilite(7380)" onMouseOut="lolite()" onClick="logVariable('stop_is_set')" href="../../../../_variables/stop_is_set.html">$stop_is_set</a> = true;
<a name="l686"><span class="linenum"> 686</span></a>              }
<a name="l687"><span class="linenum"> 687</span></a>              elseif( !empty(<a class="var it526" onMouseOver="hilite(526)" onMouseOut="lolite()" onClick="logVariable('m')" href="../../../../_variables/m.html">$m</a>) )
<a name="l688"><span class="linenum"> 688</span></a>              {    // We want to restrict on an interval:
<a name="l689"><span class="linenum"> 689</span></a>                  <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( '<a class="phpfunction" onClick="logFunction('EXTRACT')" href="../../../../_functions/extract.html" onMouseOver="phpfuncPopup(event,'extract')">EXTRACT</a>(YEAR FROM '.<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'datestart)='.<a class="phpfunction" onClick="logFunction('intval')" href="../../../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it526" onMouseOver="hilite(526)" onMouseOut="lolite()" onClick="logVariable('m')" href="../../../../_variables/m.html">$m</a>,0,4)) );
<a name="l690"><span class="linenum"> 690</span></a>                  if( strlen(<a class="var it526" onMouseOver="hilite(526)" onMouseOut="lolite()" onClick="logVariable('m')" href="../../../../_variables/m.html">$m</a>) &gt; 5 )
<a name="l691"><span class="linenum"> 691</span></a>                      <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( '<a class="phpfunction" onClick="logFunction('EXTRACT')" href="../../../../_functions/extract.html" onMouseOver="phpfuncPopup(event,'extract')">EXTRACT</a>(MONTH FROM '.<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'datestart)='.<a class="phpfunction" onClick="logFunction('intval')" href="../../../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it526" onMouseOver="hilite(526)" onMouseOut="lolite()" onClick="logVariable('m')" href="../../../../_variables/m.html">$m</a>,4,2)) );
<a name="l692"><span class="linenum"> 692</span></a>                  if( strlen(<a class="var it526" onMouseOver="hilite(526)" onMouseOut="lolite()" onClick="logVariable('m')" href="../../../../_variables/m.html">$m</a>) &gt; 7 )
<a name="l693"><span class="linenum"> 693</span></a>                      <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( '<a class="phpfunction" onClick="logFunction('EXTRACT')" href="../../../../_functions/extract.html" onMouseOver="phpfuncPopup(event,'extract')">EXTRACT</a>(DAY FROM '.<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'datestart)='.<a class="phpfunction" onClick="logFunction('intval')" href="../../../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it526" onMouseOver="hilite(526)" onMouseOut="lolite()" onClick="logVariable('m')" href="../../../../_variables/m.html">$m</a>,6,2)) );
<a name="l694"><span class="linenum"> 694</span></a>                  if( strlen(<a class="var it526" onMouseOver="hilite(526)" onMouseOut="lolite()" onClick="logVariable('m')" href="../../../../_variables/m.html">$m</a>) &gt; 9 )
<a name="l695"><span class="linenum"> 695</span></a>                      <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( '<a class="phpfunction" onClick="logFunction('EXTRACT')" href="../../../../_functions/extract.html" onMouseOver="phpfuncPopup(event,'extract')">EXTRACT</a>(HOUR FROM '.<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'datestart)='.<a class="phpfunction" onClick="logFunction('intval')" href="../../../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it526" onMouseOver="hilite(526)" onMouseOut="lolite()" onClick="logVariable('m')" href="../../../../_variables/m.html">$m</a>,8,2)) );
<a name="l696"><span class="linenum"> 696</span></a>                  if( strlen(<a class="var it526" onMouseOver="hilite(526)" onMouseOut="lolite()" onClick="logVariable('m')" href="../../../../_variables/m.html">$m</a>) &gt; 11 )
<a name="l697"><span class="linenum"> 697</span></a>                      <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( '<a class="phpfunction" onClick="logFunction('EXTRACT')" href="../../../../_functions/extract.html" onMouseOver="phpfuncPopup(event,'extract')">EXTRACT</a>(MINUTE FROM '.<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'datestart)='.<a class="phpfunction" onClick="logFunction('intval')" href="../../../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it526" onMouseOver="hilite(526)" onMouseOut="lolite()" onClick="logVariable('m')" href="../../../../_variables/m.html">$m</a>,10,2)) );
<a name="l698"><span class="linenum"> 698</span></a>                  if( strlen(<a class="var it526" onMouseOver="hilite(526)" onMouseOut="lolite()" onClick="logVariable('m')" href="../../../../_variables/m.html">$m</a>) &gt; 13 )
<a name="l699"><span class="linenum"> 699</span></a>                      <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( '<a class="phpfunction" onClick="logFunction('EXTRACT')" href="../../../../_functions/extract.html" onMouseOver="phpfuncPopup(event,'extract')">EXTRACT</a>(SECOND FROM '.<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'datestart)='.<a class="phpfunction" onClick="logFunction('intval')" href="../../../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="phpfunction" onClick="logFunction('substr')" href="../../../../_functions/substr.html" onMouseOver="phpfuncPopup(event,'substr')">substr</a>(<a class="var it526" onMouseOver="hilite(526)" onMouseOut="lolite()" onClick="logVariable('m')" href="../../../../_variables/m.html">$m</a>,12,2)) );
<a name="l700"><span class="linenum"> 700</span></a>  
<a name="l701"><span class="linenum"> 701</span></a>                  <a class="var it7379" onMouseOver="hilite(7379)" onMouseOut="lolite()" onClick="logVariable('start_is_set')" href="../../../../_variables/start_is_set.html">$start_is_set</a> = true;
<a name="l702"><span class="linenum"> 702</span></a>                  <a class="var it7380" onMouseOver="hilite(7380)" onMouseOut="lolite()" onClick="logVariable('stop_is_set')" href="../../../../_variables/stop_is_set.html">$stop_is_set</a> = true;
<a name="l703"><span class="linenum"> 703</span></a>              }
<a name="l704"><span class="linenum"> 704</span></a>  
<a name="l705"><span class="linenum"> 705</span></a>          }
<a name="l706"><span class="linenum"> 706</span></a>  
<a name="l707"><span class="linenum"> 707</span></a>  
<a name="l708"><span class="linenum"> 708</span></a>  <span class="comment">        // TODO: start + x days</span>
<a name="l709"><span class="linenum"> 709</span></a>  <span class="comment">        // TODO: stop - x days</span>
<a name="l710"><span class="linenum"> 710</span></a>  
<a name="l711"><span class="linenum"> 711</span></a>  
<a name="l712"><span class="linenum"> 712</span></a>  <span class="comment">        // SILENT limits!</span>
<a name="l713"><span class="linenum"> 713</span></a>  
<a name="l714"><span class="linenum"> 714</span></a>  <span class="comment">        // Timestamp limits:</span>
<a name="l715"><span class="linenum"> 715</span></a>          if( <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('timestamp_min')" href="../../../../_variables/timestamp_min.html">$timestamp_min</a> == 'now' )
<a name="l716"><span class="linenum"> 716</span></a>          {
<a name="l717"><span class="linenum"> 717</span></a>  <span class="comment">            // echo 'hide past';</span>
<a name="l718"><span class="linenum"> 718</span></a>              <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('timestamp_min')" href="../../../../_variables/timestamp_min.html">$timestamp_min</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l719"><span class="linenum"> 719</span></a>          }
<a name="l720"><span class="linenum"> 720</span></a>          if( !empty(<a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('timestamp_min')" href="../../../../_variables/timestamp_min.html">$timestamp_min</a>) )
<a name="l721"><span class="linenum"> 721</span></a>          { // Hide posts before
<a name="l722"><span class="linenum"> 722</span></a>  <span class="comment">            // echo 'hide before '.$timestamp_min;</span>
<a name="l723"><span class="linenum"> 723</span></a>              <a class="var it7383" onMouseOver="hilite(7383)" onMouseOut="lolite()" onClick="logVariable('date_min')" href="../../../../_variables/date_min.html">$date_min</a> = <a class="function" onClick="logFunction('remove_seconds')" href="../../../../_functions/remove_seconds.html" onMouseOver="funcPopup(event,'remove_seconds')">remove_seconds</a>( <a class="var it4" onMouseOver="hilite(4)" onMouseOut="lolite()" onClick="logVariable('timestamp_min')" href="../../../../_variables/timestamp_min.html">$timestamp_min</a> + <a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('time_difference')" href="../../../../_variables/time_difference.html">$time_difference</a> );
<a name="l724"><span class="linenum"> 724</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'datestart &gt;= '.<a class="var it12" onMouseOver="hilite(12)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('quote')" href="../../../../_functions/quote.html" onMouseOver="funcPopup(event,'quote')">quote</a>( <a class="var it7383" onMouseOver="hilite(7383)" onMouseOut="lolite()" onClick="logVariable('date_min')" href="../../../../_variables/date_min.html">$date_min</a> ) );
<a name="l725"><span class="linenum"> 725</span></a>          }
<a name="l726"><span class="linenum"> 726</span></a>  
<a name="l727"><span class="linenum"> 727</span></a>          if( <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('timestamp_max')" href="../../../../_variables/timestamp_max.html">$timestamp_max</a> == 'now' )
<a name="l728"><span class="linenum"> 728</span></a>          {
<a name="l729"><span class="linenum"> 729</span></a>  <span class="comment">            // echo 'hide future';</span>
<a name="l730"><span class="linenum"> 730</span></a>              <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('timestamp_max')" href="../../../../_variables/timestamp_max.html">$timestamp_max</a> = <a class="phpfunction" onClick="logFunction('time')" href="../../../../_functions/time.html" onMouseOver="phpfuncPopup(event,'time')">time</a>();
<a name="l731"><span class="linenum"> 731</span></a>          }
<a name="l732"><span class="linenum"> 732</span></a>          if( !empty(<a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('timestamp_max')" href="../../../../_variables/timestamp_max.html">$timestamp_max</a>) )
<a name="l733"><span class="linenum"> 733</span></a>          { // Hide posts after
<a name="l734"><span class="linenum"> 734</span></a>  <span class="comment">            // echo 'after';</span>
<a name="l735"><span class="linenum"> 735</span></a>              <a class="var it7384" onMouseOver="hilite(7384)" onMouseOut="lolite()" onClick="logVariable('date_max')" href="../../../../_variables/date_max.html">$date_max</a> = <a class="function" onClick="logFunction('remove_seconds')" href="../../../../_functions/remove_seconds.html" onMouseOver="funcPopup(event,'remove_seconds')">remove_seconds</a>( <a class="var it5" onMouseOver="hilite(5)" onMouseOut="lolite()" onClick="logVariable('timestamp_max')" href="../../../../_variables/timestamp_max.html">$timestamp_max</a> + <a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('time_difference')" href="../../../../_variables/time_difference.html">$time_difference</a> );
<a name="l736"><span class="linenum"> 736</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'datestart &lt;= '.<a class="var it12" onMouseOver="hilite(12)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('quote')" href="../../../../_functions/quote.html" onMouseOver="funcPopup(event,'quote')">quote</a>( <a class="var it7384" onMouseOver="hilite(7384)" onMouseOut="lolite()" onClick="logVariable('date_max')" href="../../../../_variables/date_max.html">$date_max</a> ) );
<a name="l737"><span class="linenum"> 737</span></a>          }
<a name="l738"><span class="linenum"> 738</span></a>  
<a name="l739"><span class="linenum"> 739</span></a>      }
<a name="l740"><span class="linenum"> 740</span></a>  
<a name="l741"><span class="linenum"> 741</span></a>  
<a name="l742"><span class="linenum"> 742</span></a>      <span class="comment">/**</span>
<a name="l743"><span class="linenum"> 743</span></a>  <span class="comment">     * Restricts creation date to a specific date range.</span>
<a name="l744"><span class="linenum"> 744</span></a>  <span class="comment">     *</span>
<a name="l745"><span class="linenum"> 745</span></a>  <span class="comment">      * @param mixed Do not show posts CREATED after this timestamp</span>
<a name="l746"><span class="linenum"> 746</span></a>  <span class="comment">     */</span>
<a name="l747"><span class="linenum"> 747</span></a>  	function <a class="function" onClick="logFunction('where_datecreated')" href="../../../../_functions/where_datecreated.html" onMouseOver="funcPopup(event,'where_datecreated')">where_datecreated</a>( <a class="var it7385" onMouseOver="hilite(7385)" onMouseOut="lolite()" onClick="logVariable('timestamp_created_max')" href="../../../../_variables/timestamp_created_max.html">$timestamp_created_max</a> = 'now' )
<a name="l748"><span class="linenum"> 748</span></a>      {
<a name="l749"><span class="linenum"> 749</span></a>          global <a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('time_difference')" href="../../../../_variables/time_difference.html">$time_difference</a>, <a class="var it12" onMouseOver="hilite(12)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>;
<a name="l750"><span class="linenum"> 750</span></a>  
<a name="l751"><span class="linenum"> 751</span></a>          if( !empty(<a class="var it7385" onMouseOver="hilite(7385)" onMouseOut="lolite()" onClick="logVariable('timestamp_created_max')" href="../../../../_variables/timestamp_created_max.html">$timestamp_created_max</a>) )
<a name="l752"><span class="linenum"> 752</span></a>          { // Hide posts after
<a name="l753"><span class="linenum"> 753</span></a>  <span class="comment">            // echo 'after';</span>
<a name="l754"><span class="linenum"> 754</span></a>              <a class="var it7384" onMouseOver="hilite(7384)" onMouseOut="lolite()" onClick="logVariable('date_max')" href="../../../../_variables/date_max.html">$date_max</a> = <a class="phpfunction" onClick="logFunction('date')" href="../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">date</a>('Y-m-d H:i:s', <a class="var it7385" onMouseOver="hilite(7385)" onMouseOut="lolite()" onClick="logVariable('timestamp_created_max')" href="../../../../_variables/timestamp_created_max.html">$timestamp_created_max</a> + <a class="var it349" onMouseOver="hilite(349)" onMouseOut="lolite()" onClick="logVariable('time_difference')" href="../../../../_variables/time_difference.html">$time_difference</a> );
<a name="l755"><span class="linenum"> 755</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'datecreated &lt;= '.<a class="var it12" onMouseOver="hilite(12)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('quote')" href="../../../../_functions/quote.html" onMouseOver="funcPopup(event,'quote')">quote</a>( <a class="var it7384" onMouseOver="hilite(7384)" onMouseOut="lolite()" onClick="logVariable('date_max')" href="../../../../_variables/date_max.html">$date_max</a> ) );
<a name="l756"><span class="linenum"> 756</span></a>          }
<a name="l757"><span class="linenum"> 757</span></a>  
<a name="l758"><span class="linenum"> 758</span></a>      }
<a name="l759"><span class="linenum"> 759</span></a>  
<a name="l760"><span class="linenum"> 760</span></a>  
<a name="l761"><span class="linenum"> 761</span></a>      <span class="comment">/**</span>
<a name="l762"><span class="linenum"> 762</span></a>  <span class="comment">     * Restrict with keywords</span>
<a name="l763"><span class="linenum"> 763</span></a>  <span class="comment">     *</span>
<a name="l764"><span class="linenum"> 764</span></a>  <span class="comment">     * @param string Keyword search string</span>
<a name="l765"><span class="linenum"> 765</span></a>  <span class="comment">     * @param mixed Search for entire phrase or for individual words</span>
<a name="l766"><span class="linenum"> 766</span></a>  <span class="comment">     * @param mixed Require exact match of title or contents</span>
<a name="l767"><span class="linenum"> 767</span></a>  <span class="comment">     */</span>
<a name="l768"><span class="linenum"> 768</span></a>  	function <a class="function" onClick="logFunction('where_keywords')" href="../../../../_functions/where_keywords.html" onMouseOver="funcPopup(event,'where_keywords')">where_keywords</a>( <a class="var it511" onMouseOver="hilite(511)" onMouseOut="lolite()" onClick="logVariable('keywords')" href="../../../../_variables/keywords.html">$keywords</a>, <a class="var it3359" onMouseOver="hilite(3359)" onMouseOut="lolite()" onClick="logVariable('phrase')" href="../../../../_variables/phrase.html">$phrase</a>, <a class="var it3360" onMouseOver="hilite(3360)" onMouseOut="lolite()" onClick="logVariable('exact')" href="../../../../_variables/exact.html">$exact</a> )
<a name="l769"><span class="linenum"> 769</span></a>      {
<a name="l770"><span class="linenum"> 770</span></a>          global <a class="var it12" onMouseOver="hilite(12)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>;
<a name="l771"><span class="linenum"> 771</span></a>  
<a name="l772"><span class="linenum"> 772</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('keywords')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/keywords.html">keywords</a> = <a class="var it511" onMouseOver="hilite(511)" onMouseOut="lolite()" onClick="logVariable('keywords')" href="../../../../_variables/keywords.html">$keywords</a>;
<a name="l773"><span class="linenum"> 773</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('phrase')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/phrase.html">phrase</a> = <a class="var it3359" onMouseOver="hilite(3359)" onMouseOut="lolite()" onClick="logVariable('phrase')" href="../../../../_variables/phrase.html">$phrase</a>;
<a name="l774"><span class="linenum"> 774</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('exact')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/exact.html">exact</a> = <a class="var it3360" onMouseOver="hilite(3360)" onMouseOut="lolite()" onClick="logVariable('exact')" href="../../../../_variables/exact.html">$exact</a>;
<a name="l775"><span class="linenum"> 775</span></a>  
<a name="l776"><span class="linenum"> 776</span></a>          if( empty(<a class="var it511" onMouseOver="hilite(511)" onMouseOut="lolite()" onClick="logVariable('keywords')" href="../../../../_variables/keywords.html">$keywords</a>) )
<a name="l777"><span class="linenum"> 777</span></a>          {
<a name="l778"><span class="linenum"> 778</span></a>              return;
<a name="l779"><span class="linenum"> 779</span></a>          }
<a name="l780"><span class="linenum"> 780</span></a>  
<a name="l781"><span class="linenum"> 781</span></a>          <a class="var it696" onMouseOver="hilite(696)" onMouseOut="lolite()" onClick="logVariable('search')" href="../../../../_variables/search.html">$search</a> = '';
<a name="l782"><span class="linenum"> 782</span></a>  
<a name="l783"><span class="linenum"> 783</span></a>          if( <a class="var it3360" onMouseOver="hilite(3360)" onMouseOut="lolite()" onClick="logVariable('exact')" href="../../../../_variables/exact.html">$exact</a> )
<a name="l784"><span class="linenum"> 784</span></a>          {    // We want exact match of title or contents
<a name="l785"><span class="linenum"> 785</span></a>              <a class="var it1052" onMouseOver="hilite(1052)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../../../_variables/n.html">$n</a> = '';
<a name="l786"><span class="linenum"> 786</span></a>          }
<a name="l787"><span class="linenum"> 787</span></a>          else
<a name="l788"><span class="linenum"> 788</span></a>          { // The words/sentence are/is to be included in in the title or the contents
<a name="l789"><span class="linenum"> 789</span></a>              <a class="var it1052" onMouseOver="hilite(1052)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../../../_variables/n.html">$n</a> = '%';
<a name="l790"><span class="linenum"> 790</span></a>          }
<a name="l791"><span class="linenum"> 791</span></a>  
<a name="l792"><span class="linenum"> 792</span></a>          if( (<a class="var it3359" onMouseOver="hilite(3359)" onMouseOut="lolite()" onClick="logVariable('phrase')" href="../../../../_variables/phrase.html">$phrase</a> == '1') or (<a class="var it3359" onMouseOver="hilite(3359)" onMouseOut="lolite()" onClick="logVariable('phrase')" href="../../../../_variables/phrase.html">$phrase</a> == 'sentence') )
<a name="l793"><span class="linenum"> 793</span></a>          { // Sentence search
<a name="l794"><span class="linenum"> 794</span></a>              <a class="var it511" onMouseOver="hilite(511)" onMouseOut="lolite()" onClick="logVariable('keywords')" href="../../../../_variables/keywords.html">$keywords</a> = <a class="var it12" onMouseOver="hilite(12)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('escape')" href="../../../../_functions/escape.html" onMouseOver="funcPopup(event,'escape')">escape</a>(<a class="phpfunction" onClick="logFunction('trim')" href="../../../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it511" onMouseOver="hilite(511)" onMouseOut="lolite()" onClick="logVariable('keywords')" href="../../../../_variables/keywords.html">$keywords</a>));
<a name="l795"><span class="linenum"> 795</span></a>              <a class="var it696" onMouseOver="hilite(696)" onMouseOut="lolite()" onClick="logVariable('search')" href="../../../../_variables/search.html">$search</a> .= '('.<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'title LIKE \''. <a class="var it1052" onMouseOver="hilite(1052)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../../../_variables/n.html">$n</a>. <a class="var it511" onMouseOver="hilite(511)" onMouseOut="lolite()" onClick="logVariable('keywords')" href="../../../../_variables/keywords.html">$keywords</a>. <a class="var it1052" onMouseOver="hilite(1052)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../../../_variables/n.html">$n</a>. '\') OR ('.<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'content LIKE \''. <a class="var it1052" onMouseOver="hilite(1052)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../../../_variables/n.html">$n</a>. <a class="var it511" onMouseOver="hilite(511)" onMouseOut="lolite()" onClick="logVariable('keywords')" href="../../../../_variables/keywords.html">$keywords</a>. <a class="var it1052" onMouseOver="hilite(1052)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../../../_variables/n.html">$n</a>.'\')';
<a name="l796"><span class="linenum"> 796</span></a>          }
<a name="l797"><span class="linenum"> 797</span></a>          else
<a name="l798"><span class="linenum"> 798</span></a>          { // Word search
<a name="l799"><span class="linenum"> 799</span></a>              if( <a class="phpfunction" onClick="logFunction('strtoupper')" href="../../../../_functions/strtoupper.html" onMouseOver="phpfuncPopup(event,'strtoupper')">strtoupper</a>( <a class="var it3359" onMouseOver="hilite(3359)" onMouseOut="lolite()" onClick="logVariable('phrase')" href="../../../../_variables/phrase.html">$phrase</a> ) == 'OR' )
<a name="l800"><span class="linenum"> 800</span></a>                  <a class="var it3374" onMouseOver="hilite(3374)" onMouseOut="lolite()" onClick="logVariable('swords')" href="../../../../_variables/swords.html">$swords</a> = 'OR';
<a name="l801"><span class="linenum"> 801</span></a>              else
<a name="l802"><span class="linenum"> 802</span></a>                  <a class="var it3374" onMouseOver="hilite(3374)" onMouseOut="lolite()" onClick="logVariable('swords')" href="../../../../_variables/swords.html">$swords</a> = 'AND';
<a name="l803"><span class="linenum"> 803</span></a>  
<a name="l804"><span class="linenum"> 804</span></a>  <span class="comment">            // puts spaces instead of commas</span>
<a name="l805"><span class="linenum"> 805</span></a>              <a class="var it511" onMouseOver="hilite(511)" onMouseOut="lolite()" onClick="logVariable('keywords')" href="../../../../_variables/keywords.html">$keywords</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('/, +/', ',', <a class="var it511" onMouseOver="hilite(511)" onMouseOut="lolite()" onClick="logVariable('keywords')" href="../../../../_variables/keywords.html">$keywords</a>);
<a name="l806"><span class="linenum"> 806</span></a>              <a class="var it511" onMouseOver="hilite(511)" onMouseOut="lolite()" onClick="logVariable('keywords')" href="../../../../_variables/keywords.html">$keywords</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>(',', ' ', <a class="var it511" onMouseOver="hilite(511)" onMouseOut="lolite()" onClick="logVariable('keywords')" href="../../../../_variables/keywords.html">$keywords</a>);
<a name="l807"><span class="linenum"> 807</span></a>              <a class="var it511" onMouseOver="hilite(511)" onMouseOut="lolite()" onClick="logVariable('keywords')" href="../../../../_variables/keywords.html">$keywords</a> = <a class="phpfunction" onClick="logFunction('str_replace')" href="../../../../_functions/str_replace.html" onMouseOver="phpfuncPopup(event,'str_replace')">str_replace</a>('&quot;', ' ', <a class="var it511" onMouseOver="hilite(511)" onMouseOut="lolite()" onClick="logVariable('keywords')" href="../../../../_variables/keywords.html">$keywords</a>);
<a name="l808"><span class="linenum"> 808</span></a>              <a class="var it511" onMouseOver="hilite(511)" onMouseOut="lolite()" onClick="logVariable('keywords')" href="../../../../_variables/keywords.html">$keywords</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../../../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it511" onMouseOver="hilite(511)" onMouseOut="lolite()" onClick="logVariable('keywords')" href="../../../../_variables/keywords.html">$keywords</a>);
<a name="l809"><span class="linenum"> 809</span></a>              <a class="var it2506" onMouseOver="hilite(2506)" onMouseOut="lolite()" onClick="logVariable('keyword_array')" href="../../../../_variables/keyword_array.html">$keyword_array</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>(' ',<a class="var it511" onMouseOver="hilite(511)" onMouseOut="lolite()" onClick="logVariable('keywords')" href="../../../../_variables/keywords.html">$keywords</a>);
<a name="l810"><span class="linenum"> 810</span></a>              <a class="var it3375" onMouseOver="hilite(3375)" onMouseOut="lolite()" onClick="logVariable('join')" href="../../../../_variables/join.html">$join</a> = '';
<a name="l811"><span class="linenum"> 811</span></a>              for ( <a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a> = 0; <a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a> &lt; <a class="phpfunction" onClick="logFunction('count')" href="../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it2506" onMouseOver="hilite(2506)" onMouseOut="lolite()" onClick="logVariable('keyword_array')" href="../../../../_variables/keyword_array.html">$keyword_array</a>); <a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>++)
<a name="l812"><span class="linenum"> 812</span></a>              {
<a name="l813"><span class="linenum"> 813</span></a>                  <a class="var it696" onMouseOver="hilite(696)" onMouseOut="lolite()" onClick="logVariable('search')" href="../../../../_variables/search.html">$search</a> .= ' '. <a class="var it3375" onMouseOver="hilite(3375)" onMouseOut="lolite()" onClick="logVariable('join')" href="../../../../_variables/join.html">$join</a>. ' ( ('.<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'title LIKE \''. <a class="var it1052" onMouseOver="hilite(1052)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../../../_variables/n.html">$n</a>. <a class="var it12" onMouseOver="hilite(12)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('escape')" href="../../../../_functions/escape.html" onMouseOver="funcPopup(event,'escape')">escape</a>(<a class="var it2506" onMouseOver="hilite(2506)" onMouseOut="lolite()" onClick="logVariable('keyword_array')" href="../../../../_variables/keyword_array.html">$keyword_array</a>[<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>]). <a class="var it1052" onMouseOver="hilite(1052)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../../../_variables/n.html">$n</a>. '\')
<a name="l814"><span class="linenum"> 814</span></a>                                                                  OR ('.<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('dbprefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/dbprefix.html">dbprefix</a>.'content LIKE \''. <a class="var it1052" onMouseOver="hilite(1052)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../../../_variables/n.html">$n</a>. <a class="var it12" onMouseOver="hilite(12)" onMouseOut="lolite()" onClick="logVariable('DB')" href="../../../../_variables/DB.html">$DB</a>-&gt;<a class="function" onClick="logFunction('escape')" href="../../../../_functions/escape.html" onMouseOver="funcPopup(event,'escape')">escape</a>(<a class="var it2506" onMouseOver="hilite(2506)" onMouseOut="lolite()" onClick="logVariable('keyword_array')" href="../../../../_variables/keyword_array.html">$keyword_array</a>[<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>]). <a class="var it1052" onMouseOver="hilite(1052)" onMouseOut="lolite()" onClick="logVariable('n')" href="../../../../_variables/n.html">$n</a>.'\') ) ';
<a name="l815"><span class="linenum"> 815</span></a>                  <a class="var it3375" onMouseOver="hilite(3375)" onMouseOut="lolite()" onClick="logVariable('join')" href="../../../../_variables/join.html">$join</a> = <a class="var it3374" onMouseOver="hilite(3374)" onMouseOut="lolite()" onClick="logVariable('swords')" href="../../../../_variables/swords.html">$swords</a>;
<a name="l816"><span class="linenum"> 816</span></a>              }
<a name="l817"><span class="linenum"> 817</span></a>          }
<a name="l818"><span class="linenum"> 818</span></a>  
<a name="l819"><span class="linenum"> 819</span></a>  <span class="comment">        //echo $search;</span>
<a name="l820"><span class="linenum"> 820</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('WHERE_and')" href="../../../../_functions/where_and.html" onMouseOver="funcPopup(event,'where_and')">WHERE_and</a>( <a class="var it696" onMouseOver="hilite(696)" onMouseOut="lolite()" onClick="logVariable('search')" href="../../../../_variables/search.html">$search</a> );
<a name="l821"><span class="linenum"> 821</span></a>      }
<a name="l822"><span class="linenum"> 822</span></a>  
<a name="l823"><span class="linenum"> 823</span></a>  
<a name="l824"><span class="linenum"> 824</span></a>  }
<a name="l825"><span class="linenum"> 825</span></a>  
<a name="l826"><span class="linenum"> 826</span></a>  ?&gt;
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'where_id': ['where_id', 'Restrict to a specific comment ', [['blogs/inc/comments/model','_commentquery.class.php',73],['blogs/inc/items/model','_itemquery.class.php',80]], 4],
'from': ['from', '', [['blogs/inc/_core/model/db','_sql.class.php',219]], 380],
'where_featured': ['where_featured', 'Restrict to the featured/non featured posts if requested ', [['blogs/inc/items/model','_itemquery.class.php',308]], 1],
'where_author_logins': ['where_author_logins', 'Restrict to specific authors by users logins ', [['blogs/inc/items/model','_itemquery.class.php',384]], 2],
'escape': ['escape', 'Format a string correctly for safe insert under all PHP conditions ', [['blogs/inc/_core/model/db','_db.class.php',494]], 145],
'compile_cat_array': ['compile_cat_array', 'Compiles the cat array from $cat (recursive + optional modifiers) and $catsel[] (non recursive) ', [['blogs/inc/collections/model','_category.funcs.php',446]], 4],
'from_add': ['from_add', 'Extends the FROM clause. ', [['blogs/inc/_core/model/db','_sql.class.php',224]], 137],
'where_visibility': ['where_visibility', 'Restrict to the visibility/sharing statuses we want to show ', [['blogs/inc/items/model','_itemquery.class.php',290]], 9],
'get_start_date_for_week': ['get_start_date_for_week', '', [['blogs/inc/_core','_misc.funcs.php',1563]], 3],
'where_datecreated': ['where_datecreated', 'Restricts creation date to a specific date range. ', [['blogs/inc/items/model','_itemquery.class.php',742]], 1],
'where_and': ['where_and', 'Extends the WHERE clause with AND ', [['blogs/inc/_core/model/db','_sql.class.php',245]], 280],
'where_assignees_logins': ['where_assignees_logins', 'Restrict to specific assignees by users logins ', [['blogs/inc/items/model','_itemquery.class.php',447]], 2],
'load_class': ['load_class', 'Load class file ', [['blogs/inc/_core','_class4.funcs.php',28],['blogs/inc/_core','_class5.funcs.php',79]], 408],
'where_author_assignee': ['where_author_assignee', 'Restrict to specific assignee or author ', [['blogs/inc/items/model','_itemquery.class.php',477]], 1],
'remove_seconds': ['remove_seconds', 'Get datetime rounded to lower minute. This is meant to remove seconds and leverage MySQL\'s query cache by having SELECT queries remain identical for 60 seconds instead of just 1. ', [['blogs/inc/_core','_misc.funcs.php',1613]], 6],
'debug_die': ['debug_die', 'Outputs Unexpected Error message. When in debug mode it also prints a backtrace. ', [['blogs/inc/_core','_misc.funcs.php',2535]], 216],
'where_author': ['where_author', 'Restrict to specific authors ', [['blogs/inc/comments/model','_commentquery.class.php',202],['blogs/inc/items/model','_itemquery.class.php',355]], 6],
'where_datestart': ['where_datestart', 'Restricts the datestart param to a specific date range. ', [['blogs/inc/items/model','_itemquery.class.php',574]], 9],
'group_by': ['group_by', '', [['blogs/inc/_core/model/db','_sql.class.php',288]], 48],
'where_locale': ['where_locale', 'Restrict to specific locale ', [['blogs/inc/items/model','_itemquery.class.php',496]], 2],
'where_chapter2': ['where_chapter2', 'Restrict to specific collection/chapters (blog/categories) ', [['blogs/inc/items/model','_itemquery.class.php',223]], 5],
'locale_startofweek': ['locale_startofweek', 'Returns the current locale\'s start of week ', [['blogs/inc/locales','_locale.funcs.php',446]], 13],
'statuses_where_clause': ['statuses_where_clause', 'Construct the where clause to limit retrieved posts/comment on their status ', [['blogs/inc/items/model','_item.funcs.php',714]], 8],
'where_assignees': ['where_assignees', 'Restrict to specific assignees by users IDs ', [['blogs/inc/items/model','_itemquery.class.php',416]], 4],
'where_id_list': ['where_id_list', 'Restrict to a specific list of comments ', [['blogs/inc/comments/model','_commentquery.class.php',105],['blogs/inc/items/model','_itemquery.class.php',129]], 2],
'where_statuses': ['where_statuses', 'Restrict to specific statuses ', [['blogs/inc/comments/model','_commentquery.class.php',382],['blogs/inc/items/model','_itemquery.class.php',514]], 5],
'where_tags': ['where_tags', 'Restrict to specific tags ', [['blogs/inc/items/model','_itemquery.class.php',332]], 1],
'where_types': ['where_types', 'Restrict to specific item types ', [['blogs/inc/comments/model','_commentquery.class.php',419],['blogs/inc/items/model','_itemquery.class.php',544]], 8],
'where_chapter': ['where_chapter', 'Restrict to specific collection/chapters (blog/categories) ', [['blogs/inc/items/model','_itemquery.class.php',166]], 4],
'get_users_ids_by_logins': ['get_users_ids_by_logins', 'Get IDs of users by logins separated by comma Used to filter the posts by authors and assigned users ', [['blogs/inc/users/model','_user.funcs.php',3801]], 6],
'quote': ['quote', 'Quote a msgid/msgstr, preferrable with single quotes. ', [['blogs/inc/locales','_pofile.class.php',267],['blogs/inc/_core/model/db','_db.class.php',503]], 791],
'get_sql_where_aggregate_coll_ids': ['get_sql_where_aggregate_coll_ids', 'Get SQL expression to match the list of aggregates collection IDs. ', [['blogs/inc/collections/model','_blog.class.php',2829]], 7],
'where_keywords': ['where_keywords', 'create the filter whith the search field array ', [['blogs/inc/_core/model/db','_sql.class.php',362],['blogs/inc/comments/model','_commentquery.class.php',447],['blogs/inc/items/model','_itemquery.class.php',761],['blogs/inc/users/model','_userquery.class.php',119]], 10],
'on': ['on', '', [['blogs/rsc/js/bootstrap','typeahead.bundle.js',739]], 153],
'itemquery': ['itemquery', 'Constructor. ', [['blogs/inc/items/model','_itemquery.class.php',63]], 9],
'extract': ['extract', '', [], 60],
'date': ['date', '', [], 361],
'is_null': ['is_null', '', [], 251],
'trim': ['trim', '', [], 351],
'intval': ['intval', '', [], 127],
'str_replace': ['str_replace', '', [], 403],
'substr': ['substr', '', [], 657],
'explode': ['explode', '', [], 249],
'mktime': ['mktime', '', [], 44],
'time': ['time', '', [], 57],
'implode': ['implode', '', [], 456],
'count': ['count', '', [], 754],
'preg_replace': ['preg_replace', '', [], 281],
'defined': ['defined', '', [], 874],
'strtoupper': ['strtoupper', '', [], 34]};
CLASS_DATA={
'sql': ['sql', 'SQL class: help constructing queries ', [['blogs/inc/_core/model/db','_sql.class.php',32]], 273],
'itemquery': ['itemquery', 'ItemQuery: help constructing queries on Items ', [['blogs/inc/items/model','_itemquery.class.php',33]], 9]};
CONST_DATA={
'EVO_MAIN_INIT': ['EVO_MAIN_INIT', '', [['blogs/inc','_main.inc.php',55],['blogs/install','index.php',25],['blogs/install','debug.php',22]], 827]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Sat Jul  5 12:18:44 2014</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
