<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /blogs/inc/_ext/idna/_idna_convert.class.php4 source</title>
    <link rel="stylesheet" href="../../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Sat Jul  5 12:18:44 2014 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../../';
subdir='blogs/inc/_ext/idna';
filename='_idna_convert.class.php4.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/blogs/inc/_ext/idna/</a> -> <a href="_idna_convert.class.php4.html">_idna_convert.class.php4</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="_idna_convert.class.php4.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="_idna_convert.class.php4.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  &lt;?php
<a name="l2"><span class="linenum">   2</span></a>  <span class="comment">/**</span>
<a name="l3"><span class="linenum">   3</span></a>  <span class="comment"> * @package libs</span>
<a name="l4"><span class="linenum">   4</span></a>  <span class="comment"> */</span>
<a name="l5"><span class="linenum">   5</span></a>  <span class="comment">/* ------------------------------------------------------------------------- */</span>
<a name="l6"><span class="linenum">   6</span></a>  <span class="comment">/* idna_convert.class.php - Encode / Decode Internationalized Domain Names   */</span>
<a name="l7"><span class="linenum">   7</span></a>  <span class="comment">/* (c) 2004-2007 phlyLabs, Berlin (http://phlylabs.de)                       */</span>
<a name="l8"><span class="linenum">   8</span></a>  <span class="comment">/* All rights reserved                                                       */</span>
<a name="l9"><span class="linenum">   9</span></a>  <span class="comment">/* v0.5.0                                                                    */</span>
<a name="l10"><span class="linenum">  10</span></a>  <span class="comment">/* ------------------------------------------------------------------------- */</span>
<a name="l11"><span class="linenum">  11</span></a>  
<a name="l12"><span class="linenum">  12</span></a>  <span class="comment">// {{{ license</span>
<a name="l13"><span class="linenum">  13</span></a>  
<a name="l14"><span class="linenum">  14</span></a>  <span class="comment">/* vim: set expandtab tabstop=4 shiftwidth=4 softtabstop=4 foldmethod=marker: */</span>
<a name="l15"><span class="linenum">  15</span></a>  <span class="comment">//</span>
<a name="l16"><span class="linenum">  16</span></a>  <span class="comment">// +----------------------------------------------------------------------+</span>
<a name="l17"><span class="linenum">  17</span></a>  <span class="comment">// | This library is free software; you can redistribute it and/or modify |</span>
<a name="l18"><span class="linenum">  18</span></a>  <span class="comment">// | it under the terms of the GNU Lesser General Public License as       |</span>
<a name="l19"><span class="linenum">  19</span></a>  <span class="comment">// | published by the Free Software Foundation; either version 2.1 of the |</span>
<a name="l20"><span class="linenum">  20</span></a>  <span class="comment">// | License, or (at your option) any later version.                      |</span>
<a name="l21"><span class="linenum">  21</span></a>  <span class="comment">// |                                                                      |</span>
<a name="l22"><span class="linenum">  22</span></a>  <span class="comment">// | This library is distributed in the hope that it will be useful, but  |</span>
<a name="l23"><span class="linenum">  23</span></a>  <span class="comment">// | WITHOUT ANY WARRANTY; without even the implied warranty of           |</span>
<a name="l24"><span class="linenum">  24</span></a>  <span class="comment">// | MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU    |</span>
<a name="l25"><span class="linenum">  25</span></a>  <span class="comment">// | Lesser General Public License for more details.                      |</span>
<a name="l26"><span class="linenum">  26</span></a>  <span class="comment">// |                                                                      |</span>
<a name="l27"><span class="linenum">  27</span></a>  <span class="comment">// | You should have received a copy of the GNU Lesser General Public     |</span>
<a name="l28"><span class="linenum">  28</span></a>  <span class="comment">// | License along with this library; if not, write to the Free Software  |</span>
<a name="l29"><span class="linenum">  29</span></a>  <span class="comment">// | Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 |</span>
<a name="l30"><span class="linenum">  30</span></a>  <span class="comment">// | USA.                                                                 |</span>
<a name="l31"><span class="linenum">  31</span></a>  <span class="comment">// +----------------------------------------------------------------------+</span>
<a name="l32"><span class="linenum">  32</span></a>  <span class="comment">//</span>
<a name="l33"><span class="linenum">  33</span></a>  
<a name="l34"><span class="linenum">  34</span></a>  <span class="comment">// }}}</span>
<a name="l35"><span class="linenum">  35</span></a>  
<a name="l36"><span class="linenum">  36</span></a>  <span class="comment">/**</span>
<a name="l37"><span class="linenum">  37</span></a>  <span class="comment"> * Encode/decode Internationalized Domain Names.</span>
<a name="l38"><span class="linenum">  38</span></a>  <span class="comment"> *</span>
<a name="l39"><span class="linenum">  39</span></a>  <span class="comment"> * The class allows to convert internationalized domain names</span>
<a name="l40"><span class="linenum">  40</span></a>  <span class="comment"> * (see RFC 3490 for details) as they can be used with various registries worldwide</span>
<a name="l41"><span class="linenum">  41</span></a>  <span class="comment"> * to be translated between their original (localized) form and their encoded form</span>
<a name="l42"><span class="linenum">  42</span></a>  <span class="comment"> * as it will be used in the DNS (Domain Name System).</span>
<a name="l43"><span class="linenum">  43</span></a>  <span class="comment"> *</span>
<a name="l44"><span class="linenum">  44</span></a>  <span class="comment"> * The class provides two public methods, encode() and decode(), which do exactly</span>
<a name="l45"><span class="linenum">  45</span></a>  <span class="comment"> * what you would expect them to do. You are allowed to use complete domain names,</span>
<a name="l46"><span class="linenum">  46</span></a>  <span class="comment"> * simple strings and complete email addresses as well. That means, that you might</span>
<a name="l47"><span class="linenum">  47</span></a>  <span class="comment"> * use any of the following notations:</span>
<a name="l48"><span class="linenum">  48</span></a>  <span class="comment"> *</span>
<a name="l49"><span class="linenum">  49</span></a>  <span class="comment"> * - www.n√∂rgler.com</span>
<a name="l50"><span class="linenum">  50</span></a>  <span class="comment"> * - xn--nrgler-wxa</span>
<a name="l51"><span class="linenum">  51</span></a>  <span class="comment"> * - xn--brse-5qa.xn--knrz-1ra.info</span>
<a name="l52"><span class="linenum">  52</span></a>  <span class="comment"> *</span>
<a name="l53"><span class="linenum">  53</span></a>  <span class="comment"> * Unicode input might be given as either UTF-8 string, UCS-4 string or UCS-4</span>
<a name="l54"><span class="linenum">  54</span></a>  <span class="comment"> * array. Unicode output is available in the same formats.</span>
<a name="l55"><span class="linenum">  55</span></a>  <span class="comment"> * You can select your preferred format via {@link set_paramter()}.</span>
<a name="l56"><span class="linenum">  56</span></a>  <span class="comment"> *</span>
<a name="l57"><span class="linenum">  57</span></a>  <span class="comment"> * ACE input and output is always expected to be ASCII.</span>
<a name="l58"><span class="linenum">  58</span></a>  <span class="comment"> *</span>
<a name="l59"><span class="linenum">  59</span></a>  <span class="comment"> * @author  Matthias Sommerfeld &lt;mso@phlylabs.de&gt;</span>
<a name="l60"><span class="linenum">  60</span></a>  <span class="comment"> * @version 0.5.0</span>
<a name="l61"><span class="linenum">  61</span></a>  <span class="comment"> *</span>
<a name="l62"><span class="linenum">  62</span></a>  <span class="comment"> */</span>
<a name="l63"><span class="linenum">  63</span></a>  if( !<a class="phpfunction" onClick="logFunction('defined')" href="../../../../_functions/defined.html" onMouseOver="phpfuncPopup(event,'defined')">defined</a>('<a class="constant" onClick="logConstant('EVO_MAIN_INIT')" href="../../../../_constants/EVO_MAIN_INIT.html" onMouseOver="constPopup(event,'EVO_MAIN_INIT')">EVO_MAIN_INIT</a>') ) die( 'Please, do not access this page directly.' );
<a name="l64"><span class="linenum">  64</span></a>  
<a name="l65"><span class="linenum">  65</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('idna_convert')" href="../../../../_classes/idna_convert.html" onMouseOver="classPopup(event,'idna_convert')">idna_convert</a>
<a name="l66"><span class="linenum">  66</span></a>  {
<a name="l67"><span class="linenum">  67</span></a>      <span class="comment">/**</span>
<a name="l68"><span class="linenum">  68</span></a>  <span class="comment">     * Holds all relevant mapping tables, loaded from a seperate file on construct</span>
<a name="l69"><span class="linenum">  69</span></a>  <span class="comment">     * See RFC3454 for details</span>
<a name="l70"><span class="linenum">  70</span></a>  <span class="comment">     *</span>
<a name="l71"><span class="linenum">  71</span></a>  <span class="comment">     * @var array</span>
<a name="l72"><span class="linenum">  72</span></a>  <span class="comment">     * @access private</span>
<a name="l73"><span class="linenum">  73</span></a>  <span class="comment">     */</span>
<a name="l74"><span class="linenum">  74</span></a>      var <a class="var it435" onMouseOver="hilite(435)" onMouseOut="lolite()" onClick="logVariable('NP')" href="../../../../_variables/NP.html">$NP</a> = array();
<a name="l75"><span class="linenum">  75</span></a>  
<a name="l76"><span class="linenum">  76</span></a>  <span class="comment">    // Internal settings, do not mess with them</span>
<a name="l77"><span class="linenum">  77</span></a>      var <a class="var it369" onMouseOver="hilite(369)" onMouseOut="lolite()" onClick="logVariable('_punycode_prefix')" href="../../../../_variables/_punycode_prefix.html">$_punycode_prefix</a> = 'xn--';
<a name="l78"><span class="linenum">  78</span></a>      var <a class="var it370" onMouseOver="hilite(370)" onMouseOut="lolite()" onClick="logVariable('_invalid_ucs')" href="../../../../_variables/_invalid_ucs.html">$_invalid_ucs</a> =     0x80000000;
<a name="l79"><span class="linenum">  79</span></a>      var <a class="var it371" onMouseOver="hilite(371)" onMouseOut="lolite()" onClick="logVariable('_max_ucs')" href="../../../../_variables/_max_ucs.html">$_max_ucs</a> =         0x10FFFF;
<a name="l80"><span class="linenum">  80</span></a>      var <a class="var it372" onMouseOver="hilite(372)" onMouseOut="lolite()" onClick="logVariable('_base')" href="../../../../_variables/_base.html">$_base</a> =            36;
<a name="l81"><span class="linenum">  81</span></a>      var <a class="var it373" onMouseOver="hilite(373)" onMouseOut="lolite()" onClick="logVariable('_tmin')" href="../../../../_variables/_tmin.html">$_tmin</a> =            1;
<a name="l82"><span class="linenum">  82</span></a>      var <a class="var it374" onMouseOver="hilite(374)" onMouseOut="lolite()" onClick="logVariable('_tmax')" href="../../../../_variables/_tmax.html">$_tmax</a> =            26;
<a name="l83"><span class="linenum">  83</span></a>      var <a class="var it375" onMouseOver="hilite(375)" onMouseOut="lolite()" onClick="logVariable('_skew')" href="../../../../_variables/_skew.html">$_skew</a> =            38;
<a name="l84"><span class="linenum">  84</span></a>      var <a class="var it376" onMouseOver="hilite(376)" onMouseOut="lolite()" onClick="logVariable('_damp')" href="../../../../_variables/_damp.html">$_damp</a> =            700;
<a name="l85"><span class="linenum">  85</span></a>      var <a class="var it377" onMouseOver="hilite(377)" onMouseOut="lolite()" onClick="logVariable('_initial_bias')" href="../../../../_variables/_initial_bias.html">$_initial_bias</a> =    72;
<a name="l86"><span class="linenum">  86</span></a>      var <a class="var it378" onMouseOver="hilite(378)" onMouseOut="lolite()" onClick="logVariable('_initial_n')" href="../../../../_variables/_initial_n.html">$_initial_n</a> =       0x80;
<a name="l87"><span class="linenum">  87</span></a>      var <a class="var it379" onMouseOver="hilite(379)" onMouseOut="lolite()" onClick="logVariable('_sbase')" href="../../../../_variables/_sbase.html">$_sbase</a> =           0xAC00;
<a name="l88"><span class="linenum">  88</span></a>      var <a class="var it380" onMouseOver="hilite(380)" onMouseOut="lolite()" onClick="logVariable('_lbase')" href="../../../../_variables/_lbase.html">$_lbase</a> =           0x1100;
<a name="l89"><span class="linenum">  89</span></a>      var <a class="var it381" onMouseOver="hilite(381)" onMouseOut="lolite()" onClick="logVariable('_vbase')" href="../../../../_variables/_vbase.html">$_vbase</a> =           0x1161;
<a name="l90"><span class="linenum">  90</span></a>      var <a class="var it382" onMouseOver="hilite(382)" onMouseOut="lolite()" onClick="logVariable('_tbase')" href="../../../../_variables/_tbase.html">$_tbase</a> =           0x11A7;
<a name="l91"><span class="linenum">  91</span></a>      var <a class="var it383" onMouseOver="hilite(383)" onMouseOut="lolite()" onClick="logVariable('_lcount')" href="../../../../_variables/_lcount.html">$_lcount</a> =          19;
<a name="l92"><span class="linenum">  92</span></a>      var <a class="var it384" onMouseOver="hilite(384)" onMouseOut="lolite()" onClick="logVariable('_vcount')" href="../../../../_variables/_vcount.html">$_vcount</a> =          21;
<a name="l93"><span class="linenum">  93</span></a>      var <a class="var it385" onMouseOver="hilite(385)" onMouseOut="lolite()" onClick="logVariable('_tcount')" href="../../../../_variables/_tcount.html">$_tcount</a> =          28;
<a name="l94"><span class="linenum">  94</span></a>      var <a class="var it386" onMouseOver="hilite(386)" onMouseOut="lolite()" onClick="logVariable('_ncount')" href="../../../../_variables/_ncount.html">$_ncount</a> =          588;   <span class="comment">// _vcount * _tcount</span>
<a name="l95"><span class="linenum">  95</span></a>      var <a class="var it387" onMouseOver="hilite(387)" onMouseOut="lolite()" onClick="logVariable('_scount')" href="../../../../_variables/_scount.html">$_scount</a> =          11172; <span class="comment">// _lcount * _tcount * _vcount</span>
<a name="l96"><span class="linenum">  96</span></a>      var <a class="var it388" onMouseOver="hilite(388)" onMouseOut="lolite()" onClick="logVariable('_error')" href="../../../../_variables/_error.html">$_error</a> =           false;
<a name="l97"><span class="linenum">  97</span></a>  
<a name="l98"><span class="linenum">  98</span></a>  <span class="comment">    // See {@link set_paramter()} for details of how to change the following</span>
<a name="l99"><span class="linenum">  99</span></a>  <span class="comment">    // settings from within your script / application</span>
<a name="l100"><span class="linenum"> 100</span></a>      var <a class="var it389" onMouseOver="hilite(389)" onMouseOut="lolite()" onClick="logVariable('_api_encoding')" href="../../../../_variables/_api_encoding.html">$_api_encoding</a>   =  'utf8'; <span class="comment">// Default input charset is UTF-8</span>
<a name="l101"><span class="linenum"> 101</span></a>      var <a class="var it390" onMouseOver="hilite(390)" onMouseOut="lolite()" onClick="logVariable('_allow_overlong')" href="../../../../_variables/_allow_overlong.html">$_allow_overlong</a> =  false;  <span class="comment">// Overlong UTF-8 encodings are forbidden</span>
<a name="l102"><span class="linenum"> 102</span></a>      var <a class="var it391" onMouseOver="hilite(391)" onMouseOut="lolite()" onClick="logVariable('_strict_mode')" href="../../../../_variables/_strict_mode.html">$_strict_mode</a>    =  false;  <span class="comment">// Behave strict or not</span>
<a name="l103"><span class="linenum"> 103</span></a>  
<a name="l104"><span class="linenum"> 104</span></a>  <span class="comment">    // The constructor</span>
<a name="l105"><span class="linenum"> 105</span></a>      function <a class="function" onClick="logFunction('idna_convert')" href="../../../../_functions/idna_convert.html" onMouseOver="funcPopup(event,'idna_convert')">idna_convert</a>(<a class="var it392" onMouseOver="hilite(392)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../../../_variables/options.html">$options</a> = false)
<a name="l106"><span class="linenum"> 106</span></a>      {
<a name="l107"><span class="linenum"> 107</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('slast')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/slast.html">slast</a> = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_sbase')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_sbase.html">_sbase</a> + <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_lcount')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_lcount.html">_lcount</a> * <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_vcount')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_vcount.html">_vcount</a> * <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_tcount')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_tcount.html">_tcount</a>;
<a name="l108"><span class="linenum"> 108</span></a>          if (<a class="phpfunction" onClick="logFunction('function_exists')" href="../../../../_functions/function_exists.html" onMouseOver="phpfuncPopup(event,'function_exists')">function_exists</a>('file_get_contents')) {
<a name="l109"><span class="linenum"> 109</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('NP')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/NP.html">NP</a> = <a class="phpfunction" onClick="logFunction('unserialize')" href="../../../../_functions/unserialize.html" onMouseOver="phpfuncPopup(event,'unserialize')">unserialize</a>(<a class="phpfunction" onClick="logFunction('file_get_contents')" href="../../../../_functions/file_get_contents.html" onMouseOver="phpfuncPopup(event,'file_get_contents')">file_get_contents</a>(<a class="phpfunction" onClick="logFunction('dirname')" href="../../../../_functions/dirname.html" onMouseOver="phpfuncPopup(event,'dirname')">dirname</a>(__FILE__).'/_idna_convert_npdata.ser.inc'));
<a name="l110"><span class="linenum"> 110</span></a>          } else {
<a name="l111"><span class="linenum"> 111</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('NP')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/NP.html">NP</a> = <a class="phpfunction" onClick="logFunction('unserialize')" href="../../../../_functions/unserialize.html" onMouseOver="phpfuncPopup(event,'unserialize')">unserialize</a>(join('', <a class="phpfunction" onClick="logFunction('file')" href="../../../../_functions/file.html" onMouseOver="phpfuncPopup(event,'file')">file</a>(<a class="phpfunction" onClick="logFunction('dirname')" href="../../../../_functions/dirname.html" onMouseOver="phpfuncPopup(event,'dirname')">dirname</a>(__FILE__).'/_idna_convert_npdata.ser.inc')));
<a name="l112"><span class="linenum"> 112</span></a>          }
<a name="l113"><span class="linenum"> 113</span></a>  <span class="comment">        // If parameters are given, pass these to the respective method</span>
<a name="l114"><span class="linenum"> 114</span></a>          if (<a class="phpfunction" onClick="logFunction('is_array')" href="../../../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it392" onMouseOver="hilite(392)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../../../_variables/options.html">$options</a>)) {
<a name="l115"><span class="linenum"> 115</span></a>              return <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('set_parameter')" href="../../../../_functions/set_parameter.html" onMouseOver="funcPopup(event,'set_parameter')">set_parameter</a>(<a class="var it392" onMouseOver="hilite(392)" onMouseOut="lolite()" onClick="logVariable('options')" href="../../../../_variables/options.html">$options</a>);
<a name="l116"><span class="linenum"> 116</span></a>          }
<a name="l117"><span class="linenum"> 117</span></a>          return true;
<a name="l118"><span class="linenum"> 118</span></a>      }
<a name="l119"><span class="linenum"> 119</span></a>  
<a name="l120"><span class="linenum"> 120</span></a>      <span class="comment">/**</span>
<a name="l121"><span class="linenum"> 121</span></a>  <span class="comment">     * Sets a new option value. Available options and values:</span>
<a name="l122"><span class="linenum"> 122</span></a>  <span class="comment">     * [encoding - Use either UTF-8, UCS4 as array or UCS4 as string as input ('utf8' for UTF-8,</span>
<a name="l123"><span class="linenum"> 123</span></a>  <span class="comment">     *         'ucs4_string' and 'ucs4_array' respectively for UCS4); The output is always UTF-8]</span>
<a name="l124"><span class="linenum"> 124</span></a>  <span class="comment">     * [overlong - Unicode does not allow unnecessarily long encodings of chars,</span>
<a name="l125"><span class="linenum"> 125</span></a>  <span class="comment">     *             to allow this, set this parameter to true, else to false;</span>
<a name="l126"><span class="linenum"> 126</span></a>  <span class="comment">     *             default is false.]</span>
<a name="l127"><span class="linenum"> 127</span></a>  <span class="comment">     * [strict - true: strict mode, good for registration purposes - Causes errors</span>
<a name="l128"><span class="linenum"> 128</span></a>  <span class="comment">     *           on failures; false: loose mode, ideal for &quot;wildlife&quot; applications</span>
<a name="l129"><span class="linenum"> 129</span></a>  <span class="comment">     *           by silently ignoring errors and returning the original input instead</span>
<a name="l130"><span class="linenum"> 130</span></a>  <span class="comment">     *</span>
<a name="l131"><span class="linenum"> 131</span></a>  <span class="comment">     * @param    mixed     Parameter to set (string: single parameter; array of Parameter =&gt; Value pairs)</span>
<a name="l132"><span class="linenum"> 132</span></a>  <span class="comment">     * @param    string    Value to use (if parameter 1 is a string)</span>
<a name="l133"><span class="linenum"> 133</span></a>  <span class="comment">     * @return   boolean   true on success, false otherwise</span>
<a name="l134"><span class="linenum"> 134</span></a>  <span class="comment">     * @access   public</span>
<a name="l135"><span class="linenum"> 135</span></a>  <span class="comment">     */</span>
<a name="l136"><span class="linenum"> 136</span></a>      function <a class="function" onClick="logFunction('set_parameter')" href="../../../../_functions/set_parameter.html" onMouseOver="funcPopup(event,'set_parameter')">set_parameter</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('option')" href="../../../../_variables/option.html">$option</a>, <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../_variables/value.html">$value</a> = false)
<a name="l137"><span class="linenum"> 137</span></a>      {
<a name="l138"><span class="linenum"> 138</span></a>          if (!<a class="phpfunction" onClick="logFunction('is_array')" href="../../../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('option')" href="../../../../_variables/option.html">$option</a>)) {
<a name="l139"><span class="linenum"> 139</span></a>              <a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('option')" href="../../../../_variables/option.html">$option</a> = array(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('option')" href="../../../../_variables/option.html">$option</a> =&gt; <a class="var it161" onMouseOver="hilite(161)" onMouseOut="lolite()" onClick="logVariable('value')" href="../../../../_variables/value.html">$value</a>);
<a name="l140"><span class="linenum"> 140</span></a>          }
<a name="l141"><span class="linenum"> 141</span></a>          foreach (<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('option')" href="../../../../_variables/option.html">$option</a> as <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a> =&gt; <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>) {
<a name="l142"><span class="linenum"> 142</span></a>              switch (<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a>) {
<a name="l143"><span class="linenum"> 143</span></a>              case 'encoding':
<a name="l144"><span class="linenum"> 144</span></a>                  switch (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>) {
<a name="l145"><span class="linenum"> 145</span></a>                  case 'utf8':
<a name="l146"><span class="linenum"> 146</span></a>                  case 'ucs4_string':
<a name="l147"><span class="linenum"> 147</span></a>                  case 'ucs4_array':
<a name="l148"><span class="linenum"> 148</span></a>                      <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_api_encoding')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_api_encoding.html">_api_encoding</a> = <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>;
<a name="l149"><span class="linenum"> 149</span></a>                      break;
<a name="l150"><span class="linenum"> 150</span></a>                  default:
<a name="l151"><span class="linenum"> 151</span></a>                      <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_error')" href="../../../../_functions/_error.html" onMouseOver="funcPopup(event,'_error')">_error</a>('Set Parameter: Unknown parameter '.<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>.' for option '.<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a>);
<a name="l152"><span class="linenum"> 152</span></a>                      return false;
<a name="l153"><span class="linenum"> 153</span></a>                  }
<a name="l154"><span class="linenum"> 154</span></a>                  break;
<a name="l155"><span class="linenum"> 155</span></a>              case 'overlong':
<a name="l156"><span class="linenum"> 156</span></a>                  <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_allow_overlong')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_allow_overlong.html">_allow_overlong</a> = (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>) ? true : false;
<a name="l157"><span class="linenum"> 157</span></a>                  break;
<a name="l158"><span class="linenum"> 158</span></a>              case 'strict':
<a name="l159"><span class="linenum"> 159</span></a>                  <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_strict_mode')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_strict_mode.html">_strict_mode</a> = (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>) ? true : false;
<a name="l160"><span class="linenum"> 160</span></a>                  break;
<a name="l161"><span class="linenum"> 161</span></a>              default:
<a name="l162"><span class="linenum"> 162</span></a>                  <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_error')" href="../../../../_functions/_error.html" onMouseOver="funcPopup(event,'_error')">_error</a>('Set Parameter: Unknown option '.<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a>);
<a name="l163"><span class="linenum"> 163</span></a>                  return false;
<a name="l164"><span class="linenum"> 164</span></a>              }
<a name="l165"><span class="linenum"> 165</span></a>          }
<a name="l166"><span class="linenum"> 166</span></a>          return true;
<a name="l167"><span class="linenum"> 167</span></a>      }
<a name="l168"><span class="linenum"> 168</span></a>  
<a name="l169"><span class="linenum"> 169</span></a>      <span class="comment">/**</span>
<a name="l170"><span class="linenum"> 170</span></a>  <span class="comment">     * Decode a given ACE domain name</span>
<a name="l171"><span class="linenum"> 171</span></a>  <span class="comment">     * @param    string   Domain name (ACE string)</span>
<a name="l172"><span class="linenum"> 172</span></a>  <span class="comment">     * [@param    string   Desired output encoding, see {@link set_parameter}]</span>
<a name="l173"><span class="linenum"> 173</span></a>  <span class="comment">     * @return   string   Decoded Domain name (UTF-8 or UCS-4)</span>
<a name="l174"><span class="linenum"> 174</span></a>  <span class="comment">     * @access   public</span>
<a name="l175"><span class="linenum"> 175</span></a>  <span class="comment">     */</span>
<a name="l176"><span class="linenum"> 176</span></a>      function <a class="function" onClick="logFunction('decode')" href="../../../../_functions/decode.html" onMouseOver="funcPopup(event,'decode')">decode</a>(<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>, <a class="var it398" onMouseOver="hilite(398)" onMouseOut="lolite()" onClick="logVariable('one_time_encoding')" href="../../../../_variables/one_time_encoding.html">$one_time_encoding</a> = false)
<a name="l177"><span class="linenum"> 177</span></a>      {
<a name="l178"><span class="linenum"> 178</span></a>  <span class="comment">        // Optionally set</span>
<a name="l179"><span class="linenum"> 179</span></a>          if (<a class="var it398" onMouseOver="hilite(398)" onMouseOut="lolite()" onClick="logVariable('one_time_encoding')" href="../../../../_variables/one_time_encoding.html">$one_time_encoding</a>) {
<a name="l180"><span class="linenum"> 180</span></a>              switch (<a class="var it398" onMouseOver="hilite(398)" onMouseOut="lolite()" onClick="logVariable('one_time_encoding')" href="../../../../_variables/one_time_encoding.html">$one_time_encoding</a>) {
<a name="l181"><span class="linenum"> 181</span></a>              case 'utf8':
<a name="l182"><span class="linenum"> 182</span></a>              case 'ucs4_string':
<a name="l183"><span class="linenum"> 183</span></a>              case 'ucs4_array':
<a name="l184"><span class="linenum"> 184</span></a>                  break;
<a name="l185"><span class="linenum"> 185</span></a>              default:
<a name="l186"><span class="linenum"> 186</span></a>                  <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_error')" href="../../../../_functions/_error.html" onMouseOver="funcPopup(event,'_error')">_error</a>('Unknown encoding '.<a class="var it398" onMouseOver="hilite(398)" onMouseOut="lolite()" onClick="logVariable('one_time_encoding')" href="../../../../_variables/one_time_encoding.html">$one_time_encoding</a>);
<a name="l187"><span class="linenum"> 187</span></a>                  return false;
<a name="l188"><span class="linenum"> 188</span></a>              }
<a name="l189"><span class="linenum"> 189</span></a>          }
<a name="l190"><span class="linenum"> 190</span></a>  <span class="comment">        // Make sure to drop any newline characters around</span>
<a name="l191"><span class="linenum"> 191</span></a>          <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a> = <a class="phpfunction" onClick="logFunction('trim')" href="../../../../_functions/trim.html" onMouseOver="phpfuncPopup(event,'trim')">trim</a>(<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>);
<a name="l192"><span class="linenum"> 192</span></a>  
<a name="l193"><span class="linenum"> 193</span></a>  <span class="comment">        // Negotiate input and try to determine, whether it is a plain string,</span>
<a name="l194"><span class="linenum"> 194</span></a>  <span class="comment">        // an email address or something like a complete URL</span>
<a name="l195"><span class="linenum"> 195</span></a>          if (<a class="phpfunction" onClick="logFunction('strpos')" href="../../../../_functions/strpos.html" onMouseOver="phpfuncPopup(event,'strpos')">strpos</a>(<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>, '@')) { // Maybe it is an email address
<a name="l196"><span class="linenum"> 196</span></a>  <span class="comment">            // No no in strict mode</span>
<a name="l197"><span class="linenum"> 197</span></a>              if (<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_strict_mode')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_strict_mode.html">_strict_mode</a>) {
<a name="l198"><span class="linenum"> 198</span></a>                  <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_error')" href="../../../../_functions/_error.html" onMouseOver="funcPopup(event,'_error')">_error</a>('Only simple domain name parts can be handled in strict mode');
<a name="l199"><span class="linenum"> 199</span></a>                  return false;
<a name="l200"><span class="linenum"> 200</span></a>              }
<a name="l201"><span class="linenum"> 201</span></a>              <a class="function" onClick="logFunction('list')" href="../../../../_functions/list.html" onMouseOver="funcPopup(event,'list')">list</a> (<a class="var it399" onMouseOver="hilite(399)" onMouseOut="lolite()" onClick="logVariable('email_pref')" href="../../../../_variables/email_pref.html">$email_pref</a>, <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>) = <a class="phpfunction" onClick="logFunction('explode')" href="../../../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('@', <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>, 2);
<a name="l202"><span class="linenum"> 202</span></a>              <a class="var it400" onMouseOver="hilite(400)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../_variables/arr.html">$arr</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('.', <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>);
<a name="l203"><span class="linenum"> 203</span></a>              foreach (<a class="var it400" onMouseOver="hilite(400)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../_variables/arr.html">$arr</a> as <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a> =&gt; <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>) {
<a name="l204"><span class="linenum"> 204</span></a>                  if (<a class="phpfunction" onClick="logFunction('preg_match')" href="../../../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('!^'.<a class="phpfunction" onClick="logFunction('preg_quote')" href="../../../../_functions/preg_quote.html" onMouseOver="phpfuncPopup(event,'preg_quote')">preg_quote</a>(<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_punycode_prefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_punycode_prefix.html">_punycode_prefix</a>, '!').'!', <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>)) {
<a name="l205"><span class="linenum"> 205</span></a>                      <a class="var it401" onMouseOver="hilite(401)" onMouseOut="lolite()" onClick="logVariable('conv')" href="../../../../_variables/conv.html">$conv</a> = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_decode')" href="../../../../_functions/_decode.html" onMouseOver="funcPopup(event,'_decode')">_decode</a>(<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>);
<a name="l206"><span class="linenum"> 206</span></a>                      if (<a class="var it401" onMouseOver="hilite(401)" onMouseOut="lolite()" onClick="logVariable('conv')" href="../../../../_variables/conv.html">$conv</a>) <a class="var it400" onMouseOver="hilite(400)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../_variables/arr.html">$arr</a>[<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a>] = <a class="var it401" onMouseOver="hilite(401)" onMouseOut="lolite()" onClick="logVariable('conv')" href="../../../../_variables/conv.html">$conv</a>;
<a name="l207"><span class="linenum"> 207</span></a>                  }
<a name="l208"><span class="linenum"> 208</span></a>              }
<a name="l209"><span class="linenum"> 209</span></a>              <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a> = join('.', <a class="var it400" onMouseOver="hilite(400)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../_variables/arr.html">$arr</a>);
<a name="l210"><span class="linenum"> 210</span></a>              <a class="var it400" onMouseOver="hilite(400)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../_variables/arr.html">$arr</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('.', <a class="var it399" onMouseOver="hilite(399)" onMouseOut="lolite()" onClick="logVariable('email_pref')" href="../../../../_variables/email_pref.html">$email_pref</a>);
<a name="l211"><span class="linenum"> 211</span></a>              foreach (<a class="var it400" onMouseOver="hilite(400)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../_variables/arr.html">$arr</a> as <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a> =&gt; <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>) {
<a name="l212"><span class="linenum"> 212</span></a>                  if (<a class="phpfunction" onClick="logFunction('preg_match')" href="../../../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('!^'.<a class="phpfunction" onClick="logFunction('preg_quote')" href="../../../../_functions/preg_quote.html" onMouseOver="phpfuncPopup(event,'preg_quote')">preg_quote</a>(<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_punycode_prefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_punycode_prefix.html">_punycode_prefix</a>, '!').'!', <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>)) {
<a name="l213"><span class="linenum"> 213</span></a>                      <a class="var it401" onMouseOver="hilite(401)" onMouseOut="lolite()" onClick="logVariable('conv')" href="../../../../_variables/conv.html">$conv</a> = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_decode')" href="../../../../_functions/_decode.html" onMouseOver="funcPopup(event,'_decode')">_decode</a>(<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>);
<a name="l214"><span class="linenum"> 214</span></a>                      if (<a class="var it401" onMouseOver="hilite(401)" onMouseOut="lolite()" onClick="logVariable('conv')" href="../../../../_variables/conv.html">$conv</a>) <a class="var it400" onMouseOver="hilite(400)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../_variables/arr.html">$arr</a>[<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a>] = <a class="var it401" onMouseOver="hilite(401)" onMouseOut="lolite()" onClick="logVariable('conv')" href="../../../../_variables/conv.html">$conv</a>;
<a name="l215"><span class="linenum"> 215</span></a>                  }
<a name="l216"><span class="linenum"> 216</span></a>              }
<a name="l217"><span class="linenum"> 217</span></a>              <a class="var it399" onMouseOver="hilite(399)" onMouseOut="lolite()" onClick="logVariable('email_pref')" href="../../../../_variables/email_pref.html">$email_pref</a> = join('.', <a class="var it400" onMouseOver="hilite(400)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../_variables/arr.html">$arr</a>);
<a name="l218"><span class="linenum"> 218</span></a>              <a class="var it402" onMouseOver="hilite(402)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../../../_variables/return.html">$return</a> = <a class="var it399" onMouseOver="hilite(399)" onMouseOut="lolite()" onClick="logVariable('email_pref')" href="../../../../_variables/email_pref.html">$email_pref</a> . '@' . <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>;
<a name="l219"><span class="linenum"> 219</span></a>          } elseif (<a class="phpfunction" onClick="logFunction('preg_match')" href="../../../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('![:\./]!', <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>)) { // Or a complete domain <a class="phpfunction" onClick="logFunction('name')" href="../../../../_functions/name.html" onMouseOver="phpfuncPopup(event,'name')">name</a> (with or without paths / parameters)
<a name="l220"><span class="linenum"> 220</span></a>  <span class="comment">            // No no in strict mode</span>
<a name="l221"><span class="linenum"> 221</span></a>              if (<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_strict_mode')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_strict_mode.html">_strict_mode</a>) {
<a name="l222"><span class="linenum"> 222</span></a>                  <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_error')" href="../../../../_functions/_error.html" onMouseOver="funcPopup(event,'_error')">_error</a>('Only simple domain name parts can be handled in strict mode');
<a name="l223"><span class="linenum"> 223</span></a>                  return false;
<a name="l224"><span class="linenum"> 224</span></a>              }
<a name="l225"><span class="linenum"> 225</span></a>              <a class="var it403" onMouseOver="hilite(403)" onMouseOut="lolite()" onClick="logVariable('parsed')" href="../../../../_variables/parsed.html">$parsed</a> = <a class="phpfunction" onClick="logFunction('parse_url')" href="../../../../_functions/parse_url.html" onMouseOver="phpfuncPopup(event,'parse_url')">parse_url</a>(<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>);
<a name="l226"><span class="linenum"> 226</span></a>              if (isset(<a class="var it403" onMouseOver="hilite(403)" onMouseOut="lolite()" onClick="logVariable('parsed')" href="../../../../_variables/parsed.html">$parsed</a>['host'])) {
<a name="l227"><span class="linenum"> 227</span></a>                  <a class="var it400" onMouseOver="hilite(400)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../_variables/arr.html">$arr</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('.', <a class="var it403" onMouseOver="hilite(403)" onMouseOut="lolite()" onClick="logVariable('parsed')" href="../../../../_variables/parsed.html">$parsed</a>['host']);
<a name="l228"><span class="linenum"> 228</span></a>                  foreach (<a class="var it400" onMouseOver="hilite(400)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../_variables/arr.html">$arr</a> as <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a> =&gt; <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>) {
<a name="l229"><span class="linenum"> 229</span></a>                      <a class="var it401" onMouseOver="hilite(401)" onMouseOut="lolite()" onClick="logVariable('conv')" href="../../../../_variables/conv.html">$conv</a> = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_decode')" href="../../../../_functions/_decode.html" onMouseOver="funcPopup(event,'_decode')">_decode</a>(<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>);
<a name="l230"><span class="linenum"> 230</span></a>                      if (<a class="var it401" onMouseOver="hilite(401)" onMouseOut="lolite()" onClick="logVariable('conv')" href="../../../../_variables/conv.html">$conv</a>) <a class="var it400" onMouseOver="hilite(400)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../_variables/arr.html">$arr</a>[<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a>] = <a class="var it401" onMouseOver="hilite(401)" onMouseOut="lolite()" onClick="logVariable('conv')" href="../../../../_variables/conv.html">$conv</a>;
<a name="l231"><span class="linenum"> 231</span></a>                  }
<a name="l232"><span class="linenum"> 232</span></a>                  <a class="var it403" onMouseOver="hilite(403)" onMouseOut="lolite()" onClick="logVariable('parsed')" href="../../../../_variables/parsed.html">$parsed</a>['host'] = join('.', <a class="var it400" onMouseOver="hilite(400)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../_variables/arr.html">$arr</a>);
<a name="l233"><span class="linenum"> 233</span></a>                  <a class="var it402" onMouseOver="hilite(402)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../../../_variables/return.html">$return</a> =
<a name="l234"><span class="linenum"> 234</span></a>                          (empty(<a class="var it403" onMouseOver="hilite(403)" onMouseOut="lolite()" onClick="logVariable('parsed')" href="../../../../_variables/parsed.html">$parsed</a>['scheme']) ? '' : <a class="var it403" onMouseOver="hilite(403)" onMouseOut="lolite()" onClick="logVariable('parsed')" href="../../../../_variables/parsed.html">$parsed</a>['scheme'].(<a class="phpfunction" onClick="logFunction('strtolower')" href="../../../../_functions/strtolower.html" onMouseOver="phpfuncPopup(event,'strtolower')">strtolower</a>(<a class="var it403" onMouseOver="hilite(403)" onMouseOut="lolite()" onClick="logVariable('parsed')" href="../../../../_variables/parsed.html">$parsed</a>['scheme']) == 'mailto' ? ':' : '://'))
<a name="l235"><span class="linenum"> 235</span></a>                          .(empty(<a class="var it403" onMouseOver="hilite(403)" onMouseOut="lolite()" onClick="logVariable('parsed')" href="../../../../_variables/parsed.html">$parsed</a>['user']) ? '' : <a class="var it403" onMouseOver="hilite(403)" onMouseOut="lolite()" onClick="logVariable('parsed')" href="../../../../_variables/parsed.html">$parsed</a>['user'].(empty(<a class="var it403" onMouseOver="hilite(403)" onMouseOut="lolite()" onClick="logVariable('parsed')" href="../../../../_variables/parsed.html">$parsed</a>['pass']) ? '' : ':'.<a class="var it403" onMouseOver="hilite(403)" onMouseOut="lolite()" onClick="logVariable('parsed')" href="../../../../_variables/parsed.html">$parsed</a>['pass']).'@')
<a name="l236"><span class="linenum"> 236</span></a>                          .<a class="var it403" onMouseOver="hilite(403)" onMouseOut="lolite()" onClick="logVariable('parsed')" href="../../../../_variables/parsed.html">$parsed</a>['host']
<a name="l237"><span class="linenum"> 237</span></a>                          .(empty(<a class="var it403" onMouseOver="hilite(403)" onMouseOut="lolite()" onClick="logVariable('parsed')" href="../../../../_variables/parsed.html">$parsed</a>['port']) ? '' : ':'.<a class="var it403" onMouseOver="hilite(403)" onMouseOut="lolite()" onClick="logVariable('parsed')" href="../../../../_variables/parsed.html">$parsed</a>['port'])
<a name="l238"><span class="linenum"> 238</span></a>                          .(empty(<a class="var it403" onMouseOver="hilite(403)" onMouseOut="lolite()" onClick="logVariable('parsed')" href="../../../../_variables/parsed.html">$parsed</a>['path']) ? '' : <a class="var it403" onMouseOver="hilite(403)" onMouseOut="lolite()" onClick="logVariable('parsed')" href="../../../../_variables/parsed.html">$parsed</a>['path'])
<a name="l239"><span class="linenum"> 239</span></a>                          .(empty(<a class="var it403" onMouseOver="hilite(403)" onMouseOut="lolite()" onClick="logVariable('parsed')" href="../../../../_variables/parsed.html">$parsed</a>['query']) ? '' : '?'.<a class="var it403" onMouseOver="hilite(403)" onMouseOut="lolite()" onClick="logVariable('parsed')" href="../../../../_variables/parsed.html">$parsed</a>['query'])
<a name="l240"><span class="linenum"> 240</span></a>                          .(empty(<a class="var it403" onMouseOver="hilite(403)" onMouseOut="lolite()" onClick="logVariable('parsed')" href="../../../../_variables/parsed.html">$parsed</a>['fragment']) ? '' : '#'.<a class="var it403" onMouseOver="hilite(403)" onMouseOut="lolite()" onClick="logVariable('parsed')" href="../../../../_variables/parsed.html">$parsed</a>['fragment']);
<a name="l241"><span class="linenum"> 241</span></a>              } else { // parse_url seems to have failed, try without it
<a name="l242"><span class="linenum"> 242</span></a>                  <a class="var it400" onMouseOver="hilite(400)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../_variables/arr.html">$arr</a> = <a class="phpfunction" onClick="logFunction('explode')" href="../../../../_functions/explode.html" onMouseOver="phpfuncPopup(event,'explode')">explode</a>('.', <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>);
<a name="l243"><span class="linenum"> 243</span></a>                  foreach (<a class="var it400" onMouseOver="hilite(400)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../_variables/arr.html">$arr</a> as <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a> =&gt; <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>) {
<a name="l244"><span class="linenum"> 244</span></a>                      <a class="var it401" onMouseOver="hilite(401)" onMouseOut="lolite()" onClick="logVariable('conv')" href="../../../../_variables/conv.html">$conv</a> = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_decode')" href="../../../../_functions/_decode.html" onMouseOver="funcPopup(event,'_decode')">_decode</a>(<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>);
<a name="l245"><span class="linenum"> 245</span></a>                      <a class="var it400" onMouseOver="hilite(400)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../_variables/arr.html">$arr</a>[<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a>] = (<a class="var it401" onMouseOver="hilite(401)" onMouseOut="lolite()" onClick="logVariable('conv')" href="../../../../_variables/conv.html">$conv</a>) ? <a class="var it401" onMouseOver="hilite(401)" onMouseOut="lolite()" onClick="logVariable('conv')" href="../../../../_variables/conv.html">$conv</a> : <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>;
<a name="l246"><span class="linenum"> 246</span></a>                  }
<a name="l247"><span class="linenum"> 247</span></a>                  <a class="var it402" onMouseOver="hilite(402)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../../../_variables/return.html">$return</a> = join('.', <a class="var it400" onMouseOver="hilite(400)" onMouseOut="lolite()" onClick="logVariable('arr')" href="../../../../_variables/arr.html">$arr</a>);
<a name="l248"><span class="linenum"> 248</span></a>              }
<a name="l249"><span class="linenum"> 249</span></a>          } else { // Otherwise we consider it being a pure domain name string
<a name="l250"><span class="linenum"> 250</span></a>              <a class="var it402" onMouseOver="hilite(402)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../../../_variables/return.html">$return</a> = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_decode')" href="../../../../_functions/_decode.html" onMouseOver="funcPopup(event,'_decode')">_decode</a>(<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>);
<a name="l251"><span class="linenum"> 251</span></a>              if (!<a class="var it402" onMouseOver="hilite(402)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../../../_variables/return.html">$return</a>) <a class="var it402" onMouseOver="hilite(402)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../../../_variables/return.html">$return</a> = <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>;
<a name="l252"><span class="linenum"> 252</span></a>          }
<a name="l253"><span class="linenum"> 253</span></a>  <span class="comment">        // The output is UTF-8 by default, other output formats need conversion here</span>
<a name="l254"><span class="linenum"> 254</span></a>  <span class="comment">        // If one time encoding is given, use this, else the objects property</span>
<a name="l255"><span class="linenum"> 255</span></a>          switch ((<a class="var it398" onMouseOver="hilite(398)" onMouseOut="lolite()" onClick="logVariable('one_time_encoding')" href="../../../../_variables/one_time_encoding.html">$one_time_encoding</a>) ? <a class="var it398" onMouseOver="hilite(398)" onMouseOut="lolite()" onClick="logVariable('one_time_encoding')" href="../../../../_variables/one_time_encoding.html">$one_time_encoding</a> : <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_api_encoding')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_api_encoding.html">_api_encoding</a>) {
<a name="l256"><span class="linenum"> 256</span></a>          case 'utf8':
<a name="l257"><span class="linenum"> 257</span></a>              return <a class="var it402" onMouseOver="hilite(402)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../../../_variables/return.html">$return</a>;
<a name="l258"><span class="linenum"> 258</span></a>              break;
<a name="l259"><span class="linenum"> 259</span></a>          case 'ucs4_string':
<a name="l260"><span class="linenum"> 260</span></a>             return <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_ucs4_to_ucs4_string')" href="../../../../_functions/_ucs4_to_ucs4_string.html" onMouseOver="funcPopup(event,'_ucs4_to_ucs4_string')">_ucs4_to_ucs4_string</a>(<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_utf8_to_ucs4')" href="../../../../_functions/_utf8_to_ucs4.html" onMouseOver="funcPopup(event,'_utf8_to_ucs4')">_utf8_to_ucs4</a>(<a class="var it402" onMouseOver="hilite(402)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../../../_variables/return.html">$return</a>));
<a name="l261"><span class="linenum"> 261</span></a>             break;
<a name="l262"><span class="linenum"> 262</span></a>          case 'ucs4_array':
<a name="l263"><span class="linenum"> 263</span></a>              return <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_utf8_to_ucs4')" href="../../../../_functions/_utf8_to_ucs4.html" onMouseOver="funcPopup(event,'_utf8_to_ucs4')">_utf8_to_ucs4</a>(<a class="var it402" onMouseOver="hilite(402)" onMouseOut="lolite()" onClick="logVariable('return')" href="../../../../_variables/return.html">$return</a>);
<a name="l264"><span class="linenum"> 264</span></a>              break;
<a name="l265"><span class="linenum"> 265</span></a>          default:
<a name="l266"><span class="linenum"> 266</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_error')" href="../../../../_functions/_error.html" onMouseOver="funcPopup(event,'_error')">_error</a>('Unsupported output format');
<a name="l267"><span class="linenum"> 267</span></a>              return false;
<a name="l268"><span class="linenum"> 268</span></a>          }
<a name="l269"><span class="linenum"> 269</span></a>      }
<a name="l270"><span class="linenum"> 270</span></a>  
<a name="l271"><span class="linenum"> 271</span></a>      <span class="comment">/**</span>
<a name="l272"><span class="linenum"> 272</span></a>  <span class="comment">     * Encode a given UTF-8 domain name</span>
<a name="l273"><span class="linenum"> 273</span></a>  <span class="comment">     * @param    string   Domain name (UTF-8 or UCS-4)</span>
<a name="l274"><span class="linenum"> 274</span></a>  <span class="comment">     * [@param    string   Desired input encoding, see {@link set_parameter}]</span>
<a name="l275"><span class="linenum"> 275</span></a>  <span class="comment">     * @return   string   Encoded Domain name (ACE string)</span>
<a name="l276"><span class="linenum"> 276</span></a>  <span class="comment">     * @access   public</span>
<a name="l277"><span class="linenum"> 277</span></a>  <span class="comment">     */</span>
<a name="l278"><span class="linenum"> 278</span></a>      function <a class="function" onClick="logFunction('encode')" href="../../../../_functions/encode.html" onMouseOver="funcPopup(event,'encode')">encode</a>(<a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a>, <a class="var it398" onMouseOver="hilite(398)" onMouseOut="lolite()" onClick="logVariable('one_time_encoding')" href="../../../../_variables/one_time_encoding.html">$one_time_encoding</a> = false)
<a name="l279"><span class="linenum"> 279</span></a>      {
<a name="l280"><span class="linenum"> 280</span></a>  <span class="comment">        // Forcing conversion of input to UCS4 array</span>
<a name="l281"><span class="linenum"> 281</span></a>  <span class="comment">        // If one time encoding is given, use this, else the objects property</span>
<a name="l282"><span class="linenum"> 282</span></a>          switch (<a class="var it398" onMouseOver="hilite(398)" onMouseOut="lolite()" onClick="logVariable('one_time_encoding')" href="../../../../_variables/one_time_encoding.html">$one_time_encoding</a> ? <a class="var it398" onMouseOver="hilite(398)" onMouseOut="lolite()" onClick="logVariable('one_time_encoding')" href="../../../../_variables/one_time_encoding.html">$one_time_encoding</a> : <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_api_encoding')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_api_encoding.html">_api_encoding</a>) {
<a name="l283"><span class="linenum"> 283</span></a>          case 'utf8':
<a name="l284"><span class="linenum"> 284</span></a>              <a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a> = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_utf8_to_ucs4')" href="../../../../_functions/_utf8_to_ucs4.html" onMouseOver="funcPopup(event,'_utf8_to_ucs4')">_utf8_to_ucs4</a>(<a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a>);
<a name="l285"><span class="linenum"> 285</span></a>              break;
<a name="l286"><span class="linenum"> 286</span></a>          case 'ucs4_string':
<a name="l287"><span class="linenum"> 287</span></a>             <a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a> = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_ucs4_string_to_ucs4')" href="../../../../_functions/_ucs4_string_to_ucs4.html" onMouseOver="funcPopup(event,'_ucs4_string_to_ucs4')">_ucs4_string_to_ucs4</a>(<a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a>);
<a name="l288"><span class="linenum"> 288</span></a>          case 'ucs4_array':
<a name="l289"><span class="linenum"> 289</span></a>             break;
<a name="l290"><span class="linenum"> 290</span></a>          default:
<a name="l291"><span class="linenum"> 291</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_error')" href="../../../../_functions/_error.html" onMouseOver="funcPopup(event,'_error')">_error</a>('Unsupported input format: '.(<a class="var it398" onMouseOver="hilite(398)" onMouseOut="lolite()" onClick="logVariable('one_time_encoding')" href="../../../../_variables/one_time_encoding.html">$one_time_encoding</a> ? <a class="var it398" onMouseOver="hilite(398)" onMouseOut="lolite()" onClick="logVariable('one_time_encoding')" href="../../../../_variables/one_time_encoding.html">$one_time_encoding</a> : <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_api_encoding')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_api_encoding.html">_api_encoding</a>));
<a name="l292"><span class="linenum"> 292</span></a>              return false;
<a name="l293"><span class="linenum"> 293</span></a>          }
<a name="l294"><span class="linenum"> 294</span></a>  
<a name="l295"><span class="linenum"> 295</span></a>  <span class="comment">        // No input, no output, what else did you expect?</span>
<a name="l296"><span class="linenum"> 296</span></a>          if (empty(<a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a>)) return '';
<a name="l297"><span class="linenum"> 297</span></a>  
<a name="l298"><span class="linenum"> 298</span></a>  <span class="comment">        // Anchors for iteration</span>
<a name="l299"><span class="linenum"> 299</span></a>          <a class="var it405" onMouseOver="hilite(405)" onMouseOut="lolite()" onClick="logVariable('last_begin')" href="../../../../_variables/last_begin.html">$last_begin</a> = 0;
<a name="l300"><span class="linenum"> 300</span></a>  <span class="comment">        // Output string</span>
<a name="l301"><span class="linenum"> 301</span></a>          <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> = '';
<a name="l302"><span class="linenum"> 302</span></a>          foreach (<a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a> as <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a> =&gt; <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>) {
<a name="l303"><span class="linenum"> 303</span></a>  <span class="comment">            // Make sure to use just the plain dot</span>
<a name="l304"><span class="linenum"> 304</span></a>              switch(<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>) {
<a name="l305"><span class="linenum"> 305</span></a>              case 0x3002:
<a name="l306"><span class="linenum"> 306</span></a>              case 0xFF0E:
<a name="l307"><span class="linenum"> 307</span></a>              case 0xFF61:
<a name="l308"><span class="linenum"> 308</span></a>                  <a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a>[<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a>] = 0x2E;
<a name="l309"><span class="linenum"> 309</span></a>  <span class="comment">                // Right, no break here, the above are converted to dots anyway</span>
<a name="l310"><span class="linenum"> 310</span></a>  <span class="comment">            // Stumbling across an anchoring character</span>
<a name="l311"><span class="linenum"> 311</span></a>              case 0x2E:
<a name="l312"><span class="linenum"> 312</span></a>              case 0x2F:
<a name="l313"><span class="linenum"> 313</span></a>              case 0x3A:
<a name="l314"><span class="linenum"> 314</span></a>              case 0x3F:
<a name="l315"><span class="linenum"> 315</span></a>              case 0x40:
<a name="l316"><span class="linenum"> 316</span></a>  <span class="comment">                // Neither email addresses nor URLs allowed in strict mode</span>
<a name="l317"><span class="linenum"> 317</span></a>                  if (<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_strict_mode')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_strict_mode.html">_strict_mode</a>) {
<a name="l318"><span class="linenum"> 318</span></a>                     <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_error')" href="../../../../_functions/_error.html" onMouseOver="funcPopup(event,'_error')">_error</a>('Neither email addresses nor URLs are allowed in strict mode.');
<a name="l319"><span class="linenum"> 319</span></a>                     return false;
<a name="l320"><span class="linenum"> 320</span></a>                  } else {
<a name="l321"><span class="linenum"> 321</span></a>  <span class="comment">                    // Skip first char</span>
<a name="l322"><span class="linenum"> 322</span></a>                      if (<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a>) {
<a name="l323"><span class="linenum"> 323</span></a>                          <a class="var it406" onMouseOver="hilite(406)" onMouseOut="lolite()" onClick="logVariable('encoded')" href="../../../../_variables/encoded.html">$encoded</a> = '';
<a name="l324"><span class="linenum"> 324</span></a>                          <a class="var it406" onMouseOver="hilite(406)" onMouseOut="lolite()" onClick="logVariable('encoded')" href="../../../../_variables/encoded.html">$encoded</a> = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_encode')" href="../../../../_functions/_encode.html" onMouseOver="funcPopup(event,'_encode')">_encode</a>(<a class="phpfunction" onClick="logFunction('array_slice')" href="../../../../_functions/array_slice.html" onMouseOver="phpfuncPopup(event,'array_slice')">array_slice</a>(<a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a>, <a class="var it405" onMouseOver="hilite(405)" onMouseOut="lolite()" onClick="logVariable('last_begin')" href="../../../../_variables/last_begin.html">$last_begin</a>, ((<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a>)-<a class="var it405" onMouseOver="hilite(405)" onMouseOut="lolite()" onClick="logVariable('last_begin')" href="../../../../_variables/last_begin.html">$last_begin</a>)));
<a name="l325"><span class="linenum"> 325</span></a>                          if (<a class="var it406" onMouseOver="hilite(406)" onMouseOut="lolite()" onClick="logVariable('encoded')" href="../../../../_variables/encoded.html">$encoded</a>) {
<a name="l326"><span class="linenum"> 326</span></a>                              <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="var it406" onMouseOver="hilite(406)" onMouseOut="lolite()" onClick="logVariable('encoded')" href="../../../../_variables/encoded.html">$encoded</a>;
<a name="l327"><span class="linenum"> 327</span></a>                          } else {
<a name="l328"><span class="linenum"> 328</span></a>                              <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_ucs4_to_utf8')" href="../../../../_functions/_ucs4_to_utf8.html" onMouseOver="funcPopup(event,'_ucs4_to_utf8')">_ucs4_to_utf8</a>(<a class="phpfunction" onClick="logFunction('array_slice')" href="../../../../_functions/array_slice.html" onMouseOver="phpfuncPopup(event,'array_slice')">array_slice</a>(<a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a>, <a class="var it405" onMouseOver="hilite(405)" onMouseOut="lolite()" onClick="logVariable('last_begin')" href="../../../../_variables/last_begin.html">$last_begin</a>, ((<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a>)-<a class="var it405" onMouseOver="hilite(405)" onMouseOut="lolite()" onClick="logVariable('last_begin')" href="../../../../_variables/last_begin.html">$last_begin</a>)));
<a name="l329"><span class="linenum"> 329</span></a>                          }
<a name="l330"><span class="linenum"> 330</span></a>                          <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(<a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a>[<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a>]);
<a name="l331"><span class="linenum"> 331</span></a>                      }
<a name="l332"><span class="linenum"> 332</span></a>                      <a class="var it405" onMouseOver="hilite(405)" onMouseOut="lolite()" onClick="logVariable('last_begin')" href="../../../../_variables/last_begin.html">$last_begin</a> = <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a> + 1;
<a name="l333"><span class="linenum"> 333</span></a>                  }
<a name="l334"><span class="linenum"> 334</span></a>              }
<a name="l335"><span class="linenum"> 335</span></a>          }
<a name="l336"><span class="linenum"> 336</span></a>  <span class="comment">        // Catch the rest of the string</span>
<a name="l337"><span class="linenum"> 337</span></a>          if (<a class="var it405" onMouseOver="hilite(405)" onMouseOut="lolite()" onClick="logVariable('last_begin')" href="../../../../_variables/last_begin.html">$last_begin</a>) {
<a name="l338"><span class="linenum"> 338</span></a>              <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('inp_len')" href="../../../../_variables/inp_len.html">$inp_len</a> = sizeof(<a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a>);
<a name="l339"><span class="linenum"> 339</span></a>              <a class="var it406" onMouseOver="hilite(406)" onMouseOut="lolite()" onClick="logVariable('encoded')" href="../../../../_variables/encoded.html">$encoded</a> = '';
<a name="l340"><span class="linenum"> 340</span></a>              <a class="var it406" onMouseOver="hilite(406)" onMouseOut="lolite()" onClick="logVariable('encoded')" href="../../../../_variables/encoded.html">$encoded</a> = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_encode')" href="../../../../_functions/_encode.html" onMouseOver="funcPopup(event,'_encode')">_encode</a>(<a class="phpfunction" onClick="logFunction('array_slice')" href="../../../../_functions/array_slice.html" onMouseOver="phpfuncPopup(event,'array_slice')">array_slice</a>(<a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a>, <a class="var it405" onMouseOver="hilite(405)" onMouseOut="lolite()" onClick="logVariable('last_begin')" href="../../../../_variables/last_begin.html">$last_begin</a>, ((<a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('inp_len')" href="../../../../_variables/inp_len.html">$inp_len</a>)-<a class="var it405" onMouseOver="hilite(405)" onMouseOut="lolite()" onClick="logVariable('last_begin')" href="../../../../_variables/last_begin.html">$last_begin</a>)));
<a name="l341"><span class="linenum"> 341</span></a>              if (<a class="var it406" onMouseOver="hilite(406)" onMouseOut="lolite()" onClick="logVariable('encoded')" href="../../../../_variables/encoded.html">$encoded</a>) {
<a name="l342"><span class="linenum"> 342</span></a>                  <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="var it406" onMouseOver="hilite(406)" onMouseOut="lolite()" onClick="logVariable('encoded')" href="../../../../_variables/encoded.html">$encoded</a>;
<a name="l343"><span class="linenum"> 343</span></a>              } else {
<a name="l344"><span class="linenum"> 344</span></a>                  <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_ucs4_to_utf8')" href="../../../../_functions/_ucs4_to_utf8.html" onMouseOver="funcPopup(event,'_ucs4_to_utf8')">_ucs4_to_utf8</a>(<a class="phpfunction" onClick="logFunction('array_slice')" href="../../../../_functions/array_slice.html" onMouseOver="phpfuncPopup(event,'array_slice')">array_slice</a>(<a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a>, <a class="var it405" onMouseOver="hilite(405)" onMouseOut="lolite()" onClick="logVariable('last_begin')" href="../../../../_variables/last_begin.html">$last_begin</a>, ((<a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('inp_len')" href="../../../../_variables/inp_len.html">$inp_len</a>)-<a class="var it405" onMouseOver="hilite(405)" onMouseOut="lolite()" onClick="logVariable('last_begin')" href="../../../../_variables/last_begin.html">$last_begin</a>)));
<a name="l345"><span class="linenum"> 345</span></a>              }
<a name="l346"><span class="linenum"> 346</span></a>              return <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>;
<a name="l347"><span class="linenum"> 347</span></a>          } else {
<a name="l348"><span class="linenum"> 348</span></a>              if (<a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_encode')" href="../../../../_functions/_encode.html" onMouseOver="funcPopup(event,'_encode')">_encode</a>(<a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a>)) {
<a name="l349"><span class="linenum"> 349</span></a>                  return <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>;
<a name="l350"><span class="linenum"> 350</span></a>              } else {
<a name="l351"><span class="linenum"> 351</span></a>                  return <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_ucs4_to_utf8')" href="../../../../_functions/_ucs4_to_utf8.html" onMouseOver="funcPopup(event,'_ucs4_to_utf8')">_ucs4_to_utf8</a>(<a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a>);
<a name="l352"><span class="linenum"> 352</span></a>              }
<a name="l353"><span class="linenum"> 353</span></a>          }
<a name="l354"><span class="linenum"> 354</span></a>      }
<a name="l355"><span class="linenum"> 355</span></a>  
<a name="l356"><span class="linenum"> 356</span></a>      <span class="comment">/**</span>
<a name="l357"><span class="linenum"> 357</span></a>  <span class="comment">     * Use this method to get the last error ocurred</span>
<a name="l358"><span class="linenum"> 358</span></a>  <span class="comment">     * @param    void</span>
<a name="l359"><span class="linenum"> 359</span></a>  <span class="comment">     * @return   string   The last error, that occured</span>
<a name="l360"><span class="linenum"> 360</span></a>  <span class="comment">     * @access   public</span>
<a name="l361"><span class="linenum"> 361</span></a>  <span class="comment">     */</span>
<a name="l362"><span class="linenum"> 362</span></a>      function <a class="function" onClick="logFunction('get_last_error')" href="../../../../_functions/get_last_error.html" onMouseOver="funcPopup(event,'get_last_error')">get_last_error</a>()
<a name="l363"><span class="linenum"> 363</span></a>      {
<a name="l364"><span class="linenum"> 364</span></a>          return <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_error')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_error.html">_error</a>;
<a name="l365"><span class="linenum"> 365</span></a>      }
<a name="l366"><span class="linenum"> 366</span></a>  
<a name="l367"><span class="linenum"> 367</span></a>      <span class="comment">/**</span>
<a name="l368"><span class="linenum"> 368</span></a>  <span class="comment">     * The actual decoding algorithm</span>
<a name="l369"><span class="linenum"> 369</span></a>  <span class="comment">     * @access   private</span>
<a name="l370"><span class="linenum"> 370</span></a>  <span class="comment">     */</span>
<a name="l371"><span class="linenum"> 371</span></a>      function <a class="function" onClick="logFunction('_decode')" href="../../../../_functions/_decode.html" onMouseOver="funcPopup(event,'_decode')">_decode</a>(<a class="var it406" onMouseOver="hilite(406)" onMouseOut="lolite()" onClick="logVariable('encoded')" href="../../../../_variables/encoded.html">$encoded</a>)
<a name="l372"><span class="linenum"> 372</span></a>      {
<a name="l373"><span class="linenum"> 373</span></a>  <span class="comment">        // We do need to find the Punycode prefix</span>
<a name="l374"><span class="linenum"> 374</span></a>          if (!<a class="phpfunction" onClick="logFunction('preg_match')" href="../../../../_functions/preg_match.html" onMouseOver="phpfuncPopup(event,'preg_match')">preg_match</a>('!^'.<a class="phpfunction" onClick="logFunction('preg_quote')" href="../../../../_functions/preg_quote.html" onMouseOver="phpfuncPopup(event,'preg_quote')">preg_quote</a>(<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_punycode_prefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_punycode_prefix.html">_punycode_prefix</a>, '!').'!', <a class="var it406" onMouseOver="hilite(406)" onMouseOut="lolite()" onClick="logVariable('encoded')" href="../../../../_variables/encoded.html">$encoded</a>)) {
<a name="l375"><span class="linenum"> 375</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_error')" href="../../../../_functions/_error.html" onMouseOver="funcPopup(event,'_error')">_error</a>('This is not a punycode string');
<a name="l376"><span class="linenum"> 376</span></a>              return false;
<a name="l377"><span class="linenum"> 377</span></a>          }
<a name="l378"><span class="linenum"> 378</span></a>          <a class="var it408" onMouseOver="hilite(408)" onMouseOut="lolite()" onClick="logVariable('encode_test')" href="../../../../_variables/encode_test.html">$encode_test</a> = <a class="phpfunction" onClick="logFunction('preg_replace')" href="../../../../_functions/preg_replace.html" onMouseOver="phpfuncPopup(event,'preg_replace')">preg_replace</a>('!^'.<a class="phpfunction" onClick="logFunction('preg_quote')" href="../../../../_functions/preg_quote.html" onMouseOver="phpfuncPopup(event,'preg_quote')">preg_quote</a>(<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_punycode_prefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_punycode_prefix.html">_punycode_prefix</a>, '!').'!', '', <a class="var it406" onMouseOver="hilite(406)" onMouseOut="lolite()" onClick="logVariable('encoded')" href="../../../../_variables/encoded.html">$encoded</a>);
<a name="l379"><span class="linenum"> 379</span></a>  <span class="comment">        // If nothing left after removing the prefix, it is hopeless</span>
<a name="l380"><span class="linenum"> 380</span></a>          if (!<a class="var it408" onMouseOver="hilite(408)" onMouseOut="lolite()" onClick="logVariable('encode_test')" href="../../../../_variables/encode_test.html">$encode_test</a>) {
<a name="l381"><span class="linenum"> 381</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_error')" href="../../../../_functions/_error.html" onMouseOver="funcPopup(event,'_error')">_error</a>('The given encoded string was empty');
<a name="l382"><span class="linenum"> 382</span></a>              return false;
<a name="l383"><span class="linenum"> 383</span></a>          }
<a name="l384"><span class="linenum"> 384</span></a>  <span class="comment">        // Find last occurence of the delimiter</span>
<a name="l385"><span class="linenum"> 385</span></a>          <a class="var it409" onMouseOver="hilite(409)" onMouseOut="lolite()" onClick="logVariable('delim_pos')" href="../../../../_variables/delim_pos.html">$delim_pos</a> = <a class="phpfunction" onClick="logFunction('strrpos')" href="../../../../_functions/strrpos.html" onMouseOver="phpfuncPopup(event,'strrpos')">strrpos</a>(<a class="var it406" onMouseOver="hilite(406)" onMouseOut="lolite()" onClick="logVariable('encoded')" href="../../../../_variables/encoded.html">$encoded</a>, '-');
<a name="l386"><span class="linenum"> 386</span></a>          if (<a class="var it409" onMouseOver="hilite(409)" onMouseOut="lolite()" onClick="logVariable('delim_pos')" href="../../../../_variables/delim_pos.html">$delim_pos</a> &gt; strlen(<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_punycode_prefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_punycode_prefix.html">_punycode_prefix</a>)) {
<a name="l387"><span class="linenum"> 387</span></a>              for (<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a> = strlen(<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_punycode_prefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_punycode_prefix.html">_punycode_prefix</a>); <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a> &lt; <a class="var it409" onMouseOver="hilite(409)" onMouseOut="lolite()" onClick="logVariable('delim_pos')" href="../../../../_variables/delim_pos.html">$delim_pos</a>; ++<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a>) {
<a name="l388"><span class="linenum"> 388</span></a>                  <a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a>[] = <a class="phpfunction" onClick="logFunction('ord')" href="../../../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>(<a class="var it406" onMouseOver="hilite(406)" onMouseOut="lolite()" onClick="logVariable('encoded')" href="../../../../_variables/encoded.html">$encoded</a>{<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a>});
<a name="l389"><span class="linenum"> 389</span></a>              }
<a name="l390"><span class="linenum"> 390</span></a>          } else {
<a name="l391"><span class="linenum"> 391</span></a>              <a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a> = array();
<a name="l392"><span class="linenum"> 392</span></a>          }
<a name="l393"><span class="linenum"> 393</span></a>          <a class="var it410" onMouseOver="hilite(410)" onMouseOut="lolite()" onClick="logVariable('deco_len')" href="../../../../_variables/deco_len.html">$deco_len</a> = <a class="phpfunction" onClick="logFunction('count')" href="../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a>);
<a name="l394"><span class="linenum"> 394</span></a>          <a class="var it411" onMouseOver="hilite(411)" onMouseOut="lolite()" onClick="logVariable('enco_len')" href="../../../../_variables/enco_len.html">$enco_len</a> = strlen(<a class="var it406" onMouseOver="hilite(406)" onMouseOut="lolite()" onClick="logVariable('encoded')" href="../../../../_variables/encoded.html">$encoded</a>);
<a name="l395"><span class="linenum"> 395</span></a>  
<a name="l396"><span class="linenum"> 396</span></a>  <span class="comment">        // Wandering through the strings; init</span>
<a name="l397"><span class="linenum"> 397</span></a>          <a class="var it412" onMouseOver="hilite(412)" onMouseOut="lolite()" onClick="logVariable('is_first')" href="../../../../_variables/is_first.html">$is_first</a> = true;
<a name="l398"><span class="linenum"> 398</span></a>          <a class="var it413" onMouseOver="hilite(413)" onMouseOut="lolite()" onClick="logVariable('bias')" href="../../../../_variables/bias.html">$bias</a>     = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_initial_bias')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_initial_bias.html">_initial_bias</a>;
<a name="l399"><span class="linenum"> 399</span></a>          <a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('idx')" href="../../../../_variables/idx.html">$idx</a>      = 0;
<a name="l400"><span class="linenum"> 400</span></a>          <a class="var it415" onMouseOver="hilite(415)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../../../_variables/char.html">$char</a>     = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_initial_n')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_initial_n.html">_initial_n</a>;
<a name="l401"><span class="linenum"> 401</span></a>  
<a name="l402"><span class="linenum"> 402</span></a>          for (<a class="var it416" onMouseOver="hilite(416)" onMouseOut="lolite()" onClick="logVariable('enco_idx')" href="../../../../_variables/enco_idx.html">$enco_idx</a> = (<a class="var it409" onMouseOver="hilite(409)" onMouseOut="lolite()" onClick="logVariable('delim_pos')" href="../../../../_variables/delim_pos.html">$delim_pos</a>) ? (<a class="var it409" onMouseOver="hilite(409)" onMouseOut="lolite()" onClick="logVariable('delim_pos')" href="../../../../_variables/delim_pos.html">$delim_pos</a> + 1) : 0; <a class="var it416" onMouseOver="hilite(416)" onMouseOut="lolite()" onClick="logVariable('enco_idx')" href="../../../../_variables/enco_idx.html">$enco_idx</a> &lt; <a class="var it411" onMouseOver="hilite(411)" onMouseOut="lolite()" onClick="logVariable('enco_len')" href="../../../../_variables/enco_len.html">$enco_len</a>; ++<a class="var it410" onMouseOver="hilite(410)" onMouseOut="lolite()" onClick="logVariable('deco_len')" href="../../../../_variables/deco_len.html">$deco_len</a>) {
<a name="l403"><span class="linenum"> 403</span></a>              for (<a class="var it417" onMouseOver="hilite(417)" onMouseOut="lolite()" onClick="logVariable('old_idx')" href="../../../../_variables/old_idx.html">$old_idx</a> = <a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('idx')" href="../../../../_variables/idx.html">$idx</a>, <a class="var it418" onMouseOver="hilite(418)" onMouseOut="lolite()" onClick="logVariable('w')" href="../../../../_variables/w.html">$w</a> = 1, <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a> = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_base')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_base.html">_base</a>; 1 ; <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a> += <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_base')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_base.html">_base</a>) {
<a name="l404"><span class="linenum"> 404</span></a>                  <a class="var it419" onMouseOver="hilite(419)" onMouseOut="lolite()" onClick="logVariable('digit')" href="../../../../_variables/digit.html">$digit</a> = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_decode_digit')" href="../../../../_functions/_decode_digit.html" onMouseOver="funcPopup(event,'_decode_digit')">_decode_digit</a>(<a class="var it406" onMouseOver="hilite(406)" onMouseOut="lolite()" onClick="logVariable('encoded')" href="../../../../_variables/encoded.html">$encoded</a>{<a class="var it416" onMouseOver="hilite(416)" onMouseOut="lolite()" onClick="logVariable('enco_idx')" href="../../../../_variables/enco_idx.html">$enco_idx</a>++});
<a name="l405"><span class="linenum"> 405</span></a>                  <a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('idx')" href="../../../../_variables/idx.html">$idx</a> += <a class="var it419" onMouseOver="hilite(419)" onMouseOut="lolite()" onClick="logVariable('digit')" href="../../../../_variables/digit.html">$digit</a> * <a class="var it418" onMouseOver="hilite(418)" onMouseOut="lolite()" onClick="logVariable('w')" href="../../../../_variables/w.html">$w</a>;
<a name="l406"><span class="linenum"> 406</span></a>                  <a class="var it420" onMouseOver="hilite(420)" onMouseOut="lolite()" onClick="logVariable('t')" href="../../../../_variables/t.html">$t</a> = (<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a> &lt;= <a class="var it413" onMouseOver="hilite(413)" onMouseOut="lolite()" onClick="logVariable('bias')" href="../../../../_variables/bias.html">$bias</a>) ? <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_tmin')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_tmin.html">_tmin</a> :
<a name="l407"><span class="linenum"> 407</span></a>                          ((<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a> &gt;= <a class="var it413" onMouseOver="hilite(413)" onMouseOut="lolite()" onClick="logVariable('bias')" href="../../../../_variables/bias.html">$bias</a> + <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_tmax')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_tmax.html">_tmax</a>) ? <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_tmax')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_tmax.html">_tmax</a> : (<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a> - <a class="var it413" onMouseOver="hilite(413)" onMouseOut="lolite()" onClick="logVariable('bias')" href="../../../../_variables/bias.html">$bias</a>));
<a name="l408"><span class="linenum"> 408</span></a>                  if (<a class="var it419" onMouseOver="hilite(419)" onMouseOut="lolite()" onClick="logVariable('digit')" href="../../../../_variables/digit.html">$digit</a> &lt; <a class="var it420" onMouseOver="hilite(420)" onMouseOut="lolite()" onClick="logVariable('t')" href="../../../../_variables/t.html">$t</a>) break;
<a name="l409"><span class="linenum"> 409</span></a>                  <a class="var it418" onMouseOver="hilite(418)" onMouseOut="lolite()" onClick="logVariable('w')" href="../../../../_variables/w.html">$w</a> = (int) (<a class="var it418" onMouseOver="hilite(418)" onMouseOut="lolite()" onClick="logVariable('w')" href="../../../../_variables/w.html">$w</a> * (<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_base')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_base.html">_base</a> - <a class="var it420" onMouseOver="hilite(420)" onMouseOut="lolite()" onClick="logVariable('t')" href="../../../../_variables/t.html">$t</a>));
<a name="l410"><span class="linenum"> 410</span></a>              }
<a name="l411"><span class="linenum"> 411</span></a>              <a class="var it413" onMouseOver="hilite(413)" onMouseOut="lolite()" onClick="logVariable('bias')" href="../../../../_variables/bias.html">$bias</a> = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_adapt')" href="../../../../_functions/_adapt.html" onMouseOver="funcPopup(event,'_adapt')">_adapt</a>(<a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('idx')" href="../../../../_variables/idx.html">$idx</a> - <a class="var it417" onMouseOver="hilite(417)" onMouseOut="lolite()" onClick="logVariable('old_idx')" href="../../../../_variables/old_idx.html">$old_idx</a>, <a class="var it410" onMouseOver="hilite(410)" onMouseOut="lolite()" onClick="logVariable('deco_len')" href="../../../../_variables/deco_len.html">$deco_len</a> + 1, <a class="var it412" onMouseOver="hilite(412)" onMouseOut="lolite()" onClick="logVariable('is_first')" href="../../../../_variables/is_first.html">$is_first</a>);
<a name="l412"><span class="linenum"> 412</span></a>              <a class="var it412" onMouseOver="hilite(412)" onMouseOut="lolite()" onClick="logVariable('is_first')" href="../../../../_variables/is_first.html">$is_first</a> = false;
<a name="l413"><span class="linenum"> 413</span></a>              <a class="var it415" onMouseOver="hilite(415)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../../../_variables/char.html">$char</a> += (int) (<a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('idx')" href="../../../../_variables/idx.html">$idx</a> / (<a class="var it410" onMouseOver="hilite(410)" onMouseOut="lolite()" onClick="logVariable('deco_len')" href="../../../../_variables/deco_len.html">$deco_len</a> + 1));
<a name="l414"><span class="linenum"> 414</span></a>              <a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('idx')" href="../../../../_variables/idx.html">$idx</a> %= (<a class="var it410" onMouseOver="hilite(410)" onMouseOut="lolite()" onClick="logVariable('deco_len')" href="../../../../_variables/deco_len.html">$deco_len</a> + 1);
<a name="l415"><span class="linenum"> 415</span></a>              if (<a class="var it410" onMouseOver="hilite(410)" onMouseOut="lolite()" onClick="logVariable('deco_len')" href="../../../../_variables/deco_len.html">$deco_len</a> &gt; 0) {
<a name="l416"><span class="linenum"> 416</span></a>  <span class="comment">                // Make room for the decoded char</span>
<a name="l417"><span class="linenum"> 417</span></a>                  for (<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a> = <a class="var it410" onMouseOver="hilite(410)" onMouseOut="lolite()" onClick="logVariable('deco_len')" href="../../../../_variables/deco_len.html">$deco_len</a>; <a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a> &gt; <a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('idx')" href="../../../../_variables/idx.html">$idx</a>; <a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>--) {
<a name="l418"><span class="linenum"> 418</span></a>                      <a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a>[<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>] = <a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a>[(<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a> - 1)];
<a name="l419"><span class="linenum"> 419</span></a>                  }
<a name="l420"><span class="linenum"> 420</span></a>              }
<a name="l421"><span class="linenum"> 421</span></a>              <a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a>[<a class="var it414" onMouseOver="hilite(414)" onMouseOut="lolite()" onClick="logVariable('idx')" href="../../../../_variables/idx.html">$idx</a>++] = <a class="var it415" onMouseOver="hilite(415)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../../../_variables/char.html">$char</a>;
<a name="l422"><span class="linenum"> 422</span></a>          }
<a name="l423"><span class="linenum"> 423</span></a>          return <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_ucs4_to_utf8')" href="../../../../_functions/_ucs4_to_utf8.html" onMouseOver="funcPopup(event,'_ucs4_to_utf8')">_ucs4_to_utf8</a>(<a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a>);
<a name="l424"><span class="linenum"> 424</span></a>      }
<a name="l425"><span class="linenum"> 425</span></a>  
<a name="l426"><span class="linenum"> 426</span></a>      <span class="comment">/**</span>
<a name="l427"><span class="linenum"> 427</span></a>  <span class="comment">     * The actual encoding algorithm</span>
<a name="l428"><span class="linenum"> 428</span></a>  <span class="comment">     * @access   private</span>
<a name="l429"><span class="linenum"> 429</span></a>  <span class="comment">     */</span>
<a name="l430"><span class="linenum"> 430</span></a>      function <a class="function" onClick="logFunction('_encode')" href="../../../../_functions/_encode.html" onMouseOver="funcPopup(event,'_encode')">_encode</a>(<a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a>)
<a name="l431"><span class="linenum"> 431</span></a>      {
<a name="l432"><span class="linenum"> 432</span></a>  <span class="comment">        // We cannot encode a domain name containing the Punycode prefix</span>
<a name="l433"><span class="linenum"> 433</span></a>          <a class="var it421" onMouseOver="hilite(421)" onMouseOut="lolite()" onClick="logVariable('extract')" href="../../../../_variables/extract.html">$extract</a> = strlen(<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_punycode_prefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_punycode_prefix.html">_punycode_prefix</a>);
<a name="l434"><span class="linenum"> 434</span></a>          <a class="var it422" onMouseOver="hilite(422)" onMouseOut="lolite()" onClick="logVariable('check_pref')" href="../../../../_variables/check_pref.html">$check_pref</a> = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_utf8_to_ucs4')" href="../../../../_functions/_utf8_to_ucs4.html" onMouseOver="funcPopup(event,'_utf8_to_ucs4')">_utf8_to_ucs4</a>(<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_punycode_prefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_punycode_prefix.html">_punycode_prefix</a>);
<a name="l435"><span class="linenum"> 435</span></a>          <a class="var it423" onMouseOver="hilite(423)" onMouseOut="lolite()" onClick="logVariable('check_deco')" href="../../../../_variables/check_deco.html">$check_deco</a> = <a class="phpfunction" onClick="logFunction('array_slice')" href="../../../../_functions/array_slice.html" onMouseOver="phpfuncPopup(event,'array_slice')">array_slice</a>(<a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a>, 0, <a class="var it421" onMouseOver="hilite(421)" onMouseOut="lolite()" onClick="logVariable('extract')" href="../../../../_variables/extract.html">$extract</a>);
<a name="l436"><span class="linenum"> 436</span></a>  
<a name="l437"><span class="linenum"> 437</span></a>          if (<a class="var it422" onMouseOver="hilite(422)" onMouseOut="lolite()" onClick="logVariable('check_pref')" href="../../../../_variables/check_pref.html">$check_pref</a> == <a class="var it423" onMouseOver="hilite(423)" onMouseOut="lolite()" onClick="logVariable('check_deco')" href="../../../../_variables/check_deco.html">$check_deco</a>) {
<a name="l438"><span class="linenum"> 438</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_error')" href="../../../../_functions/_error.html" onMouseOver="funcPopup(event,'_error')">_error</a>('This is already a punycode string');
<a name="l439"><span class="linenum"> 439</span></a>              return false;
<a name="l440"><span class="linenum"> 440</span></a>          }
<a name="l441"><span class="linenum"> 441</span></a>  <span class="comment">        // We will not try to encode strings consisting of basic code points only</span>
<a name="l442"><span class="linenum"> 442</span></a>          <a class="var it424" onMouseOver="hilite(424)" onMouseOut="lolite()" onClick="logVariable('encodable')" href="../../../../_variables/encodable.html">$encodable</a> = false;
<a name="l443"><span class="linenum"> 443</span></a>          foreach (<a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a> as <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a> =&gt; <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>) {
<a name="l444"><span class="linenum"> 444</span></a>              if (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &gt; 0x7a) {
<a name="l445"><span class="linenum"> 445</span></a>                  <a class="var it424" onMouseOver="hilite(424)" onMouseOut="lolite()" onClick="logVariable('encodable')" href="../../../../_variables/encodable.html">$encodable</a> = true;
<a name="l446"><span class="linenum"> 446</span></a>                  break;
<a name="l447"><span class="linenum"> 447</span></a>              }
<a name="l448"><span class="linenum"> 448</span></a>          }
<a name="l449"><span class="linenum"> 449</span></a>          if (!<a class="var it424" onMouseOver="hilite(424)" onMouseOut="lolite()" onClick="logVariable('encodable')" href="../../../../_variables/encodable.html">$encodable</a>) {
<a name="l450"><span class="linenum"> 450</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_error')" href="../../../../_functions/_error.html" onMouseOver="funcPopup(event,'_error')">_error</a>('The given string does not contain encodable chars');
<a name="l451"><span class="linenum"> 451</span></a>              return false;
<a name="l452"><span class="linenum"> 452</span></a>          }
<a name="l453"><span class="linenum"> 453</span></a>  
<a name="l454"><span class="linenum"> 454</span></a>  <span class="comment">        // Do NAMEPREP</span>
<a name="l455"><span class="linenum"> 455</span></a>          <a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a> = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_nameprep')" href="../../../../_functions/_nameprep.html" onMouseOver="funcPopup(event,'_nameprep')">_nameprep</a>(<a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a>);
<a name="l456"><span class="linenum"> 456</span></a>          if (!<a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a> || !<a class="phpfunction" onClick="logFunction('is_array')" href="../../../../_functions/is_array.html" onMouseOver="phpfuncPopup(event,'is_array')">is_array</a>(<a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a>)) return false; <span class="comment">// NAMEPREP failed</span>
<a name="l457"><span class="linenum"> 457</span></a>  
<a name="l458"><span class="linenum"> 458</span></a>          <a class="var it410" onMouseOver="hilite(410)" onMouseOut="lolite()" onClick="logVariable('deco_len')" href="../../../../_variables/deco_len.html">$deco_len</a>  = <a class="phpfunction" onClick="logFunction('count')" href="../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a>);
<a name="l459"><span class="linenum"> 459</span></a>          if (!<a class="var it410" onMouseOver="hilite(410)" onMouseOut="lolite()" onClick="logVariable('deco_len')" href="../../../../_variables/deco_len.html">$deco_len</a>) return false; <span class="comment">// Empty array</span>
<a name="l460"><span class="linenum"> 460</span></a>  
<a name="l461"><span class="linenum"> 461</span></a>          <a class="var it425" onMouseOver="hilite(425)" onMouseOut="lolite()" onClick="logVariable('codecount')" href="../../../../_variables/codecount.html">$codecount</a> = 0; <span class="comment">// How many chars have been consumed</span>
<a name="l462"><span class="linenum"> 462</span></a>  
<a name="l463"><span class="linenum"> 463</span></a>          <a class="var it406" onMouseOver="hilite(406)" onMouseOut="lolite()" onClick="logVariable('encoded')" href="../../../../_variables/encoded.html">$encoded</a> = '';
<a name="l464"><span class="linenum"> 464</span></a>  <span class="comment">        // Copy all basic code points to output</span>
<a name="l465"><span class="linenum"> 465</span></a>          for (<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a> = 0; <a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a> &lt; <a class="var it410" onMouseOver="hilite(410)" onMouseOut="lolite()" onClick="logVariable('deco_len')" href="../../../../_variables/deco_len.html">$deco_len</a>; ++<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>) {
<a name="l466"><span class="linenum"> 466</span></a>              <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('test')" href="../../../../_variables/test.html">$test</a> = <a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a>[<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>];
<a name="l467"><span class="linenum"> 467</span></a>  <span class="comment">            // Will match [-0-9a-zA-Z]</span>
<a name="l468"><span class="linenum"> 468</span></a>              if ((0x2F &lt; <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('test')" href="../../../../_variables/test.html">$test</a> &amp;&amp; <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('test')" href="../../../../_variables/test.html">$test</a> &lt; 0x40) || (0x40 &lt; <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('test')" href="../../../../_variables/test.html">$test</a> &amp;&amp; <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('test')" href="../../../../_variables/test.html">$test</a> &lt; 0x5B)
<a name="l469"><span class="linenum"> 469</span></a>                      || (0x60 &lt; <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('test')" href="../../../../_variables/test.html">$test</a> &amp;&amp; <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('test')" href="../../../../_variables/test.html">$test</a> &lt;= 0x7B) || (0x2D == <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('test')" href="../../../../_variables/test.html">$test</a>)) {
<a name="l470"><span class="linenum"> 470</span></a>                  <a class="var it406" onMouseOver="hilite(406)" onMouseOut="lolite()" onClick="logVariable('encoded')" href="../../../../_variables/encoded.html">$encoded</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(<a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a>[<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>]);
<a name="l471"><span class="linenum"> 471</span></a>                  <a class="var it425" onMouseOver="hilite(425)" onMouseOut="lolite()" onClick="logVariable('codecount')" href="../../../../_variables/codecount.html">$codecount</a>++;
<a name="l472"><span class="linenum"> 472</span></a>              }
<a name="l473"><span class="linenum"> 473</span></a>          }
<a name="l474"><span class="linenum"> 474</span></a>          if (<a class="var it425" onMouseOver="hilite(425)" onMouseOut="lolite()" onClick="logVariable('codecount')" href="../../../../_variables/codecount.html">$codecount</a> == <a class="var it410" onMouseOver="hilite(410)" onMouseOut="lolite()" onClick="logVariable('deco_len')" href="../../../../_variables/deco_len.html">$deco_len</a>) return <a class="var it406" onMouseOver="hilite(406)" onMouseOut="lolite()" onClick="logVariable('encoded')" href="../../../../_variables/encoded.html">$encoded</a>; <span class="comment">// All codepoints were basic ones</span>
<a name="l475"><span class="linenum"> 475</span></a>  
<a name="l476"><span class="linenum"> 476</span></a>  <span class="comment">        // Start with the prefix; copy it to output</span>
<a name="l477"><span class="linenum"> 477</span></a>          <a class="var it406" onMouseOver="hilite(406)" onMouseOut="lolite()" onClick="logVariable('encoded')" href="../../../../_variables/encoded.html">$encoded</a> = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_punycode_prefix')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_punycode_prefix.html">_punycode_prefix</a>.<a class="var it406" onMouseOver="hilite(406)" onMouseOut="lolite()" onClick="logVariable('encoded')" href="../../../../_variables/encoded.html">$encoded</a>;
<a name="l478"><span class="linenum"> 478</span></a>  
<a name="l479"><span class="linenum"> 479</span></a>  <span class="comment">        // If we have basic code points in output, add an hyphen to the end</span>
<a name="l480"><span class="linenum"> 480</span></a>          if (<a class="var it425" onMouseOver="hilite(425)" onMouseOut="lolite()" onClick="logVariable('codecount')" href="../../../../_variables/codecount.html">$codecount</a>) <a class="var it406" onMouseOver="hilite(406)" onMouseOut="lolite()" onClick="logVariable('encoded')" href="../../../../_variables/encoded.html">$encoded</a> .= '-';
<a name="l481"><span class="linenum"> 481</span></a>  
<a name="l482"><span class="linenum"> 482</span></a>  <span class="comment">        // Now find and encode all non-basic code points</span>
<a name="l483"><span class="linenum"> 483</span></a>          <a class="var it412" onMouseOver="hilite(412)" onMouseOut="lolite()" onClick="logVariable('is_first')" href="../../../../_variables/is_first.html">$is_first</a>  = true;
<a name="l484"><span class="linenum"> 484</span></a>          <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('cur_code')" href="../../../../_variables/cur_code.html">$cur_code</a>  = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_initial_n')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_initial_n.html">_initial_n</a>;
<a name="l485"><span class="linenum"> 485</span></a>          <a class="var it413" onMouseOver="hilite(413)" onMouseOut="lolite()" onClick="logVariable('bias')" href="../../../../_variables/bias.html">$bias</a>      = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_initial_bias')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_initial_bias.html">_initial_bias</a>;
<a name="l486"><span class="linenum"> 486</span></a>          <a class="var it428" onMouseOver="hilite(428)" onMouseOut="lolite()" onClick="logVariable('delta')" href="../../../../_variables/delta.html">$delta</a>     = 0;
<a name="l487"><span class="linenum"> 487</span></a>          while (<a class="var it425" onMouseOver="hilite(425)" onMouseOut="lolite()" onClick="logVariable('codecount')" href="../../../../_variables/codecount.html">$codecount</a> &lt; <a class="var it410" onMouseOver="hilite(410)" onMouseOut="lolite()" onClick="logVariable('deco_len')" href="../../../../_variables/deco_len.html">$deco_len</a>) {
<a name="l488"><span class="linenum"> 488</span></a>  <span class="comment">            // Find the smallest code point &gt;= the current code point and</span>
<a name="l489"><span class="linenum"> 489</span></a>  <span class="comment">            // remember the last ouccrence of it in the input</span>
<a name="l490"><span class="linenum"> 490</span></a>              for (<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a> = 0, <a class="var it429" onMouseOver="hilite(429)" onMouseOut="lolite()" onClick="logVariable('next_code')" href="../../../../_variables/next_code.html">$next_code</a> = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_max_ucs')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_max_ucs.html">_max_ucs</a>; <a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a> &lt; <a class="var it410" onMouseOver="hilite(410)" onMouseOut="lolite()" onClick="logVariable('deco_len')" href="../../../../_variables/deco_len.html">$deco_len</a>; <a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>++) {
<a name="l491"><span class="linenum"> 491</span></a>                  if (<a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a>[<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>] &gt;= <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('cur_code')" href="../../../../_variables/cur_code.html">$cur_code</a> &amp;&amp; <a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a>[<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>] &lt;= <a class="var it429" onMouseOver="hilite(429)" onMouseOut="lolite()" onClick="logVariable('next_code')" href="../../../../_variables/next_code.html">$next_code</a>) {
<a name="l492"><span class="linenum"> 492</span></a>                      <a class="var it429" onMouseOver="hilite(429)" onMouseOut="lolite()" onClick="logVariable('next_code')" href="../../../../_variables/next_code.html">$next_code</a> = <a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a>[<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>];
<a name="l493"><span class="linenum"> 493</span></a>                  }
<a name="l494"><span class="linenum"> 494</span></a>              }
<a name="l495"><span class="linenum"> 495</span></a>  
<a name="l496"><span class="linenum"> 496</span></a>              <a class="var it428" onMouseOver="hilite(428)" onMouseOut="lolite()" onClick="logVariable('delta')" href="../../../../_variables/delta.html">$delta</a> += (<a class="var it429" onMouseOver="hilite(429)" onMouseOut="lolite()" onClick="logVariable('next_code')" href="../../../../_variables/next_code.html">$next_code</a> - <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('cur_code')" href="../../../../_variables/cur_code.html">$cur_code</a>) * (<a class="var it425" onMouseOver="hilite(425)" onMouseOut="lolite()" onClick="logVariable('codecount')" href="../../../../_variables/codecount.html">$codecount</a> + 1);
<a name="l497"><span class="linenum"> 497</span></a>              <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('cur_code')" href="../../../../_variables/cur_code.html">$cur_code</a> = <a class="var it429" onMouseOver="hilite(429)" onMouseOut="lolite()" onClick="logVariable('next_code')" href="../../../../_variables/next_code.html">$next_code</a>;
<a name="l498"><span class="linenum"> 498</span></a>  
<a name="l499"><span class="linenum"> 499</span></a>  <span class="comment">            // Scan input again and encode all characters whose code point is $cur_code</span>
<a name="l500"><span class="linenum"> 500</span></a>              for (<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a> = 0; <a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a> &lt; <a class="var it410" onMouseOver="hilite(410)" onMouseOut="lolite()" onClick="logVariable('deco_len')" href="../../../../_variables/deco_len.html">$deco_len</a>; <a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>++) {
<a name="l501"><span class="linenum"> 501</span></a>                  if (<a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a>[<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>] &lt; <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('cur_code')" href="../../../../_variables/cur_code.html">$cur_code</a>) {
<a name="l502"><span class="linenum"> 502</span></a>                      <a class="var it428" onMouseOver="hilite(428)" onMouseOut="lolite()" onClick="logVariable('delta')" href="../../../../_variables/delta.html">$delta</a>++;
<a name="l503"><span class="linenum"> 503</span></a>                  } elseif (<a class="var it404" onMouseOver="hilite(404)" onMouseOut="lolite()" onClick="logVariable('decoded')" href="../../../../_variables/decoded.html">$decoded</a>[<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>] == <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('cur_code')" href="../../../../_variables/cur_code.html">$cur_code</a>) {
<a name="l504"><span class="linenum"> 504</span></a>                      for (<a class="var it430" onMouseOver="hilite(430)" onMouseOut="lolite()" onClick="logVariable('q')" href="../../../../_variables/q.html">$q</a> = <a class="var it428" onMouseOver="hilite(428)" onMouseOut="lolite()" onClick="logVariable('delta')" href="../../../../_variables/delta.html">$delta</a>, <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a> = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_base')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_base.html">_base</a>; 1; <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a> += <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_base')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_base.html">_base</a>) {
<a name="l505"><span class="linenum"> 505</span></a>                          <a class="var it420" onMouseOver="hilite(420)" onMouseOut="lolite()" onClick="logVariable('t')" href="../../../../_variables/t.html">$t</a> = (<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a> &lt;= <a class="var it413" onMouseOver="hilite(413)" onMouseOut="lolite()" onClick="logVariable('bias')" href="../../../../_variables/bias.html">$bias</a>) ? <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_tmin')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_tmin.html">_tmin</a> :
<a name="l506"><span class="linenum"> 506</span></a>                                  ((<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a> &gt;= <a class="var it413" onMouseOver="hilite(413)" onMouseOut="lolite()" onClick="logVariable('bias')" href="../../../../_variables/bias.html">$bias</a> + <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_tmax')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_tmax.html">_tmax</a>) ? <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_tmax')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_tmax.html">_tmax</a> : <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a> - <a class="var it413" onMouseOver="hilite(413)" onMouseOut="lolite()" onClick="logVariable('bias')" href="../../../../_variables/bias.html">$bias</a>);
<a name="l507"><span class="linenum"> 507</span></a>                          if (<a class="var it430" onMouseOver="hilite(430)" onMouseOut="lolite()" onClick="logVariable('q')" href="../../../../_variables/q.html">$q</a> &lt; <a class="var it420" onMouseOver="hilite(420)" onMouseOut="lolite()" onClick="logVariable('t')" href="../../../../_variables/t.html">$t</a>) break;
<a name="l508"><span class="linenum"> 508</span></a>                          <a class="var it406" onMouseOver="hilite(406)" onMouseOut="lolite()" onClick="logVariable('encoded')" href="../../../../_variables/encoded.html">$encoded</a> .= <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_encode_digit')" href="../../../../_functions/_encode_digit.html" onMouseOver="funcPopup(event,'_encode_digit')">_encode_digit</a>(<a class="phpfunction" onClick="logFunction('intval')" href="../../../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it420" onMouseOver="hilite(420)" onMouseOut="lolite()" onClick="logVariable('t')" href="../../../../_variables/t.html">$t</a> + ((<a class="var it430" onMouseOver="hilite(430)" onMouseOut="lolite()" onClick="logVariable('q')" href="../../../../_variables/q.html">$q</a> - <a class="var it420" onMouseOver="hilite(420)" onMouseOut="lolite()" onClick="logVariable('t')" href="../../../../_variables/t.html">$t</a>) % (<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_base')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_base.html">_base</a> - <a class="var it420" onMouseOver="hilite(420)" onMouseOut="lolite()" onClick="logVariable('t')" href="../../../../_variables/t.html">$t</a>)))); <span class="comment">//v0.4.5 Changed from ceil() to intval()</span>
<a name="l509"><span class="linenum"> 509</span></a>                          <a class="var it430" onMouseOver="hilite(430)" onMouseOut="lolite()" onClick="logVariable('q')" href="../../../../_variables/q.html">$q</a> = (int) ((<a class="var it430" onMouseOver="hilite(430)" onMouseOut="lolite()" onClick="logVariable('q')" href="../../../../_variables/q.html">$q</a> - <a class="var it420" onMouseOver="hilite(420)" onMouseOut="lolite()" onClick="logVariable('t')" href="../../../../_variables/t.html">$t</a>) / (<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_base')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_base.html">_base</a> - <a class="var it420" onMouseOver="hilite(420)" onMouseOut="lolite()" onClick="logVariable('t')" href="../../../../_variables/t.html">$t</a>));
<a name="l510"><span class="linenum"> 510</span></a>                      }
<a name="l511"><span class="linenum"> 511</span></a>                      <a class="var it406" onMouseOver="hilite(406)" onMouseOut="lolite()" onClick="logVariable('encoded')" href="../../../../_variables/encoded.html">$encoded</a> .= <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_encode_digit')" href="../../../../_functions/_encode_digit.html" onMouseOver="funcPopup(event,'_encode_digit')">_encode_digit</a>(<a class="var it430" onMouseOver="hilite(430)" onMouseOut="lolite()" onClick="logVariable('q')" href="../../../../_variables/q.html">$q</a>);
<a name="l512"><span class="linenum"> 512</span></a>                      <a class="var it413" onMouseOver="hilite(413)" onMouseOut="lolite()" onClick="logVariable('bias')" href="../../../../_variables/bias.html">$bias</a> = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_adapt')" href="../../../../_functions/_adapt.html" onMouseOver="funcPopup(event,'_adapt')">_adapt</a>(<a class="var it428" onMouseOver="hilite(428)" onMouseOut="lolite()" onClick="logVariable('delta')" href="../../../../_variables/delta.html">$delta</a>, <a class="var it425" onMouseOver="hilite(425)" onMouseOut="lolite()" onClick="logVariable('codecount')" href="../../../../_variables/codecount.html">$codecount</a>+1, <a class="var it412" onMouseOver="hilite(412)" onMouseOut="lolite()" onClick="logVariable('is_first')" href="../../../../_variables/is_first.html">$is_first</a>);
<a name="l513"><span class="linenum"> 513</span></a>                      <a class="var it425" onMouseOver="hilite(425)" onMouseOut="lolite()" onClick="logVariable('codecount')" href="../../../../_variables/codecount.html">$codecount</a>++;
<a name="l514"><span class="linenum"> 514</span></a>                      <a class="var it428" onMouseOver="hilite(428)" onMouseOut="lolite()" onClick="logVariable('delta')" href="../../../../_variables/delta.html">$delta</a> = 0;
<a name="l515"><span class="linenum"> 515</span></a>                      <a class="var it412" onMouseOver="hilite(412)" onMouseOut="lolite()" onClick="logVariable('is_first')" href="../../../../_variables/is_first.html">$is_first</a> = false;
<a name="l516"><span class="linenum"> 516</span></a>                  }
<a name="l517"><span class="linenum"> 517</span></a>              }
<a name="l518"><span class="linenum"> 518</span></a>              <a class="var it428" onMouseOver="hilite(428)" onMouseOut="lolite()" onClick="logVariable('delta')" href="../../../../_variables/delta.html">$delta</a>++;
<a name="l519"><span class="linenum"> 519</span></a>              <a class="var it427" onMouseOver="hilite(427)" onMouseOut="lolite()" onClick="logVariable('cur_code')" href="../../../../_variables/cur_code.html">$cur_code</a>++;
<a name="l520"><span class="linenum"> 520</span></a>          }
<a name="l521"><span class="linenum"> 521</span></a>          return <a class="var it406" onMouseOver="hilite(406)" onMouseOut="lolite()" onClick="logVariable('encoded')" href="../../../../_variables/encoded.html">$encoded</a>;
<a name="l522"><span class="linenum"> 522</span></a>      }
<a name="l523"><span class="linenum"> 523</span></a>  
<a name="l524"><span class="linenum"> 524</span></a>      <span class="comment">/**</span>
<a name="l525"><span class="linenum"> 525</span></a>  <span class="comment">     * Adapt the bias according to the current code point and position</span>
<a name="l526"><span class="linenum"> 526</span></a>  <span class="comment">     * @access   private</span>
<a name="l527"><span class="linenum"> 527</span></a>  <span class="comment">     */</span>
<a name="l528"><span class="linenum"> 528</span></a>      function <a class="function" onClick="logFunction('_adapt')" href="../../../../_functions/_adapt.html" onMouseOver="funcPopup(event,'_adapt')">_adapt</a>(<a class="var it428" onMouseOver="hilite(428)" onMouseOut="lolite()" onClick="logVariable('delta')" href="../../../../_variables/delta.html">$delta</a>, <a class="var it431" onMouseOver="hilite(431)" onMouseOut="lolite()" onClick="logVariable('npoints')" href="../../../../_variables/npoints.html">$npoints</a>, <a class="var it412" onMouseOver="hilite(412)" onMouseOut="lolite()" onClick="logVariable('is_first')" href="../../../../_variables/is_first.html">$is_first</a>)
<a name="l529"><span class="linenum"> 529</span></a>      {
<a name="l530"><span class="linenum"> 530</span></a>          <a class="var it428" onMouseOver="hilite(428)" onMouseOut="lolite()" onClick="logVariable('delta')" href="../../../../_variables/delta.html">$delta</a> = <a class="phpfunction" onClick="logFunction('intval')" href="../../../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it412" onMouseOver="hilite(412)" onMouseOut="lolite()" onClick="logVariable('is_first')" href="../../../../_variables/is_first.html">$is_first</a> ? (<a class="var it428" onMouseOver="hilite(428)" onMouseOut="lolite()" onClick="logVariable('delta')" href="../../../../_variables/delta.html">$delta</a> / <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_damp')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_damp.html">_damp</a>) : (<a class="var it428" onMouseOver="hilite(428)" onMouseOut="lolite()" onClick="logVariable('delta')" href="../../../../_variables/delta.html">$delta</a> / 2));
<a name="l531"><span class="linenum"> 531</span></a>          <a class="var it428" onMouseOver="hilite(428)" onMouseOut="lolite()" onClick="logVariable('delta')" href="../../../../_variables/delta.html">$delta</a> += <a class="phpfunction" onClick="logFunction('intval')" href="../../../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it428" onMouseOver="hilite(428)" onMouseOut="lolite()" onClick="logVariable('delta')" href="../../../../_variables/delta.html">$delta</a> / <a class="var it431" onMouseOver="hilite(431)" onMouseOut="lolite()" onClick="logVariable('npoints')" href="../../../../_variables/npoints.html">$npoints</a>);
<a name="l532"><span class="linenum"> 532</span></a>          for (<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a> = 0; <a class="var it428" onMouseOver="hilite(428)" onMouseOut="lolite()" onClick="logVariable('delta')" href="../../../../_variables/delta.html">$delta</a> &gt; ((<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_base')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_base.html">_base</a> - <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_tmin')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_tmin.html">_tmin</a>) * <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_tmax')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_tmax.html">_tmax</a>) / 2; <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a> += <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_base')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_base.html">_base</a>) {
<a name="l533"><span class="linenum"> 533</span></a>              <a class="var it428" onMouseOver="hilite(428)" onMouseOut="lolite()" onClick="logVariable('delta')" href="../../../../_variables/delta.html">$delta</a> = <a class="phpfunction" onClick="logFunction('intval')" href="../../../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it428" onMouseOver="hilite(428)" onMouseOut="lolite()" onClick="logVariable('delta')" href="../../../../_variables/delta.html">$delta</a> / (<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_base')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_base.html">_base</a> - <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_tmin')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_tmin.html">_tmin</a>));
<a name="l534"><span class="linenum"> 534</span></a>          }
<a name="l535"><span class="linenum"> 535</span></a>          return <a class="phpfunction" onClick="logFunction('intval')" href="../../../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a> + (<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_base')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_base.html">_base</a> - <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_tmin')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_tmin.html">_tmin</a> + 1) * <a class="var it428" onMouseOver="hilite(428)" onMouseOut="lolite()" onClick="logVariable('delta')" href="../../../../_variables/delta.html">$delta</a> / (<a class="var it428" onMouseOver="hilite(428)" onMouseOut="lolite()" onClick="logVariable('delta')" href="../../../../_variables/delta.html">$delta</a> + <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_skew')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_skew.html">_skew</a>));
<a name="l536"><span class="linenum"> 536</span></a>      }
<a name="l537"><span class="linenum"> 537</span></a>  
<a name="l538"><span class="linenum"> 538</span></a>      <span class="comment">/**</span>
<a name="l539"><span class="linenum"> 539</span></a>  <span class="comment">     * Encoding a certain digit</span>
<a name="l540"><span class="linenum"> 540</span></a>  <span class="comment">     * @access   private</span>
<a name="l541"><span class="linenum"> 541</span></a>  <span class="comment">     */</span>
<a name="l542"><span class="linenum"> 542</span></a>      function <a class="function" onClick="logFunction('_encode_digit')" href="../../../../_functions/_encode_digit.html" onMouseOver="funcPopup(event,'_encode_digit')">_encode_digit</a>(<a class="var it432" onMouseOver="hilite(432)" onMouseOut="lolite()" onClick="logVariable('d')" href="../../../../_variables/d.html">$d</a>)
<a name="l543"><span class="linenum"> 543</span></a>      {
<a name="l544"><span class="linenum"> 544</span></a>          return <a class="phpfunction" onClick="logFunction('chr')" href="../../../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(<a class="var it432" onMouseOver="hilite(432)" onMouseOut="lolite()" onClick="logVariable('d')" href="../../../../_variables/d.html">$d</a> + 22 + 75 * (<a class="var it432" onMouseOver="hilite(432)" onMouseOut="lolite()" onClick="logVariable('d')" href="../../../../_variables/d.html">$d</a> &lt; 26));
<a name="l545"><span class="linenum"> 545</span></a>      }
<a name="l546"><span class="linenum"> 546</span></a>  
<a name="l547"><span class="linenum"> 547</span></a>      <span class="comment">/**</span>
<a name="l548"><span class="linenum"> 548</span></a>  <span class="comment">     * Decode a certain digit</span>
<a name="l549"><span class="linenum"> 549</span></a>  <span class="comment">     * @access   private</span>
<a name="l550"><span class="linenum"> 550</span></a>  <span class="comment">     */</span>
<a name="l551"><span class="linenum"> 551</span></a>      function <a class="function" onClick="logFunction('_decode_digit')" href="../../../../_functions/_decode_digit.html" onMouseOver="funcPopup(event,'_decode_digit')">_decode_digit</a>(<a class="var it433" onMouseOver="hilite(433)" onMouseOut="lolite()" onClick="logVariable('cp')" href="../../../../_variables/cp.html">$cp</a>)
<a name="l552"><span class="linenum"> 552</span></a>      {
<a name="l553"><span class="linenum"> 553</span></a>          <a class="var it433" onMouseOver="hilite(433)" onMouseOut="lolite()" onClick="logVariable('cp')" href="../../../../_variables/cp.html">$cp</a> = <a class="phpfunction" onClick="logFunction('ord')" href="../../../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>(<a class="var it433" onMouseOver="hilite(433)" onMouseOut="lolite()" onClick="logVariable('cp')" href="../../../../_variables/cp.html">$cp</a>);
<a name="l554"><span class="linenum"> 554</span></a>          return (<a class="var it433" onMouseOver="hilite(433)" onMouseOut="lolite()" onClick="logVariable('cp')" href="../../../../_variables/cp.html">$cp</a> - 48 &lt; 10) ? <a class="var it433" onMouseOver="hilite(433)" onMouseOut="lolite()" onClick="logVariable('cp')" href="../../../../_variables/cp.html">$cp</a> - 22 : ((<a class="var it433" onMouseOver="hilite(433)" onMouseOut="lolite()" onClick="logVariable('cp')" href="../../../../_variables/cp.html">$cp</a> - 65 &lt; 26) ? <a class="var it433" onMouseOver="hilite(433)" onMouseOut="lolite()" onClick="logVariable('cp')" href="../../../../_variables/cp.html">$cp</a> - 65 : ((<a class="var it433" onMouseOver="hilite(433)" onMouseOut="lolite()" onClick="logVariable('cp')" href="../../../../_variables/cp.html">$cp</a> - 97 &lt; 26) ? <a class="var it433" onMouseOver="hilite(433)" onMouseOut="lolite()" onClick="logVariable('cp')" href="../../../../_variables/cp.html">$cp</a> - 97 : <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_base')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_base.html">_base</a>));
<a name="l555"><span class="linenum"> 555</span></a>      }
<a name="l556"><span class="linenum"> 556</span></a>  
<a name="l557"><span class="linenum"> 557</span></a>      <span class="comment">/**</span>
<a name="l558"><span class="linenum"> 558</span></a>  <span class="comment">     * Internal error handling method</span>
<a name="l559"><span class="linenum"> 559</span></a>  <span class="comment">     * @access   private</span>
<a name="l560"><span class="linenum"> 560</span></a>  <span class="comment">     */</span>
<a name="l561"><span class="linenum"> 561</span></a>      function <a class="function" onClick="logFunction('_error')" href="../../../../_functions/_error.html" onMouseOver="funcPopup(event,'_error')">_error</a>(<a class="var it434" onMouseOver="hilite(434)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../../../_variables/error.html">$error</a> = '')
<a name="l562"><span class="linenum"> 562</span></a>      {
<a name="l563"><span class="linenum"> 563</span></a>          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_error')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_error.html">_error</a> = <a class="var it434" onMouseOver="hilite(434)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../../../_variables/error.html">$error</a>;
<a name="l564"><span class="linenum"> 564</span></a>      }
<a name="l565"><span class="linenum"> 565</span></a>  
<a name="l566"><span class="linenum"> 566</span></a>      <span class="comment">/**</span>
<a name="l567"><span class="linenum"> 567</span></a>  <span class="comment">     * Do Nameprep according to RFC3491 and RFC3454</span>
<a name="l568"><span class="linenum"> 568</span></a>  <span class="comment">     * @param    array    Unicode Characters</span>
<a name="l569"><span class="linenum"> 569</span></a>  <span class="comment">     * @return   string   Unicode Characters, Nameprep'd</span>
<a name="l570"><span class="linenum"> 570</span></a>  <span class="comment">     * @access   private</span>
<a name="l571"><span class="linenum"> 571</span></a>  <span class="comment">     */</span>
<a name="l572"><span class="linenum"> 572</span></a>      function <a class="function" onClick="logFunction('_nameprep')" href="../../../../_functions/_nameprep.html" onMouseOver="funcPopup(event,'_nameprep')">_nameprep</a>(<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>)
<a name="l573"><span class="linenum"> 573</span></a>      {
<a name="l574"><span class="linenum"> 574</span></a>          <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> = array();
<a name="l575"><span class="linenum"> 575</span></a>          <a class="var it434" onMouseOver="hilite(434)" onMouseOut="lolite()" onClick="logVariable('error')" href="../../../../_variables/error.html">$error</a> = false;
<a name="l576"><span class="linenum"> 576</span></a>  <span class="comment">        //</span>
<a name="l577"><span class="linenum"> 577</span></a>  <span class="comment">        // Mapping</span>
<a name="l578"><span class="linenum"> 578</span></a>  <span class="comment">        // Walking through the input array, performing the required steps on each of</span>
<a name="l579"><span class="linenum"> 579</span></a>  <span class="comment">        // the input chars and putting the result into the output array</span>
<a name="l580"><span class="linenum"> 580</span></a>  <span class="comment">        // While mapping required chars we apply the cannonical ordering</span>
<a name="l581"><span class="linenum"> 581</span></a>          foreach (<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a> as <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>) {
<a name="l582"><span class="linenum"> 582</span></a>  <span class="comment">            // Map to nothing == skip that code point</span>
<a name="l583"><span class="linenum"> 583</span></a>              if (<a class="phpfunction" onClick="logFunction('in_array')" href="../../../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>, <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('NP')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/NP.html">NP</a>['map_nothing'])) continue;
<a name="l584"><span class="linenum"> 584</span></a>  
<a name="l585"><span class="linenum"> 585</span></a>  <span class="comment">            // Try to find prohibited input</span>
<a name="l586"><span class="linenum"> 586</span></a>              if (<a class="phpfunction" onClick="logFunction('in_array')" href="../../../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>, <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('NP')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/NP.html">NP</a>['prohibit']) || <a class="phpfunction" onClick="logFunction('in_array')" href="../../../../_functions/in_array.html" onMouseOver="phpfuncPopup(event,'in_array')">in_array</a>(<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>, <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('NP')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/NP.html">NP</a>['general_prohibited'])) {
<a name="l587"><span class="linenum"> 587</span></a>                  <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_error')" href="../../../../_functions/_error.html" onMouseOver="funcPopup(event,'_error')">_error</a>('NAMEPREP: Prohibited input U+'.sprintf('%08X', <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>));
<a name="l588"><span class="linenum"> 588</span></a>                  return false;
<a name="l589"><span class="linenum"> 589</span></a>              }
<a name="l590"><span class="linenum"> 590</span></a>              foreach (<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('NP')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/NP.html">NP</a>['prohibit_ranges'] as <a class="var it436" onMouseOver="hilite(436)" onMouseOut="lolite()" onClick="logVariable('range')" href="../../../../_variables/range.html">$range</a>) {
<a name="l591"><span class="linenum"> 591</span></a>                  if (<a class="var it436" onMouseOver="hilite(436)" onMouseOut="lolite()" onClick="logVariable('range')" href="../../../../_variables/range.html">$range</a>[0] &lt;= <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &amp;&amp; <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &lt;= <a class="var it436" onMouseOver="hilite(436)" onMouseOut="lolite()" onClick="logVariable('range')" href="../../../../_variables/range.html">$range</a>[1]) {
<a name="l592"><span class="linenum"> 592</span></a>                      <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_error')" href="../../../../_functions/_error.html" onMouseOver="funcPopup(event,'_error')">_error</a>('NAMEPREP: Prohibited input U+'.sprintf('%08X', <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>));
<a name="l593"><span class="linenum"> 593</span></a>                      return false;
<a name="l594"><span class="linenum"> 594</span></a>                  }
<a name="l595"><span class="linenum"> 595</span></a>              }
<a name="l596"><span class="linenum"> 596</span></a>  <span class="comment">            //</span>
<a name="l597"><span class="linenum"> 597</span></a>  <span class="comment">            // Hangul syllable decomposition</span>
<a name="l598"><span class="linenum"> 598</span></a>              if (0xAC00 &lt;= <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &amp;&amp; <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &lt;= 0xD7AF) {
<a name="l599"><span class="linenum"> 599</span></a>                  foreach (<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_hangul_decompose')" href="../../../../_functions/_hangul_decompose.html" onMouseOver="funcPopup(event,'_hangul_decompose')">_hangul_decompose</a>(<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>) as <a class="var it437" onMouseOver="hilite(437)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../../../_variables/out.html">$out</a>) {
<a name="l600"><span class="linenum"> 600</span></a>                      <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>[] = (int) <a class="var it437" onMouseOver="hilite(437)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../../../_variables/out.html">$out</a>;
<a name="l601"><span class="linenum"> 601</span></a>                  }
<a name="l602"><span class="linenum"> 602</span></a>  <span class="comment">            // There's a decomposition mapping for that code point</span>
<a name="l603"><span class="linenum"> 603</span></a>              } elseif (isset(<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('NP')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/NP.html">NP</a>['replacemaps'][<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>])) {
<a name="l604"><span class="linenum"> 604</span></a>                  foreach (<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_apply_cannonical_ordering')" href="../../../../_functions/_apply_cannonical_ordering.html" onMouseOver="funcPopup(event,'_apply_cannonical_ordering')">_apply_cannonical_ordering</a>(<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('NP')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/NP.html">NP</a>['replacemaps'][<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>]) as <a class="var it437" onMouseOver="hilite(437)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../../../_variables/out.html">$out</a>) {
<a name="l605"><span class="linenum"> 605</span></a>                      <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>[] = (int) <a class="var it437" onMouseOver="hilite(437)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../../../_variables/out.html">$out</a>;
<a name="l606"><span class="linenum"> 606</span></a>                  }
<a name="l607"><span class="linenum"> 607</span></a>              } else {
<a name="l608"><span class="linenum"> 608</span></a>                  <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>[] = (int) <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>;
<a name="l609"><span class="linenum"> 609</span></a>              }
<a name="l610"><span class="linenum"> 610</span></a>          }
<a name="l611"><span class="linenum"> 611</span></a>  <span class="comment">        // Before applying any Combining, try to rearrange any Hangul syllables</span>
<a name="l612"><span class="linenum"> 612</span></a>          <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_hangul_compose')" href="../../../../_functions/_hangul_compose.html" onMouseOver="funcPopup(event,'_hangul_compose')">_hangul_compose</a>(<a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>);
<a name="l613"><span class="linenum"> 613</span></a>  <span class="comment">        //</span>
<a name="l614"><span class="linenum"> 614</span></a>  <span class="comment">        // Combine code points</span>
<a name="l615"><span class="linenum"> 615</span></a>  <span class="comment">        //</span>
<a name="l616"><span class="linenum"> 616</span></a>          <a class="var it438" onMouseOver="hilite(438)" onMouseOut="lolite()" onClick="logVariable('last_class')" href="../../../../_variables/last_class.html">$last_class</a>   = 0;
<a name="l617"><span class="linenum"> 617</span></a>          <a class="var it439" onMouseOver="hilite(439)" onMouseOut="lolite()" onClick="logVariable('last_starter')" href="../../../../_variables/last_starter.html">$last_starter</a> = 0;
<a name="l618"><span class="linenum"> 618</span></a>          <a class="var it440" onMouseOver="hilite(440)" onMouseOut="lolite()" onClick="logVariable('out_len')" href="../../../../_variables/out_len.html">$out_len</a>      = <a class="phpfunction" onClick="logFunction('count')" href="../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>);
<a name="l619"><span class="linenum"> 619</span></a>          for (<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a> = 0; <a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a> &lt; <a class="var it440" onMouseOver="hilite(440)" onMouseOut="lolite()" onClick="logVariable('out_len')" href="../../../../_variables/out_len.html">$out_len</a>; ++<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>) {
<a name="l620"><span class="linenum"> 620</span></a>              <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../../../_variables/class.html">$class</a> = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_get_combining_class')" href="../../../../_functions/_get_combining_class.html" onMouseOver="funcPopup(event,'_get_combining_class')">_get_combining_class</a>(<a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>[<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>]);
<a name="l621"><span class="linenum"> 621</span></a>              if ((!<a class="var it438" onMouseOver="hilite(438)" onMouseOut="lolite()" onClick="logVariable('last_class')" href="../../../../_variables/last_class.html">$last_class</a> || <a class="var it438" onMouseOver="hilite(438)" onMouseOut="lolite()" onClick="logVariable('last_class')" href="../../../../_variables/last_class.html">$last_class</a> &gt; <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../../../_variables/class.html">$class</a>) &amp;&amp; <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../../../_variables/class.html">$class</a>) {
<a name="l622"><span class="linenum"> 622</span></a>  <span class="comment">                // Try to match</span>
<a name="l623"><span class="linenum"> 623</span></a>                  <a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('seq_len')" href="../../../../_variables/seq_len.html">$seq_len</a> = <a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a> - <a class="var it439" onMouseOver="hilite(439)" onMouseOut="lolite()" onClick="logVariable('last_starter')" href="../../../../_variables/last_starter.html">$last_starter</a>;
<a name="l624"><span class="linenum"> 624</span></a>                  <a class="var it437" onMouseOver="hilite(437)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../../../_variables/out.html">$out</a> = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_combine')" href="../../../../_functions/_combine.html" onMouseOver="funcPopup(event,'_combine')">_combine</a>(<a class="phpfunction" onClick="logFunction('array_slice')" href="../../../../_functions/array_slice.html" onMouseOver="phpfuncPopup(event,'array_slice')">array_slice</a>(<a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>, <a class="var it439" onMouseOver="hilite(439)" onMouseOut="lolite()" onClick="logVariable('last_starter')" href="../../../../_variables/last_starter.html">$last_starter</a>, <a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('seq_len')" href="../../../../_variables/seq_len.html">$seq_len</a>));
<a name="l625"><span class="linenum"> 625</span></a>  <span class="comment">                // On match: Replace the last starter with the composed character and remove</span>
<a name="l626"><span class="linenum"> 626</span></a>  <span class="comment">                // the now redundant non-starter(s)</span>
<a name="l627"><span class="linenum"> 627</span></a>                  if (<a class="var it437" onMouseOver="hilite(437)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../../../_variables/out.html">$out</a>) {
<a name="l628"><span class="linenum"> 628</span></a>                      <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>[<a class="var it439" onMouseOver="hilite(439)" onMouseOut="lolite()" onClick="logVariable('last_starter')" href="../../../../_variables/last_starter.html">$last_starter</a>] = <a class="var it437" onMouseOver="hilite(437)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../../../_variables/out.html">$out</a>;
<a name="l629"><span class="linenum"> 629</span></a>                      if (<a class="phpfunction" onClick="logFunction('count')" href="../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it437" onMouseOver="hilite(437)" onMouseOut="lolite()" onClick="logVariable('out')" href="../../../../_variables/out.html">$out</a>) != <a class="var it441" onMouseOver="hilite(441)" onMouseOut="lolite()" onClick="logVariable('seq_len')" href="../../../../_variables/seq_len.html">$seq_len</a>) {
<a name="l630"><span class="linenum"> 630</span></a>                          for (<a class="var it442" onMouseOver="hilite(442)" onMouseOut="lolite()" onClick="logVariable('j')" href="../../../../_variables/j.html">$j</a> = <a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>+1; <a class="var it442" onMouseOver="hilite(442)" onMouseOut="lolite()" onClick="logVariable('j')" href="../../../../_variables/j.html">$j</a> &lt; <a class="var it440" onMouseOver="hilite(440)" onMouseOut="lolite()" onClick="logVariable('out_len')" href="../../../../_variables/out_len.html">$out_len</a>; ++<a class="var it442" onMouseOver="hilite(442)" onMouseOut="lolite()" onClick="logVariable('j')" href="../../../../_variables/j.html">$j</a>) {
<a name="l631"><span class="linenum"> 631</span></a>                              <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>[<a class="var it442" onMouseOver="hilite(442)" onMouseOut="lolite()" onClick="logVariable('j')" href="../../../../_variables/j.html">$j</a>-1] = <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>[<a class="var it442" onMouseOver="hilite(442)" onMouseOut="lolite()" onClick="logVariable('j')" href="../../../../_variables/j.html">$j</a>];
<a name="l632"><span class="linenum"> 632</span></a>                          }
<a name="l633"><span class="linenum"> 633</span></a>                          unset(<a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>[<a class="var it440" onMouseOver="hilite(440)" onMouseOut="lolite()" onClick="logVariable('out_len')" href="../../../../_variables/out_len.html">$out_len</a>]);
<a name="l634"><span class="linenum"> 634</span></a>                      }
<a name="l635"><span class="linenum"> 635</span></a>  <span class="comment">                    // Rewind the for loop by one, since there can be more possible compositions</span>
<a name="l636"><span class="linenum"> 636</span></a>                      <a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>--;
<a name="l637"><span class="linenum"> 637</span></a>                      <a class="var it440" onMouseOver="hilite(440)" onMouseOut="lolite()" onClick="logVariable('out_len')" href="../../../../_variables/out_len.html">$out_len</a>--;
<a name="l638"><span class="linenum"> 638</span></a>                      <a class="var it438" onMouseOver="hilite(438)" onMouseOut="lolite()" onClick="logVariable('last_class')" href="../../../../_variables/last_class.html">$last_class</a> = (<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a> == <a class="var it439" onMouseOver="hilite(439)" onMouseOut="lolite()" onClick="logVariable('last_starter')" href="../../../../_variables/last_starter.html">$last_starter</a>) ? 0 : <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_get_combining_class')" href="../../../../_functions/_get_combining_class.html" onMouseOver="funcPopup(event,'_get_combining_class')">_get_combining_class</a>(<a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>[<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>-1]);
<a name="l639"><span class="linenum"> 639</span></a>                      continue;
<a name="l640"><span class="linenum"> 640</span></a>                  }
<a name="l641"><span class="linenum"> 641</span></a>              }
<a name="l642"><span class="linenum"> 642</span></a>  <span class="comment">            // The current class is 0</span>
<a name="l643"><span class="linenum"> 643</span></a>              if (!<a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../../../_variables/class.html">$class</a>) <a class="var it439" onMouseOver="hilite(439)" onMouseOut="lolite()" onClick="logVariable('last_starter')" href="../../../../_variables/last_starter.html">$last_starter</a> = <a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>;
<a name="l644"><span class="linenum"> 644</span></a>              <a class="var it438" onMouseOver="hilite(438)" onMouseOut="lolite()" onClick="logVariable('last_class')" href="../../../../_variables/last_class.html">$last_class</a> = <a class="var it89" onMouseOver="hilite(89)" onMouseOut="lolite()" onClick="logVariable('class')" href="../../../../_variables/class.html">$class</a>;
<a name="l645"><span class="linenum"> 645</span></a>          }
<a name="l646"><span class="linenum"> 646</span></a>          return <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>;
<a name="l647"><span class="linenum"> 647</span></a>      }
<a name="l648"><span class="linenum"> 648</span></a>  
<a name="l649"><span class="linenum"> 649</span></a>      <span class="comment">/**</span>
<a name="l650"><span class="linenum"> 650</span></a>  <span class="comment">     * Decomposes a Hangul syllable</span>
<a name="l651"><span class="linenum"> 651</span></a>  <span class="comment">     * (see http://www.unicode.org/unicode/reports/tr15/#Hangul</span>
<a name="l652"><span class="linenum"> 652</span></a>  <span class="comment">     * @param    integer  32bit UCS4 code point</span>
<a name="l653"><span class="linenum"> 653</span></a>  <span class="comment">     * @return   array    Either Hangul Syllable decomposed or original 32bit value as one value array</span>
<a name="l654"><span class="linenum"> 654</span></a>  <span class="comment">     * @access   private</span>
<a name="l655"><span class="linenum"> 655</span></a>  <span class="comment">     */</span>
<a name="l656"><span class="linenum"> 656</span></a>      function <a class="function" onClick="logFunction('_hangul_decompose')" href="../../../../_functions/_hangul_decompose.html" onMouseOver="funcPopup(event,'_hangul_decompose')">_hangul_decompose</a>(<a class="var it415" onMouseOver="hilite(415)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../../../_variables/char.html">$char</a>)
<a name="l657"><span class="linenum"> 657</span></a>      {
<a name="l658"><span class="linenum"> 658</span></a>          <a class="var it443" onMouseOver="hilite(443)" onMouseOut="lolite()" onClick="logVariable('sindex')" href="../../../../_variables/sindex.html">$sindex</a> = (int) <a class="var it415" onMouseOver="hilite(415)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../../../_variables/char.html">$char</a> - <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_sbase')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_sbase.html">_sbase</a>;
<a name="l659"><span class="linenum"> 659</span></a>          if (<a class="var it443" onMouseOver="hilite(443)" onMouseOut="lolite()" onClick="logVariable('sindex')" href="../../../../_variables/sindex.html">$sindex</a> &lt; 0 || <a class="var it443" onMouseOver="hilite(443)" onMouseOut="lolite()" onClick="logVariable('sindex')" href="../../../../_variables/sindex.html">$sindex</a> &gt;= <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_scount')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_scount.html">_scount</a>) {
<a name="l660"><span class="linenum"> 660</span></a>              return array(<a class="var it415" onMouseOver="hilite(415)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../../../_variables/char.html">$char</a>);
<a name="l661"><span class="linenum"> 661</span></a>          }
<a name="l662"><span class="linenum"> 662</span></a>          <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a> = array();
<a name="l663"><span class="linenum"> 663</span></a>          <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>[] = (int) <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_lbase')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_lbase.html">_lbase</a> + <a class="var it443" onMouseOver="hilite(443)" onMouseOut="lolite()" onClick="logVariable('sindex')" href="../../../../_variables/sindex.html">$sindex</a> / <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_ncount')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_ncount.html">_ncount</a>;
<a name="l664"><span class="linenum"> 664</span></a>          <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>[] = (int) <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_vbase')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_vbase.html">_vbase</a> + (<a class="var it443" onMouseOver="hilite(443)" onMouseOut="lolite()" onClick="logVariable('sindex')" href="../../../../_variables/sindex.html">$sindex</a> % <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_ncount')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_ncount.html">_ncount</a>) / <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_tcount')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_tcount.html">_tcount</a>;
<a name="l665"><span class="linenum"> 665</span></a>          <a class="var it444" onMouseOver="hilite(444)" onMouseOut="lolite()" onClick="logVariable('T')" href="../../../../_variables/T.html">$T</a> = <a class="phpfunction" onClick="logFunction('intval')" href="../../../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_tbase')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_tbase.html">_tbase</a> + <a class="var it443" onMouseOver="hilite(443)" onMouseOut="lolite()" onClick="logVariable('sindex')" href="../../../../_variables/sindex.html">$sindex</a> % <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_tcount')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_tcount.html">_tcount</a>);
<a name="l666"><span class="linenum"> 666</span></a>          if (<a class="var it444" onMouseOver="hilite(444)" onMouseOut="lolite()" onClick="logVariable('T')" href="../../../../_variables/T.html">$T</a> != <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_tbase')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_tbase.html">_tbase</a>) <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>[] = <a class="var it444" onMouseOver="hilite(444)" onMouseOut="lolite()" onClick="logVariable('T')" href="../../../../_variables/T.html">$T</a>;
<a name="l667"><span class="linenum"> 667</span></a>          return <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>;
<a name="l668"><span class="linenum"> 668</span></a>      }
<a name="l669"><span class="linenum"> 669</span></a>      <span class="comment">/**</span>
<a name="l670"><span class="linenum"> 670</span></a>  <span class="comment">     * Ccomposes a Hangul syllable</span>
<a name="l671"><span class="linenum"> 671</span></a>  <span class="comment">     * (see http://www.unicode.org/unicode/reports/tr15/#Hangul</span>
<a name="l672"><span class="linenum"> 672</span></a>  <span class="comment">     * @param    array    Decomposed UCS4 sequence</span>
<a name="l673"><span class="linenum"> 673</span></a>  <span class="comment">     * @return   array    UCS4 sequence with syllables composed</span>
<a name="l674"><span class="linenum"> 674</span></a>  <span class="comment">     * @access   private</span>
<a name="l675"><span class="linenum"> 675</span></a>  <span class="comment">     */</span>
<a name="l676"><span class="linenum"> 676</span></a>      function <a class="function" onClick="logFunction('_hangul_compose')" href="../../../../_functions/_hangul_compose.html" onMouseOver="funcPopup(event,'_hangul_compose')">_hangul_compose</a>(<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>)
<a name="l677"><span class="linenum"> 677</span></a>      {
<a name="l678"><span class="linenum"> 678</span></a>          <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('inp_len')" href="../../../../_variables/inp_len.html">$inp_len</a> = <a class="phpfunction" onClick="logFunction('count')" href="../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>);
<a name="l679"><span class="linenum"> 679</span></a>          if (!<a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('inp_len')" href="../../../../_variables/inp_len.html">$inp_len</a>) return array();
<a name="l680"><span class="linenum"> 680</span></a>          <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a> = array();
<a name="l681"><span class="linenum"> 681</span></a>          <a class="var it445" onMouseOver="hilite(445)" onMouseOut="lolite()" onClick="logVariable('last')" href="../../../../_variables/last.html">$last</a> = (int) <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>[0];
<a name="l682"><span class="linenum"> 682</span></a>          <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>[] = <a class="var it445" onMouseOver="hilite(445)" onMouseOut="lolite()" onClick="logVariable('last')" href="../../../../_variables/last.html">$last</a>; <span class="comment">// copy first char from input to output</span>
<a name="l683"><span class="linenum"> 683</span></a>  
<a name="l684"><span class="linenum"> 684</span></a>          for (<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a> = 1; <a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a> &lt; <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('inp_len')" href="../../../../_variables/inp_len.html">$inp_len</a>; ++<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>) {
<a name="l685"><span class="linenum"> 685</span></a>              <a class="var it415" onMouseOver="hilite(415)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../../../_variables/char.html">$char</a> = (int) <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>[<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>];
<a name="l686"><span class="linenum"> 686</span></a>              <a class="var it443" onMouseOver="hilite(443)" onMouseOut="lolite()" onClick="logVariable('sindex')" href="../../../../_variables/sindex.html">$sindex</a> = <a class="var it445" onMouseOver="hilite(445)" onMouseOut="lolite()" onClick="logVariable('last')" href="../../../../_variables/last.html">$last</a> - <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_sbase')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_sbase.html">_sbase</a>;
<a name="l687"><span class="linenum"> 687</span></a>              <a class="var it446" onMouseOver="hilite(446)" onMouseOut="lolite()" onClick="logVariable('lindex')" href="../../../../_variables/lindex.html">$lindex</a> = <a class="var it445" onMouseOver="hilite(445)" onMouseOut="lolite()" onClick="logVariable('last')" href="../../../../_variables/last.html">$last</a> - <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_lbase')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_lbase.html">_lbase</a>;
<a name="l688"><span class="linenum"> 688</span></a>              <a class="var it447" onMouseOver="hilite(447)" onMouseOut="lolite()" onClick="logVariable('vindex')" href="../../../../_variables/vindex.html">$vindex</a> = <a class="var it415" onMouseOver="hilite(415)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../../../_variables/char.html">$char</a> - <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_vbase')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_vbase.html">_vbase</a>;
<a name="l689"><span class="linenum"> 689</span></a>              <a class="var it448" onMouseOver="hilite(448)" onMouseOut="lolite()" onClick="logVariable('tindex')" href="../../../../_variables/tindex.html">$tindex</a> = <a class="var it415" onMouseOver="hilite(415)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../../../_variables/char.html">$char</a> - <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_tbase')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_tbase.html">_tbase</a>;
<a name="l690"><span class="linenum"> 690</span></a>  <span class="comment">            // Find out, whether two current characters are LV and T</span>
<a name="l691"><span class="linenum"> 691</span></a>              if (0 &lt;= <a class="var it443" onMouseOver="hilite(443)" onMouseOut="lolite()" onClick="logVariable('sindex')" href="../../../../_variables/sindex.html">$sindex</a> &amp;&amp; <a class="var it443" onMouseOver="hilite(443)" onMouseOut="lolite()" onClick="logVariable('sindex')" href="../../../../_variables/sindex.html">$sindex</a> &lt; <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_scount')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_scount.html">_scount</a> &amp;&amp; (<a class="var it443" onMouseOver="hilite(443)" onMouseOut="lolite()" onClick="logVariable('sindex')" href="../../../../_variables/sindex.html">$sindex</a> % <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_tcount')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_tcount.html">_tcount</a> == 0)
<a name="l692"><span class="linenum"> 692</span></a>                      &amp;&amp; 0 &lt;= <a class="var it448" onMouseOver="hilite(448)" onMouseOut="lolite()" onClick="logVariable('tindex')" href="../../../../_variables/tindex.html">$tindex</a> &amp;&amp; <a class="var it448" onMouseOver="hilite(448)" onMouseOut="lolite()" onClick="logVariable('tindex')" href="../../../../_variables/tindex.html">$tindex</a> &lt;= <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_tcount')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_tcount.html">_tcount</a>) {
<a name="l693"><span class="linenum"> 693</span></a>  <span class="comment">                // create syllable of form LVT</span>
<a name="l694"><span class="linenum"> 694</span></a>                  <a class="var it445" onMouseOver="hilite(445)" onMouseOut="lolite()" onClick="logVariable('last')" href="../../../../_variables/last.html">$last</a> += <a class="var it448" onMouseOver="hilite(448)" onMouseOut="lolite()" onClick="logVariable('tindex')" href="../../../../_variables/tindex.html">$tindex</a>;
<a name="l695"><span class="linenum"> 695</span></a>                  <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>[(<a class="phpfunction" onClick="logFunction('count')" href="../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>) - 1)] = <a class="var it445" onMouseOver="hilite(445)" onMouseOut="lolite()" onClick="logVariable('last')" href="../../../../_variables/last.html">$last</a>; <span class="comment">// reset last</span>
<a name="l696"><span class="linenum"> 696</span></a>                  continue; <span class="comment">// discard char</span>
<a name="l697"><span class="linenum"> 697</span></a>              }
<a name="l698"><span class="linenum"> 698</span></a>  <span class="comment">            // Find out, whether two current characters form L and V</span>
<a name="l699"><span class="linenum"> 699</span></a>              if (0 &lt;= <a class="var it446" onMouseOver="hilite(446)" onMouseOut="lolite()" onClick="logVariable('lindex')" href="../../../../_variables/lindex.html">$lindex</a> &amp;&amp; <a class="var it446" onMouseOver="hilite(446)" onMouseOut="lolite()" onClick="logVariable('lindex')" href="../../../../_variables/lindex.html">$lindex</a> &lt; <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_lcount')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_lcount.html">_lcount</a> &amp;&amp; 0 &lt;= <a class="var it447" onMouseOver="hilite(447)" onMouseOut="lolite()" onClick="logVariable('vindex')" href="../../../../_variables/vindex.html">$vindex</a> &amp;&amp; <a class="var it447" onMouseOver="hilite(447)" onMouseOut="lolite()" onClick="logVariable('vindex')" href="../../../../_variables/vindex.html">$vindex</a> &lt; <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_vcount')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_vcount.html">_vcount</a>) {
<a name="l700"><span class="linenum"> 700</span></a>  <span class="comment">                // create syllable of form LV</span>
<a name="l701"><span class="linenum"> 701</span></a>                  <a class="var it445" onMouseOver="hilite(445)" onMouseOut="lolite()" onClick="logVariable('last')" href="../../../../_variables/last.html">$last</a> = (int) <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_sbase')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_sbase.html">_sbase</a> + (<a class="var it446" onMouseOver="hilite(446)" onMouseOut="lolite()" onClick="logVariable('lindex')" href="../../../../_variables/lindex.html">$lindex</a> * <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_vcount')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_vcount.html">_vcount</a> + <a class="var it447" onMouseOver="hilite(447)" onMouseOut="lolite()" onClick="logVariable('vindex')" href="../../../../_variables/vindex.html">$vindex</a>) * <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_tcount')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_tcount.html">_tcount</a>;
<a name="l702"><span class="linenum"> 702</span></a>                  <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>[(<a class="phpfunction" onClick="logFunction('count')" href="../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>) - 1)] = <a class="var it445" onMouseOver="hilite(445)" onMouseOut="lolite()" onClick="logVariable('last')" href="../../../../_variables/last.html">$last</a>; <span class="comment">// reset last</span>
<a name="l703"><span class="linenum"> 703</span></a>                  continue; <span class="comment">// discard char</span>
<a name="l704"><span class="linenum"> 704</span></a>              }
<a name="l705"><span class="linenum"> 705</span></a>  <span class="comment">            // if neither case was true, just add the character</span>
<a name="l706"><span class="linenum"> 706</span></a>              <a class="var it445" onMouseOver="hilite(445)" onMouseOut="lolite()" onClick="logVariable('last')" href="../../../../_variables/last.html">$last</a> = <a class="var it415" onMouseOver="hilite(415)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../../../_variables/char.html">$char</a>;
<a name="l707"><span class="linenum"> 707</span></a>              <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>[] = <a class="var it415" onMouseOver="hilite(415)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../../../_variables/char.html">$char</a>;
<a name="l708"><span class="linenum"> 708</span></a>          }
<a name="l709"><span class="linenum"> 709</span></a>          return <a class="var it156" onMouseOver="hilite(156)" onMouseOut="lolite()" onClick="logVariable('result')" href="../../../../_variables/result.html">$result</a>;
<a name="l710"><span class="linenum"> 710</span></a>      }
<a name="l711"><span class="linenum"> 711</span></a>  
<a name="l712"><span class="linenum"> 712</span></a>      <span class="comment">/**</span>
<a name="l713"><span class="linenum"> 713</span></a>  <span class="comment">     * Returns the combining class of a certain wide char</span>
<a name="l714"><span class="linenum"> 714</span></a>  <span class="comment">     * @param    integer    Wide char to check (32bit integer)</span>
<a name="l715"><span class="linenum"> 715</span></a>  <span class="comment">     * @return   integer    Combining class if found, else 0</span>
<a name="l716"><span class="linenum"> 716</span></a>  <span class="comment">     * @access   private</span>
<a name="l717"><span class="linenum"> 717</span></a>  <span class="comment">     */</span>
<a name="l718"><span class="linenum"> 718</span></a>      function <a class="function" onClick="logFunction('_get_combining_class')" href="../../../../_functions/_get_combining_class.html" onMouseOver="funcPopup(event,'_get_combining_class')">_get_combining_class</a>(<a class="var it415" onMouseOver="hilite(415)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../../../_variables/char.html">$char</a>)
<a name="l719"><span class="linenum"> 719</span></a>      {
<a name="l720"><span class="linenum"> 720</span></a>          return isset(<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('NP')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/NP.html">NP</a>['norm_combcls'][<a class="var it415" onMouseOver="hilite(415)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../../../_variables/char.html">$char</a>]) ? <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('NP')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/NP.html">NP</a>['norm_combcls'][<a class="var it415" onMouseOver="hilite(415)" onMouseOut="lolite()" onClick="logVariable('char')" href="../../../../_variables/char.html">$char</a>] : 0;
<a name="l721"><span class="linenum"> 721</span></a>      }
<a name="l722"><span class="linenum"> 722</span></a>  
<a name="l723"><span class="linenum"> 723</span></a>      <span class="comment">/**</span>
<a name="l724"><span class="linenum"> 724</span></a>  <span class="comment">     * Apllies the cannonical ordering of a decomposed UCS4 sequence</span>
<a name="l725"><span class="linenum"> 725</span></a>  <span class="comment">     * @param    array      Decomposed UCS4 sequence</span>
<a name="l726"><span class="linenum"> 726</span></a>  <span class="comment">     * @return   array      Ordered USC4 sequence</span>
<a name="l727"><span class="linenum"> 727</span></a>  <span class="comment">     * @access   private</span>
<a name="l728"><span class="linenum"> 728</span></a>  <span class="comment">     */</span>
<a name="l729"><span class="linenum"> 729</span></a>      function <a class="function" onClick="logFunction('_apply_cannonical_ordering')" href="../../../../_functions/_apply_cannonical_ordering.html" onMouseOver="funcPopup(event,'_apply_cannonical_ordering')">_apply_cannonical_ordering</a>(<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>)
<a name="l730"><span class="linenum"> 730</span></a>      {
<a name="l731"><span class="linenum"> 731</span></a>          <a class="var it449" onMouseOver="hilite(449)" onMouseOut="lolite()" onClick="logVariable('swap')" href="../../../../_variables/swap.html">$swap</a> = true;
<a name="l732"><span class="linenum"> 732</span></a>          <a class="var it450" onMouseOver="hilite(450)" onMouseOut="lolite()" onClick="logVariable('size')" href="../../../../_variables/size.html">$size</a> = <a class="phpfunction" onClick="logFunction('count')" href="../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>);
<a name="l733"><span class="linenum"> 733</span></a>          while (<a class="var it449" onMouseOver="hilite(449)" onMouseOut="lolite()" onClick="logVariable('swap')" href="../../../../_variables/swap.html">$swap</a>) {
<a name="l734"><span class="linenum"> 734</span></a>              <a class="var it449" onMouseOver="hilite(449)" onMouseOut="lolite()" onClick="logVariable('swap')" href="../../../../_variables/swap.html">$swap</a> = false;
<a name="l735"><span class="linenum"> 735</span></a>              <a class="var it445" onMouseOver="hilite(445)" onMouseOut="lolite()" onClick="logVariable('last')" href="../../../../_variables/last.html">$last</a> = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_get_combining_class')" href="../../../../_functions/_get_combining_class.html" onMouseOver="funcPopup(event,'_get_combining_class')">_get_combining_class</a>(<a class="phpfunction" onClick="logFunction('intval')" href="../../../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>[0]));
<a name="l736"><span class="linenum"> 736</span></a>              for (<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a> = 0; <a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a> &lt; <a class="var it450" onMouseOver="hilite(450)" onMouseOut="lolite()" onClick="logVariable('size')" href="../../../../_variables/size.html">$size</a>-1; ++<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>) {
<a name="l737"><span class="linenum"> 737</span></a>                  <a class="var it78" onMouseOver="hilite(78)" onMouseOut="lolite()" onClick="logVariable('next')" href="../../../../_variables/next.html">$next</a> = <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_get_combining_class')" href="../../../../_functions/_get_combining_class.html" onMouseOver="funcPopup(event,'_get_combining_class')">_get_combining_class</a>(<a class="phpfunction" onClick="logFunction('intval')" href="../../../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>[<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>+1]));
<a name="l738"><span class="linenum"> 738</span></a>                  if (<a class="var it78" onMouseOver="hilite(78)" onMouseOut="lolite()" onClick="logVariable('next')" href="../../../../_variables/next.html">$next</a> != 0 &amp;&amp; <a class="var it445" onMouseOver="hilite(445)" onMouseOut="lolite()" onClick="logVariable('last')" href="../../../../_variables/last.html">$last</a> &gt; <a class="var it78" onMouseOver="hilite(78)" onMouseOut="lolite()" onClick="logVariable('next')" href="../../../../_variables/next.html">$next</a>) {
<a name="l739"><span class="linenum"> 739</span></a>  <span class="comment">                    // Move item leftward until it fits</span>
<a name="l740"><span class="linenum"> 740</span></a>                      for (<a class="var it442" onMouseOver="hilite(442)" onMouseOut="lolite()" onClick="logVariable('j')" href="../../../../_variables/j.html">$j</a> = <a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a> + 1; <a class="var it442" onMouseOver="hilite(442)" onMouseOut="lolite()" onClick="logVariable('j')" href="../../../../_variables/j.html">$j</a> &gt; 0; --<a class="var it442" onMouseOver="hilite(442)" onMouseOut="lolite()" onClick="logVariable('j')" href="../../../../_variables/j.html">$j</a>) {
<a name="l741"><span class="linenum"> 741</span></a>                          if (<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_get_combining_class')" href="../../../../_functions/_get_combining_class.html" onMouseOver="funcPopup(event,'_get_combining_class')">_get_combining_class</a>(<a class="phpfunction" onClick="logFunction('intval')" href="../../../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>[<a class="var it442" onMouseOver="hilite(442)" onMouseOut="lolite()" onClick="logVariable('j')" href="../../../../_variables/j.html">$j</a>-1])) &lt;= <a class="var it78" onMouseOver="hilite(78)" onMouseOut="lolite()" onClick="logVariable('next')" href="../../../../_variables/next.html">$next</a>) break;
<a name="l742"><span class="linenum"> 742</span></a>                          <a class="var it420" onMouseOver="hilite(420)" onMouseOut="lolite()" onClick="logVariable('t')" href="../../../../_variables/t.html">$t</a> = <a class="phpfunction" onClick="logFunction('intval')" href="../../../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>[<a class="var it442" onMouseOver="hilite(442)" onMouseOut="lolite()" onClick="logVariable('j')" href="../../../../_variables/j.html">$j</a>]);
<a name="l743"><span class="linenum"> 743</span></a>                          <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>[<a class="var it442" onMouseOver="hilite(442)" onMouseOut="lolite()" onClick="logVariable('j')" href="../../../../_variables/j.html">$j</a>] = <a class="phpfunction" onClick="logFunction('intval')" href="../../../../_functions/intval.html" onMouseOver="phpfuncPopup(event,'intval')">intval</a>(<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>[<a class="var it442" onMouseOver="hilite(442)" onMouseOut="lolite()" onClick="logVariable('j')" href="../../../../_variables/j.html">$j</a>-1]);
<a name="l744"><span class="linenum"> 744</span></a>                          <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>[<a class="var it442" onMouseOver="hilite(442)" onMouseOut="lolite()" onClick="logVariable('j')" href="../../../../_variables/j.html">$j</a>-1] = <a class="var it420" onMouseOver="hilite(420)" onMouseOut="lolite()" onClick="logVariable('t')" href="../../../../_variables/t.html">$t</a>;
<a name="l745"><span class="linenum"> 745</span></a>                          <a class="var it449" onMouseOver="hilite(449)" onMouseOut="lolite()" onClick="logVariable('swap')" href="../../../../_variables/swap.html">$swap</a> = true;
<a name="l746"><span class="linenum"> 746</span></a>                      }
<a name="l747"><span class="linenum"> 747</span></a>  <span class="comment">                    // Reentering the loop looking at the old character again</span>
<a name="l748"><span class="linenum"> 748</span></a>                      <a class="var it78" onMouseOver="hilite(78)" onMouseOut="lolite()" onClick="logVariable('next')" href="../../../../_variables/next.html">$next</a> = <a class="var it445" onMouseOver="hilite(445)" onMouseOut="lolite()" onClick="logVariable('last')" href="../../../../_variables/last.html">$last</a>;
<a name="l749"><span class="linenum"> 749</span></a>                  }
<a name="l750"><span class="linenum"> 750</span></a>                  <a class="var it445" onMouseOver="hilite(445)" onMouseOut="lolite()" onClick="logVariable('last')" href="../../../../_variables/last.html">$last</a> = <a class="var it78" onMouseOver="hilite(78)" onMouseOut="lolite()" onClick="logVariable('next')" href="../../../../_variables/next.html">$next</a>;
<a name="l751"><span class="linenum"> 751</span></a>              }
<a name="l752"><span class="linenum"> 752</span></a>          }
<a name="l753"><span class="linenum"> 753</span></a>          return <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>;
<a name="l754"><span class="linenum"> 754</span></a>      }
<a name="l755"><span class="linenum"> 755</span></a>  
<a name="l756"><span class="linenum"> 756</span></a>      <span class="comment">/**</span>
<a name="l757"><span class="linenum"> 757</span></a>  <span class="comment">     * Do composition of a sequence of starter and non-starter</span>
<a name="l758"><span class="linenum"> 758</span></a>  <span class="comment">     * @param    array      UCS4 Decomposed sequence</span>
<a name="l759"><span class="linenum"> 759</span></a>  <span class="comment">     * @return   array      Ordered USC4 sequence</span>
<a name="l760"><span class="linenum"> 760</span></a>  <span class="comment">     * @access   private</span>
<a name="l761"><span class="linenum"> 761</span></a>  <span class="comment">     */</span>
<a name="l762"><span class="linenum"> 762</span></a>      function <a class="function" onClick="logFunction('_combine')" href="../../../../_functions/_combine.html" onMouseOver="funcPopup(event,'_combine')">_combine</a>(<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>)
<a name="l763"><span class="linenum"> 763</span></a>      {
<a name="l764"><span class="linenum"> 764</span></a>          <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('inp_len')" href="../../../../_variables/inp_len.html">$inp_len</a> = <a class="phpfunction" onClick="logFunction('count')" href="../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>);
<a name="l765"><span class="linenum"> 765</span></a>          foreach (<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('NP')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/NP.html">NP</a>['replacemaps'] as <a class="var it451" onMouseOver="hilite(451)" onMouseOut="lolite()" onClick="logVariable('np_src')" href="../../../../_variables/np_src.html">$np_src</a> =&gt; <a class="var it452" onMouseOver="hilite(452)" onMouseOut="lolite()" onClick="logVariable('np_target')" href="../../../../_variables/np_target.html">$np_target</a>) {
<a name="l766"><span class="linenum"> 766</span></a>              if (<a class="var it452" onMouseOver="hilite(452)" onMouseOut="lolite()" onClick="logVariable('np_target')" href="../../../../_variables/np_target.html">$np_target</a>[0] != <a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>[0]) continue;
<a name="l767"><span class="linenum"> 767</span></a>              if (<a class="phpfunction" onClick="logFunction('count')" href="../../../../_functions/count.html" onMouseOver="phpfuncPopup(event,'count')">count</a>(<a class="var it452" onMouseOver="hilite(452)" onMouseOut="lolite()" onClick="logVariable('np_target')" href="../../../../_variables/np_target.html">$np_target</a>) != <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('inp_len')" href="../../../../_variables/inp_len.html">$inp_len</a>) continue;
<a name="l768"><span class="linenum"> 768</span></a>              <a class="var it453" onMouseOver="hilite(453)" onMouseOut="lolite()" onClick="logVariable('hit')" href="../../../../_variables/hit.html">$hit</a> = false;
<a name="l769"><span class="linenum"> 769</span></a>              foreach (<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a> as <a class="var it454" onMouseOver="hilite(454)" onMouseOut="lolite()" onClick="logVariable('k2')" href="../../../../_variables/k2.html">$k2</a> =&gt; <a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('v2')" href="../../../../_variables/v2.html">$v2</a>) {
<a name="l770"><span class="linenum"> 770</span></a>                  if (<a class="var it455" onMouseOver="hilite(455)" onMouseOut="lolite()" onClick="logVariable('v2')" href="../../../../_variables/v2.html">$v2</a> == <a class="var it452" onMouseOver="hilite(452)" onMouseOut="lolite()" onClick="logVariable('np_target')" href="../../../../_variables/np_target.html">$np_target</a>[<a class="var it454" onMouseOver="hilite(454)" onMouseOut="lolite()" onClick="logVariable('k2')" href="../../../../_variables/k2.html">$k2</a>]) {
<a name="l771"><span class="linenum"> 771</span></a>                      <a class="var it453" onMouseOver="hilite(453)" onMouseOut="lolite()" onClick="logVariable('hit')" href="../../../../_variables/hit.html">$hit</a> = true;
<a name="l772"><span class="linenum"> 772</span></a>                  } else {
<a name="l773"><span class="linenum"> 773</span></a>                      <a class="var it453" onMouseOver="hilite(453)" onMouseOut="lolite()" onClick="logVariable('hit')" href="../../../../_variables/hit.html">$hit</a> = false;
<a name="l774"><span class="linenum"> 774</span></a>                      break;
<a name="l775"><span class="linenum"> 775</span></a>                  }
<a name="l776"><span class="linenum"> 776</span></a>              }
<a name="l777"><span class="linenum"> 777</span></a>              if (<a class="var it453" onMouseOver="hilite(453)" onMouseOut="lolite()" onClick="logVariable('hit')" href="../../../../_variables/hit.html">$hit</a>) return <a class="var it451" onMouseOver="hilite(451)" onMouseOut="lolite()" onClick="logVariable('np_src')" href="../../../../_variables/np_src.html">$np_src</a>;
<a name="l778"><span class="linenum"> 778</span></a>          }
<a name="l779"><span class="linenum"> 779</span></a>          return false;
<a name="l780"><span class="linenum"> 780</span></a>      }
<a name="l781"><span class="linenum"> 781</span></a>  
<a name="l782"><span class="linenum"> 782</span></a>      <span class="comment">/**</span>
<a name="l783"><span class="linenum"> 783</span></a>  <span class="comment">     * This converts an UTF-8 encoded string to its UCS-4 representation</span>
<a name="l784"><span class="linenum"> 784</span></a>  <span class="comment">     * By talking about UCS-4 &quot;strings&quot; we mean arrays of 32bit integers representing</span>
<a name="l785"><span class="linenum"> 785</span></a>  <span class="comment">     * each of the &quot;chars&quot;. This is due to PHP not being able to handle strings with</span>
<a name="l786"><span class="linenum"> 786</span></a>  <span class="comment">     * bit depth different from 8. This apllies to the reverse method _ucs4_to_utf8(), too.</span>
<a name="l787"><span class="linenum"> 787</span></a>  <span class="comment">     * The following UTF-8 encodings are supported:</span>
<a name="l788"><span class="linenum"> 788</span></a>  <span class="comment">     * bytes bits  representation</span>
<a name="l789"><span class="linenum"> 789</span></a>  <span class="comment">     * 1        7  0xxxxxxx</span>
<a name="l790"><span class="linenum"> 790</span></a>  <span class="comment">     * 2       11  110xxxxx 10xxxxxx</span>
<a name="l791"><span class="linenum"> 791</span></a>  <span class="comment">     * 3       16  1110xxxx 10xxxxxx 10xxxxxx</span>
<a name="l792"><span class="linenum"> 792</span></a>  <span class="comment">     * 4       21  11110xxx 10xxxxxx 10xxxxxx 10xxxxxx</span>
<a name="l793"><span class="linenum"> 793</span></a>  <span class="comment">     * 5       26  111110xx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx</span>
<a name="l794"><span class="linenum"> 794</span></a>  <span class="comment">     * 6       31  1111110x 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx</span>
<a name="l795"><span class="linenum"> 795</span></a>  <span class="comment">     * Each x represents a bit that can be used to store character data.</span>
<a name="l796"><span class="linenum"> 796</span></a>  <span class="comment">     * The five and six byte sequences are part of Annex D of ISO/IEC 10646-1:2000</span>
<a name="l797"><span class="linenum"> 797</span></a>  <span class="comment">     * @access   private</span>
<a name="l798"><span class="linenum"> 798</span></a>  <span class="comment">     */</span>
<a name="l799"><span class="linenum"> 799</span></a>      function <a class="function" onClick="logFunction('_utf8_to_ucs4')" href="../../../../_functions/_utf8_to_ucs4.html" onMouseOver="funcPopup(event,'_utf8_to_ucs4')">_utf8_to_ucs4</a>(<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>)
<a name="l800"><span class="linenum"> 800</span></a>      {
<a name="l801"><span class="linenum"> 801</span></a>          <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> = array();
<a name="l802"><span class="linenum"> 802</span></a>          <a class="var it440" onMouseOver="hilite(440)" onMouseOut="lolite()" onClick="logVariable('out_len')" href="../../../../_variables/out_len.html">$out_len</a> = 0;
<a name="l803"><span class="linenum"> 803</span></a>          <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('inp_len')" href="../../../../_variables/inp_len.html">$inp_len</a> = strlen(<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>);
<a name="l804"><span class="linenum"> 804</span></a>          <a class="var it456" onMouseOver="hilite(456)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../../../_variables/mode.html">$mode</a> = 'next';
<a name="l805"><span class="linenum"> 805</span></a>          <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('test')" href="../../../../_variables/test.html">$test</a> = 'none';
<a name="l806"><span class="linenum"> 806</span></a>          for (<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a> = 0; <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a> &lt; <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('inp_len')" href="../../../../_variables/inp_len.html">$inp_len</a>; ++<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a>) {
<a name="l807"><span class="linenum"> 807</span></a>              <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> = <a class="phpfunction" onClick="logFunction('ord')" href="../../../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>(<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>{<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a>}); <span class="comment">// Extract byte from input string</span>
<a name="l808"><span class="linenum"> 808</span></a>  
<a name="l809"><span class="linenum"> 809</span></a>              if (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &lt; 128) { // We found an ASCII char - put into stirng as is
<a name="l810"><span class="linenum"> 810</span></a>                  <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>[<a class="var it440" onMouseOver="hilite(440)" onMouseOut="lolite()" onClick="logVariable('out_len')" href="../../../../_variables/out_len.html">$out_len</a>] = <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>;
<a name="l811"><span class="linenum"> 811</span></a>                  ++<a class="var it440" onMouseOver="hilite(440)" onMouseOut="lolite()" onClick="logVariable('out_len')" href="../../../../_variables/out_len.html">$out_len</a>;
<a name="l812"><span class="linenum"> 812</span></a>                  if ('add' == <a class="var it456" onMouseOver="hilite(456)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../../../_variables/mode.html">$mode</a>) {
<a name="l813"><span class="linenum"> 813</span></a>                      <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_error')" href="../../../../_functions/_error.html" onMouseOver="funcPopup(event,'_error')">_error</a>('Conversion from UTF-8 to UCS-4 failed: malformed input at byte '.<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a>);
<a name="l814"><span class="linenum"> 814</span></a>                      return false;
<a name="l815"><span class="linenum"> 815</span></a>                  }
<a name="l816"><span class="linenum"> 816</span></a>                  continue;
<a name="l817"><span class="linenum"> 817</span></a>              }
<a name="l818"><span class="linenum"> 818</span></a>              if ('next' == <a class="var it456" onMouseOver="hilite(456)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../../../_variables/mode.html">$mode</a>) { // Try to find the next start byte; determine the width of the Unicode char
<a name="l819"><span class="linenum"> 819</span></a>                  <a class="var it457" onMouseOver="hilite(457)" onMouseOut="lolite()" onClick="logVariable('start_byte')" href="../../../../_variables/start_byte.html">$start_byte</a> = <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>;
<a name="l820"><span class="linenum"> 820</span></a>                  <a class="var it456" onMouseOver="hilite(456)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../../../_variables/mode.html">$mode</a> = 'add';
<a name="l821"><span class="linenum"> 821</span></a>                  <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('test')" href="../../../../_variables/test.html">$test</a> = 'range';
<a name="l822"><span class="linenum"> 822</span></a>                  if (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &gt;&gt; 5 == 6) { // &amp;110xxxxx 10xxxxx
<a name="l823"><span class="linenum"> 823</span></a>                      <a class="var it458" onMouseOver="hilite(458)" onMouseOut="lolite()" onClick="logVariable('next_byte')" href="../../../../_variables/next_byte.html">$next_byte</a> = 0; <span class="comment">// Tells, how many times subsequent bitmasks must rotate 6bits to the left</span>
<a name="l824"><span class="linenum"> 824</span></a>                      <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> = (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> - 192) &lt;&lt; 6;
<a name="l825"><span class="linenum"> 825</span></a>                  } elseif (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &gt;&gt; 4 == 14) { // &amp;1110xxxx 10xxxxxx 10xxxxxx
<a name="l826"><span class="linenum"> 826</span></a>                      <a class="var it458" onMouseOver="hilite(458)" onMouseOut="lolite()" onClick="logVariable('next_byte')" href="../../../../_variables/next_byte.html">$next_byte</a> = 1;
<a name="l827"><span class="linenum"> 827</span></a>                      <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> = (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> - 224) &lt;&lt; 12;
<a name="l828"><span class="linenum"> 828</span></a>                  } elseif (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &gt;&gt; 3 == 30) { // &amp;11110xxx 10xxxxxx 10xxxxxx 10xxxxxx
<a name="l829"><span class="linenum"> 829</span></a>                      <a class="var it458" onMouseOver="hilite(458)" onMouseOut="lolite()" onClick="logVariable('next_byte')" href="../../../../_variables/next_byte.html">$next_byte</a> = 2;
<a name="l830"><span class="linenum"> 830</span></a>                      <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> = (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> - 240) &lt;&lt; 18;
<a name="l831"><span class="linenum"> 831</span></a>                  } elseif (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &gt;&gt; 2 == 62) { // &amp;111110xx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx
<a name="l832"><span class="linenum"> 832</span></a>                      <a class="var it458" onMouseOver="hilite(458)" onMouseOut="lolite()" onClick="logVariable('next_byte')" href="../../../../_variables/next_byte.html">$next_byte</a> = 3;
<a name="l833"><span class="linenum"> 833</span></a>                      <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> = (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> - 248) &lt;&lt; 24;
<a name="l834"><span class="linenum"> 834</span></a>                  } elseif (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &gt;&gt; 1 == 126) { // &amp;1111110x 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx
<a name="l835"><span class="linenum"> 835</span></a>                      <a class="var it458" onMouseOver="hilite(458)" onMouseOut="lolite()" onClick="logVariable('next_byte')" href="../../../../_variables/next_byte.html">$next_byte</a> = 4;
<a name="l836"><span class="linenum"> 836</span></a>                      <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> = (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> - 252) &lt;&lt; 30;
<a name="l837"><span class="linenum"> 837</span></a>                  } else {
<a name="l838"><span class="linenum"> 838</span></a>                      <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_error')" href="../../../../_functions/_error.html" onMouseOver="funcPopup(event,'_error')">_error</a>('This might be UTF-8, but I don\'t understand it at byte '.<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a>);
<a name="l839"><span class="linenum"> 839</span></a>                      return false;
<a name="l840"><span class="linenum"> 840</span></a>                  }
<a name="l841"><span class="linenum"> 841</span></a>                  if ('add' == <a class="var it456" onMouseOver="hilite(456)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../../../_variables/mode.html">$mode</a>) {
<a name="l842"><span class="linenum"> 842</span></a>                      <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>[<a class="var it440" onMouseOver="hilite(440)" onMouseOut="lolite()" onClick="logVariable('out_len')" href="../../../../_variables/out_len.html">$out_len</a>] = (int) <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>;
<a name="l843"><span class="linenum"> 843</span></a>                      ++<a class="var it440" onMouseOver="hilite(440)" onMouseOut="lolite()" onClick="logVariable('out_len')" href="../../../../_variables/out_len.html">$out_len</a>;
<a name="l844"><span class="linenum"> 844</span></a>                      continue;
<a name="l845"><span class="linenum"> 845</span></a>                  }
<a name="l846"><span class="linenum"> 846</span></a>              }
<a name="l847"><span class="linenum"> 847</span></a>              if ('add' == <a class="var it456" onMouseOver="hilite(456)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../../../_variables/mode.html">$mode</a>) {
<a name="l848"><span class="linenum"> 848</span></a>                  if (!<a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('_allow_overlong')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/_allow_overlong.html">_allow_overlong</a> &amp;&amp; <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('test')" href="../../../../_variables/test.html">$test</a> == 'range') {
<a name="l849"><span class="linenum"> 849</span></a>                      <a class="var it426" onMouseOver="hilite(426)" onMouseOut="lolite()" onClick="logVariable('test')" href="../../../../_variables/test.html">$test</a> = 'none';
<a name="l850"><span class="linenum"> 850</span></a>                      if ((<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &lt; 0xA0 &amp;&amp; <a class="var it457" onMouseOver="hilite(457)" onMouseOut="lolite()" onClick="logVariable('start_byte')" href="../../../../_variables/start_byte.html">$start_byte</a> == 0xE0) || (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &lt; 0x90 &amp;&amp; <a class="var it457" onMouseOver="hilite(457)" onMouseOut="lolite()" onClick="logVariable('start_byte')" href="../../../../_variables/start_byte.html">$start_byte</a> == 0xF0) || (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &gt; 0x8F &amp;&amp; <a class="var it457" onMouseOver="hilite(457)" onMouseOut="lolite()" onClick="logVariable('start_byte')" href="../../../../_variables/start_byte.html">$start_byte</a> == 0xF4)) {
<a name="l851"><span class="linenum"> 851</span></a>                          <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_error')" href="../../../../_functions/_error.html" onMouseOver="funcPopup(event,'_error')">_error</a>('Bogus UTF-8 character detected (out of legal range) at byte '.<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a>);
<a name="l852"><span class="linenum"> 852</span></a>                          return false;
<a name="l853"><span class="linenum"> 853</span></a>                      }
<a name="l854"><span class="linenum"> 854</span></a>                  }
<a name="l855"><span class="linenum"> 855</span></a>                  if (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &gt;&gt; 6 == 2) { // Bit mask must be 10xxxxxx
<a name="l856"><span class="linenum"> 856</span></a>                      <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> = (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> - 128) &lt;&lt; (<a class="var it458" onMouseOver="hilite(458)" onMouseOut="lolite()" onClick="logVariable('next_byte')" href="../../../../_variables/next_byte.html">$next_byte</a> * 6);
<a name="l857"><span class="linenum"> 857</span></a>                      <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>[(<a class="var it440" onMouseOver="hilite(440)" onMouseOut="lolite()" onClick="logVariable('out_len')" href="../../../../_variables/out_len.html">$out_len</a> - 1)] += <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>;
<a name="l858"><span class="linenum"> 858</span></a>                      --<a class="var it458" onMouseOver="hilite(458)" onMouseOut="lolite()" onClick="logVariable('next_byte')" href="../../../../_variables/next_byte.html">$next_byte</a>;
<a name="l859"><span class="linenum"> 859</span></a>                  } else {
<a name="l860"><span class="linenum"> 860</span></a>                      <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_error')" href="../../../../_functions/_error.html" onMouseOver="funcPopup(event,'_error')">_error</a>('Conversion from UTF-8 to UCS-4 failed: malformed input at byte '.<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a>);
<a name="l861"><span class="linenum"> 861</span></a>                      return false;
<a name="l862"><span class="linenum"> 862</span></a>                  }
<a name="l863"><span class="linenum"> 863</span></a>                  if (<a class="var it458" onMouseOver="hilite(458)" onMouseOut="lolite()" onClick="logVariable('next_byte')" href="../../../../_variables/next_byte.html">$next_byte</a> &lt; 0) {
<a name="l864"><span class="linenum"> 864</span></a>                      <a class="var it456" onMouseOver="hilite(456)" onMouseOut="lolite()" onClick="logVariable('mode')" href="../../../../_variables/mode.html">$mode</a> = 'next';
<a name="l865"><span class="linenum"> 865</span></a>                  }
<a name="l866"><span class="linenum"> 866</span></a>              }
<a name="l867"><span class="linenum"> 867</span></a>          } <span class="comment">// for</span>
<a name="l868"><span class="linenum"> 868</span></a>          return <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>;
<a name="l869"><span class="linenum"> 869</span></a>      }
<a name="l870"><span class="linenum"> 870</span></a>  
<a name="l871"><span class="linenum"> 871</span></a>      <span class="comment">/**</span>
<a name="l872"><span class="linenum"> 872</span></a>  <span class="comment">     * Convert UCS-4 string into UTF-8 string</span>
<a name="l873"><span class="linenum"> 873</span></a>  <span class="comment">     * See _utf8_to_ucs4() for details</span>
<a name="l874"><span class="linenum"> 874</span></a>  <span class="comment">     * @access   private</span>
<a name="l875"><span class="linenum"> 875</span></a>  <span class="comment">     */</span>
<a name="l876"><span class="linenum"> 876</span></a>      function <a class="function" onClick="logFunction('_ucs4_to_utf8')" href="../../../../_functions/_ucs4_to_utf8.html" onMouseOver="funcPopup(event,'_ucs4_to_utf8')">_ucs4_to_utf8</a>(<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>)
<a name="l877"><span class="linenum"> 877</span></a>      {
<a name="l878"><span class="linenum"> 878</span></a>          <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> = '';
<a name="l879"><span class="linenum"> 879</span></a>          <a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a> = 0;
<a name="l880"><span class="linenum"> 880</span></a>          foreach (<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a> as <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>) {
<a name="l881"><span class="linenum"> 881</span></a>              ++<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a>;
<a name="l882"><span class="linenum"> 882</span></a>  <span class="comment">            // $v = ord($v);</span>
<a name="l883"><span class="linenum"> 883</span></a>              if (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &lt; 128) { // 7bit are transferred literally
<a name="l884"><span class="linenum"> 884</span></a>                  <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>);
<a name="l885"><span class="linenum"> 885</span></a>              } elseif (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &lt; (1 &lt;&lt; 11)) { // 2 bytes
<a name="l886"><span class="linenum"> 886</span></a>                  <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(192 + (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &gt;&gt; 6)) . <a class="phpfunction" onClick="logFunction('chr')" href="../../../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(128 + (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &amp; 63));
<a name="l887"><span class="linenum"> 887</span></a>              } elseif (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &lt; (1 &lt;&lt; 16)) { // 3 bytes
<a name="l888"><span class="linenum"> 888</span></a>                  <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(224 + (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &gt;&gt; 12)) . <a class="phpfunction" onClick="logFunction('chr')" href="../../../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(128 + ((<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &gt;&gt; 6) &amp; 63)) . <a class="phpfunction" onClick="logFunction('chr')" href="../../../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(128 + (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &amp; 63));
<a name="l889"><span class="linenum"> 889</span></a>              } elseif (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &lt; (1 &lt;&lt; 21)) { // 4 bytes
<a name="l890"><span class="linenum"> 890</span></a>                  <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(240 + (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &gt;&gt; 18)) . <a class="phpfunction" onClick="logFunction('chr')" href="../../../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(128 + ((<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &gt;&gt; 12) &amp; 63))
<a name="l891"><span class="linenum"> 891</span></a>                           . <a class="phpfunction" onClick="logFunction('chr')" href="../../../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(128 + ((<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &gt;&gt; 6) &amp; 63)) . <a class="phpfunction" onClick="logFunction('chr')" href="../../../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(128 + (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &amp; 63));
<a name="l892"><span class="linenum"> 892</span></a>              } elseif (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &lt; (1 &lt;&lt; 26)) { // 5 bytes
<a name="l893"><span class="linenum"> 893</span></a>                  <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(248 + (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &gt;&gt; 24)) . <a class="phpfunction" onClick="logFunction('chr')" href="../../../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(128 + ((<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &gt;&gt; 18) &amp; 63))
<a name="l894"><span class="linenum"> 894</span></a>                           . <a class="phpfunction" onClick="logFunction('chr')" href="../../../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(128 + ((<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &gt;&gt; 12) &amp; 63)) . <a class="phpfunction" onClick="logFunction('chr')" href="../../../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(128 + ((<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &gt;&gt; 6) &amp; 63))
<a name="l895"><span class="linenum"> 895</span></a>                           . <a class="phpfunction" onClick="logFunction('chr')" href="../../../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(128 + (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &amp; 63));
<a name="l896"><span class="linenum"> 896</span></a>              } elseif (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &lt; (1 &lt;&lt; 31)) { // 6 bytes
<a name="l897"><span class="linenum"> 897</span></a>                  <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(252 + (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &gt;&gt; 30)) . <a class="phpfunction" onClick="logFunction('chr')" href="../../../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(128 + ((<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &gt;&gt; 24) &amp; 63))
<a name="l898"><span class="linenum"> 898</span></a>                           . <a class="phpfunction" onClick="logFunction('chr')" href="../../../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(128 + ((<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &gt;&gt; 18) &amp; 63)) . <a class="phpfunction" onClick="logFunction('chr')" href="../../../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(128 + ((<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &gt;&gt; 12) &amp; 63))
<a name="l899"><span class="linenum"> 899</span></a>                           . <a class="phpfunction" onClick="logFunction('chr')" href="../../../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(128 + ((<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &gt;&gt; 6) &amp; 63)) . <a class="phpfunction" onClick="logFunction('chr')" href="../../../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(128 + (<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &amp; 63));
<a name="l900"><span class="linenum"> 900</span></a>              } else {
<a name="l901"><span class="linenum"> 901</span></a>                  <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_error')" href="../../../../_functions/_error.html" onMouseOver="funcPopup(event,'_error')">_error</a>('Conversion from UCS-4 to UTF-8 failed: malformed input at byte '.<a class="var it395" onMouseOver="hilite(395)" onMouseOut="lolite()" onClick="logVariable('k')" href="../../../../_variables/k.html">$k</a>);
<a name="l902"><span class="linenum"> 902</span></a>                  return false;
<a name="l903"><span class="linenum"> 903</span></a>              }
<a name="l904"><span class="linenum"> 904</span></a>          }
<a name="l905"><span class="linenum"> 905</span></a>          return <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>;
<a name="l906"><span class="linenum"> 906</span></a>      }
<a name="l907"><span class="linenum"> 907</span></a>  
<a name="l908"><span class="linenum"> 908</span></a>      <span class="comment">/**</span>
<a name="l909"><span class="linenum"> 909</span></a>  <span class="comment">      * Convert UCS-4 array into UCS-4 string</span>
<a name="l910"><span class="linenum"> 910</span></a>  <span class="comment">      *</span>
<a name="l911"><span class="linenum"> 911</span></a>  <span class="comment">      * @access   private</span>
<a name="l912"><span class="linenum"> 912</span></a>  <span class="comment">      */</span>
<a name="l913"><span class="linenum"> 913</span></a>      function <a class="function" onClick="logFunction('_ucs4_to_ucs4_string')" href="../../../../_functions/_ucs4_to_ucs4_string.html" onMouseOver="funcPopup(event,'_ucs4_to_ucs4_string')">_ucs4_to_ucs4_string</a>(<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>)
<a name="l914"><span class="linenum"> 914</span></a>      {
<a name="l915"><span class="linenum"> 915</span></a>          <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> = '';
<a name="l916"><span class="linenum"> 916</span></a>  <span class="comment">        // Take array values and split output to 4 bytes per value</span>
<a name="l917"><span class="linenum"> 917</span></a>  <span class="comment">        // The bit mask is 255, which reads &amp;11111111</span>
<a name="l918"><span class="linenum"> 918</span></a>          foreach (<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a> as <a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a>) {
<a name="l919"><span class="linenum"> 919</span></a>              <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> .= <a class="phpfunction" onClick="logFunction('chr')" href="../../../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>((<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &gt;&gt; 24) &amp; 255).<a class="phpfunction" onClick="logFunction('chr')" href="../../../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>((<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &gt;&gt; 16) &amp; 255).<a class="phpfunction" onClick="logFunction('chr')" href="../../../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>((<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &gt;&gt; 8) &amp; 255).<a class="phpfunction" onClick="logFunction('chr')" href="../../../../_functions/chr.html" onMouseOver="phpfuncPopup(event,'chr')">chr</a>(<a class="var it396" onMouseOver="hilite(396)" onMouseOut="lolite()" onClick="logVariable('v')" href="../../../../_variables/v.html">$v</a> &amp; 255);
<a name="l920"><span class="linenum"> 920</span></a>          }
<a name="l921"><span class="linenum"> 921</span></a>          return <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>;
<a name="l922"><span class="linenum"> 922</span></a>      }
<a name="l923"><span class="linenum"> 923</span></a>  
<a name="l924"><span class="linenum"> 924</span></a>      <span class="comment">/**</span>
<a name="l925"><span class="linenum"> 925</span></a>  <span class="comment">      * Convert UCS-4 strin into UCS-4 garray</span>
<a name="l926"><span class="linenum"> 926</span></a>  <span class="comment">      *</span>
<a name="l927"><span class="linenum"> 927</span></a>  <span class="comment">      * @access   private</span>
<a name="l928"><span class="linenum"> 928</span></a>  <span class="comment">      */</span>
<a name="l929"><span class="linenum"> 929</span></a>      function <a class="function" onClick="logFunction('_ucs4_string_to_ucs4')" href="../../../../_functions/_ucs4_string_to_ucs4.html" onMouseOver="funcPopup(event,'_ucs4_string_to_ucs4')">_ucs4_string_to_ucs4</a>(<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>)
<a name="l930"><span class="linenum"> 930</span></a>      {
<a name="l931"><span class="linenum"> 931</span></a>          <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a> = array();
<a name="l932"><span class="linenum"> 932</span></a>          <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('inp_len')" href="../../../../_variables/inp_len.html">$inp_len</a> = strlen(<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>);
<a name="l933"><span class="linenum"> 933</span></a>  <span class="comment">        // Input length must be dividable by 4</span>
<a name="l934"><span class="linenum"> 934</span></a>          if (<a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('inp_len')" href="../../../../_variables/inp_len.html">$inp_len</a> % 4) {
<a name="l935"><span class="linenum"> 935</span></a>              <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a class="function" onClick="logFunction('_error')" href="../../../../_functions/_error.html" onMouseOver="funcPopup(event,'_error')">_error</a>('Input UCS4 string is broken');
<a name="l936"><span class="linenum"> 936</span></a>              return false;
<a name="l937"><span class="linenum"> 937</span></a>          }
<a name="l938"><span class="linenum"> 938</span></a>  <span class="comment">        // Empty input - return empty output</span>
<a name="l939"><span class="linenum"> 939</span></a>          if (!<a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('inp_len')" href="../../../../_variables/inp_len.html">$inp_len</a>) return <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>;
<a name="l940"><span class="linenum"> 940</span></a>          for (<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a> = 0, <a class="var it440" onMouseOver="hilite(440)" onMouseOut="lolite()" onClick="logVariable('out_len')" href="../../../../_variables/out_len.html">$out_len</a> = -1; <a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a> &lt; <a class="var it407" onMouseOver="hilite(407)" onMouseOut="lolite()" onClick="logVariable('inp_len')" href="../../../../_variables/inp_len.html">$inp_len</a>; ++<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>) {
<a name="l941"><span class="linenum"> 941</span></a>  <span class="comment">            // Increment output position every 4 input bytes</span>
<a name="l942"><span class="linenum"> 942</span></a>              if (!(<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a> % 4)) {
<a name="l943"><span class="linenum"> 943</span></a>                  <a class="var it440" onMouseOver="hilite(440)" onMouseOut="lolite()" onClick="logVariable('out_len')" href="../../../../_variables/out_len.html">$out_len</a>++;
<a name="l944"><span class="linenum"> 944</span></a>                  <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>[<a class="var it440" onMouseOver="hilite(440)" onMouseOut="lolite()" onClick="logVariable('out_len')" href="../../../../_variables/out_len.html">$out_len</a>] = 0;
<a name="l945"><span class="linenum"> 945</span></a>              }
<a name="l946"><span class="linenum"> 946</span></a>              <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>[<a class="var it440" onMouseOver="hilite(440)" onMouseOut="lolite()" onClick="logVariable('out_len')" href="../../../../_variables/out_len.html">$out_len</a>] += <a class="phpfunction" onClick="logFunction('ord')" href="../../../../_functions/ord.html" onMouseOver="phpfuncPopup(event,'ord')">ord</a>(<a class="var it397" onMouseOver="hilite(397)" onMouseOut="lolite()" onClick="logVariable('input')" href="../../../../_variables/input.html">$input</a>{<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a>}) &lt;&lt; (8 * (3 - (<a class="var it52" onMouseOver="hilite(52)" onMouseOut="lolite()" onClick="logVariable('i')" href="../../../../_variables/i.html">$i</a> % 4) ) );
<a name="l947"><span class="linenum"> 947</span></a>          }
<a name="l948"><span class="linenum"> 948</span></a>          return <a class="var it82" onMouseOver="hilite(82)" onMouseOut="lolite()" onClick="logVariable('output')" href="../../../../_variables/output.html">$output</a>;
<a name="l949"><span class="linenum"> 949</span></a>      }
<a name="l950"><span class="linenum"> 950</span></a>  }
<a name="l951"><span class="linenum"> 951</span></a>  
<a name="l952"><span class="linenum"> 952</span></a>  <span class="comment">/**</span>
<a name="l953"><span class="linenum"> 953</span></a>  <span class="comment">* Adapter class for aligning the API of idna_convert with that of Net_IDNA</span>
<a name="l954"><span class="linenum"> 954</span></a>  <span class="comment">* @author  Matthias Sommerfeld &lt;mso@phlylabs.de&gt;</span>
<a name="l955"><span class="linenum"> 955</span></a>  <span class="comment">*/</span>
<a name="l956"><span class="linenum"> 956</span></a>  <span class="keyword">class </span><a class="class" onClick="logClass('Net_IDNA_php4')" href="../../../../_classes/net_idna_php4.html" onMouseOver="classPopup(event,'net_idna_php4')">Net_IDNA_php4</a> <span class="keyword">extends</span> <a class="class" onClick="logClass('idna_convert')" href="../../../../_classes/idna_convert.html" onMouseOver="classPopup(event,'idna_convert')">idna_convert</a>
<a name="l957"><span class="linenum"> 957</span></a>  {
<a name="l958"><span class="linenum"> 958</span></a>      <span class="comment">/**</span>
<a name="l959"><span class="linenum"> 959</span></a>  <span class="comment">     * Sets a new option value. Available options and values:</span>
<a name="l960"><span class="linenum"> 960</span></a>  <span class="comment">     * [encoding - Use either UTF-8, UCS4 as array or UCS4 as string as input ('utf8' for UTF-8,</span>
<a name="l961"><span class="linenum"> 961</span></a>  <span class="comment">     *         'ucs4_string' and 'ucs4_array' respectively for UCS4); The output is always UTF-8]</span>
<a name="l962"><span class="linenum"> 962</span></a>  <span class="comment">     * [overlong - Unicode does not allow unnecessarily long encodings of chars,</span>
<a name="l963"><span class="linenum"> 963</span></a>  <span class="comment">     *             to allow this, set this parameter to true, else to false;</span>
<a name="l964"><span class="linenum"> 964</span></a>  <span class="comment">     *             default is false.]</span>
<a name="l965"><span class="linenum"> 965</span></a>  <span class="comment">     * [strict - true: strict mode, good for registration purposes - Causes errors</span>
<a name="l966"><span class="linenum"> 966</span></a>  <span class="comment">     *           on failures; false: loose mode, ideal for &quot;wildlife&quot; applications</span>
<a name="l967"><span class="linenum"> 967</span></a>  <span class="comment">     *           by silently ignoring errors and returning the original input instead</span>
<a name="l968"><span class="linenum"> 968</span></a>  <span class="comment">     *</span>
<a name="l969"><span class="linenum"> 969</span></a>  <span class="comment">     * @param    mixed     Parameter to set (string: single parameter; array of Parameter =&gt; Value pairs)</span>
<a name="l970"><span class="linenum"> 970</span></a>  <span class="comment">     * @param    string    Value to use (if parameter 1 is a string)</span>
<a name="l971"><span class="linenum"> 971</span></a>  <span class="comment">     * @return   boolean   true on success, false otherwise</span>
<a name="l972"><span class="linenum"> 972</span></a>  <span class="comment">     * @access   public</span>
<a name="l973"><span class="linenum"> 973</span></a>  <span class="comment">     */</span>
<a name="l974"><span class="linenum"> 974</span></a>      function <a class="function" onClick="logFunction('setParams')" href="../../../../_functions/setparams.html" onMouseOver="funcPopup(event,'setparams')">setParams</a>(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('option')" href="../../../../_variables/option.html">$option</a>, <a class="var it1652" onMouseOver="hilite(1652)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../../../_variables/param.html">$param</a> = false)
<a name="l975"><span class="linenum"> 975</span></a>      {
<a name="l976"><span class="linenum"> 976</span></a>          return <a class="var it17" onMouseOver="hilite(17)" onMouseOut="lolite()" onClick="logVariable('this')" href="../../../../_variables/this.html">$this</a>-&gt;<a onClick="logVariable('IC')" class="var it8951" onMouseOver="hilite(8951)" onMouseOut="lolite()" href="../../../../_variables/IC.html">IC</a>-&gt;set_parameters(<a class="var it394" onMouseOver="hilite(394)" onMouseOut="lolite()" onClick="logVariable('option')" href="../../../../_variables/option.html">$option</a>, <a class="var it1652" onMouseOver="hilite(1652)" onMouseOut="lolite()" onClick="logVariable('param')" href="../../../../_variables/param.html">$param</a>);
<a name="l977"><span class="linenum"> 977</span></a>      }
<a name="l978"><span class="linenum"> 978</span></a>  }
<a name="l979"><span class="linenum"> 979</span></a>  
<a name="l980"><span class="linenum"> 980</span></a>  ?&gt;
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'_apply_cannonical_ordering': ['_apply_cannonical_ordering', 'Apllies the cannonical ordering of a decomposed UCS4 sequence ', [['blogs/inc/_ext/idna','_idna_convert.class.php',689],['blogs/inc/_ext/idna','_idna_convert.class.php4',723]], 2],
'_decode_digit': ['_decode_digit', 'Decode a certain digit ', [['blogs/inc/_ext/idna','_idna_convert.class.php',524],['blogs/inc/_ext/idna','_idna_convert.class.php4',547]], 2],
'_ucs4_string_to_ucs4': ['_ucs4_string_to_ucs4', 'Convert UCS-4 strin into UCS-4 garray ', [['blogs/inc/_ext/idna','_idna_convert.class.php',885],['blogs/inc/_ext/idna','_idna_convert.class.php4',924]], 2],
'_ucs4_to_ucs4_string': ['_ucs4_to_ucs4_string', 'Convert UCS-4 array into UCS-4 string ', [['blogs/inc/_ext/idna','_idna_convert.class.php',868],['blogs/inc/_ext/idna','_idna_convert.class.php4',908]], 2],
'_decode': ['_decode', 'The actual decoding algorithm ', [['blogs/inc/_ext/idna','_idna_convert.class.php',348],['blogs/inc/_ext/idna','_idna_convert.class.php4',367]], 18],
'_combine': ['_combine', 'Do composition of a sequence of starter and non-starter ', [['blogs/inc/_ext/idna','_idna_convert.class.php',721],['blogs/inc/_ext/idna','_idna_convert.class.php4',756]], 2],
'setparams': ['setparams', 'Sets a new option value. Available options and values: [encoding - Use either UTF-8, UCS4 as array or UCS4 as string as input (\'utf8\' for UTF-8, \'ucs4_string\' and \'ucs4_array\' respectively for UCS4); The output is always UTF-8] [overlong - Unicode does not allow unnecessarily long encodings of chars, to allow this, set this parameter to true, else to false; default is false.] [strict - true: strict mode, good for registration purposes - Causes errors on failures; false: loose mode, ideal for "wildlife" applications by silently ignoring errors and returning the original input instead ', [['blogs/inc/_ext/idna','_idna_convert.class.php4',958]], 1],
'_encode_digit': ['_encode_digit', 'Encoding a certain digit ', [['blogs/inc/_ext/idna','_idna_convert.class.php',514],['blogs/inc/_ext/idna','_idna_convert.class.php4',538]], 4],
'idna_convert': ['idna_convert', '', [['blogs/inc/_ext/idna','_idna_convert.class.php4',105]], 2],
'_get_combining_class': ['_get_combining_class', 'Returns the combining class of a certain wide char ', [['blogs/inc/_ext/idna','_idna_convert.class.php',679],['blogs/inc/_ext/idna','_idna_convert.class.php4',712]], 10],
'decode': ['decode', 'Decode a given ACE domain name ', [['blogs/inc/_ext/idna','_idna_convert.class.php',153],['blogs/plugins/tinymce_plugin/tiny_mce','tiny_mce_src.js',1555],['blogs/inc/_ext/mime_parser','mime_parser.php',1871],['blogs/inc/_ext/idna','_idna_convert.class.php4',169],['blogs/plugins/tinymce_plugin/tiny_mce/plugins/spellchecker/classes/utils','JSON.php',366],['blogs/rsc/js/bootstrap','typeahead.bundle.js',259]], 20],
'_adapt': ['_adapt', 'Adapt the bias according to the current code point and position ', [['blogs/inc/_ext/idna','_idna_convert.class.php',497],['blogs/inc/_ext/idna','_idna_convert.class.php4',524]], 4],
'get_last_error': ['get_last_error', 'Use this method to get the last error ocurred ', [['blogs/inc/_ext/idna','_idna_convert.class.php',338],['blogs/inc/_ext/idna','_idna_convert.class.php4',356]], 1],
'encode': ['encode', 'Encode a given UTF-8 domain name ', [['blogs/inc/_ext/idna','_idna_convert.class.php',254],['blogs/plugins/tinymce_plugin/tiny_mce','tiny_mce_src.js',1547],['blogs/inc/_ext/idna','_idna_convert.class.php4',271],['blogs/plugins/tinymce_plugin/tiny_mce/plugins/spellchecker/classes/utils','JSON.php',456],['blogs/rsc/js/bootstrap','typeahead.bundle.js',256]], 39],
'_encode': ['_encode', 'The actual encoding algorithm ', [['blogs/inc/_ext/idna','_idna_convert.class.php',405],['blogs/inc/_ext/idna','_idna_convert.class.php4',426],['blogs/inc/_ext/phpsvnclient/ext/Diff/Diff/Renderer','inline.php',168]], 10],
'_nameprep': ['_nameprep', 'Do Nameprep according to RFC3491 and RFC3454 ', [['blogs/inc/_ext/idna','_idna_convert.class.php',544],['blogs/inc/_ext/idna','_idna_convert.class.php4',566]], 2],
'_error': ['_error', 'Internal error handling method ', [['blogs/inc/_ext/idna','_idna_convert.class.php',535],['blogs/inc/_ext/idna','_idna_convert.class.php4',557]], 44],
'_hangul_decompose': ['_hangul_decompose', 'Decomposes a Hangul syllable (see http://www.unicode.org/unicode/reports/tr15/#Hangul ', [['blogs/inc/_ext/idna','_idna_convert.class.php',620],['blogs/inc/_ext/idna','_idna_convert.class.php4',649]], 2],
'set_parameter': ['set_parameter', 'Sets a new option value. Available options and values: [encoding - Use either UTF-8, UCS4 as array or UCS4 as string as input (\'utf8\' for UTF-8, \'ucs4_string\' and \'ucs4_array\' respectively for UCS4); The output is always UTF-8] [overlong - Unicode does not allow unnecessarily long encodings of chars, to allow this, set this parameter to true, else to false; default is false.] [strict - true: strict mode, good for registration purposes - Causes errors on failures; false: loose mode, ideal for "wildlife" applications by silently ignoring errors and returning the original input instead ', [['blogs/inc/_ext/idna','_idna_convert.class.php',105],['blogs/plugins/twitter_plugin/twitteroauth','oauth.php',308],['blogs/inc/_ext/idna','_idna_convert.class.php4',120]], 4],
'_ucs4_to_utf8': ['_ucs4_to_utf8', 'Convert UCS-4 string into UTF-8 string See _utf8_to_ucs4() for details ', [['blogs/inc/_ext/idna','_idna_convert.class.php',840],['blogs/inc/_ext/idna','_idna_convert.class.php4',871]], 8],
'_utf8_to_ucs4': ['_utf8_to_ucs4', 'This converts an UTF-8 encoded string to its UCS-4 representation By talking about UCS-4 "strings" we mean arrays of 32bit integers representing each of the "chars". This is due to PHP not being able to handle strings with bit depth different from 8. This apllies to the reverse method _ucs4_to_utf8(), too. The following UTF-8 encodings are supported: bytes bits  representation 1        7  0xxxxxxx 2       11  110xxxxx 10xxxxxx 3       16  1110xxxx 10xxxxxx 10xxxxxx 4       21  11110xxx 10xxxxxx 10xxxxxx 10xxxxxx 5       26  111110xx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx 6       31  1111110x 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx 10xxxxxx Each x represents a bit that can be used to store character data. The five and six byte sequences are part of Annex D of ISO/IEC 10646-1:2000 ', [['blogs/inc/_ext/idna','_idna_convert.class.php',746],['blogs/inc/_ext/idna','_idna_convert.class.php4',782]], 8],
'list': ['list', '', [['blogs/rsc/js/bootstrap','typeahead.bundle.js',156]], 95],
'_hangul_compose': ['_hangul_compose', 'Ccomposes a Hangul syllable (see http://www.unicode.org/unicode/reports/tr15/#Hangul ', [['blogs/inc/_ext/idna','_idna_convert.class.php',637],['blogs/inc/_ext/idna','_idna_convert.class.php4',669]], 2],
'defined': ['defined', '', [], 874],
'ord': ['ord', '', [], 58],
'explode': ['explode', '', [], 249],
'strrpos': ['strrpos', '', [], 28],
'preg_replace': ['preg_replace', '', [], 281],
'count': ['count', '', [], 754],
'trim': ['trim', '', [], 351],
'strpos': ['strpos', '', [], 280],
'intval': ['intval', '', [], 127],
'unserialize': ['unserialize', '', [], 16],
'chr': ['chr', '', [], 108],
'dirname': ['dirname', '', [], 186],
'array_slice': ['array_slice', '', [], 41],
'parse_url': ['parse_url', '', [], 24],
'file_get_contents': ['file_get_contents', '', [], 25],
'is_array': ['is_array', '', [], 243],
'in_array': ['in_array', '', [], 335],
'preg_match': ['preg_match', '', [], 363],
'preg_quote': ['preg_quote', '', [], 24],
'strtolower': ['strtolower', '', [], 168],
'file': ['file', '', [], 70],
'function_exists': ['function_exists', '', [], 130],
'name': ['name', '', [], 4]};
CLASS_DATA={
'idna_convert': ['idna_convert', 'Encode/decode Internationalized Domain Names. ', [['blogs/inc/_ext/idna','_idna_convert.class.php',26],['blogs/inc/_ext/idna','_idna_convert.class.php4',36]], 3],
'net_idna_php4': ['net_idna_php4', 'Adapter class for aligning the API of idna_convert with that of Net_IDNA ', [['blogs/inc/_ext/idna','_idna_convert.class.php4',952]], 2]};
CONST_DATA={
'EVO_MAIN_INIT': ['EVO_MAIN_INIT', '', [['blogs/inc','_main.inc.php',55],['blogs/install','index.php',25],['blogs/install','debug.php',22]], 827]};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Sat Jul  5 12:18:44 2014</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
