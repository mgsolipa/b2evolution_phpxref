<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : Detail view of _xmlrpc_wrappers.inc.php</title>
    <link rel="stylesheet" href="../../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Sat Jul  5 12:18:44 2014 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../../';
subdir='blogs/inc/_ext/xmlrpc';
filename='_xmlrpc_wrappers.inc.php.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="details-heading"><a href="./index.html">/blogs/inc/_ext/xmlrpc/</a> -> <a href="_xmlrpc_wrappers.inc.php.source.html">_xmlrpc_wrappers.inc.php</a> (summary)</h2>
<div class="details-summary">
<p class="viewlinks">[<a href="_xmlrpc_wrappers.inc.php.source.html">Source view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="../../../../_stats.html">Project Stats</a>]</p>
<p><b>PHP-XMLRPC &quot;wrapper&quot; functions Generate stubs to transparently access xmlrpc methods as php functions and viceversa</b></p>
<table>
<tr><td align="right">Author: </td><td>Gaetano Giunta</td></tr>
<tr><td align="right">Copyright: </td><td>(C) 2006-2009 G. Giunta</td></tr>
<tr><td align="right">License: </td><td>code licensed under the BSD License: <a href="http://phpxmlrpc.sourceforge.net/license.txt" target="_blank">http://phpxmlrpc.sourceforge.net/license.txt</a></td></tr>
<tr><td align="right">Version: </td><td>$Id: _xmlrpc_wrappers.inc.php 1180 2012-04-05 00:48:28Z sam2kb $</td></tr>
<tr><td align="right">File Size: </td><td>956 lines (36 kb)</td></tr>
<tr><td align="right">Included or required:</td><td>0 times</td></tr>
<tr><td align="right" valign="top">Referenced: </td><td>0 times</td></tr>
<tr><td align="right" valign="top">Includes or requires: </td><td>0 files</td></tr>
</table>
<h3>Defines 8 functions</h3>
<div class="inset">
&nbsp;&nbsp;<a href="#php_2_xmlrpc_type">php_2_xmlrpc_type</a>()<br>
&nbsp;&nbsp;<a href="#xmlrpc_2_php_type">xmlrpc_2_php_type</a>()<br>
&nbsp;&nbsp;<a href="#wrap_php_function">wrap_php_function</a>()<br>
&nbsp;&nbsp;<a href="#wrap_php_class">wrap_php_class</a>()<br>
&nbsp;&nbsp;<a href="#wrap_xmlrpc_method">wrap_xmlrpc_method</a>()<br>
&nbsp;&nbsp;<a href="#wrap_xmlrpc_server">wrap_xmlrpc_server</a>()<br>
&nbsp;&nbsp;<a href="#build_remote_method_wrapper_code">build_remote_method_wrapper_code</a>()<br>
&nbsp;&nbsp;<a href="#build_client_wrapper_code">build_client_wrapper_code</a>()<br>
</div>
</div>
<br><div class="details-funclist">
<div class="details-classtitle"><a name="functions"><b>Functions</b></a></div>
<div class="details-classinfo">
Functions that are not part of a class:<br><br>
<div class="inset"><table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="php_2_xmlrpc_type" onClick="logFunction('php_2_xmlrpc_type', '_xmlrpc_wrappers.inc.php.source.html#l21')" href="_xmlrpc_wrappers.inc.php.source.html#l21">php_2_xmlrpc_type</a>(<a href="../../../../_variables/phptype.html">$phptype</a>)&nbsp;&nbsp;
<a href="../../../../_functions/php_2_xmlrpc_type.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given a string defining a php type or phpxmlrpc type (loosely defined: strings<BR>
accepted come from javadoc blocks), return corresponding phpxmlrpc type.<BR>
NB: for php 'resource' types returns empty string, since resources cannot be serialized;<BR>
for php class names returns 'struct', since php objects can be serialized as xmlrpc structs<BR>
for php arrays always return array, even though arrays sometiles serialize as json structs<BR>
</b><BR><b>return:</b> string<br>
<b>param:</b> string $phptype<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="xmlrpc_2_php_type" onClick="logFunction('xmlrpc_2_php_type', '_xmlrpc_wrappers.inc.php.source.html#l66')" href="_xmlrpc_wrappers.inc.php.source.html#l66">xmlrpc_2_php_type</a>(<a href="../../../../_variables/xmlrpctype.html">$xmlrpctype</a>)&nbsp;&nbsp;
<a href="../../../../_functions/xmlrpc_2_php_type.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given a string defining a phpxmlrpc type return corresponding php type.<BR>
</b><BR><b>return:</b> string<br>
<b>param:</b> string $xmlrpctype<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="wrap_php_function" onClick="logFunction('wrap_php_function', '_xmlrpc_wrappers.inc.php.source.html#l97')" href="_xmlrpc_wrappers.inc.php.source.html#l97">wrap_php_function</a>(<a href="../../../../_variables/funcname.html">$funcname</a>, <a href="../../../../_variables/newfuncname.html">$newfuncname</a>='', <a href="../../../../_variables/extra_options.html">$extra_options</a>=array()&nbsp;&nbsp;
<a href="../../../../_functions/wrap_php_function.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given a user-defined PHP function, create a PHP 'wrapper' function that can<BR>
be exposed as xmlrpc method from an xmlrpc_server object and called from remote<BR>
clients (as well as its corresponding signature info).<BR>
</b><BR>Since php is a typeless language, to infer types of input and output parameters,<BR>
it relies on parsing the javadoc-style comment block associated with the given<BR>
function. Usage of xmlrpc native types (such as datetime.dateTime.iso8601 and base64)<BR>
in the @param tag is also allowed, if you need the php function to receive/send<BR>
data in that particular format (note that base64 encoding/decoding is transparently<BR>
carried out by the lib, while datetime vals are passed around as strings)<BR>
<BR>
Known limitations:<BR>
- requires PHP 5.0.3 +<BR>
- only works for user-defined functions, not for PHP internal functions<BR>
(reflection does not support retrieving number/type of params for those)<BR>
- functions returning php objects will generate special xmlrpc responses:<BR>
when the xmlrpc decoding of those responses is carried out by this same lib, using<BR>
the appropriate param in php_xmlrpc_decode, the php objects will be rebuilt.<BR>
In short: php objects can be serialized, too (except for their resource members),<BR>
using this function.<BR>
Other libs might choke on the very same xml that will be generated in this case<BR>
(i.e. it has a nonstandard attribute on struct element tags)<BR>
- usage of javadoc @param tags using param names in a different order from the<BR>
function prototype is not considered valid (to be fixed?)<BR>
<BR>
Note that since rel. 2.0RC3 the preferred method to have the server call 'standard'<BR>
php functions (ie. functions not expecting a single xmlrpcmsg obj as parameter)<BR>
is by making use of the functions_parameters_type class member.<BR>
<BR>
<b>return:</b> false on error, or an array containing the name of the new php function,<br>
<b>param:</b> string $funcname the name of the PHP user function to be exposed as xmlrpc method; array($obj, 'methodname') and array('class', 'methodname') are ok too<br>
<b>param:</b> string $newfuncname (optional) name for function to be created<br>
<b>param:</b> array $extra_options (optional) array of options for conversion. valid values include:<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="wrap_php_class" onClick="logFunction('wrap_php_class', '_xmlrpc_wrappers.inc.php.source.html#l487')" href="_xmlrpc_wrappers.inc.php.source.html#l487">wrap_php_class</a>(<a href="../../../../_variables/classname.html">$classname</a>, <a href="../../../../_variables/extra_options.html">$extra_options</a>=array()&nbsp;&nbsp;
<a href="../../../../_functions/wrap_php_class.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given a user-defined PHP class or php object, map its methods onto a list of<BR>
PHP 'wrapper' functions that can be exposed as xmlrpc methods from an xmlrpc_server<BR>
object and called from remote clients (as well as their corresponding signature info).<BR>
</b><BR><b>return:</b> array or false on failure<br>
<b>param:</b> mixed $classname the name of the class whose methods are to be exposed as xmlrpc methods, or an object instance of that class<br>
<b>param:</b> array $extra_options see the docs for wrap_php_method for more options<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="wrap_xmlrpc_method" onClick="logFunction('wrap_xmlrpc_method', '_xmlrpc_wrappers.inc.php.source.html#l537')" href="_xmlrpc_wrappers.inc.php.source.html#l537">wrap_xmlrpc_method</a>(<a href="../../../../_variables/client.html">$client</a>, <a href="../../../../_variables/methodname.html">$methodname</a>, <a href="../../../../_variables/extra_options.html">$extra_options</a>=0, <a href="../../../../_variables/timeout.html">$timeout</a>=0, <a href="../../../../_variables/protocol.html">$protocol</a>='', <a href="../../../../_variables/newfuncname.html">$newfuncname</a>='')&nbsp;&nbsp;
<a href="../../../../_functions/wrap_xmlrpc_method.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given an xmlrpc client and a method name, register a php wrapper function<BR>
that will call it and return results using native php types for both<BR>
params and results. The generated php function will return an xmlrpcresp<BR>
oject for failed xmlrpc calls<BR>
</b><BR>Known limitations:<BR>
- server must support system.methodsignature for the wanted xmlrpc method<BR>
- for methods that expose many signatures, only one can be picked (we<BR>
could in priciple check if signatures differ only by number of params<BR>
and not by type, but it would be more complication than we can spare time)<BR>
- nested xmlrpc params: the caller of the generated php function has to<BR>
encode on its own the params passed to the php function if these are structs<BR>
or arrays whose (sub)members include values of type datetime or base64<BR>
<BR>
Notes: the connection properties of the given client will be copied<BR>
and reused for the connection used during the call to the generated<BR>
php function.<BR>
Calling the generated php function 'might' be slow: a new xmlrpc client<BR>
is created on every invocation and an xmlrpc-connection opened+closed.<BR>
An extra 'debug' param is appended to param list of xmlrpc method, useful<BR>
for debugging purposes.<BR>
<BR>
<b>return:</b> string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the name of the generated php function (or false) - OR AN ARRAY...<br>
<b>param:</b> xmlrpc_client $client&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;an xmlrpc client set up correctly to communicate with target server<br>
<b>param:</b> string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$methodname the xmlrpc method to be mapped to a php function<br>
<b>param:</b> array&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$extra_options array of options that specify conversion details. valid ptions include<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="wrap_xmlrpc_server" onClick="logFunction('wrap_xmlrpc_server', '_xmlrpc_wrappers.inc.php.source.html#l705')" href="_xmlrpc_wrappers.inc.php.source.html#l705">wrap_xmlrpc_server</a>(<a href="../../../../_variables/client.html">$client</a>, <a href="../../../../_variables/extra_options.html">$extra_options</a>=array()&nbsp;&nbsp;
<a href="../../../../_functions/wrap_xmlrpc_server.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Similar to wrap_xmlrpc_method, but will generate a php class that wraps<BR>
all xmlrpc methods exposed by the remote server as own methods.<BR>
For more details see wrap_xmlrpc_method.<BR>
</b><BR><b>return:</b> mixed false on error, the name of the created class if all ok or an array with code, class name and comments (if the appropriatevoption is set in extra_options)<br>
<b>param:</b> xmlrpc_client $client the client obj all set to query the desired server<br>
<b>param:</b> array $extra_options list of options for wrapped code<br>
</td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="build_remote_method_wrapper_code" onClick="logFunction('build_remote_method_wrapper_code', '_xmlrpc_wrappers.inc.php.source.html#l823')" href="_xmlrpc_wrappers.inc.php.source.html#l823">build_remote_method_wrapper_code</a>(<a href="../../../../_variables/client.html">$client</a>, <a href="../../../../_variables/methodname.html">$methodname</a>, <a href="../../../../_variables/xmlrpcfuncname.html">$xmlrpcfuncname</a>,<a href="../../../../_variables/msig.html">$msig</a>, <a href="../../../../_variables/mdesc.html">$mdesc</a>='', <a href="../../../../_variables/timeout.html">$timeout</a>=0, <a href="../../../../_variables/protocol.html">$protocol</a>='', <a href="../../../../_variables/client_copy_mode.html">$client_copy_mode</a>=0, <a href="../../../../_variables/prefix.html">$prefix</a>='xmlrpc',<a href="../../../../_variables/decode_php_objects.html">$decode_php_objects</a>=false, <a href="../../../../_variables/encode_php_objects.html">$encode_php_objects</a>=false, <a href="../../../../_variables/decode_fault.html">$decode_fault</a>=false,<a href="../../../../_variables/fault_response.html">$fault_response</a>='')&nbsp;&nbsp;
<a href="../../../../_functions/build_remote_method_wrapper_code.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given the necessary info, build php code that creates a new function to<BR>
invoke a remote xmlrpc method.<BR>
Take care that no full checking of input parameters is done to ensure that<BR>
valid php code is emitted.<BR>
Note: real spaghetti code follows...<BR>
</b><BR></td></tr></table>

<br>
<table border="0" width="80%" class="funcinfo"><tr class="funcinfo-title"><td>
<a name="build_client_wrapper_code" onClick="logFunction('build_client_wrapper_code', '_xmlrpc_wrappers.inc.php.source.html#l927')" href="_xmlrpc_wrappers.inc.php.source.html#l927">build_client_wrapper_code</a>(<a href="../../../../_variables/client.html">$client</a>, <a href="../../../../_variables/verbatim_client_copy.html">$verbatim_client_copy</a>, <a href="../../../../_variables/prefix.html">$prefix</a>='xmlrpc')&nbsp;&nbsp;
<a href="../../../../_functions/build_client_wrapper_code.html"><small>X-Ref</small></a>
</td></tr><tr class="funcinfo-body"><td><b>Given necessary info, generate php code that will rebuild a client object<BR>
Take care that no full checking of input parameters is done to ensure that<BR>
valid php code is emitted.<BR>
</b><BR></td></tr></table>

<br>
</div></div>

</div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Sat Jul  5 12:18:44 2014</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
