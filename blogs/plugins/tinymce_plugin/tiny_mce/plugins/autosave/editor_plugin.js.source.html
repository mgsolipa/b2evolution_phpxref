<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
    <title>PHPXRef 0.7.1 : Unnamed Project : /blogs/plugins/tinymce_plugin/tiny_mce/plugins/autosave/editor_plugin.js source</title>
    <link rel="stylesheet" href="../../../../../../sample.css" type="text/css">
    <link rel="stylesheet" href="../../../../../../sample-print.css" type="text/css" media="print">
    <style id="hilight" type="text/css"></style>
    <meta http-equiv="content-type" content="text/html;charset=iso-8859-1">
</head>
<body bgcolor="#ffffff" text="#000000" link="#801800" vlink="#300540" alink="#ffffff">
<table class="pagetitle" width="100%">
	<tr>
        <td valign="top" class="pagetitle">
            [ <a href="../../../../../../index.html">Index</a> ]
        </td>
        <td align="right" class="pagetitle">
		    <h2 style="margin-bottom: 0px">PHP Cross Reference of Unnamed Project</h2>
	    </td>
    </tr>
</table>


<!-- Generated by PHPXref 0.7.1 at Sat Jul  5 12:18:44 2014 -->
<!-- PHPXref (c) 2000-2010 Gareth Watts - gareth@omnipotent.net -->
<!-- http://phpxref.sourceforge.net/ -->

<script src="../../../../../../phpxref.js" type="text/javascript"></script>
<script language="JavaScript" type="text/javascript">
<!--
ext='.html';
relbase='../../../../../../';
subdir='blogs/plugins/tinymce_plugin/tiny_mce/plugins/autosave';
filename='editor_plugin.js.source.html';
cookiekey='phpxref';
handleNavFrame(relbase, subdir, filename);

// -->
</script>
<script language="JavaScript" type="text/javascript">
if (gwGetCookie('xrefnav')=='off')
  document.write('<p class="navlinks">[ <a href="javascript:navOn()">Show Explorer<\/a> ]<\/p>');
else
  document.write('<p class="navlinks">[ <a href="javascript:navOff()">Hide Explorer<\/a> ]<\/p>');
</script>
<noscript>
<p class="navlinks">
[ <a href="../../../../../../nav.html" target="_top">Show Explorer</a> ]
[ <a href="index.html" target="_top">Hide Navbar</a> ]
</p>
</noscript>
<script language="JavaScript" type="text/javascript">
<!--

document.writeln('<table align="right" class="searchbox-link"><tr><td><a class="searchbox-link" href="javascript:void(0)" onMouseOver="showSearchBox()">Search</a><br>');
document.writeln('<table border="0" cellspacing="0" cellpadding="0" class="searchbox" id="searchbox">');
document.writeln('<tr><td class="searchbox-title">');
document.writeln('<a class="searchbox-title" href="javascript:showSearchPopup()">Search History +</a>');
document.writeln('<\/td><\/tr>');

document.writeln('<tr><td class="searchbox-body" id="searchbox-body">');
document.writeln('<form name="search" style="margin:0px; padding:0px" onSubmit=\'return jump()\'>');
document.writeln('<a class="searchbox-body" href="../../../../../../_classes/index.html">Class<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="classname"><br>');
document.writeln('<a id="funcsearchlink" class="searchbox-body" href="../../../../../../_functions/index.html">Function<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="funcname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../../../_variables/index.html">Variable<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="varname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../../../_constants/index.html">Constant<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="constname"><br>');
document.writeln('<a class="searchbox-body" href="../../../../../../_tables/index.html">Table<\/a>: ');
document.writeln('<input type="text" size=10 value="" name="tablename"><br>');
document.writeln('<input type="submit" class="searchbox-button" value="Search">');
document.writeln('<\/form>');
document.writeln('<\/td><\/tr><\/table>');
document.writeln('<\/td><\/tr><\/table>');
// -->
</script>
<div id="search-popup" class="searchpopup"><p id="searchpopup-title" class="searchpopup-title">title</p><div id="searchpopup-body" class="searchpopup-body">Body</div><p class="searchpopup-close"><a href="javascript:gwCloseActive()">[close]</a></p></div>
<h2 class="listing-heading"><a href="./index.html">/blogs/plugins/tinymce_plugin/tiny_mce/plugins/autosave/</a> -> <a href="editor_plugin.js.html">editor_plugin.js</a> (source)</h2>
<div class="listing">
<p class="viewlinks">[<a href="editor_plugin.js.html">Summary view</a>]
[<a href="javascript:window.print();">Print</a>]
[<a href="editor_plugin.js.source.txt" target="_new">Text view</a>]
</p>
<pre>
<a name="l1"><span class="linenum">   1</span></a>  (function(e){var c=&quot;autosave&quot;,g=&quot;restoredraft&quot;,b=true,f,d,a=e.util.Dispatcher;e.<a class="function" onClick="logFunction('create')" href="../../../../../../_functions/create.html" onMouseOver="funcPopup(event,'create')">create</a>(&quot;tinymce.plugins.AutoSave&quot;,{init:function(i,j){var h=this,l=i.settings;h.editor=i;function k(n){var m={s:1000,m:60000};n=/^(\d+)([ms]?)$/.<a class="phpfunction" onClick="logFunction('exec')" href="../../../../../../_functions/exec.html" onMouseOver="phpfuncPopup(event,'exec')">exec</a>(&quot;&quot;+n);return(n[2]?m[n[2]]:1)*parseInt(n)}e.<a class="phpfunction" onClick="logFunction('each')" href="../../../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>({ask_before_unload:b,interval:&quot;30s&quot;,retention:&quot;20m&quot;,minlength:50},function(n,m){m=c+&quot;_&quot;+m;if(l[m]===f){l[m]=n}});l.autosave_interval=k(l.autosave_interval);l.autosave_retention=k(l.autosave_retention);i.addButton(g,{title:c+&quot;.restore_content&quot;,onclick:function(){if(i.<a class="function" onClick="logFunction('getContent')" href="../../../../../../_functions/getcontent.html" onMouseOver="funcPopup(event,'getcontent')">getContent</a>({draft:true}).<a class="function" onClick="logFunction('replace')" href="../../../../../../_functions/replace.html" onMouseOver="funcPopup(event,'replace')">replace</a>(/\s|&amp;nbsp;|&lt;\/?p[^&gt;]*&gt;|&lt;br[^&gt;]*&gt;/gi,&quot;&quot;).length&gt;0){i.windowManager.confirm(c+&quot;.warning_message&quot;,function(m){if(m){h.restoreDraft()}})}else{h.restoreDraft()}}});i.onNodeChange.<a class="function" onClick="logFunction('add')" href="../../../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(function(){var m=i.controlManager;if(m.<a class="function" onClick="logFunction('get')" href="../../../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(g)){m.setDisabled(g,!h.hasDraft())}});i.onInit.<a class="function" onClick="logFunction('add')" href="../../../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(function(){if(i.controlManager.<a class="function" onClick="logFunction('get')" href="../../../../../../_functions/get.html" onMouseOver="funcPopup(event,'get')">get</a>(g)){h.setupStorage(i);setInterval(function(){h.storeDraft();i.nodeChanged()},l.autosave_interval)}});h.onStoreDraft=new a(h);h.onRestoreDraft=new a(h);h.onRemoveDraft=new a(h);if(!d){window.onbeforeunload=e.plugins.AutoSave._beforeUnloadHandler;d=b}},getInfo:function(){return{longname:&quot;Auto save&quot;,author:&quot;Moxiecode Systems AB&quot;,authorurl:&quot;http://tinymce.moxiecode.com&quot;,infourl:&quot;http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/autosave&quot;,version:e.majorVersion+&quot;.&quot;+e.minorVersion}},getExpDate:function(){return new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>(new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>().getTime()+this.editor.settings.autosave_retention).toUTCString()},setupStorage:function(i){var h=this,k=c+&quot;_test&quot;,j=&quot;OK&quot;;h.key=c+i.id;e.<a class="phpfunction" onClick="logFunction('each')" href="../../../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>([function(){if(localStorage){localStorage.setItem(k,j);if(localStorage.getItem(k)===j){localStorage.removeItem(k);return localStorage}}},function(){if(sessionStorage){sessionStorage.setItem(k,j);if(sessionStorage.getItem(k)===j){sessionStorage.removeItem(k);return sessionStorage}}},function(){if(e.isIE){i.getElement().style.behavior=&quot;<a class="function" onClick="logFunction('url')" href="../../../../../../_functions/url.html" onMouseOver="funcPopup(event,'url')">url</a>('#default#userData')&quot;;return{autoExpires:b,setItem:function(l,n){var m=i.getElement();m.setAttribute(l,n);m.expires=h.getExpDate();try{m.<a class="function" onClick="logFunction('save')" href="../../../../../../_functions/save.html" onMouseOver="funcPopup(event,'save')">save</a>(&quot;TinyMCE&quot;)}catch(o){}},getItem:function(l){var m=i.getElement();try{m.<a class="function" onClick="logFunction('load')" href="../../../../../../_functions/load.html" onMouseOver="funcPopup(event,'load')">load</a>(&quot;TinyMCE&quot;);return m.getAttribute(l)}catch(n){return null}},removeItem:function(l){i.getElement().removeAttribute(l)}}}},],function(l){try{h.storage=l();if(h.storage){return false}}catch(m){}})},storeDraft:function(){var i=this,l=i.storage,j=i.editor,h,k;if(l){if(!l.getItem(i.key)&amp;&amp;!j.isDirty()){return}k=j.<a class="function" onClick="logFunction('getContent')" href="../../../../../../_functions/getcontent.html" onMouseOver="funcPopup(event,'getcontent')">getContent</a>({draft:true});if(k.length&gt;j.settings.autosave_minlength){h=i.getExpDate();if(!i.storage.autoExpires){i.storage.setItem(i.key+&quot;_expires&quot;,h)}i.storage.setItem(i.key,k);i.onStoreDraft.dispatch(i,{expires:h,content:k})}}},restoreDraft:function(){var h=this,j=h.storage,i;if(j){i=j.getItem(h.key);if(i){h.editor.setContent(i);h.onRestoreDraft.dispatch(h,{content:i})}}},hasDraft:function(){var h=this,k=h.storage,i,j;if(k){j=!!k.getItem(h.key);if(j){if(!h.storage.autoExpires){i=new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>(k.getItem(h.key+&quot;_expires&quot;));if(new <a class="phpfunction" onClick="logFunction('Date')" href="../../../../../../_functions/date.html" onMouseOver="phpfuncPopup(event,'date')">Date</a>().getTime()&lt;i.getTime()){return b}h.removeDraft()}else{return b}}}return false},removeDraft:function(){var h=this,k=h.storage,i=h.key,j;if(k){j=k.getItem(i);k.removeItem(i);k.removeItem(i+&quot;_expires&quot;);if(j){h.onRemoveDraft.dispatch(h,{content:j})}}},&quot;static&quot;:{_beforeUnloadHandler:function(h){var i;e.<a class="phpfunction" onClick="logFunction('each')" href="../../../../../../_functions/each.html" onMouseOver="phpfuncPopup(event,'each')">each</a>(tinyMCE.editors,function(j){if(j.plugins.autosave){j.plugins.autosave.storeDraft()}if(j.<a class="function" onClick="logFunction('getParam')" href="../../../../../../_functions/getparam.html" onMouseOver="funcPopup(event,'getparam')">getParam</a>(&quot;fullscreen_is_enabled&quot;)){return}if(!i&amp;&amp;j.isDirty()&amp;&amp;j.<a class="function" onClick="logFunction('getParam')" href="../../../../../../_functions/getparam.html" onMouseOver="funcPopup(event,'getparam')">getParam</a>(&quot;autosave_ask_before_unload&quot;)){i=j.getLang(&quot;autosave.unload_msg&quot;)}});return i}}});e.PluginManager.<a class="function" onClick="logFunction('add')" href="../../../../../../_functions/add.html" onMouseOver="funcPopup(event,'add')">add</a>(&quot;autosave&quot;,e.plugins.AutoSave)})(tinymce);
</pre>
</div>
<script language="JavaScript" type="text/javascript">
FUNC_DATA={
'replace': ['replace', '', [['blogs/plugins/tinymce_plugin/tiny_mce','tiny_mce_src.js',1682],['blogs/plugins/tinymce_plugin/tiny_mce/plugins/searchreplace/js','searchreplace.js',64]], 612],
'get': ['get', '', [['blogs/plugins/tinymce_plugin/tiny_mce','tiny_mce_src.js',941],['blogs/plugins/tinymce_plugin/tiny_mce','tiny_mce_src.js',15011],['blogs/plugins/tinymce_plugin/tiny_mce/plugins/media/js','media.js',7],['blogs/inc/links/model','_linkowner.class.php',221],['blogs/inc/_core/model/db','_sql.class.php',64],['blogs/inc/plugins/model','_pluginsettings.class.php',58],['blogs/inc/collections/model','_blog.class.php',1822],['blogs/inc/settings/model','_generalsettings.class.php',383],['blogs/inc/settings/model','_abstractsettings.class.php',271],['blogs/inc/plugins/model','_pluginusersettings.class.php',58],['blogs/inc/users/model','_user.class.php',1126],['blogs/plugins/tinymce_plugin/tiny_mce','tiny_mce_gzip.js',38],['blogs/inc/users/model','_usersettings.class.php',151],['blogs/inc/comments/model','_comment.class.php',301],['blogs/inc/users/model','_groupsettings.class.php',124],['blogs/inc/cron/model','_cronjob.class.php',104],['blogs/inc/items/model','_item.class.php',5742],['blogs/inc/sessions/model','_session.class.php',397],['blogs/inc/links/model','_linkuser.class.php',141],['blogs/inc/links/model','_linkitem.class.php',155],['blogs/inc/slugs/model','_slug.class.php',68],['blogs/inc/_core/model/dataobjects','_dataobject.class.php',574],['blogs/plugins/twitter_plugin/twitteroauth','twitteroauth.php',146],['blogs/inc/antispam/model','_iprange.class.php',69],['blogs/inc/links/model','_linkcomment.class.php',132],['blogs/inc/files/model','_file.class.php',532]], 2417],
'save': ['save', 'Save the file to the specified path ', [['blogs/htsrv','quick_upload.php',31],['blogs/htsrv','quick_upload.php',102]], 24],
'create': ['create', 'Create a new blog... ', [['blogs/inc/collections/model','_blog.class.php',2207],['blogs/inc/_ext/pclzip','pclzip.lib.php',272],['blogs/inc/files/model','_file.class.php',339]], 157],
'add': ['add', 'Add object to cache, handling our own indices. ', [['blogs/inc/collections/model','_blogcache.class.php',69],['blogs/inc/users/model','_usercache.class.php',231],['blogs/inc/files/model','_filelist.class.php',392],['blogs/inc/_core/model','_log.class.php',124],['blogs/inc/_core/model','_log.class.php',593],['blogs/inc/files/model','_filetypecache.class.php',57],['blogs/inc/_ext/pclzip','pclzip.lib.php',455],['blogs/inc/_core/model/dataobjects','_dataobjectcache.class.php',356],['blogs/inc/users/model','_groupsettings.class.php',103],['blogs/inc/links/model','_linkcache.class.php',101],['blogs/inc/skins/model','_skincache.class.php',62],['blogs/inc/generic/model','_genericcategorycache.class.php',113],['blogs/inc/_core/model','_messages.class.php',121]], 2022],
'url': ['url', 'Template function: display user\'s URL ', [['blogs/inc/users/model','_user.class.php',3378]], 424],
'getcontent': ['getcontent', '', [['blogs/plugins/tinymce_plugin/tiny_mce','tiny_mce_src.js',13751]], 37],
'getparam': ['getparam', 'Returns the nth parameter in the message. The index zero-based. ', [['blogs/inc/_ext/xmlrpc','_xmlrpc.inc.php',2214],['blogs/plugins/tinymce_plugin/tiny_mce','tiny_mce_gzip.php',164]], 138],
'load': ['load', 'Loads or reloads the filelist entries. ', [['blogs/inc/files/model','_filelist.class.php',300],['blogs/plugins/tinymce_plugin/tiny_mce','tiny_mce_gzip.js',88],['blogs/inc/users/model','_groupsettings.class.php',45]], 47],
'date': ['date', '', [], 361],
'each': ['each', '', [], 579],
'exec': ['exec', '', [], 108]};
CLASS_DATA={
};
CONST_DATA={
};
</script>
<div id="func-popup" class="funcpopup"><p id="func-title" class="popup-title">title</p><p id="func-desc" class="popup-desc">Description</p><p id="func-body" class="popup-body">Body</p></div>
<div id="class-popup" class="funcpopup"><p id="class-title" class="popup-title">title</p><p id="class-desc" class="popup-desc">Description</p><p id="class-body" class="popup-body">Body</p></div>
<div id="const-popup" class="funcpopup"><p id="const-title" class="popup-title">title</p><p id="const-desc" class="popup-desc">Description</p><p id="const-body" class="popup-body">Body</p></div>
<div id="req-popup" class="funcpopup"><p id="req-title" class="popup-title">title</p><p id="req-body" class="popup-body">Body</p></div>
<!-- A link to the phpxref site in your customized footer file is appreciated ;-) -->
<br><hr>
<table width="100%">
	<tr><td>Generated: Sat Jul  5 12:18:44 2014</td>
	<td align="right"><i>Cross-referenced by <a href="http://phpxref.sourceforge.net/">PHPXref 0.7.1</a></i></td>
	</tr>
</table>
</body></html>
